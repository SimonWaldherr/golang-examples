/*!-----------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.24.0(89cdf8577cdd4881a366f9f7ef6abaa78453fd4b)
 * Released under the MIT license
 * https://github.com/microsoft/vscode/blob/main/LICENSE.txt
 *-----------------------------------------------------------*/(function(){var J=["require","exports","vs/base/common/lifecycle","vs/editor/common/core/range","vs/nls","vs/nls!vs/editor/editor.main","vs/base/common/event","vs/base/browser/dom","vs/base/common/strings","vs/platform/instantiation/common/instantiation","vs/css!vs/editor/editor.main","vs/base/common/errors","vs/platform/theme/common/themeService","vs/editor/browser/editorExtensions","vs/editor/common/core/position","vs/base/common/async","vs/platform/contextkey/common/contextkey","vs/base/common/platform","vs/editor/common/modes","vs/base/common/arrays","vs/base/common/types","vs/editor/common/core/selection","vs/platform/theme/common/colorRegistry","vs/base/common/cancellation","vs/base/common/uri","vs/editor/common/editorContextKeys","vs/platform/commands/common/commands","vs/base/common/codicons","vs/editor/browser/services/codeEditorService","vs/base/common/color","vs/base/browser/fastDomNode","vs/editor/common/model/textModel","vs/platform/notification/common/notification","vs/platform/registry/common/platform","vs/platform/actions/common/actions","vs/base/browser/browser","vs/editor/common/services/modelService","vs/platform/keybinding/common/keybinding","vs/editor/common/config/editorOptions","vs/base/common/keyCodes","vs/base/common/objects","vs/base/browser/ui/aria/aria","vs/editor/common/modes/languageConfigurationRegistry","vs/editor/common/controller/cursorCommon","vs/base/common/network","vs/base/common/resources","vs/editor/browser/view/viewPart","vs/platform/configuration/common/configuration","vs/base/common/actions","vs/editor/common/view/editorColorRegistry","vs/base/browser/mouseEvent","vs/base/common/map","vs/base/browser/ui/widget","vs/editor/common/model","vs/base/common/iterator","vs/base/browser/event","vs/base/browser/keyboardEvent","vs/editor/common/services/modeService","vs/platform/opener/common/opener","vs/platform/progress/common/progress","vs/base/browser/touch","vs/base/browser/ui/scrollbar/scrollableElement","vs/editor/common/core/editOperation","vs/editor/common/viewModel/viewModel","vs/editor/common/standaloneStrings","vs/platform/accessibility/common/accessibility","vs/base/common/filters","vs/editor/common/services/resolverService","vs/platform/contextview/browser/contextView","vs/platform/log/common/log","vs/editor/browser/config/configuration","vs/editor/browser/core/editorState","vs/base/common/linkedList","vs/base/common/path","vs/base/common/htmlContent","vs/platform/instantiation/common/extensions","vs/editor/common/services/editorWorkerService","vs/editor/common/modes/nullMode","vs/platform/quickinput/common/quickInput","vs/platform/storage/common/storage","vs/platform/theme/common/iconRegistry","vs/base/common/stopwatch","vs/base/common/severity","vs/base/browser/ui/actionbar/actionbar","vs/platform/clipboard/common/clipboardService","vs/platform/markers/common/markers","vs/platform/keybinding/common/keybindingsRegistry","vs/platform/telemetry/common/telemetry","vs/base/common/functional","vs/base/common/hash","vs/base/browser/globalMouseMoveMonitor","vs/editor/common/core/characterClassifier","vs/editor/common/commands/replaceCommand","vs/editor/common/core/stringBuilder","vs/editor/browser/view/dynamicViewOverlay","vs/platform/configuration/common/configurationRegistry","vs/platform/quickinput/common/quickAccess","vs/platform/theme/common/theme","vs/base/browser/ui/tree/tree","vs/base/common/decorators","vs/base/common/numbers","vs/base/common/buffer","vs/base/common/iconLabels","vs/base/browser/ui/iconLabel/iconLabels","vs/base/browser/ui/sash/sash","vs/base/browser/ui/list/listWidget","vs/editor/common/controller/wordCharacterClassifier","vs/editor/common/editorCommon","vs/editor/browser/editorBrowser","vs/editor/common/modes/languageConfiguration","vs/editor/common/view/renderingContext","vs/editor/common/viewModel/viewEventHandler","vs/base/browser/ui/actionbar/actionViewItems","vs/editor/contrib/gotoSymbol/referencesModel","vs/editor/common/core/lineTokens","vs/editor/standalone/common/standaloneThemeService","vs/platform/label/common/label","vs/platform/theme/common/styler","vs/editor/contrib/suggest/suggest","vs/editor/contrib/peekView/peekView","vs/base/common/idGenerator","vs/base/common/range","vs/base/common/scrollable","vs/base/common/uint","vs/base/browser/ui/codicons/codiconStyles","vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/base/parts/quickinput/browser/media/quickInput","vs/editor/common/config/editorZoom","vs/editor/common/core/token","vs/editor/common/model/wordHelper","vs/editor/common/viewLayout/viewLineRenderer","vs/editor/contrib/codeAction/types","vs/editor/contrib/snippet/snippetParser","vs/editor/browser/services/bulkEditService","vs/editor/common/modes/languageFeatureRegistry","vs/editor/common/model/tokensStore","vs/editor/common/controller/cursorWordOperations","vs/editor/common/services/textResourceConfigurationService","vs/platform/instantiation/common/serviceCollection","vs/platform/layout/browser/layoutService","vs/editor/browser/core/markdownRenderer","vs/editor/common/modes/modesRegistry","vs/editor/contrib/find/findModel","vs/editor/browser/widget/codeEditorWidget","vs/editor/browser/widget/embeddedCodeEditorWidget","vs/editor/contrib/codeAction/codeAction","vs/editor/contrib/message/messageController","vs/platform/list/browser/listService","vs/platform/undoRedo/common/undoRedo","vs/base/browser/dnd","vs/base/common/lazy","vs/base/browser/canIUse","vs/base/common/extpath","vs/base/common/diff/diff","vs/base/browser/ui/tree/indexTreeModel","vs/base/browser/ui/tree/objectTreeModel","vs/base/browser/formattedTextRenderer","vs/base/browser/ui/highlightedlabel/highlightedLabel","vs/base/browser/ui/scrollbar/scrollbarArrow","vs/base/common/labels","vs/base/browser/ui/checkbox/checkbox","vs/base/browser/ui/list/listView","vs/editor/browser/editorDom","vs/editor/common/config/fontInfo","vs/editor/browser/controller/textAreaInput","vs/editor/browser/view/viewLayer","vs/editor/common/model/textModelSearch","vs/editor/common/modes/supports","vs/editor/common/modes/supports/richEditBrackets","vs/editor/common/standalone/standaloneEnums","vs/editor/common/view/viewEvents","vs/editor/common/viewLayout/lineDecorations","vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/editor/common/viewModel/viewModelEventDispatcher","vs/editor/contrib/folding/foldingRanges","vs/base/browser/ui/iconLabel/iconLabel","vs/base/browser/ui/tree/abstractTree","vs/base/browser/ui/inputbox/inputBox","vs/base/common/keybindingLabels","vs/editor/common/services/markersDecorationService","vs/editor/common/commands/shiftCommand","vs/editor/common/controller/cursorMoveOperations","vs/editor/common/controller/cursorDeleteOperations","vs/editor/common/controller/cursorTypeOperations","vs/editor/contrib/parameterHints/provideSignatureHelp","vs/platform/dialogs/common/dialogs","vs/platform/jsonschemas/common/jsonContributionRegistry","vs/editor/common/config/commonEditorConfig","vs/editor/browser/controller/mouseTarget","vs/editor/browser/controller/coreCommands","vs/platform/actions/browser/menuEntryActionViewItem","vs/platform/workspace/common/workspace","vs/editor/standalone/browser/simpleServices","vs/editor/contrib/snippet/snippetController2","vs/base/browser/iframe","vs/base/browser/ui/scrollbar/scrollbarState","vs/base/common/assert","vs/base/common/collections","vs/base/browser/ui/tree/treeIcons","vs/base/common/glob","vs/base/common/marshalling","vs/base/browser/ui/scrollbar/abstractScrollbar","vs/base/common/worker/simpleWorker","vs/base/parts/quickinput/common/quickInput","vs/css!vs/base/browser/ui/actionbar/actionbar","vs/base/browser/ui/contextview/contextview","vs/base/browser/ui/countBadge/countBadge","vs/css!vs/base/browser/ui/dropdown/dropdown","vs/css!vs/base/browser/ui/findinput/findInput","vs/css!vs/base/browser/ui/list/list","vs/base/browser/ui/hover/hoverWidget","vs/base/browser/ui/splitview/splitview","vs/base/parts/quickinput/browser/quickInputUtils","vs/editor/browser/config/elementSizeObserver","vs/editor/browser/viewParts/minimap/minimapCharSheet","vs/editor/browser/controller/textAreaState","vs/editor/browser/widget/diffNavigator","vs/editor/common/core/rgba","vs/editor/common/editorAction","vs/editor/common/model/textChange","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeBase","vs/editor/common/standalone/standaloneBase","vs/editor/common/view/overviewZoneManager","vs/editor/common/viewModel/prefixSumComputer","vs/editor/browser/viewParts/margin/margin","vs/editor/contrib/comment/blockCommentCommand","vs/editor/contrib/folding/syntaxRangeProvider","vs/editor/contrib/format/formattingEdit","vs/editor/contrib/gotoSymbol/link/clickLinkGesture","vs/editor/contrib/hover/hoverOperation","vs/editor/contrib/indentation/indentUtils","vs/editor/contrib/smartSelect/bracketSelections","vs/editor/contrib/suggest/resizable","vs/editor/standalone/common/monarch/monarchCommon","vs/base/browser/ui/findinput/findInputCheckboxes","vs/base/browser/ui/tree/objectTree","vs/editor/common/model/editStack","vs/platform/files/common/files","vs/platform/instantiation/common/descriptors","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer","vs/editor/common/controller/cursorAtomicMoveOperations","vs/editor/common/controller/cursorMoveCommands","vs/editor/common/controller/cursor","vs/editor/common/modes/textToHtmlTokenizer","vs/editor/common/viewModel/minimapTokensColorTracker","vs/editor/contrib/documentSymbols/outlineModel","vs/editor/standalone/common/monarch/monarchLexer","vs/editor/common/services/getSemanticTokens","vs/editor/contrib/codelens/codelens","vs/editor/contrib/colorPicker/color","vs/platform/contextkey/common/contextkeys","vs/platform/keybinding/common/keybindingResolver","vs/editor/common/services/editorWorkerServiceImpl","vs/editor/common/services/semanticTokensProviderStyling","vs/editor/contrib/suggest/suggestWidgetDetails","vs/editor/browser/viewParts/lines/viewLine","vs/editor/browser/view/viewUserInputEvents","vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/editor/contrib/quickAccess/editorNavigationQuickAccess","vs/editor/contrib/symbolIcons/symbolIcons","vs/editor/standalone/browser/standaloneCodeServiceImpl","vs/editor/contrib/colorPicker/colorDetector","vs/editor/contrib/format/format","vs/editor/contrib/gotoSymbol/goToSymbol","vs/editor/contrib/codeAction/codeActionCommands","vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode","vs/editor/contrib/wordOperations/wordOperations","vs/editor/browser/widget/diffEditorWidget","vs/editor/contrib/find/findController","vs/editor/contrib/gotoError/gotoError","vs/editor/common/services/modelServiceImpl","vs/editor/contrib/gotoSymbol/peek/referencesController","vs/editor/contrib/gotoSymbol/goToCommands","vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition","vs/editor/contrib/hover/hover","vs/editor/standalone/browser/standaloneServices","vs/base/browser/ui/list/list","vs/base/browser/ui/list/splice","vs/base/common/diff/diffChange","vs/base/common/navigator","vs/base/common/history","vs/base/common/process","vs/base/browser/ui/list/rangeMap","vs/base/browser/ui/scrollbar/scrollbarVisibilityController","vs/base/common/comparers","vs/base/browser/ui/tree/compressedObjectTreeModel","vs/base/common/search","vs/base/common/fuzzyScorer","vs/base/browser/ui/list/rowCache","vs/base/browser/ui/scrollbar/horizontalScrollbar","vs/base/browser/ui/scrollbar/verticalScrollbar","vs/base/browser/markdownRenderer","vs/base/common/mime","vs/base/common/uuid","vs/base/parts/storage/common/storage","vs/base/worker/defaultWorkerFactory","vs/css!vs/base/browser/ui/aria/aria","vs/css!vs/base/browser/ui/button/button","vs/base/browser/ui/button/button","vs/css!vs/base/browser/ui/checkbox/checkbox","vs/css!vs/base/browser/ui/codicons/codicon/codicon","vs/css!vs/base/browser/ui/codicons/codicon/codicon-modifiers","vs/css!vs/base/browser/ui/contextview/contextview","vs/css!vs/base/browser/ui/countBadge/countBadge","vs/css!vs/base/browser/ui/hover/hover","vs/css!vs/base/browser/ui/iconLabel/iconlabel","vs/css!vs/base/browser/ui/inputbox/inputBox","vs/css!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/css!vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/base/browser/ui/progressbar/progressbar","vs/base/browser/ui/progressbar/progressbar","vs/css!vs/base/browser/ui/sash/sash","vs/css!vs/base/browser/ui/scrollbar/media/scrollbars","vs/base/browser/ui/list/listPaging","vs/css!vs/base/browser/ui/splitview/splitview","vs/css!vs/base/browser/ui/table/table","vs/base/browser/ui/table/tableWidget","vs/css!vs/base/browser/ui/tree/media/tree","vs/css!vs/editor/browser/controller/textAreaHandler","vs/css!vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/css!vs/editor/browser/viewParts/decorations/decorations","vs/css!vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/css!vs/editor/browser/viewParts/indentGuides/indentGuides","vs/css!vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/css!vs/editor/browser/viewParts/lines/viewLines","vs/css!vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/css!vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/css!vs/editor/browser/viewParts/minimap/minimap","vs/css!vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/css!vs/editor/browser/viewParts/rulers/rulers","vs/css!vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/css!vs/editor/browser/viewParts/selections/selections","vs/css!vs/editor/browser/viewParts/viewCursors/viewCursors","vs/css!vs/editor/browser/widget/media/diffEditor","vs/css!vs/editor/browser/widget/media/diffReview","vs/css!vs/editor/browser/widget/media/editor","vs/css!vs/editor/contrib/anchorSelect/anchorSelect","vs/css!vs/editor/contrib/bracketMatching/bracketMatching","vs/css!vs/editor/contrib/codeAction/lightBulbWidget","vs/css!vs/editor/contrib/codelens/codelensWidget","vs/css!vs/editor/contrib/colorPicker/colorPicker","vs/css!vs/editor/contrib/dnd/dnd","vs/css!vs/editor/contrib/find/findWidget","vs/css!vs/editor/contrib/folding/folding","vs/css!vs/editor/contrib/gotoError/media/gotoErrorWidget","vs/css!vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition","vs/css!vs/editor/contrib/gotoSymbol/peek/referencesWidget","vs/css!vs/editor/contrib/links/links","vs/css!vs/editor/contrib/message/messageController","vs/css!vs/editor/contrib/parameterHints/parameterHints","vs/css!vs/editor/contrib/peekView/media/peekViewWidget","vs/css!vs/editor/contrib/rename/renameInputField","vs/css!vs/editor/contrib/snippet/snippetSession","vs/css!vs/editor/contrib/suggest/media/suggest","vs/css!vs/editor/contrib/zoneWidget/zoneWidget","vs/css!vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp","vs/css!vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/css!vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/css!vs/editor/standalone/browser/quickInput/standaloneQuickInput","vs/css!vs/editor/standalone/browser/standalone-tokens","vs/css!vs/platform/actions/browser/menuEntryActionViewItem","vs/css!vs/platform/contextview/browser/contextMenuHandler","vs/editor/browser/config/charWidthReader","vs/editor/browser/services/abstractCodeEditorService","vs/editor/browser/viewParts/minimap/minimapCharRenderer","vs/editor/browser/viewParts/minimap/minimapPreBaked","vs/editor/browser/viewParts/minimap/minimapCharRendererFactory","vs/editor/common/commands/trimTrailingWhitespaceCommand","vs/editor/common/commands/surroundSelectionCommand","vs/editor/common/diff/diffComputer","vs/editor/common/model/indentationGuesser","vs/editor/common/model/intervalTree","vs/editor/common/model/pieceTreeTextBuffer/rbTreeBase","vs/editor/common/model/textModelEvents","vs/editor/common/modes/abstractMode","vs/editor/common/modes/languageSelector","vs/editor/common/modes/linkComputer","vs/editor/common/modes/supports/characterPair","vs/editor/common/modes/supports/indentRules","vs/editor/common/modes/supports/inplaceReplaceSupport","vs/editor/common/modes/supports/onEnter","vs/editor/common/modes/supports/electricCharacter","vs/editor/common/modes/supports/tokenization","vs/editor/common/modes/tokenizationRegistry","vs/editor/common/services/semanticTokensDto","vs/editor/browser/viewParts/lines/rangeUtil","vs/editor/common/view/viewContext","vs/editor/common/viewLayout/linesLayout","vs/editor/common/viewLayout/viewLinesViewportData","vs/editor/common/model/mirrorTextModel","vs/editor/common/services/editorSimpleWorker","vs/editor/browser/viewParts/contentWidgets/contentWidgets","vs/editor/browser/viewParts/decorations/decorations","vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/editor/browser/viewParts/overviewRuler/overviewRuler","vs/editor/browser/viewParts/viewZones/viewZones","vs/editor/common/viewModel/monospaceLineBreaksComputer","vs/editor/common/viewLayout/viewLayout","vs/editor/contrib/caretOperations/moveCaretCommand","vs/editor/contrib/colorPicker/colorPickerModel","vs/editor/contrib/comment/lineCommentCommand","vs/editor/contrib/dnd/dragAndDropCommand","vs/editor/contrib/find/replaceAllCommand","vs/editor/contrib/find/replacePattern","vs/editor/contrib/folding/foldingModel","vs/editor/contrib/folding/hiddenRangeModel","vs/editor/contrib/folding/intializingRangeProvider","vs/editor/contrib/hover/hoverWidgets","vs/editor/contrib/inPlaceReplace/inPlaceReplaceCommand","vs/editor/contrib/linesOperations/copyLinesCommand","vs/editor/contrib/linesOperations/sortLinesCommand","vs/editor/contrib/smartSelect/wordSelections","vs/editor/contrib/suggest/completionModel","vs/editor/contrib/suggest/suggestCommitCharacters","vs/editor/contrib/suggest/suggestOvertypingCapturer","vs/editor/contrib/suggest/wordDistance","vs/editor/standalone/common/monarch/monarchCompile","vs/nls!vs/base/browser/ui/actionbar/actionViewItems","vs/nls!vs/base/browser/ui/findinput/findInput","vs/nls!vs/base/browser/ui/findinput/findInputCheckboxes","vs/nls!vs/base/browser/ui/findinput/replaceInput","vs/nls!vs/base/browser/ui/iconLabel/iconLabel","vs/nls!vs/base/browser/ui/inputbox/inputBox","vs/nls!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/browser/ui/menu/menu","vs/nls!vs/base/browser/ui/tree/abstractTree","vs/base/browser/ui/tree/dataTree","vs/base/browser/ui/tree/asyncDataTree","vs/nls!vs/base/common/actions","vs/base/browser/ui/dropdown/dropdown","vs/base/browser/ui/dropdown/dropdownActionViewItem","vs/base/browser/ui/findinput/findInput","vs/base/browser/ui/findinput/replaceInput","vs/base/browser/ui/menu/menu","vs/base/parts/quickinput/browser/quickInputBox","vs/nls!vs/base/common/errorMessage","vs/base/common/errorMessage","vs/nls!vs/base/common/keybindingLabels","vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/parts/quickinput/browser/quickInput","vs/nls!vs/base/parts/quickinput/browser/quickInputList","vs/base/parts/quickinput/browser/quickInputList","vs/base/parts/quickinput/browser/quickInput","vs/nls!vs/editor/browser/controller/coreCommands","vs/nls!vs/editor/browser/controller/textAreaHandler","vs/nls!vs/editor/browser/core/keybindingCancellation","vs/nls!vs/editor/browser/editorExtensions","vs/nls!vs/editor/browser/widget/codeEditorWidget","vs/nls!vs/editor/browser/widget/diffEditorWidget","vs/nls!vs/editor/browser/widget/diffReview","vs/nls!vs/editor/browser/widget/inlineDiffMargin","vs/editor/browser/widget/inlineDiffMargin","vs/nls!vs/editor/common/config/commonEditorConfig","vs/nls!vs/editor/common/config/editorOptions","vs/editor/common/viewModel/viewModelDecorations","vs/nls!vs/editor/common/editorContextKeys","vs/nls!vs/editor/common/model/editStack","vs/nls!vs/editor/common/modes/modesRegistry","vs/nls!vs/editor/common/standaloneStrings","vs/nls!vs/editor/common/view/editorColorRegistry","vs/nls!vs/editor/contrib/anchorSelect/anchorSelect","vs/nls!vs/editor/contrib/bracketMatching/bracketMatching","vs/nls!vs/editor/contrib/caretOperations/caretOperations","vs/nls!vs/editor/contrib/caretOperations/transpose","vs/nls!vs/editor/contrib/clipboard/clipboard","vs/nls!vs/editor/contrib/codeAction/codeActionCommands","vs/nls!vs/editor/contrib/codeAction/lightBulbWidget","vs/nls!vs/editor/contrib/codelens/codelensController","vs/nls!vs/editor/contrib/comment/comment","vs/nls!vs/editor/contrib/contextmenu/contextmenu","vs/nls!vs/editor/contrib/cursorUndo/cursorUndo","vs/nls!vs/editor/contrib/find/findController","vs/nls!vs/editor/contrib/find/findWidget","vs/nls!vs/editor/contrib/folding/folding","vs/nls!vs/editor/contrib/folding/foldingDecorations","vs/nls!vs/editor/contrib/fontZoom/fontZoom","vs/nls!vs/editor/contrib/format/format","vs/nls!vs/editor/contrib/format/formatActions","vs/nls!vs/editor/contrib/gotoError/gotoError","vs/nls!vs/editor/contrib/gotoError/gotoErrorWidget","vs/nls!vs/editor/contrib/gotoSymbol/goToCommands","vs/nls!vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition","vs/nls!vs/editor/contrib/gotoSymbol/peek/referencesController","vs/nls!vs/editor/contrib/gotoSymbol/peek/referencesTree","vs/nls!vs/editor/contrib/gotoSymbol/peek/referencesWidget","vs/nls!vs/editor/contrib/gotoSymbol/referencesModel","vs/nls!vs/editor/contrib/gotoSymbol/symbolNavigation","vs/nls!vs/editor/contrib/hover/hover","vs/nls!vs/editor/contrib/hover/markdownHoverParticipant","vs/nls!vs/editor/contrib/hover/markerHoverParticipant","vs/nls!vs/editor/contrib/inPlaceReplace/inPlaceReplace","vs/nls!vs/editor/contrib/indentation/indentation","vs/nls!vs/editor/contrib/linesOperations/linesOperations","vs/nls!vs/editor/contrib/linkedEditing/linkedEditing","vs/nls!vs/editor/contrib/links/links","vs/nls!vs/editor/contrib/message/messageController","vs/nls!vs/editor/contrib/multicursor/multicursor","vs/nls!vs/editor/contrib/parameterHints/parameterHints","vs/nls!vs/editor/contrib/parameterHints/parameterHintsWidget","vs/nls!vs/editor/contrib/peekView/peekView","vs/nls!vs/editor/contrib/quickAccess/gotoLineQuickAccess","vs/nls!vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","vs/nls!vs/editor/contrib/rename/rename","vs/nls!vs/editor/contrib/rename/renameInputField","vs/nls!vs/editor/contrib/smartSelect/smartSelect","vs/nls!vs/editor/contrib/snippet/snippetController2","vs/nls!vs/editor/contrib/snippet/snippetVariables","vs/nls!vs/editor/contrib/suggest/suggest","vs/nls!vs/editor/contrib/suggest/suggestController","vs/nls!vs/editor/contrib/suggest/suggestWidget","vs/nls!vs/editor/contrib/suggest/suggestWidgetDetails","vs/nls!vs/editor/contrib/suggest/suggestWidgetRenderer","vs/nls!vs/editor/contrib/suggest/suggestWidgetStatus","vs/nls!vs/editor/contrib/symbolIcons/symbolIcons","vs/nls!vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode","vs/nls!vs/editor/contrib/tokenization/tokenization","vs/nls!vs/editor/contrib/unusualLineTerminators/unusualLineTerminators","vs/nls!vs/editor/contrib/wordHighlighter/wordHighlighter","vs/nls!vs/editor/contrib/wordOperations/wordOperations","vs/nls!vs/platform/actions/browser/menuEntryActionViewItem","vs/nls!vs/platform/configuration/common/configurationRegistry","vs/nls!vs/platform/contextkey/browser/contextKeyService","vs/nls!vs/platform/contextkey/common/contextkeys","vs/nls!vs/platform/keybinding/common/abstractKeybindingService","vs/nls!vs/platform/list/browser/listService","vs/nls!vs/platform/markers/common/markers","vs/nls!vs/platform/quickinput/browser/commandsQuickAccess","vs/nls!vs/platform/quickinput/browser/helpQuickAccess","vs/nls!vs/platform/theme/common/colorRegistry","vs/nls!vs/platform/theme/common/iconRegistry","vs/nls!vs/platform/undoRedo/common/undoRedoService","vs/platform/clipboard/browser/clipboardService","vs/platform/editor/common/editor","vs/platform/extensions/common/extensions","vs/platform/instantiation/common/graph","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder","vs/editor/common/model/textModelTokens","vs/editor/common/controller/cursorColumnSelection","vs/editor/common/controller/oneCursor","vs/editor/common/controller/cursorCollection","vs/editor/common/viewModel/splitLinesCollection","vs/editor/common/viewModel/viewModelImpl","vs/editor/contrib/folding/indentRangeProvider","vs/editor/contrib/linesOperations/moveLinesCommand","vs/editor/contrib/zoneWidget/zoneWidget","vs/editor/standalone/browser/colorizer","vs/editor/contrib/documentSymbols/documentSymbols","vs/editor/contrib/links/getLinks","vs/editor/contrib/parameterHints/parameterHintsModel","vs/editor/contrib/suggest/suggestAlternatives","vs/editor/contrib/suggest/wordContextKey","vs/platform/instantiation/common/instantiationService","vs/platform/keybinding/common/abstractKeybindingService","vs/platform/keybinding/common/baseResolvedKeybinding","vs/platform/keybinding/common/resolvedKeybindingItem","vs/platform/keybinding/common/usLayoutResolvedKeybinding","vs/platform/contextview/browser/contextViewService","vs/editor/common/services/webWorker","vs/editor/contrib/gotoError/markerNavigationService","vs/platform/markers/common/markerService","vs/editor/browser/services/openerService","vs/editor/contrib/hover/modesGlyphHover","vs/platform/quickinput/browser/pickerQuickAccess","vs/editor/common/services/getIconClasses","vs/editor/browser/view/domLineBreaksComputer","vs/editor/browser/view/viewOverlays","vs/editor/browser/viewParts/viewCursors/viewCursor","vs/editor/common/services/languagesRegistry","vs/editor/common/services/modeServiceImpl","vs/platform/accessibility/common/accessibilityService","vs/platform/configuration/common/configurationModels","vs/platform/contextkey/browser/contextKeyService","vs/platform/browser/contextScopedHistoryWidget","vs/platform/quickinput/browser/helpQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneHelpQuickAccess","vs/platform/quickinput/browser/quickAccess","vs/editor/contrib/codelens/codeLensCache","vs/editor/contrib/suggest/suggestMemory","vs/platform/quickinput/browser/commandsQuickAccess","vs/editor/contrib/quickAccess/commandsQuickAccess","vs/platform/contextview/browser/contextMenuHandler","vs/editor/browser/controller/mouseHandler","vs/editor/browser/controller/pointerHandler","vs/editor/browser/viewParts/lines/viewLines","vs/editor/browser/services/codeEditorServiceImpl","vs/editor/browser/viewParts/editorScrollbar/editorScrollbar","vs/editor/browser/viewParts/minimap/minimap","vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/editor/browser/viewParts/selections/selections","vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/editor/browser/viewParts/indentGuides/indentGuides","vs/editor/browser/controller/textAreaHandler","vs/editor/browser/viewParts/overviewRuler/decorationsOverviewRuler","vs/editor/browser/viewParts/rulers/rulers","vs/editor/browser/viewParts/viewCursors/viewCursors","vs/editor/common/services/markerDecorationsServiceImpl","vs/editor/contrib/codeAction/lightBulbWidget","vs/editor/contrib/codelens/codelensWidget","vs/editor/contrib/colorPicker/colorPickerWidget","vs/editor/contrib/find/findDecorations","vs/editor/contrib/find/findOptionsWidget","vs/editor/contrib/find/findState","vs/editor/contrib/gotoSymbol/peek/referencesTree","vs/editor/contrib/quickAccess/gotoLineQuickAccess","vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","vs/editor/contrib/rename/renameInputField","vs/editor/standalone/common/themes","vs/editor/browser/core/keybindingCancellation","vs/editor/browser/services/markerDecorations","vs/editor/browser/view/viewController","vs/editor/browser/view/viewImpl","vs/editor/contrib/anchorSelect/anchorSelect","vs/editor/contrib/bracketMatching/bracketMatching","vs/editor/contrib/caretOperations/caretOperations","vs/editor/contrib/caretOperations/transpose","vs/editor/contrib/clipboard/clipboard","vs/editor/contrib/codeAction/codeActionMenu","vs/editor/contrib/codeAction/codeActionModel","vs/editor/contrib/codelens/codelensController","vs/editor/contrib/comment/comment","vs/editor/contrib/contextmenu/contextmenu","vs/editor/contrib/cursorUndo/cursorUndo","vs/editor/contrib/dnd/dnd","vs/editor/contrib/fontZoom/fontZoom","vs/editor/contrib/format/formatActions","vs/editor/contrib/gotoSymbol/symbolNavigation","vs/editor/contrib/hover/getHover","vs/editor/contrib/hover/markdownHoverParticipant","vs/editor/contrib/inPlaceReplace/inPlaceReplace","vs/editor/contrib/indentation/indentation","vs/editor/contrib/inlineHints/inlineHintsController","vs/editor/contrib/linesOperations/linesOperations","vs/editor/contrib/linkedEditing/linkedEditing","vs/editor/contrib/links/links","vs/editor/contrib/codeAction/codeActionUi","vs/editor/contrib/codeAction/codeActionContributions","vs/editor/contrib/rename/rename","vs/editor/contrib/smartSelect/smartSelect","vs/editor/contrib/tokenization/tokenization","vs/editor/contrib/unusualLineTerminators/unusualLineTerminators","vs/editor/contrib/wordHighlighter/wordHighlighter","vs/editor/contrib/wordPartOperations/wordPartOperations","vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp","vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/editor/standalone/browser/quickAccess/standaloneCommandsQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoLineQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoSymbolQuickAccess","vs/editor/standalone/browser/toggleHighContrast/toggleHighContrast","vs/editor/contrib/suggest/suggestWidgetStatus","vs/platform/actions/common/menuService","vs/platform/contextview/browser/contextMenuService","vs/platform/quickinput/browser/quickInput","vs/editor/standalone/browser/quickInput/standaloneQuickInputServiceImpl","vs/platform/severityIcon/common/severityIcon","vs/editor/contrib/gotoError/gotoErrorWidget","vs/editor/browser/widget/diffReview","vs/editor/contrib/find/findWidget","vs/editor/contrib/folding/foldingDecorations","vs/editor/contrib/folding/folding","vs/editor/contrib/hover/markerHoverParticipant","vs/editor/contrib/hover/modesContentHover","vs/editor/contrib/multicursor/multicursor","vs/editor/contrib/parameterHints/parameterHintsWidget","vs/editor/contrib/parameterHints/parameterHints","vs/editor/contrib/suggest/suggestWidgetRenderer","vs/editor/contrib/suggest/suggestWidget","vs/platform/theme/browser/iconsStyleSheet","vs/editor/standalone/browser/standaloneThemeServiceImpl","vs/editor/contrib/gotoSymbol/peek/referencesWidget","vs/editor/contrib/colorPicker/colorContributions","vs/editor/contrib/viewportSemanticTokens/viewportSemanticTokens","vs/editor/standalone/browser/referenceSearch/standaloneReferenceSearch","vs/platform/undoRedo/common/undoRedoService","vs/editor/standalone/browser/standaloneCodeEditor","vs/editor/standalone/browser/standaloneEditor","vs/editor/standalone/browser/standaloneLanguages","vs/editor/editor.api","vs/platform/workspaces/common/workspaces","vs/editor/contrib/snippet/snippetVariables","vs/editor/contrib/snippet/snippetSession","vs/editor/contrib/suggest/suggestModel","vs/editor/contrib/suggest/suggestController","vs/editor/editor.all","vs/base/common/marked/marked","vs/base/common/insane/insane","vs/editor/edcore.main"],ee=function($){for(var e=[],v=0,I=$.length;v<I;v++)e[v]=J[$[v]];return e};"use strict";var It;(function($){var e=function(){function I(){this._pendingLoads=0}return I.prototype.attachListeners=function(k,w,S,_){var C=function(){w.removeEventListener("load",i),w.removeEventListener("error",p)},i=function(u){C(),S()},p=function(u){C(),_(u)};w.addEventListener("load",i),w.addEventListener("error",p)},I.prototype._onLoad=function(k,w){this._pendingLoads--,w()},I.prototype._onLoadError=function(k,w,S){this._pendingLoads--,w(S)},I.prototype._insertLinkNode=function(k){this._pendingLoads++;var w=document.head||document.getElementsByTagName("head")[0],S=w.getElementsByTagName("link")||w.getElementsByTagName("script");S.length>0?w.insertBefore(k,S[S.length-1]):w.appendChild(k)},I.prototype.createLinkTag=function(k,w,S,_){var C=this,i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("data-name",k);var p=function(){return C._onLoad(k,S)},u=function(a){return C._onLoadError(k,_,a)};return this.attachListeners(k,i,p,u),i.setAttribute("href",w),i},I.prototype._linkTagExists=function(k,w){var S,_,C,i,p=document.getElementsByTagName("link");for(S=0,_=p.length;S<_;S++)if(C=p[S].getAttribute("data-name"),i=p[S].getAttribute("href"),C===k||i===w)return!0;return!1},I.prototype.load=function(k,w,S,_){if(this._linkTagExists(k,w)){S();return}var C=this.createLinkTag(k,w,S,_);this._insertLinkNode(C)},I}(),v=function(){function I(){this._cssLoader=new e}return I.prototype.load=function(k,w,S,_){_=_||{};var C=_["vs/css"]||{};if(C.disabled){S({});return}var i=w.toUrl(k+".css");this._cssLoader.load(k,i,function(p){S({})},function(p){typeof S.error=="function"&&S.error("Could not find "+i+" or it was empty")})},I}();$.CSSPlugin=v,define("vs/css",new v)})(It||(It={}));"use strict";var ni=this&&this.__spreadArrays||function(){for(var $=0,e=0,v=arguments.length;e<v;e++)$+=arguments[e].length;for(var I=Array($),k=0,e=0;e<v;e++)for(var w=arguments[e],S=0,_=w.length;S<_;S++,k++)I[k]=w[S];return I},Nt;(function($){var e=function(){function _(){this._detected=!1,this._isPseudo=!1}return Object.defineProperty(_.prototype,"isPseudo",{get:function(){return this._detect(),this._isPseudo},enumerable:!0,configurable:!0}),_.prototype._detect=function(){this._detected||(this._detected=!0,this._isPseudo=typeof document!="undefined"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0)},_}();function v(_,C,i){var p;return C.length===0?p=_:p=_.replace(/\{(\d+)\}/g,function(u,a){var l=a[0],c=C[l],d=u;return typeof c=="string"?d=c:(typeof c=="number"||typeof c=="boolean"||c===void 0||c===null)&&(d=String(c)),d}),i.isPseudo&&(p="\uFF3B"+p.replace(/[aouei]/g,"$&$&")+"\uFF3D"),p}function I(_,C){var i=_[C];return i||(i=_["*"],i)?i:null}function k(_,C,i){for(var p=[],u=3;u<arguments.length;u++)p[u-3]=arguments[u];return v(i,p,_)}function w(_,C){return function(i,p){var u=Array.prototype.slice.call(arguments,2);return v(_[i],u,C)}}var S=function(){function _(C){var i=this;this._env=C,this.localize=function(p,u){for(var a=[],l=2;l<arguments.length;l++)a[l-2]=arguments[l];return k.apply(void 0,ni([i._env,p,u],a))}}return _.prototype.setPseudoTranslation=function(C){this._env._isPseudo=C},_.prototype.create=function(C,i){return{localize:w(i[C],this._env)}},_.prototype.load=function(C,i,p,u){var a=this;if(u=u||{},!C||C.length===0)p({localize:this.localize});else{var l=u["vs/nls"]||{},c=l.availableLanguages?I(l.availableLanguages,C):null,d=".nls";c!==null&&c!==_.DEFAULT_TAG&&(d=d+"."+c);var r=function(n){Array.isArray(n)?n.localize=w(n,a._env):n.localize=w(n[C],a._env),p(n)};typeof l.loadBundle=="function"?l.loadBundle(C,c,function(n,s){n?i([C+".nls"],r):r(s)}):i([C+d],r)}},_.DEFAULT_TAG="i-default",_}();$.NLSPlugin=S,define("vs/nls",new S(new e))})(Nt||(Nt={})),define(J[149],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StaticDND=e.DragAndDropData=e.DataTransfers=void 0,e.DataTransfers={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:"text/plain"};class v{constructor(k){this.data=k}update(){}getData(){return this.data}}e.DragAndDropData=v,e.StaticDND={CurrentDragAndDropData:void 0}}),define(J[30],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFastDomNode=e.FastDomNode=void 0;class v{constructor(w){this.domNode=w,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._fontFeatureSettings="",this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(w){this._maxWidth!==w&&(this._maxWidth=w,this.domNode.style.maxWidth=this._maxWidth+"px")}setWidth(w){this._width!==w&&(this._width=w,this.domNode.style.width=this._width+"px")}setHeight(w){this._height!==w&&(this._height=w,this.domNode.style.height=this._height+"px")}setTop(w){this._top!==w&&(this._top=w,this.domNode.style.top=this._top+"px")}unsetTop(){this._top!==-1&&(this._top=-1,this.domNode.style.top="")}setLeft(w){this._left!==w&&(this._left=w,this.domNode.style.left=this._left+"px")}setBottom(w){this._bottom!==w&&(this._bottom=w,this.domNode.style.bottom=this._bottom+"px")}setRight(w){this._right!==w&&(this._right=w,this.domNode.style.right=this._right+"px")}setFontFamily(w){this._fontFamily!==w&&(this._fontFamily=w,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(w){this._fontWeight!==w&&(this._fontWeight=w,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(w){this._fontSize!==w&&(this._fontSize=w,this.domNode.style.fontSize=this._fontSize+"px")}setFontFeatureSettings(w){this._fontFeatureSettings!==w&&(this._fontFeatureSettings=w,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setLineHeight(w){this._lineHeight!==w&&(this._lineHeight=w,this.domNode.style.lineHeight=this._lineHeight+"px")}setLetterSpacing(w){this._letterSpacing!==w&&(this._letterSpacing=w,this.domNode.style.letterSpacing=this._letterSpacing+"px")}setClassName(w){this._className!==w&&(this._className=w,this.domNode.className=this._className)}toggleClassName(w,S){this.domNode.classList.toggle(w,S),this._className=this.domNode.className}setDisplay(w){this._display!==w&&(this._display=w,this.domNode.style.display=this._display)}setPosition(w){this._position!==w&&(this._position=w,this.domNode.style.position=this._position)}setVisibility(w){this._visibility!==w&&(this._visibility=w,this.domNode.style.visibility=this._visibility)}setBackgroundColor(w){this._backgroundColor!==w&&(this._backgroundColor=w,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(w){this._layerHint!==w&&(this._layerHint=w,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(w){this._boxShadow!==w&&(this._boxShadow=w,this.domNode.style.boxShadow=w)}setContain(w){this._contain!==w&&(this._contain=w,this.domNode.style.contain=this._contain)}setAttribute(w,S){this.domNode.setAttribute(w,S)}removeAttribute(w){this.domNode.removeAttribute(w)}appendChild(w){this.domNode.appendChild(w.domNode)}removeChild(w){this.domNode.removeChild(w.domNode)}}e.FastDomNode=v;function I(k){return new v(k)}e.createFastDomNode=I}),define(J[194],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IframeUtils=void 0;let v=!1,I=null;function k(S){if(!S.parent||S.parent===S)return null;try{let _=S.location,C=S.parent.location;if(_.origin!=="null"&&C.origin!=="null"&&(_.protocol!==C.protocol||_.hostname!==C.hostname||_.port!==C.port))return v=!0,null}catch(_){return v=!0,null}return S.parent}class w{static getSameOriginWindowChain(){if(!I){I=[];let _=window,C;do C=k(_),C?I.push({window:_,iframeElement:_.frameElement||null}):I.push({window:_,iframeElement:null}),_=C;while(_)}return I.slice(0)}static hasDifferentOriginAncestor(){return I||this.getSameOriginWindowChain(),v}static getPositionOfChildWindowRelativeToAncestorWindow(_,C){if(!C||_===C)return{top:0,left:0};let i=0,p=0,u=this.getSameOriginWindowChain();for(const a of u){if(i+=a.window.scrollY,p+=a.window.scrollX,a.window===C||!a.iframeElement)break;let l=a.iframeElement.getBoundingClientRect();i+=l.top,p+=l.left}return{top:i,left:p}}}e.IframeUtils=w}),define(J[276],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListError=void 0;class v extends Error{constructor(k,w){super(`ListError [${k}] ${w}`)}}e.ListError=v}),define(J[277],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CombinedSpliceable=void 0;class v{constructor(k){this.spliceables=k}splice(k,w,S){this.spliceables.forEach(_=>_.splice(k,w,S))}}e.CombinedSpliceable=v}),define(J[195],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarState=void 0;const v=20;class I{constructor(w,S,_,C,i,p){this._scrollbarSize=Math.round(S),this._oppositeScrollbarSize=Math.round(_),this._arrowSize=Math.round(w),this._visibleSize=C,this._scrollSize=i,this._scrollPosition=p,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new I(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(w){const S=Math.round(w);return this._visibleSize!==S?(this._visibleSize=S,this._refreshComputedValues(),!0):!1}setScrollSize(w){const S=Math.round(w);return this._scrollSize!==S?(this._scrollSize=S,this._refreshComputedValues(),!0):!1}setScrollPosition(w){const S=Math.round(w);return this._scrollPosition!==S?(this._scrollPosition=S,this._refreshComputedValues(),!0):!1}setScrollbarSize(w){this._scrollbarSize=w}static _computeValues(w,S,_,C,i){const p=Math.max(0,_-w),u=Math.max(0,p-2*S),a=C>0&&C>_;if(!a)return{computedAvailableSize:Math.round(p),computedIsNeeded:a,computedSliderSize:Math.round(u),computedSliderRatio:0,computedSliderPosition:0};const l=Math.round(Math.max(v,Math.floor(_*u/C))),c=(u-l)/(C-_),d=i*c;return{computedAvailableSize:Math.round(p),computedIsNeeded:a,computedSliderSize:Math.round(l),computedSliderRatio:c,computedSliderPosition:Math.round(d)}}_refreshComputedValues(){const w=I._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=w.computedAvailableSize,this._computedIsNeeded=w.computedIsNeeded,this._computedSliderSize=w.computedSliderSize,this._computedSliderRatio=w.computedSliderRatio,this._computedSliderPosition=w.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(w){if(!this._computedIsNeeded)return 0;const S=w-this._arrowSize-this._computedSliderSize/2;return Math.round(S/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(w){if(!this._computedIsNeeded)return 0;const S=w-this._arrowSize;let _=this._scrollPosition;return S<this._computedSliderPosition?_-=this._visibleSize:_+=this._visibleSize,_}getDesiredScrollPositionFromDelta(w){if(!this._computedIsNeeded)return 0;const S=this._computedSliderPosition+w;return Math.round(S/this._computedSliderRatio)}}e.ScrollbarState=I}),define(J[98],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WeakMapper=e.TreeError=e.TreeMouseEventTarget=void 0;var v;(function(w){w[w.Unknown=0]="Unknown",w[w.Twistie=1]="Twistie",w[w.Element=2]="Element"})(v=e.TreeMouseEventTarget||(e.TreeMouseEventTarget={}));class I extends Error{constructor(S,_){super(`TreeError [${S}] ${_}`)}}e.TreeError=I;class k{constructor(S){this.fn=S,this._map=new WeakMap}map(S){let _=this._map.get(S);return _||(_=this.fn(S),this._map.set(S,_)),_}}e.WeakMapper=k}),define(J[19],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.asArray=e.pushToEnd=e.pushToStart=e.arrayInsert=e.range=e.flatten=e.firstOrDefault=e.distinctES6=e.distinct=e.isNonEmptyArray=e.isFalsyOrEmpty=e.coalesce=e.groupBy=e.quickSelect=e.findFirstInSorted=e.binarySearch=e.equals=e.tail2=e.tail=void 0;function v(h,g=0){return h[h.length-(1+g)]}e.tail=v;function I(h){if(h.length===0)throw new Error("Invalid tail call");return[h.slice(0,h.length-1),h[h.length-1]]}e.tail2=I;function k(h,g,m=(f,b)=>f===b){if(h===g)return!0;if(!h||!g||h.length!==g.length)return!1;for(let f=0,b=h.length;f<b;f++)if(!m(h[f],g[f]))return!1;return!0}e.equals=k;function w(h,g,m){let f=0,b=h.length-1;for(;f<=b;){const y=(f+b)/2|0,L=m(h[y],g);if(L<0)f=y+1;else if(L>0)b=y-1;else return y}return-(f+1)}e.binarySearch=w;function S(h,g){let m=0,f=h.length;if(f===0)return 0;for(;m<f;){const b=Math.floor((m+f)/2);g(h[b])?f=b:m=b+1}return m}e.findFirstInSorted=S;function _(h,g,m){if(h=h|0,h>=g.length)throw new TypeError("invalid index");let f=g[Math.floor(g.length*Math.random())],b=[],y=[],L=[];for(let N of g){const M=m(N,f);M<0?b.push(N):M>0?y.push(N):L.push(N)}return h<b.length?_(h,b,m):h<b.length+L.length?L[0]:_(h-(b.length+L.length),y,m)}e.quickSelect=_;function C(h,g){const m=[];let f;for(const b of h.slice(0).sort(g))!f||g(f[0],b)!==0?(f=[b],m.push(f)):f.push(b);return m}e.groupBy=C;function i(h){return h.filter(g=>!!g)}e.coalesce=i;function p(h){return!Array.isArray(h)||h.length===0}e.isFalsyOrEmpty=p;function u(h){return Array.isArray(h)&&h.length>0}e.isNonEmptyArray=u;function a(h,g){if(!g)return h.filter((f,b)=>h.indexOf(f)===b);const m=Object.create(null);return h.filter(f=>{const b=g(f);return m[b]?!1:(m[b]=!0,!0)})}e.distinct=a;function l(h){const g=new Set;return h.filter(m=>g.has(m)?!1:(g.add(m),!0))}e.distinctES6=l;function c(h,g){return h.length>0?h[0]:g}e.firstOrDefault=c;function d(h){return[].concat(...h)}e.flatten=d;function r(h,g){let m=typeof g=="number"?h:0;typeof g=="number"?m=h:(m=0,g=h);const f=[];if(m<=g)for(let b=m;b<g;b++)f.push(b);else for(let b=m;b>g;b--)f.push(b);return f}e.range=r;function n(h,g,m){const f=h.slice(0,g),b=h.slice(g);return f.concat(m,b)}e.arrayInsert=n;function s(h,g){const m=h.indexOf(g);m>-1&&(h.splice(m,1),h.unshift(g))}e.pushToStart=s;function t(h,g){const m=h.indexOf(g);m>-1&&(h.splice(m,1),h.push(g))}e.pushToEnd=t;function o(h){return Array.isArray(h)?h:[h]}e.asArray=o}),define(J[196],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ok=void 0;function v(I,k){if(!I)throw new Error(k?`Assertion failed (${k})`:"Assertion Failed")}e.ok=v}),define(J[197],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SetMap=e.forEach=void 0;const v=Object.prototype.hasOwnProperty;function I(w,S){for(let _ in w)if(v.call(w,_)&&S({key:_,value:w[_]},function(){delete w[_]})===!1)return}e.forEach=I;class k{constructor(){this.map=new Map}add(S,_){let C=this.map.get(S);C||(C=new Set,this.map.set(S,C)),C.add(_)}delete(S,_){const C=this.map.get(S);!C||(C.delete(_),C.size===0&&this.map.delete(S))}forEach(S,_){const C=this.map.get(S);!C||C.forEach(_)}}e.SetMap=k}),define(J[29],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Color=e.HSVA=e.HSLA=e.RGBA=void 0;function v(_,C){const i=Math.pow(10,C);return Math.round(_*i)/i}class I{constructor(C,i,p,u=1){this.r=Math.min(255,Math.max(0,C))|0,this.g=Math.min(255,Math.max(0,i))|0,this.b=Math.min(255,Math.max(0,p))|0,this.a=v(Math.max(Math.min(1,u),0),3)}static equals(C,i){return C.r===i.r&&C.g===i.g&&C.b===i.b&&C.a===i.a}}e.RGBA=I;class k{constructor(C,i,p,u){this.h=Math.max(Math.min(360,C),0)|0,this.s=v(Math.max(Math.min(1,i),0),3),this.l=v(Math.max(Math.min(1,p),0),3),this.a=v(Math.max(Math.min(1,u),0),3)}static equals(C,i){return C.h===i.h&&C.s===i.s&&C.l===i.l&&C.a===i.a}static fromRGBA(C){const i=C.r/255,p=C.g/255,u=C.b/255,a=C.a,l=Math.max(i,p,u),c=Math.min(i,p,u);let d=0,r=0;const n=(c+l)/2,s=l-c;if(s>0){switch(r=Math.min(n<=.5?s/(2*n):s/(2-2*n),1),l){case i:d=(p-u)/s+(p<u?6:0);break;case p:d=(u-i)/s+2;break;case u:d=(i-p)/s+4;break}d*=60,d=Math.round(d)}return new k(d,r,n,a)}static _hue2rgb(C,i,p){return p<0&&(p+=1),p>1&&(p-=1),p<1/6?C+(i-C)*6*p:p<1/2?i:p<2/3?C+(i-C)*(2/3-p)*6:C}static toRGBA(C){const i=C.h/360,{s:p,l:u,a}=C;let l,c,d;if(p===0)l=c=d=u;else{const r=u<.5?u*(1+p):u+p-u*p,n=2*u-r;l=k._hue2rgb(n,r,i+1/3),c=k._hue2rgb(n,r,i),d=k._hue2rgb(n,r,i-1/3)}return new I(Math.round(l*255),Math.round(c*255),Math.round(d*255),a)}}e.HSLA=k;class w{constructor(C,i,p,u){this.h=Math.max(Math.min(360,C),0)|0,this.s=v(Math.max(Math.min(1,i),0),3),this.v=v(Math.max(Math.min(1,p),0),3),this.a=v(Math.max(Math.min(1,u),0),3)}static equals(C,i){return C.h===i.h&&C.s===i.s&&C.v===i.v&&C.a===i.a}static fromRGBA(C){const i=C.r/255,p=C.g/255,u=C.b/255,a=Math.max(i,p,u),l=Math.min(i,p,u),c=a-l,d=a===0?0:c/a;let r;return c===0?r=0:a===i?r=((p-u)/c%6+6)%6:a===p?r=(u-i)/c+2:r=(i-p)/c+4,new w(Math.round(r*60),d,a,C.a)}static toRGBA(C){const{h:i,s:p,v:u,a}=C,l=u*p,c=l*(1-Math.abs(i/60%2-1)),d=u-l;let[r,n,s]=[0,0,0];return i<60?(r=l,n=c):i<120?(r=c,n=l):i<180?(n=l,s=c):i<240?(n=c,s=l):i<300?(r=c,s=l):i<=360&&(r=l,s=c),r=Math.round((r+d)*255),n=Math.round((n+d)*255),s=Math.round((s+d)*255),new I(r,n,s,a)}}e.HSVA=w;class S{constructor(C){if(C)if(C instanceof I)this.rgba=C;else if(C instanceof k)this._hsla=C,this.rgba=k.toRGBA(C);else if(C instanceof w)this._hsva=C,this.rgba=w.toRGBA(C);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}static fromHex(C){return S.Format.CSS.parseHex(C)||S.red}get hsla(){return this._hsla?this._hsla:k.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:w.fromRGBA(this.rgba)}equals(C){return!!C&&I.equals(this.rgba,C.rgba)&&k.equals(this.hsla,C.hsla)&&w.equals(this.hsva,C.hsva)}getRelativeLuminance(){const C=S._relativeLuminanceForComponent(this.rgba.r),i=S._relativeLuminanceForComponent(this.rgba.g),p=S._relativeLuminanceForComponent(this.rgba.b),u=.2126*C+.7152*i+.0722*p;return v(u,4)}static _relativeLuminanceForComponent(C){const i=C/255;return i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(C){const i=this.getRelativeLuminance(),p=C.getRelativeLuminance();return i>p}isDarkerThan(C){const i=this.getRelativeLuminance(),p=C.getRelativeLuminance();return i<p}lighten(C){return new S(new k(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*C,this.hsla.a))}darken(C){return new S(new k(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*C,this.hsla.a))}transparent(C){const{r:i,g:p,b:u,a}=this.rgba;return new S(new I(i,p,u,a*C))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new S(new I(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return""+S.Format.CSS.format(this)}static getLighterColor(C,i,p){if(C.isLighterThan(i))return C;p=p||.5;const u=C.getRelativeLuminance(),a=i.getRelativeLuminance();return p=p*(a-u)/a,C.lighten(p)}static getDarkerColor(C,i,p){if(C.isDarkerThan(i))return C;p=p||.5;const u=C.getRelativeLuminance(),a=i.getRelativeLuminance();return p=p*(u-a)/u,C.darken(p)}}e.Color=S,S.white=new S(new I(255,255,255,1)),S.black=new S(new I(0,0,0,1)),S.red=new S(new I(255,0,0,1)),S.blue=new S(new I(0,0,255,1)),S.cyan=new S(new I(0,255,255,1)),S.lightgrey=new S(new I(211,211,211,1)),S.transparent=new S(new I(0,0,0,0)),function(_){let C;(function(i){let p;(function(u){function a(g){return g.rgba.a===1?`rgb(${g.rgba.r}, ${g.rgba.g}, ${g.rgba.b})`:_.Format.CSS.formatRGBA(g)}u.formatRGB=a;function l(g){return`rgba(${g.rgba.r}, ${g.rgba.g}, ${g.rgba.b}, ${+g.rgba.a.toFixed(2)})`}u.formatRGBA=l;function c(g){return g.hsla.a===1?`hsl(${g.hsla.h}, ${(g.hsla.s*100).toFixed(2)}%, ${(g.hsla.l*100).toFixed(2)}%)`:_.Format.CSS.formatHSLA(g)}u.formatHSL=c;function d(g){return`hsla(${g.hsla.h}, ${(g.hsla.s*100).toFixed(2)}%, ${(g.hsla.l*100).toFixed(2)}%, ${g.hsla.a.toFixed(2)})`}u.formatHSLA=d;function r(g){const m=g.toString(16);return m.length!==2?"0"+m:m}function n(g){return`#${r(g.rgba.r)}${r(g.rgba.g)}${r(g.rgba.b)}`}u.formatHex=n;function s(g,m=!1){return m&&g.rgba.a===1?_.Format.CSS.formatHex(g):`#${r(g.rgba.r)}${r(g.rgba.g)}${r(g.rgba.b)}${r(Math.round(g.rgba.a*255))}`}u.formatHexA=s;function t(g){return g.isOpaque()?_.Format.CSS.formatHex(g):_.Format.CSS.formatRGBA(g)}u.format=t;function o(g){const m=g.length;if(m===0||g.charCodeAt(0)!==35)return null;if(m===7){const f=16*h(g.charCodeAt(1))+h(g.charCodeAt(2)),b=16*h(g.charCodeAt(3))+h(g.charCodeAt(4)),y=16*h(g.charCodeAt(5))+h(g.charCodeAt(6));return new _(new I(f,b,y,1))}if(m===9){const f=16*h(g.charCodeAt(1))+h(g.charCodeAt(2)),b=16*h(g.charCodeAt(3))+h(g.charCodeAt(4)),y=16*h(g.charCodeAt(5))+h(g.charCodeAt(6)),L=16*h(g.charCodeAt(7))+h(g.charCodeAt(8));return new _(new I(f,b,y,L/255))}if(m===4){const f=h(g.charCodeAt(1)),b=h(g.charCodeAt(2)),y=h(g.charCodeAt(3));return new _(new I(16*f+f,16*b+b,16*y+y))}if(m===5){const f=h(g.charCodeAt(1)),b=h(g.charCodeAt(2)),y=h(g.charCodeAt(3)),L=h(g.charCodeAt(4));return new _(new I(16*f+f,16*b+b,16*y+y,(16*L+L)/255))}return null}u.parseHex=o;function h(g){switch(g){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(p=i.CSS||(i.CSS={}))})(C=_.Format||(_.Format={}))}(S=e.Color||(e.Color={}))}),define(J[99],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.memoize=e.createMemoizer=void 0;let v=0;function I(){const w=`$memoize${v++}`;let S;const _=function(i,p,u){let a=null,l=null;if(typeof u.value=="function"?(a="value",l=u.value,l.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof u.get=="function"&&(a="get",l=u.get),!l)throw new Error("not supported");const c=`${w}:${p}`;u[a]=function(...d){return S=this,this.hasOwnProperty(c)||Object.defineProperty(this,c,{configurable:!0,enumerable:!1,writable:!0,value:l.apply(this,d)}),this[c]}};return _.clear=()=>{typeof S!="undefined"&&Object.getOwnPropertyNames(S).forEach(C=>{C.indexOf(w)===0&&delete S[C]})},_}e.createMemoizer=I;function k(w,S,_){return I()(w,S,_)}e.memoize=k}),define(J[278],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffChange=void 0;class v{constructor(k,w,S,_){this.originalStart=k,this.originalLength=w,this.modifiedStart=S,this.modifiedLength=_}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}e.DiffChange=v}),define(J[11],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.illegalState=e.illegalArgument=e.canceled=e.isPromiseCanceledError=e.transformErrorForSerialization=e.onUnexpectedExternalError=e.onUnexpectedError=e.errorHandler=e.ErrorHandler=void 0;class v{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(a){setTimeout(()=>{throw a.stack?new Error(a.message+`

`+a.stack):a},0)}}emit(a){this.listeners.forEach(l=>{l(a)})}onUnexpectedError(a){this.unexpectedErrorHandler(a),this.emit(a)}onUnexpectedExternalError(a){this.unexpectedErrorHandler(a)}}e.ErrorHandler=v,e.errorHandler=new v;function I(u){_(u)||e.errorHandler.onUnexpectedError(u)}e.onUnexpectedError=I;function k(u){_(u)||e.errorHandler.onUnexpectedExternalError(u)}e.onUnexpectedExternalError=k;function w(u){if(u instanceof Error){let{name:a,message:l}=u;const c=u.stacktrace||u.stack;return{$isError:!0,name:a,message:l,stack:c}}return u}e.transformErrorForSerialization=w;const S="Canceled";function _(u){return u instanceof Error&&u.name===S&&u.message===S}e.isPromiseCanceledError=_;function C(){const u=new Error(S);return u.name=u.message,u}e.canceled=C;function i(u){return u?new Error(`Illegal argument: ${u}`):new Error("Illegal argument")}e.illegalArgument=i;function p(u){return u?new Error(`Illegal state: ${u}`):new Error("Illegal state")}e.illegalState=p}),define(J[88],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.once=void 0;function v(I){const k=this;let w=!1,S;return function(){return w||(w=!0,S=I.apply(k,arguments)),S}}e.once=v}),define(J[120],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultGenerator=e.IdGenerator=void 0;class v{constructor(k){this._prefix=k,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}e.IdGenerator=v,e.defaultGenerator=new v("id#")});let kt;(function(){function $(e,v,I){function k(_,C){if(!v[_]){if(!e[_]){var i=typeof require=="function"&&require;if(!C&&i)return i(_,!0);if(w)return w(_,!0);var p=new Error("Cannot find module '"+_+"'");throw p.code="MODULE_NOT_FOUND",p}var u=v[_]={exports:{}};e[_][0].call(u.exports,function(a){var l=e[_][1][a];return k(l||a)},u,u.exports,$,e,v,I)}return v[_].exports}for(var w=typeof require=="function"&&require,S=0;S<I.length;S++)k(I[S]);return k}return $})()({1:[function($,e,v){"use strict";var I=$("./toMap"),k=["background","base","cite","href","longdesc","src","usemap"];e.exports={uris:I(k)}},{"./toMap":10}],2:[function($,e,v){"use strict";var I={allowedAttributes:{"*":["title","accesskey"],a:["href","name","target","aria-label"],iframe:["allowfullscreen","frameborder","src"],img:["src","alt","title","aria-label"]},allowedClasses:{},allowedSchemes:["http","https","mailto"],allowedTags:["a","abbr","article","b","blockquote","br","caption","code","del","details","div","em","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","li","main","mark","ol","p","pre","section","span","strike","strong","sub","summary","sup","table","tbody","td","th","thead","tr","u","ul"],filter:null};e.exports=I},{}],3:[function($,e,v){"use strict";var I=$("./toMap"),k=["area","br","col","hr","img","wbr","input","base","basefont","link","meta"];e.exports={voids:I(k)}},{"./toMap":10}],4:[function($,e,v){"use strict";var I=$("he"),k=$("assignment"),w=$("./parser"),S=$("./sanitizer"),_=$("./defaults");function C(i,p,u){var a=[],l=u===!0?p:k({},_,p),c=S(a,l);return w(i,c),a.join("")}C.defaults=_,e.exports=C,kt=C},{"./defaults":2,"./parser":7,"./sanitizer":8,assignment:6,he:9}],5:[function($,e,v){"use strict";e.exports=function(k){return typeof k=="string"?k.toLowerCase():k}},{}],6:[function($,e,v){"use strict";function I(k){for(var w=Array.prototype.slice.call(arguments,1),S,_;w.length;){S=w.shift();for(_ in S)S.hasOwnProperty(_)&&(Object.prototype.toString.call(k[_])==="[object Object]"?k[_]=I(k[_],S[_]):k[_]=S[_])}return k}e.exports=I},{}],7:[function($,e,v){"use strict";var I=$("he"),k=$("./lowercase"),w=$("./attributes"),S=$("./elements"),_=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,C=/^<\s*\/\s*([\w:-]+)[^>]*>/,i=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,p=/^</,u=/^<\s*\//;function a(){var c=[];return c.lastItem=function(){return c[c.length-1]},c}function l(c,d){for(var r=a(),n=c,s;c;)t();b();function t(){s=!0,o();var y=c===n;n=c,y&&(c="")}function o(){c.substr(0,4)==="<!--"?g():u.test(c)?h(C,b):p.test(c)&&h(_,f),m()}function h(y,L){var N=c.match(y);N&&(c=c.substring(N[0].length),N[0].replace(y,L),s=!1)}function g(){var y=c.indexOf("-->");y>=0&&(d.comment&&d.comment(c.substring(4,y)),c=c.substring(y+3),s=!1)}function m(){if(!!s){var y,L=c.indexOf("<");L>=0?(y=c.substring(0,L),c=c.substring(L)):(y=c,c=""),d.chars&&d.chars(y)}}function f(y,L,N,M){var D={},R=k(L),P=S.voids[R]||!!M;N.replace(i,O),P||r.push(R),d.start&&d.start(R,D,P);function O(W,F,E,A,B){E===void 0&&A===void 0&&B===void 0?D[F]=void 0:D[F]=I.decode(E||A||B||"")}}function b(y,L){var N,M=0,D=k(L);if(D)for(M=r.length-1;M>=0&&r[M]!==D;M--);if(M>=0){for(N=r.length-1;N>=M;N--)d.end&&d.end(r[N]);r.length=M}}}e.exports=l},{"./attributes":1,"./elements":3,"./lowercase":5,he:9}],8:[function($,e,v){"use strict";var I=$("he"),k=$("./lowercase"),w=$("./attributes"),S=$("./elements");function _(C,i){var p,u,a=i||{};return o(),{start:c,end:d,chars:n};function l(h){C.push(h)}function c(h,g,m){var f=k(h);if(u.ignoring){s(f);return}if((a.allowedTags||[]).indexOf(f)===-1){s(f);return}if(a.filter&&!a.filter({tag:f,attrs:g})){s(f);return}l("<"),l(f),Object.keys(g).forEach(b),l(m?"/>":">");function b(y){var L=g[y],N=(a.allowedClasses||{})[f]||[],M=(a.allowedAttributes||{})[f]||[];M=M.concat((a.allowedAttributes||{})["*"]||[]);var D,R=k(y);R==="class"&&M.indexOf(R)===-1?(L=L.split(" ").filter(P).join(" ").trim(),D=L.length):D=M.indexOf(R)!==-1&&(w.uris[R]!==!0||r(L)),D&&(l(" "),l(y),typeof L=="string"&&(l('="'),l(I.encode(L)),l('"')));function P(O){return N&&N.indexOf(O)!==-1}}}function d(h){var g=k(h),m=(a.allowedTags||[]).indexOf(g)!==-1;m&&u.ignoring===!1?(l("</"),l(g),l(">")):t(g)}function r(h){var g=h[0];if(g==="#"||g==="/")return!0;var m=h.indexOf(":");if(m===-1)return!0;var f=h.indexOf("?");if(f!==-1&&m>f)return!0;var b=h.indexOf("#");if(b!==-1&&m>b)return!0;return a.allowedSchemes.some(y);function y(L){return h.indexOf(L+":")===0}}function n(h){u.ignoring===!1&&l(a.transformText?a.transformText(h):h)}function s(h){S.voids[h]||(u.ignoring===!1?u={ignoring:h,depth:1}:u.ignoring===h&&u.depth++)}function t(h){u.ignoring===h&&--u.depth<=0&&o()}function o(){u={ignoring:!1,depth:0}}}e.exports=_},{"./attributes":1,"./elements":3,"./lowercase":5,he:9}],9:[function($,e,v){"use strict";var I={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},k={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},w=/(&amp;|&lt;|&gt;|&quot;|&#39;)/g,S=/[&<>"']/g;function _(u){return I[u]}function C(u){return k[u]}function i(u){return u==null?"":String(u).replace(S,_)}function p(u){return u==null?"":String(u).replace(w,C)}i.options=p.options={},e.exports={encode:i,escape:i,decode:p,unescape:p,version:"1.0.0-browser"}},{}],10:[function($,e,v){"use strict";function I(w){return w.reduce(k,{})}function k(w,S){return w[S]=!0,w}e.exports=I},{}]},{},[4]),define("vs/base/common/insane/insane",function(){return{insane:kt}}),define(J[54],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Iterable=void 0;var v;(function(I){function k(h){return h&&typeof h=="object"&&typeof h[Symbol.iterator]=="function"}I.is=k;const w=Object.freeze([]);function S(){return w}I.empty=S;function*_(h){yield h}I.single=_;function C(h){return h||w}I.from=C;function i(h){return!h||h[Symbol.iterator]().next().done===!0}I.isEmpty=i;function p(h){return h[Symbol.iterator]().next().value}I.first=p;function u(h,g){for(const m of h)if(g(m))return!0;return!1}I.some=u;function a(h,g){for(const m of h)if(g(m))return m}I.find=a;function*l(h,g){for(const m of h)g(m)&&(yield m)}I.filter=l;function*c(h,g){for(const m of h)yield g(m)}I.map=c;function*d(...h){for(const g of h)for(const m of g)yield m}I.concat=d;function*r(h){for(const g of h)for(const m of g)yield m}I.concatNested=r;function n(h,g,m){let f=m;for(const b of h)f=g(f,b);return f}I.reduce=n;function*s(h,g,m=h.length){for(g<0&&(g+=h.length),m<0?m+=h.length:m>h.length&&(m=h.length);g<m;g++)yield h[g]}I.slice=s;function t(h,g=Number.POSITIVE_INFINITY){const m=[];if(g===0)return[m,h];const f=h[Symbol.iterator]();for(let b=0;b<g;b++){const y=f.next();if(y.done)return[m,I.empty()];m.push(y.value)}return[m,{[Symbol.iterator](){return f}}]}I.consume=t;function o(h,g,m=(f,b)=>f===b){const f=h[Symbol.iterator](),b=g[Symbol.iterator]();for(;;){const y=f.next(),L=b.next();if(y.done!==L.done)return!1;if(y.done)return!0;if(!m(y.value,L.value))return!1}}I.equals=o})(v=e.Iterable||(e.Iterable={}))}),define(J[39],ee([0,1,11]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedKeybinding=e.ResolvedKeybindingPart=e.ChordKeybinding=e.SimpleKeybinding=e.createSimpleKeybinding=e.createKeybinding=e.KeyChord=e.KeyCodeUtils=void 0;class I{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(r,n){this._keyCodeToStr[r]=n,this._strToKeyCode[n.toLowerCase()]=r}keyCodeToStr(r){return this._keyCodeToStr[r]}strToKeyCode(r){return this._strToKeyCode[r.toLowerCase()]||0}}const k=new I,w=new I,S=new I;(function(){function d(r,n,s=n,t=s){k.define(r,n),w.define(r,s),S.define(r,t)}d(0,"unknown"),d(1,"Backspace"),d(2,"Tab"),d(3,"Enter"),d(4,"Shift"),d(5,"Ctrl"),d(6,"Alt"),d(7,"PauseBreak"),d(8,"CapsLock"),d(9,"Escape"),d(10,"Space"),d(11,"PageUp"),d(12,"PageDown"),d(13,"End"),d(14,"Home"),d(15,"LeftArrow","Left"),d(16,"UpArrow","Up"),d(17,"RightArrow","Right"),d(18,"DownArrow","Down"),d(19,"Insert"),d(20,"Delete"),d(21,"0"),d(22,"1"),d(23,"2"),d(24,"3"),d(25,"4"),d(26,"5"),d(27,"6"),d(28,"7"),d(29,"8"),d(30,"9"),d(31,"A"),d(32,"B"),d(33,"C"),d(34,"D"),d(35,"E"),d(36,"F"),d(37,"G"),d(38,"H"),d(39,"I"),d(40,"J"),d(41,"K"),d(42,"L"),d(43,"M"),d(44,"N"),d(45,"O"),d(46,"P"),d(47,"Q"),d(48,"R"),d(49,"S"),d(50,"T"),d(51,"U"),d(52,"V"),d(53,"W"),d(54,"X"),d(55,"Y"),d(56,"Z"),d(57,"Meta"),d(58,"ContextMenu"),d(59,"F1"),d(60,"F2"),d(61,"F3"),d(62,"F4"),d(63,"F5"),d(64,"F6"),d(65,"F7"),d(66,"F8"),d(67,"F9"),d(68,"F10"),d(69,"F11"),d(70,"F12"),d(71,"F13"),d(72,"F14"),d(73,"F15"),d(74,"F16"),d(75,"F17"),d(76,"F18"),d(77,"F19"),d(78,"NumLock"),d(79,"ScrollLock"),d(80,";",";","OEM_1"),d(81,"=","=","OEM_PLUS"),d(82,",",",","OEM_COMMA"),d(83,"-","-","OEM_MINUS"),d(84,".",".","OEM_PERIOD"),d(85,"/","/","OEM_2"),d(86,"`","`","OEM_3"),d(110,"ABNT_C1"),d(111,"ABNT_C2"),d(87,"[","[","OEM_4"),d(88,"\\","\\","OEM_5"),d(89,"]","]","OEM_6"),d(90,"'","'","OEM_7"),d(91,"OEM_8"),d(92,"OEM_102"),d(93,"NumPad0"),d(94,"NumPad1"),d(95,"NumPad2"),d(96,"NumPad3"),d(97,"NumPad4"),d(98,"NumPad5"),d(99,"NumPad6"),d(100,"NumPad7"),d(101,"NumPad8"),d(102,"NumPad9"),d(103,"NumPad_Multiply"),d(104,"NumPad_Add"),d(105,"NumPad_Separator"),d(106,"NumPad_Subtract"),d(107,"NumPad_Decimal"),d(108,"NumPad_Divide")})();var _;(function(d){function r(h){return k.keyCodeToStr(h)}d.toString=r;function n(h){return k.strToKeyCode(h)}d.fromString=n;function s(h){return w.keyCodeToStr(h)}d.toUserSettingsUS=s;function t(h){return S.keyCodeToStr(h)}d.toUserSettingsGeneral=t;function o(h){return w.strToKeyCode(h)||S.strToKeyCode(h)}d.fromUserSettings=o})(_=e.KeyCodeUtils||(e.KeyCodeUtils={}));function C(d,r){const n=(r&65535)<<16>>>0;return(d|n)>>>0}e.KeyChord=C;function i(d,r){if(d===0)return null;const n=(d&65535)>>>0,s=(d&4294901760)>>>16;return s!==0?new a([p(n,r),p(s,r)]):new a([p(n,r)])}e.createKeybinding=i;function p(d,r){const n=!!(d&2048),s=!!(d&256),t=r===2?s:n,o=!!(d&1024),h=!!(d&512),g=r===2?n:s,m=d&255;return new u(t,o,h,g,m)}e.createSimpleKeybinding=p;class u{constructor(r,n,s,t,o){this.ctrlKey=r,this.shiftKey=n,this.altKey=s,this.metaKey=t,this.keyCode=o}equals(r){return this.ctrlKey===r.ctrlKey&&this.shiftKey===r.shiftKey&&this.altKey===r.altKey&&this.metaKey===r.metaKey&&this.keyCode===r.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}toChord(){return new a([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}e.SimpleKeybinding=u;class a{constructor(r){if(r.length===0)throw(0,v.illegalArgument)("parts");this.parts=r}}e.ChordKeybinding=a;class l{constructor(r,n,s,t,o,h){this.ctrlKey=r,this.shiftKey=n,this.altKey=s,this.metaKey=t,this.keyLabel=o,this.keyAriaLabel=h}}e.ResolvedKeybindingPart=l;class c{}e.ResolvedKeybinding=c}),define(J[150],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Lazy=void 0;class v{constructor(k){this.executor=k,this._didRun=!1}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(k){this._error=k}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}e.Lazy=v}),define(J[2],ee([0,1,54]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImmortalReference=e.MutableDisposable=e.Disposable=e.DisposableStore=e.toDisposable=e.combinedDisposable=e.dispose=e.isDisposable=e.MultiDisposeError=e.trackDisposable=void 0;const I=!1;let k=null;if(I){const r="__is_disposable_tracked__";k=new class{trackDisposable(n){const s=new Error("Potentially leaked disposable").stack;setTimeout(()=>{n[r]||console.log(s)},3e3)}markTracked(n){if(n&&n!==l.None)try{n[r]=!0}catch(s){}}}}function w(r){!k||k.markTracked(r)}function S(r){return k&&k.trackDisposable(r),r}e.trackDisposable=S;class _ extends Error{constructor(n){super(`Encountered errors while disposing of store. Errors: [${n.join(", ")}]`);this.errors=n}}e.MultiDisposeError=_;function C(r){return typeof r.dispose=="function"&&r.dispose.length===0}e.isDisposable=C;function i(r){if(v.Iterable.is(r)){let n=[];for(const s of r)if(s){w(s);try{s.dispose()}catch(t){n.push(t)}}if(n.length===1)throw n[0];if(n.length>1)throw new _(n);return Array.isArray(r)?[]:r}else if(r)return w(r),r.dispose(),r}e.dispose=i;function p(...r){return r.forEach(w),u(()=>i(r))}e.combinedDisposable=p;function u(r){const n=S({dispose:()=>{w(n),r()}});return n}e.toDisposable=u;class a{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(w(this),this._isDisposed=!0,this.clear())}clear(){try{i(this._toDispose.values())}finally{this._toDispose.clear()}}add(n){if(!n)return n;if(n===this)throw new Error("Cannot register a disposable on itself!");return w(n),this._isDisposed?a.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(n),n}}e.DisposableStore=a,a.DISABLE_DISPOSED_WARNING=!1;class l{constructor(){this._store=new a,S(this)}dispose(){w(this),this._store.dispose()}_register(n){if(n===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(n)}}e.Disposable=l,l.None=Object.freeze({dispose(){}});class c{constructor(){this._isDisposed=!1,S(this)}get value(){return this._isDisposed?void 0:this._value}set value(n){var s;this._isDisposed||n===this._value||((s=this._value)===null||s===void 0||s.dispose(),n&&w(n),this._value=n)}clear(){this.value=void 0}dispose(){var n;this._isDisposed=!0,w(this),(n=this._value)===null||n===void 0||n.dispose(),this._value=void 0}}e.MutableDisposable=c;class d{constructor(n){this.object=n}dispose(){}}e.ImmortalReference=d}),define(J[72],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedList=void 0;class v{constructor(w){this.element=w,this.next=v.Undefined,this.prev=v.Undefined}}v.Undefined=new v(void 0);class I{constructor(){this._first=v.Undefined,this._last=v.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===v.Undefined}clear(){this._first=v.Undefined,this._last=v.Undefined,this._size=0}unshift(w){return this._insert(w,!1)}push(w){return this._insert(w,!0)}_insert(w,S){const _=new v(w);if(this._first===v.Undefined)this._first=_,this._last=_;else if(S){const i=this._last;this._last=_,_.prev=i,i.next=_}else{const i=this._first;this._first=_,_.next=i,i.prev=_}this._size+=1;let C=!1;return()=>{C||(C=!0,this._remove(_))}}shift(){if(this._first!==v.Undefined){const w=this._first.element;return this._remove(this._first),w}}pop(){if(this._last!==v.Undefined){const w=this._last.element;return this._remove(this._last),w}}_remove(w){if(w.prev!==v.Undefined&&w.next!==v.Undefined){const S=w.prev;S.next=w.next,w.next.prev=S}else w.prev===v.Undefined&&w.next===v.Undefined?(this._first=v.Undefined,this._last=v.Undefined):w.next===v.Undefined?(this._last=this._last.prev,this._last.next=v.Undefined):w.prev===v.Undefined&&(this._first=this._first.next,this._first.prev=v.Undefined);this._size-=1}*[Symbol.iterator](){let w=this._first;for(;w!==v.Undefined;)yield w.element,w=w.next}}e.LinkedList=I}),function($,e){typeof exports=="object"&&typeof module!="undefined"?module.exports=e():typeof define=="function"&&define.amd?define("vs/base/common/marked/marked",e):($=typeof globalThis!="undefined"?globalThis:$||self,$.marked=e())}(this,function(){"use strict";function $(ve,Se){for(var ye=0;ye<Se.length;ye++){var fe=Se[ye];fe.enumerable=fe.enumerable||!1,fe.configurable=!0,"value"in fe&&(fe.writable=!0),Object.defineProperty(ve,fe.key,fe)}}function e(ve,Se,ye){return Se&&$(ve.prototype,Se),ye&&$(ve,ye),ve}function v(ve,Se){if(!!ve){if(typeof ve=="string")return I(ve,Se);var ye=Object.prototype.toString.call(ve).slice(8,-1);if(ye==="Object"&&ve.constructor&&(ye=ve.constructor.name),ye==="Map"||ye==="Set")return Array.from(ve);if(ye==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ye))return I(ve,Se)}}function I(ve,Se){(Se==null||Se>ve.length)&&(Se=ve.length);for(var ye=0,fe=new Array(Se);ye<Se;ye++)fe[ye]=ve[ye];return fe}function k(ve,Se){var ye;if(typeof Symbol=="undefined"||ve[Symbol.iterator]==null){if(Array.isArray(ve)||(ye=v(ve))||Se&&ve&&typeof ve.length=="number"){ye&&(ve=ye);var fe=0;return function(){return fe>=ve.length?{done:!0}:{done:!1,value:ve[fe++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return ye=ve[Symbol.iterator](),ye.next.bind(ye)}function w(ve){var Se={exports:{}};return ve(Se,Se.exports),Se.exports}var S=w(function(ve){function Se(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function ye(fe){ve.exports.defaults=fe}ve.exports={defaults:Se(),getDefaults:Se,changeDefaults:ye}}),_=/[&<>"']/,C=/[&<>"']/g,i=/[<>"']|&(?!#?\w+;)/,p=/[<>"']|&(?!#?\w+;)/g,u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},a=function(Se){return u[Se]};function l(ve,Se){if(Se){if(_.test(ve))return ve.replace(C,a)}else if(i.test(ve))return ve.replace(p,a);return ve}var c=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function d(ve){return ve.replace(c,function(Se,ye){return ye=ye.toLowerCase(),ye==="colon"?":":ye.charAt(0)==="#"?ye.charAt(1)==="x"?String.fromCharCode(parseInt(ye.substring(2),16)):String.fromCharCode(+ye.substring(1)):""})}var r=/(^|[^\[])\^/g;function n(ve,Se){ve=ve.source||ve,Se=Se||"";var ye={replace:function(Ce,ce){return ce=ce.source||ce,ce=ce.replace(r,"$1"),ve=ve.replace(Ce,ce),ye},getRegex:function(){return new RegExp(ve,Se)}};return ye}var s=/[^\w:]/g,t=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function o(ve,Se,ye){if(ve){var fe;try{fe=decodeURIComponent(d(ye)).replace(s,"").toLowerCase()}catch(Ce){return null}if(fe.indexOf("javascript:")===0||fe.indexOf("vbscript:")===0||fe.indexOf("data:")===0)return null}Se&&!t.test(ye)&&(ye=b(Se,ye));try{ye=encodeURI(ye).replace(/%25/g,"%")}catch(Ce){return null}return ye}var h={},g=/^[^:]+:\/*[^/]*$/,m=/^([^:]+:)[\s\S]*$/,f=/^([^:]+:\/*[^/]*)[\s\S]*$/;function b(ve,Se){h[" "+ve]||(g.test(ve)?h[" "+ve]=ve+"/":h[" "+ve]=M(ve,"/",!0)),ve=h[" "+ve];var ye=ve.indexOf(":")===-1;return Se.substring(0,2)==="//"?ye?Se:ve.replace(m,"$1")+Se:Se.charAt(0)==="/"?ye?Se:ve.replace(f,"$1")+Se:ve+Se}var y={exec:function(){}};function L(ve){for(var Se=1,ye,fe;Se<arguments.length;Se++){ye=arguments[Se];for(fe in ye)Object.prototype.hasOwnProperty.call(ye,fe)&&(ve[fe]=ye[fe])}return ve}function N(ve,Se){var ye=ve.replace(/\|/g,function(ce,ge,_e){for(var ke=!1,Ne=ge;--Ne>=0&&_e[Ne]==="\\";)ke=!ke;return ke?"|":" |"}),fe=ye.split(/ \|/),Ce=0;if(fe.length>Se)fe.splice(Se);else for(;fe.length<Se;)fe.push("");for(;Ce<fe.length;Ce++)fe[Ce]=fe[Ce].trim().replace(/\\\|/g,"|");return fe}function M(ve,Se,ye){var fe=ve.length;if(fe===0)return"";for(var Ce=0;Ce<fe;){var ce=ve.charAt(fe-Ce-1);if(ce===Se&&!ye)Ce++;else if(ce!==Se&&ye)Ce++;else break}return ve.substr(0,fe-Ce)}function D(ve,Se){if(ve.indexOf(Se[1])===-1)return-1;for(var ye=ve.length,fe=0,Ce=0;Ce<ye;Ce++)if(ve[Ce]==="\\")Ce++;else if(ve[Ce]===Se[0])fe++;else if(ve[Ce]===Se[1]&&(fe--,fe<0))return Ce;return-1}function R(ve){ve&&ve.sanitize&&!ve.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function P(ve,Se){if(Se<1)return"";for(var ye="";Se>1;)Se&1&&(ye+=ve),Se>>=1,ve+=ve;return ye+ve}var O={escape:l,unescape:d,edit:n,cleanUrl:o,resolveUrl:b,noopTest:y,merge:L,splitCells:N,rtrim:M,findClosingBracket:D,checkSanitizeDeprecation:R,repeatString:P},W=S.defaults,F=O.rtrim,E=O.splitCells,A=O.escape,B=O.findClosingBracket;function H(ve,Se,ye){var fe=Se.href,Ce=Se.title?A(Se.title):null,ce=ve[1].replace(/\\([\[\]])/g,"$1");return ve[0].charAt(0)!=="!"?{type:"link",raw:ye,href:fe,title:Ce,text:ce}:{type:"image",raw:ye,href:fe,title:Ce,text:A(ce)}}function K(ve,Se){var ye=ve.match(/^(\s+)(?:```)/);if(ye===null)return Se;var fe=ye[1];return Se.split(`
`).map(function(Ce){var ce=Ce.match(/^\s+/);if(ce===null)return Ce;var ge=ce[0];return ge.length>=fe.length?Ce.slice(fe.length):Ce}).join(`
`)}var q=function(){function ve(ye){this.options=ye||W}var Se=ve.prototype;return Se.space=function(fe){var Ce=this.rules.block.newline.exec(fe);if(Ce)return Ce[0].length>1?{type:"space",raw:Ce[0]}:{raw:`
`}},Se.code=function(fe){var Ce=this.rules.block.code.exec(fe);if(Ce){var ce=Ce[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:Ce[0],codeBlockStyle:"indented",text:this.options.pedantic?ce:F(ce,`
`)}}},Se.fences=function(fe){var Ce=this.rules.block.fences.exec(fe);if(Ce){var ce=Ce[0],ge=K(ce,Ce[3]||"");return{type:"code",raw:ce,lang:Ce[2]?Ce[2].trim():Ce[2],text:ge}}},Se.heading=function(fe){var Ce=this.rules.block.heading.exec(fe);if(Ce){var ce=Ce[2].trim();if(/#$/.test(ce)){var ge=F(ce,"#");(this.options.pedantic||!ge||/ $/.test(ge))&&(ce=ge.trim())}return{type:"heading",raw:Ce[0],depth:Ce[1].length,text:ce}}},Se.nptable=function(fe){var Ce=this.rules.block.nptable.exec(fe);if(Ce){var ce={type:"table",header:E(Ce[1].replace(/^ *| *\| *$/g,"")),align:Ce[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:Ce[3]?Ce[3].replace(/\n$/,"").split(`
`):[],raw:Ce[0]};if(ce.header.length===ce.align.length){var ge=ce.align.length,_e;for(_e=0;_e<ge;_e++)/^ *-+: *$/.test(ce.align[_e])?ce.align[_e]="right":/^ *:-+: *$/.test(ce.align[_e])?ce.align[_e]="center":/^ *:-+ *$/.test(ce.align[_e])?ce.align[_e]="left":ce.align[_e]=null;for(ge=ce.cells.length,_e=0;_e<ge;_e++)ce.cells[_e]=E(ce.cells[_e],ce.header.length);return ce}}},Se.hr=function(fe){var Ce=this.rules.block.hr.exec(fe);if(Ce)return{type:"hr",raw:Ce[0]}},Se.blockquote=function(fe){var Ce=this.rules.block.blockquote.exec(fe);if(Ce){var ce=Ce[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:Ce[0],text:ce}}},Se.list=function(fe){var Ce=this.rules.block.list.exec(fe);if(Ce){var ce=Ce[0],ge=Ce[2],_e=ge.length>1,ke={type:"list",raw:ce,ordered:_e,start:_e?+ge.slice(0,-1):"",loose:!1,items:[]},Ne=Ce[0].match(this.rules.block.item),Re=!1,Ae,Fe,Pe,xe,We,ze,Ke,Be,He=Ne.length;Pe=this.rules.block.listItemStart.exec(Ne[0]);for(var Ve=0;Ve<He;Ve++){if(Ae=Ne[Ve],ce=Ae,Ve!==He-1){if(xe=this.rules.block.listItemStart.exec(Ne[Ve+1]),this.options.pedantic?xe[1].length>Pe[1].length:xe[1].length>Pe[0].length||xe[1].length>3){Ne.splice(Ve,2,Ne[Ve]+`
`+Ne[Ve+1]),Ve--,He--;continue}else(!this.options.pedantic||this.options.smartLists?xe[2][xe[2].length-1]!==ge[ge.length-1]:_e===(xe[2].length===1))&&(We=Ne.slice(Ve+1).join(`
`),ke.raw=ke.raw.substring(0,ke.raw.length-We.length),Ve=He-1);Pe=xe}Fe=Ae.length,Ae=Ae.replace(/^ *([*+-]|\d+[.)]) ?/,""),~Ae.indexOf(`
 `)&&(Fe-=Ae.length,Ae=this.options.pedantic?Ae.replace(/^ {1,4}/gm,""):Ae.replace(new RegExp("^ {1,"+Fe+"}","gm"),"")),ze=Re||/\n\n(?!\s*$)/.test(Ae),Ve!==He-1&&(Re=Ae.charAt(Ae.length-1)===`
`,ze||(ze=Re)),ze&&(ke.loose=!0),this.options.gfm&&(Ke=/^\[[ xX]\] /.test(Ae),Be=void 0,Ke&&(Be=Ae[1]!==" ",Ae=Ae.replace(/^\[[ xX]\] +/,""))),ke.items.push({type:"list_item",raw:ce,task:Ke,checked:Be,loose:ze,text:Ae})}return ke}},Se.html=function(fe){var Ce=this.rules.block.html.exec(fe);if(Ce)return{type:this.options.sanitize?"paragraph":"html",raw:Ce[0],pre:!this.options.sanitizer&&(Ce[1]==="pre"||Ce[1]==="script"||Ce[1]==="style"),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Ce[0]):A(Ce[0]):Ce[0]}},Se.def=function(fe){var Ce=this.rules.block.def.exec(fe);if(Ce){Ce[3]&&(Ce[3]=Ce[3].substring(1,Ce[3].length-1));var ce=Ce[1].toLowerCase().replace(/\s+/g," ");return{tag:ce,raw:Ce[0],href:Ce[2],title:Ce[3]}}},Se.table=function(fe){var Ce=this.rules.block.table.exec(fe);if(Ce){var ce={type:"table",header:E(Ce[1].replace(/^ *| *\| *$/g,"")),align:Ce[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:Ce[3]?Ce[3].replace(/\n$/,"").split(`
`):[]};if(ce.header.length===ce.align.length){ce.raw=Ce[0];var ge=ce.align.length,_e;for(_e=0;_e<ge;_e++)/^ *-+: *$/.test(ce.align[_e])?ce.align[_e]="right":/^ *:-+: *$/.test(ce.align[_e])?ce.align[_e]="center":/^ *:-+ *$/.test(ce.align[_e])?ce.align[_e]="left":ce.align[_e]=null;for(ge=ce.cells.length,_e=0;_e<ge;_e++)ce.cells[_e]=E(ce.cells[_e].replace(/^ *\| *| *\| *$/g,""),ce.header.length);return ce}}},Se.lheading=function(fe){var Ce=this.rules.block.lheading.exec(fe);if(Ce)return{type:"heading",raw:Ce[0],depth:Ce[2].charAt(0)==="="?1:2,text:Ce[1]}},Se.paragraph=function(fe){var Ce=this.rules.block.paragraph.exec(fe);if(Ce)return{type:"paragraph",raw:Ce[0],text:Ce[1].charAt(Ce[1].length-1)===`
`?Ce[1].slice(0,-1):Ce[1]}},Se.text=function(fe){var Ce=this.rules.block.text.exec(fe);if(Ce)return{type:"text",raw:Ce[0],text:Ce[0]}},Se.escape=function(fe){var Ce=this.rules.inline.escape.exec(fe);if(Ce)return{type:"escape",raw:Ce[0],text:A(Ce[1])}},Se.tag=function(fe,Ce,ce){var ge=this.rules.inline.tag.exec(fe);if(ge)return!Ce&&/^<a /i.test(ge[0])?Ce=!0:Ce&&/^<\/a>/i.test(ge[0])&&(Ce=!1),!ce&&/^<(pre|code|kbd|script)(\s|>)/i.test(ge[0])?ce=!0:ce&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(ge[0])&&(ce=!1),{type:this.options.sanitize?"text":"html",raw:ge[0],inLink:Ce,inRawBlock:ce,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ge[0]):A(ge[0]):ge[0]}},Se.link=function(fe){var Ce=this.rules.inline.link.exec(fe);if(Ce){var ce=Ce[2].trim();if(!this.options.pedantic&&/^</.test(ce)){if(!/>$/.test(ce))return;var ge=F(ce.slice(0,-1),"\\");if((ce.length-ge.length)%2==0)return}else{var _e=B(Ce[2],"()");if(_e>-1){var ke=Ce[0].indexOf("!")===0?5:4,Ne=ke+Ce[1].length+_e;Ce[2]=Ce[2].substring(0,_e),Ce[0]=Ce[0].substring(0,Ne).trim(),Ce[3]=""}}var Re=Ce[2],Ae="";if(this.options.pedantic){var Fe=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Re);Fe&&(Re=Fe[1],Ae=Fe[3])}else Ae=Ce[3]?Ce[3].slice(1,-1):"";return Re=Re.trim(),/^</.test(Re)&&(this.options.pedantic&&!/>$/.test(ce)?Re=Re.slice(1):Re=Re.slice(1,-1)),H(Ce,{href:Re&&Re.replace(this.rules.inline._escapes,"$1"),title:Ae&&Ae.replace(this.rules.inline._escapes,"$1")},Ce[0])}},Se.reflink=function(fe,Ce){var ce;if((ce=this.rules.inline.reflink.exec(fe))||(ce=this.rules.inline.nolink.exec(fe))){var ge=(ce[2]||ce[1]).replace(/\s+/g," ");if(ge=Ce[ge.toLowerCase()],!ge||!ge.href){var _e=ce[0].charAt(0);return{type:"text",raw:_e,text:_e}}return H(ce,ge,ce[0])}},Se.emStrong=function(fe,Ce,ce){ce===void 0&&(ce="");var ge=this.rules.inline.emStrong.lDelim.exec(fe);if(!!ge&&!(ge[3]&&ce.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var _e=ge[1]||ge[2]||"";if(!_e||_e&&(ce===""||this.rules.inline.punctuation.exec(ce))){var ke=ge[0].length-1,Ne,Re,Ae=ke,Fe=0,Pe=ge[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Pe.lastIndex=0,Ce=Ce.slice(-1*fe.length+ke);(ge=Pe.exec(Ce))!=null;)if(Ne=ge[1]||ge[2]||ge[3]||ge[4]||ge[5]||ge[6],!!Ne){if(Re=Ne.length,ge[3]||ge[4]){Ae+=Re;continue}else if((ge[5]||ge[6])&&ke%3&&!((ke+Re)%3)){Fe+=Re;continue}if(Ae-=Re,!(Ae>0)){if(Ae+Fe-Re<=0&&!Ce.slice(Pe.lastIndex).match(Pe)&&(Re=Math.min(Re,Re+Ae+Fe)),Math.min(ke,Re)%2)return{type:"em",raw:fe.slice(0,ke+ge.index+Re+1),text:fe.slice(1,ke+ge.index+Re)};if(Math.min(ke,Re)%2==0)return{type:"strong",raw:fe.slice(0,ke+ge.index+Re+1),text:fe.slice(2,ke+ge.index+Re-1)}}}}}},Se.codespan=function(fe){var Ce=this.rules.inline.code.exec(fe);if(Ce){var ce=Ce[2].replace(/\n/g," "),ge=/[^ ]/.test(ce),_e=/^ /.test(ce)&&/ $/.test(ce);return ge&&_e&&(ce=ce.substring(1,ce.length-1)),ce=A(ce,!0),{type:"codespan",raw:Ce[0],text:ce}}},Se.br=function(fe){var Ce=this.rules.inline.br.exec(fe);if(Ce)return{type:"br",raw:Ce[0]}},Se.del=function(fe){var Ce=this.rules.inline.del.exec(fe);if(Ce)return{type:"del",raw:Ce[0],text:Ce[2]}},Se.autolink=function(fe,Ce){var ce=this.rules.inline.autolink.exec(fe);if(ce){var ge,_e;return ce[2]==="@"?(ge=A(this.options.mangle?Ce(ce[1]):ce[1]),_e="mailto:"+ge):(ge=A(ce[1]),_e=ge),{type:"link",raw:ce[0],text:ge,href:_e,tokens:[{type:"text",raw:ge,text:ge}]}}},Se.url=function(fe,Ce){var ce;if(ce=this.rules.inline.url.exec(fe)){var ge,_e;if(ce[2]==="@")ge=A(this.options.mangle?Ce(ce[0]):ce[0]),_e="mailto:"+ge;else{var ke;do ke=ce[0],ce[0]=this.rules.inline._backpedal.exec(ce[0])[0];while(ke!==ce[0]);ge=A(ce[0]),ce[1]==="www."?_e="http://"+ge:_e=ge}return{type:"link",raw:ce[0],text:ge,href:_e,tokens:[{type:"text",raw:ge,text:ge}]}}},Se.inlineText=function(fe,Ce,ce){var ge=this.rules.inline.text.exec(fe);if(ge){var _e;return Ce?_e=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ge[0]):A(ge[0]):ge[0]:_e=A(this.options.smartypants?ce(ge[0]):ge[0]),{type:"text",raw:ge[0],text:_e}}},ve}(),Y=O.noopTest,te=O.edit,ie=O.merge,ae={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:Y,table:Y,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/};ae._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,ae._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,ae.def=te(ae.def).replace("label",ae._label).replace("title",ae._title).getRegex(),ae.bullet=/(?:[*+-]|\d{1,9}[.)])/,ae.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,ae.item=te(ae.item,"gm").replace(/bull/g,ae.bullet).getRegex(),ae.listItemStart=te(/^( *)(bull)/).replace("bull",ae.bullet).getRegex(),ae.list=te(ae.list).replace(/bull/g,ae.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+ae.def.source+")").getRegex(),ae._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",ae._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,ae.html=te(ae.html,"i").replace("comment",ae._comment).replace("tag",ae._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ae.paragraph=te(ae._paragraph).replace("hr",ae.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",ae._tag).getRegex(),ae.blockquote=te(ae.blockquote).replace("paragraph",ae.paragraph).getRegex(),ae.normal=ie({},ae),ae.gfm=ie({},ae.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),ae.gfm.nptable=te(ae.gfm.nptable).replace("hr",ae.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",ae._tag).getRegex(),ae.gfm.table=te(ae.gfm.table).replace("hr",ae.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",ae._tag).getRegex(),ae.pedantic=ie({},ae.normal,{html:te(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",ae._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Y,paragraph:te(ae.normal._paragraph).replace("hr",ae.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",ae.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var le={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Y,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/\_\_[^_]*?\*[^_]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/\*\*[^*]*?\_[^*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Y,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};le._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",le.punctuation=te(le.punctuation).replace(/punctuation/g,le._punctuation).getRegex(),le.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,le.escapedEmSt=/\\\*|\\_/g,le._comment=te(ae._comment).replace("(?:-->|$)","-->").getRegex(),le.emStrong.lDelim=te(le.emStrong.lDelim).replace(/punct/g,le._punctuation).getRegex(),le.emStrong.rDelimAst=te(le.emStrong.rDelimAst,"g").replace(/punct/g,le._punctuation).getRegex(),le.emStrong.rDelimUnd=te(le.emStrong.rDelimUnd,"g").replace(/punct/g,le._punctuation).getRegex(),le._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,le._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,le._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,le.autolink=te(le.autolink).replace("scheme",le._scheme).replace("email",le._email).getRegex(),le._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,le.tag=te(le.tag).replace("comment",le._comment).replace("attribute",le._attribute).getRegex(),le._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,le._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,le._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,le.link=te(le.link).replace("label",le._label).replace("href",le._href).replace("title",le._title).getRegex(),le.reflink=te(le.reflink).replace("label",le._label).getRegex(),le.reflinkSearch=te(le.reflinkSearch,"g").replace("reflink",le.reflink).replace("nolink",le.nolink).getRegex(),le.normal=ie({},le),le.pedantic=ie({},le.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:te(/^!?\[(label)\]\((.*?)\)/).replace("label",le._label).getRegex(),reflink:te(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",le._label).getRegex()}),le.gfm=ie({},le.normal,{escape:te(le.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),le.gfm.url=te(le.gfm.url,"i").replace("email",le.gfm._extended_email).getRegex(),le.breaks=ie({},le.gfm,{br:te(le.br).replace("{2,}","*").getRegex(),text:te(le.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var Z={block:ae,inline:le},T=S.defaults,x=Z.block,z=Z.inline,V=O.repeatString;function U(ve){return ve.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function Q(ve){var Se="",ye,fe,Ce=ve.length;for(ye=0;ye<Ce;ye++)fe=ve.charCodeAt(ye),Math.random()>.5&&(fe="x"+fe.toString(16)),Se+="&#"+fe+";";return Se}var se=function(){function ve(ye){this.tokens=[],this.tokens.links=Object.create(null),this.options=ye||T,this.options.tokenizer=this.options.tokenizer||new q,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var fe={block:x.normal,inline:z.normal};this.options.pedantic?(fe.block=x.pedantic,fe.inline=z.pedantic):this.options.gfm&&(fe.block=x.gfm,this.options.breaks?fe.inline=z.breaks:fe.inline=z.gfm),this.tokenizer.rules=fe}ve.lex=function(fe,Ce){var ce=new ve(Ce);return ce.lex(fe)},ve.lexInline=function(fe,Ce){var ce=new ve(Ce);return ce.inlineTokens(fe)};var Se=ve.prototype;return Se.lex=function(fe){return fe=fe.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(fe,this.tokens,!0),this.inline(this.tokens),this.tokens},Se.blockTokens=function(fe,Ce,ce){Ce===void 0&&(Ce=[]),ce===void 0&&(ce=!0),this.options.pedantic&&(fe=fe.replace(/^ +$/gm,""));for(var ge,_e,ke,Ne;fe;){if(ge=this.tokenizer.space(fe)){fe=fe.substring(ge.raw.length),ge.type&&Ce.push(ge);continue}if(ge=this.tokenizer.code(fe)){fe=fe.substring(ge.raw.length),Ne=Ce[Ce.length-1],Ne&&Ne.type==="paragraph"?(Ne.raw+=`
`+ge.raw,Ne.text+=`
`+ge.text):Ce.push(ge);continue}if(ge=this.tokenizer.fences(fe)){fe=fe.substring(ge.raw.length),Ce.push(ge);continue}if(ge=this.tokenizer.heading(fe)){fe=fe.substring(ge.raw.length),Ce.push(ge);continue}if(ge=this.tokenizer.nptable(fe)){fe=fe.substring(ge.raw.length),Ce.push(ge);continue}if(ge=this.tokenizer.hr(fe)){fe=fe.substring(ge.raw.length),Ce.push(ge);continue}if(ge=this.tokenizer.blockquote(fe)){fe=fe.substring(ge.raw.length),ge.tokens=this.blockTokens(ge.text,[],ce),Ce.push(ge);continue}if(ge=this.tokenizer.list(fe)){for(fe=fe.substring(ge.raw.length),ke=ge.items.length,_e=0;_e<ke;_e++)ge.items[_e].tokens=this.blockTokens(ge.items[_e].text,[],!1);Ce.push(ge);continue}if(ge=this.tokenizer.html(fe)){fe=fe.substring(ge.raw.length),Ce.push(ge);continue}if(ce&&(ge=this.tokenizer.def(fe))){fe=fe.substring(ge.raw.length),this.tokens.links[ge.tag]||(this.tokens.links[ge.tag]={href:ge.href,title:ge.title});continue}if(ge=this.tokenizer.table(fe)){fe=fe.substring(ge.raw.length),Ce.push(ge);continue}if(ge=this.tokenizer.lheading(fe)){fe=fe.substring(ge.raw.length),Ce.push(ge);continue}if(ce&&(ge=this.tokenizer.paragraph(fe))){fe=fe.substring(ge.raw.length),Ce.push(ge);continue}if(ge=this.tokenizer.text(fe)){fe=fe.substring(ge.raw.length),Ne=Ce[Ce.length-1],Ne&&Ne.type==="text"?(Ne.raw+=`
`+ge.raw,Ne.text+=`
`+ge.text):Ce.push(ge);continue}if(fe){var Re="Infinite loop on byte: "+fe.charCodeAt(0);if(this.options.silent){console.error(Re);break}else throw new Error(Re)}}return Ce},Se.inline=function(fe){var Ce,ce,ge,_e,ke,Ne,Re=fe.length;for(Ce=0;Ce<Re;Ce++)switch(Ne=fe[Ce],Ne.type){case"paragraph":case"text":case"heading":{Ne.tokens=[],this.inlineTokens(Ne.text,Ne.tokens);break}case"table":{for(Ne.tokens={header:[],cells:[]},_e=Ne.header.length,ce=0;ce<_e;ce++)Ne.tokens.header[ce]=[],this.inlineTokens(Ne.header[ce],Ne.tokens.header[ce]);for(_e=Ne.cells.length,ce=0;ce<_e;ce++)for(ke=Ne.cells[ce],Ne.tokens.cells[ce]=[],ge=0;ge<ke.length;ge++)Ne.tokens.cells[ce][ge]=[],this.inlineTokens(ke[ge],Ne.tokens.cells[ce][ge]);break}case"blockquote":{this.inline(Ne.tokens);break}case"list":{for(_e=Ne.items.length,ce=0;ce<_e;ce++)this.inline(Ne.items[ce].tokens);break}}return fe},Se.inlineTokens=function(fe,Ce,ce,ge){Ce===void 0&&(Ce=[]),ce===void 0&&(ce=!1),ge===void 0&&(ge=!1);var _e,ke,Ne=fe,Re,Ae,Fe;if(this.tokens.links){var Pe=Object.keys(this.tokens.links);if(Pe.length>0)for(;(Re=this.tokenizer.rules.inline.reflinkSearch.exec(Ne))!=null;)Pe.includes(Re[0].slice(Re[0].lastIndexOf("[")+1,-1))&&(Ne=Ne.slice(0,Re.index)+"["+V("a",Re[0].length-2)+"]"+Ne.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(Re=this.tokenizer.rules.inline.blockSkip.exec(Ne))!=null;)Ne=Ne.slice(0,Re.index)+"["+V("a",Re[0].length-2)+"]"+Ne.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(Re=this.tokenizer.rules.inline.escapedEmSt.exec(Ne))!=null;)Ne=Ne.slice(0,Re.index)+"++"+Ne.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;fe;){if(Ae||(Fe=""),Ae=!1,_e=this.tokenizer.escape(fe)){fe=fe.substring(_e.raw.length),Ce.push(_e);continue}if(_e=this.tokenizer.tag(fe,ce,ge)){fe=fe.substring(_e.raw.length),ce=_e.inLink,ge=_e.inRawBlock;var xe=Ce[Ce.length-1];xe&&_e.type==="text"&&xe.type==="text"?(xe.raw+=_e.raw,xe.text+=_e.text):Ce.push(_e);continue}if(_e=this.tokenizer.link(fe)){fe=fe.substring(_e.raw.length),_e.type==="link"&&(_e.tokens=this.inlineTokens(_e.text,[],!0,ge)),Ce.push(_e);continue}if(_e=this.tokenizer.reflink(fe,this.tokens.links)){fe=fe.substring(_e.raw.length);var We=Ce[Ce.length-1];_e.type==="link"?(_e.tokens=this.inlineTokens(_e.text,[],!0,ge),Ce.push(_e)):We&&_e.type==="text"&&We.type==="text"?(We.raw+=_e.raw,We.text+=_e.text):Ce.push(_e);continue}if(_e=this.tokenizer.emStrong(fe,Ne,Fe)){fe=fe.substring(_e.raw.length),_e.tokens=this.inlineTokens(_e.text,[],ce,ge),Ce.push(_e);continue}if(_e=this.tokenizer.codespan(fe)){fe=fe.substring(_e.raw.length),Ce.push(_e);continue}if(_e=this.tokenizer.br(fe)){fe=fe.substring(_e.raw.length),Ce.push(_e);continue}if(_e=this.tokenizer.del(fe)){fe=fe.substring(_e.raw.length),_e.tokens=this.inlineTokens(_e.text,[],ce,ge),Ce.push(_e);continue}if(_e=this.tokenizer.autolink(fe,Q)){fe=fe.substring(_e.raw.length),Ce.push(_e);continue}if(!ce&&(_e=this.tokenizer.url(fe,Q))){fe=fe.substring(_e.raw.length),Ce.push(_e);continue}if(_e=this.tokenizer.inlineText(fe,ge,U)){fe=fe.substring(_e.raw.length),_e.raw.slice(-1)!=="_"&&(Fe=_e.raw.slice(-1)),Ae=!0,ke=Ce[Ce.length-1],ke&&ke.type==="text"?(ke.raw+=_e.raw,ke.text+=_e.text):Ce.push(_e);continue}if(fe){var ze="Infinite loop on byte: "+fe.charCodeAt(0);if(this.options.silent){console.error(ze);break}else throw new Error(ze)}}return Ce},e(ve,null,[{key:"rules",get:function(){return{block:x,inline:z}}}]),ve}(),oe=S.defaults,G=O.cleanUrl,j=O.escape,ne=function(){function ve(ye){this.options=ye||oe}var Se=ve.prototype;return Se.code=function(fe,Ce,ce){var ge=(Ce||"").match(/\S*/)[0];if(this.options.highlight){var _e=this.options.highlight(fe,ge);_e!=null&&_e!==fe&&(ce=!0,fe=_e)}return fe=fe.replace(/\n$/,"")+`
`,ge?'<pre><code class="'+this.options.langPrefix+j(ge,!0)+'">'+(ce?fe:j(fe,!0))+`</code></pre>
`:"<pre><code>"+(ce?fe:j(fe,!0))+`</code></pre>
`},Se.blockquote=function(fe){return`<blockquote>
`+fe+`</blockquote>
`},Se.html=function(fe){return fe},Se.heading=function(fe,Ce,ce,ge){return this.options.headerIds?"<h"+Ce+' id="'+this.options.headerPrefix+ge.slug(ce)+'">'+fe+"</h"+Ce+`>
`:"<h"+Ce+">"+fe+"</h"+Ce+`>
`},Se.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},Se.list=function(fe,Ce,ce){var ge=Ce?"ol":"ul",_e=Ce&&ce!==1?' start="'+ce+'"':"";return"<"+ge+_e+`>
`+fe+"</"+ge+`>
`},Se.listitem=function(fe){return"<li>"+fe+`</li>
`},Se.checkbox=function(fe){return"<input "+(fe?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},Se.paragraph=function(fe){return"<p>"+fe+`</p>
`},Se.table=function(fe,Ce){return Ce&&(Ce="<tbody>"+Ce+"</tbody>"),`<table>
<thead>
`+fe+`</thead>
`+Ce+`</table>
`},Se.tablerow=function(fe){return`<tr>
`+fe+`</tr>
`},Se.tablecell=function(fe,Ce){var ce=Ce.header?"th":"td",ge=Ce.align?"<"+ce+' align="'+Ce.align+'">':"<"+ce+">";return ge+fe+"</"+ce+`>
`},Se.strong=function(fe){return"<strong>"+fe+"</strong>"},Se.em=function(fe){return"<em>"+fe+"</em>"},Se.codespan=function(fe){return"<code>"+fe+"</code>"},Se.br=function(){return this.options.xhtml?"<br/>":"<br>"},Se.del=function(fe){return"<del>"+fe+"</del>"},Se.link=function(fe,Ce,ce){if(fe=G(this.options.sanitize,this.options.baseUrl,fe),fe===null)return ce;var ge='<a href="'+j(fe)+'"';return Ce&&(ge+=' title="'+Ce+'"'),ge+=">"+ce+"</a>",ge},Se.image=function(fe,Ce,ce){if(fe=G(this.options.sanitize,this.options.baseUrl,fe),fe===null)return ce;var ge='<img src="'+fe+'" alt="'+ce+'"';return Ce&&(ge+=' title="'+Ce+'"'),ge+=this.options.xhtml?"/>":">",ge},Se.text=function(fe){return fe},ve}(),X=function(){function ve(){}var Se=ve.prototype;return Se.strong=function(fe){return fe},Se.em=function(fe){return fe},Se.codespan=function(fe){return fe},Se.del=function(fe){return fe},Se.html=function(fe){return fe},Se.text=function(fe){return fe},Se.link=function(fe,Ce,ce){return""+ce},Se.image=function(fe,Ce,ce){return""+ce},Se.br=function(){return""},ve}(),de=function(){function ve(){this.seen={}}var Se=ve.prototype;return Se.serialize=function(fe){return fe.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},Se.getNextSafeSlug=function(fe,Ce){var ce=fe,ge=0;if(this.seen.hasOwnProperty(ce)){ge=this.seen[fe];do ge++,ce=fe+"-"+ge;while(this.seen.hasOwnProperty(ce))}return Ce||(this.seen[fe]=ge,this.seen[ce]=0),ce},Se.slug=function(fe,Ce){Ce===void 0&&(Ce={});var ce=this.serialize(fe);return this.getNextSafeSlug(ce,Ce.dryrun)},ve}(),he=S.defaults,re=O.unescape,ue=function(){function ve(ye){this.options=ye||he,this.options.renderer=this.options.renderer||new ne,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new X,this.slugger=new de}ve.parse=function(fe,Ce){var ce=new ve(Ce);return ce.parse(fe)},ve.parseInline=function(fe,Ce){var ce=new ve(Ce);return ce.parseInline(fe)};var Se=ve.prototype;return Se.parse=function(fe,Ce){Ce===void 0&&(Ce=!0);var ce="",ge,_e,ke,Ne,Re,Ae,Fe,Pe,xe,We,ze,Ke,Be,He,Ve,Ue,Ye,je,Xe=fe.length;for(ge=0;ge<Xe;ge++)switch(We=fe[ge],We.type){case"space":continue;case"hr":{ce+=this.renderer.hr();continue}case"heading":{ce+=this.renderer.heading(this.parseInline(We.tokens),We.depth,re(this.parseInline(We.tokens,this.textRenderer)),this.slugger);continue}case"code":{ce+=this.renderer.code(We.text,We.lang,We.escaped);continue}case"table":{for(Pe="",Fe="",Ne=We.header.length,_e=0;_e<Ne;_e++)Fe+=this.renderer.tablecell(this.parseInline(We.tokens.header[_e]),{header:!0,align:We.align[_e]});for(Pe+=this.renderer.tablerow(Fe),xe="",Ne=We.cells.length,_e=0;_e<Ne;_e++){for(Ae=We.tokens.cells[_e],Fe="",Re=Ae.length,ke=0;ke<Re;ke++)Fe+=this.renderer.tablecell(this.parseInline(Ae[ke]),{header:!1,align:We.align[ke]});xe+=this.renderer.tablerow(Fe)}ce+=this.renderer.table(Pe,xe);continue}case"blockquote":{xe=this.parse(We.tokens),ce+=this.renderer.blockquote(xe);continue}case"list":{for(ze=We.ordered,Ke=We.start,Be=We.loose,Ne=We.items.length,xe="",_e=0;_e<Ne;_e++)Ve=We.items[_e],Ue=Ve.checked,Ye=Ve.task,He="",Ve.task&&(je=this.renderer.checkbox(Ue),Be?Ve.tokens.length>0&&Ve.tokens[0].type==="text"?(Ve.tokens[0].text=je+" "+Ve.tokens[0].text,Ve.tokens[0].tokens&&Ve.tokens[0].tokens.length>0&&Ve.tokens[0].tokens[0].type==="text"&&(Ve.tokens[0].tokens[0].text=je+" "+Ve.tokens[0].tokens[0].text)):Ve.tokens.unshift({type:"text",text:je}):He+=je),He+=this.parse(Ve.tokens,Be),xe+=this.renderer.listitem(He,Ye,Ue);ce+=this.renderer.list(xe,ze,Ke);continue}case"html":{ce+=this.renderer.html(We.text);continue}case"paragraph":{ce+=this.renderer.paragraph(this.parseInline(We.tokens));continue}case"text":{for(xe=We.tokens?this.parseInline(We.tokens):We.text;ge+1<Xe&&fe[ge+1].type==="text";)We=fe[++ge],xe+=`
`+(We.tokens?this.parseInline(We.tokens):We.text);ce+=Ce?this.renderer.paragraph(xe):xe;continue}default:{var $e='Token with "'+We.type+'" type was not found.';if(this.options.silent){console.error($e);return}else throw new Error($e)}}return ce},Se.parseInline=function(fe,Ce){Ce=Ce||this.renderer;var ce="",ge,_e,ke=fe.length;for(ge=0;ge<ke;ge++)switch(_e=fe[ge],_e.type){case"escape":{ce+=Ce.text(_e.text);break}case"html":{ce+=Ce.html(_e.text);break}case"link":{ce+=Ce.link(_e.href,_e.title,this.parseInline(_e.tokens,Ce));break}case"image":{ce+=Ce.image(_e.href,_e.title,_e.text);break}case"strong":{ce+=Ce.strong(this.parseInline(_e.tokens,Ce));break}case"em":{ce+=Ce.em(this.parseInline(_e.tokens,Ce));break}case"codespan":{ce+=Ce.codespan(_e.text);break}case"br":{ce+=Ce.br();break}case"del":{ce+=Ce.del(this.parseInline(_e.tokens,Ce));break}case"text":{ce+=Ce.text(_e.text);break}default:{var Ne='Token with "'+_e.type+'" type was not found.';if(this.options.silent){console.error(Ne);return}else throw new Error(Ne)}}return ce},ve}(),me=O.merge,be=O.checkSanitizeDeprecation,we=O.escape,Ee=S.getDefaults,De=S.changeDefaults,Oe=S.defaults;function Le(ve,Se,ye){if(typeof ve=="undefined"||ve===null)throw new Error("marked(): input parameter is undefined or null");if(typeof ve!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(ve)+", string expected");if(typeof Se=="function"&&(ye=Se,Se=null),Se=me({},Le.defaults,Se||{}),be(Se),ye){var fe=Se.highlight,Ce;try{Ce=se.lex(ve,Se)}catch(ke){return ye(ke)}var ce=function(Ne){var Re;if(!Ne)try{Re=ue.parse(Ce,Se)}catch(Ae){Ne=Ae}return Se.highlight=fe,Ne?ye(Ne):ye(null,Re)};if(!fe||fe.length<3||(delete Se.highlight,!Ce.length))return ce();var ge=0;Le.walkTokens(Ce,function(ke){ke.type==="code"&&(ge++,setTimeout(function(){fe(ke.text,ke.lang,function(Ne,Re){if(Ne)return ce(Ne);Re!=null&&Re!==ke.text&&(ke.text=Re,ke.escaped=!0),ge--,ge===0&&ce()})},0))}),ge===0&&ce();return}try{var _e=se.lex(ve,Se);return Se.walkTokens&&Le.walkTokens(_e,Se.walkTokens),ue.parse(_e,Se)}catch(ke){if(ke.message+=`
Please report this to https://github.com/markedjs/marked.`,Se.silent)return"<p>An error occurred:</p><pre>"+we(ke.message+"",!0)+"</pre>";throw ke}}Le.options=Le.setOptions=function(ve){return me(Le.defaults,ve),De(Le.defaults),Le},Le.getDefaults=Ee,Le.defaults=Oe,Le.use=function(ve){var Se=me({},ve);if(ve.renderer&&function(){var fe=Le.defaults.renderer||new ne,Ce=function(_e){var ke=fe[_e];fe[_e]=function(){for(var Ne=arguments.length,Re=new Array(Ne),Ae=0;Ae<Ne;Ae++)Re[Ae]=arguments[Ae];var Fe=ve.renderer[_e].apply(fe,Re);return Fe===!1&&(Fe=ke.apply(fe,Re)),Fe}};for(var ce in ve.renderer)Ce(ce);Se.renderer=fe}(),ve.tokenizer&&function(){var fe=Le.defaults.tokenizer||new q,Ce=function(_e){var ke=fe[_e];fe[_e]=function(){for(var Ne=arguments.length,Re=new Array(Ne),Ae=0;Ae<Ne;Ae++)Re[Ae]=arguments[Ae];var Fe=ve.tokenizer[_e].apply(fe,Re);return Fe===!1&&(Fe=ke.apply(fe,Re)),Fe}};for(var ce in ve.tokenizer)Ce(ce);Se.tokenizer=fe}(),ve.walkTokens){var ye=Le.defaults.walkTokens;Se.walkTokens=function(fe){ve.walkTokens(fe),ye&&ye(fe)}}Le.setOptions(Se)},Le.walkTokens=function(ve,Se){for(var ye=k(ve),fe;!(fe=ye()).done;){var Ce=fe.value;switch(Se(Ce),Ce.type){case"table":{for(var ce=k(Ce.tokens.header),ge;!(ge=ce()).done;){var _e=ge.value;Le.walkTokens(_e,Se)}for(var ke=k(Ce.tokens.cells),Ne;!(Ne=ke()).done;)for(var Re=Ne.value,Ae=k(Re),Fe;!(Fe=Ae()).done;){var Pe=Fe.value;Le.walkTokens(Pe,Se)}break}case"list":{Le.walkTokens(Ce.items,Se);break}default:Ce.tokens&&Le.walkTokens(Ce.tokens,Se)}}},Le.parseInline=function(ve,Se){if(typeof ve=="undefined"||ve===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof ve!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(ve)+", string expected");Se=me({},Le.defaults,Se||{}),be(Se);try{var ye=se.lexInline(ve,Se);return Se.walkTokens&&Le.walkTokens(ye,Se.walkTokens),ue.parseInline(ye,Se)}catch(fe){if(fe.message+=`
Please report this to https://github.com/markedjs/marked.`,Se.silent)return"<p>An error occurred:</p><pre>"+we(fe.message+"",!0)+"</pre>";throw fe}},Le.Parser=ue,Le.parser=ue.parse,Le.Renderer=ne,Le.TextRenderer=X,Le.Lexer=se,Le.lexer=se.lex,Le.Tokenizer=q,Le.Slugger=de,Le.parse=Le;var Te=Le;return Te}),define(J[279],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayNavigator=void 0;class v{constructor(k,w=0,S=k.length,_=w-1){this.items=k,this.start=w,this.end=S,this.index=_}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}e.ArrayNavigator=v}),define(J[280],ee([0,1,279]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryNavigator=void 0;class I{constructor(w=[],S=10){this._initialize(w),this._limit=S,this._onChange()}add(w){this._history.delete(w),this._history.add(w),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(w){return this._history.has(w)}_onChange(){this._reduceToLimit();const w=this._elements;this._navigator=new v.ArrayNavigator(w,0,w.length,w.length)}_reduceToLimit(){const w=this._elements;w.length>this._limit&&this._initialize(w.slice(w.length-this._limit))}_currentPosition(){const w=this._navigator.current();return w?this._elements.indexOf(w):-1}_initialize(w){this._history=new Set;for(const S of w)this._history.add(S)}get _elements(){const w=[];return this._history.forEach(S=>w.push(S)),w}}e.HistoryNavigator=I}),define(J[100],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MovingAverage=e.clamp=void 0;function v(k,w,S){return Math.min(Math.max(k,w),S)}e.clamp=v;class I{constructor(){this._n=1,this._val=0}update(w){return this._val=this._val+(w-this._val)/this._n,this._n+=1,this}get value(){return this._val}}e.MovingAverage=I}),define(J[17],ee([0,1]),function($,e){"use strict";var v;Object.defineProperty(e,"__esModule",{value:!0}),e.isLittleEndian=e.OS=e.setImmediate=e.userAgent=e.isIOS=e.isWeb=e.isNative=e.isLinux=e.isMacintosh=e.isWindows=e.isPreferringBrowserCodeLoad=e.browserCodeLoadingCacheStrategy=e.isElectronSandboxed=e.globals=void 0;const I="en";let k=!1,w=!1,S=!1,_=!1,C=!1,i=!1,p=!1,u,a=I,l,c;e.globals=typeof self=="object"?self:typeof global=="object"?global:{};let d;typeof e.globals.vscode!="undefined"&&typeof e.globals.vscode.process!="undefined"?d=e.globals.vscode.process:typeof process!="undefined"&&(d=process);const r=typeof((v=d==null?void 0:d.versions)===null||v===void 0?void 0:v.electron)=="string"&&d.type==="renderer";if(e.isElectronSandboxed=r&&(d==null?void 0:d.sandboxed),e.browserCodeLoadingCacheStrategy=(()=>{if(e.isElectronSandboxed)return"bypassHeatCheck";const h=d==null?void 0:d.env.VSCODE_BROWSER_CODE_LOADING;if(typeof h=="string")return h==="none"||h==="code"||h==="bypassHeatCheck"||h==="bypassHeatCheckAndEagerCompile"?h:"bypassHeatCheck"})(),e.isPreferringBrowserCodeLoad=typeof e.browserCodeLoadingCacheStrategy=="string",typeof navigator=="object"&&!r)c=navigator.userAgent,k=c.indexOf("Windows")>=0,w=c.indexOf("Macintosh")>=0,p=(c.indexOf("Macintosh")>=0||c.indexOf("iPad")>=0||c.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,S=c.indexOf("Linux")>=0,i=!0,u=navigator.language,a=u;else if(typeof d=="object"){k=d.platform==="win32",w=d.platform==="darwin",S=d.platform==="linux",_=S&&!!d.env.SNAP&&!!d.env.SNAP_REVISION,u=I,a=I;const h=d.env.VSCODE_NLS_CONFIG;if(h)try{const g=JSON.parse(h),m=g.availableLanguages["*"];u=g.locale,a=m||I,l=g._translationsConfigFile}catch(g){}C=!0}else console.error("Unable to resolve platform.");let n=0;w?n=1:k?n=3:S&&(n=2),e.isWindows=k,e.isMacintosh=w,e.isLinux=S,e.isNative=C,e.isWeb=i,e.isIOS=p,e.userAgent=c,e.setImmediate=function(){if(e.globals.setImmediate)return e.globals.setImmediate.bind(e.globals);if(typeof e.globals.postMessage=="function"&&!e.globals.importScripts){let m=[];e.globals.addEventListener("message",b=>{if(b.data&&b.data.vscodeSetImmediateId)for(let y=0,L=m.length;y<L;y++){const N=m[y];if(N.id===b.data.vscodeSetImmediateId){m.splice(y,1),N.callback();return}}});let f=0;return b=>{const y=++f;m.push({id:y,callback:b}),e.globals.postMessage({vscodeSetImmediateId:y},"*")}}if(typeof(d==null?void 0:d.nextTick)=="function")return d.nextTick.bind(d);const g=Promise.resolve();return m=>g.then(m)}(),e.OS=w||p?2:k?1:3;let s=!0,t=!1;function o(){if(!t){t=!0;const h=new Uint8Array(2);h[0]=1,h[1]=2,s=new Uint16Array(h.buffer)[0]===(2<<8)+1}return s}e.isLittleEndian=o}),define(J[281],ee([0,1,17]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.platform=e.env=e.cwd=void 0;let I;if(typeof v.globals.vscode!="undefined"&&typeof v.globals.vscode.process!="undefined"){const k=v.globals.vscode.process;I={get platform(){return k.platform},get env(){return k.env},cwd(){return k.cwd()},nextTick(w){return(0,v.setImmediate)(w)}}}else typeof process!="undefined"?I={get platform(){return process.platform},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()},nextTick(k){return process.nextTick(k)}}:I={get platform(){return v.isWindows?"win32":v.isMacintosh?"darwin":"linux"},nextTick(k){return(0,v.setImmediate)(k)},get env(){return Object.create(null)},cwd(){return"/"}};e.cwd=I.cwd,e.env=I.env,e.platform=I.platform}),define(J[73],ee([0,1,281]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sep=e.extname=e.basename=e.dirname=e.relative=e.resolve=e.normalize=e.posix=e.win32=void 0;const I=65,k=97,w=90,S=122,_=46,C=47,i=92,p=58,u=63;class a extends Error{constructor(o,h,g){let m;typeof h=="string"&&h.indexOf("not ")===0?(m="must not be",h=h.replace(/^not /,"")):m="must be";const f=o.indexOf(".")!==-1?"property":"argument";let b=`The "${o}" ${f} ${m} of type ${h}`;b+=`. Received type ${typeof g}`,super(b),this.code="ERR_INVALID_ARG_TYPE"}}function l(t,o){if(typeof t!="string")throw new a(o,"string",t)}function c(t){return t===C||t===i}function d(t){return t===C}function r(t){return t>=I&&t<=w||t>=k&&t<=S}function n(t,o,h,g){let m="",f=0,b=-1,y=0,L=0;for(let N=0;N<=t.length;++N){if(N<t.length)L=t.charCodeAt(N);else{if(g(L))break;L=C}if(g(L)){if(!(b===N-1||y===1))if(y===2){if(m.length<2||f!==2||m.charCodeAt(m.length-1)!==_||m.charCodeAt(m.length-2)!==_){if(m.length>2){const M=m.lastIndexOf(h);M===-1?(m="",f=0):(m=m.slice(0,M),f=m.length-1-m.lastIndexOf(h)),b=N,y=0;continue}else if(m.length!==0){m="",f=0,b=N,y=0;continue}}o&&(m+=m.length>0?`${h}..`:"..",f=2)}else m.length>0?m+=`${h}${t.slice(b+1,N)}`:m=t.slice(b+1,N),f=N-b-1;b=N,y=0}else L===_&&y!==-1?++y:y=-1}return m}function s(t,o){if(o===null||typeof o!="object")throw new a("pathObject","Object",o);const h=o.dir||o.root,g=o.base||`${o.name||""}${o.ext||""}`;return h?h===o.root?`${h}${g}`:`${h}${t}${g}`:g}e.win32={resolve(...t){let o="",h="",g=!1;for(let m=t.length-1;m>=-1;m--){let f;if(m>=0){if(f=t[m],l(f,"path"),f.length===0)continue}else o.length===0?f=v.cwd():(f=v.env[`=${o}`]||v.cwd(),(f===void 0||f.slice(0,2).toLowerCase()!==o.toLowerCase()&&f.charCodeAt(2)===i)&&(f=`${o}\\`));const b=f.length;let y=0,L="",N=!1;const M=f.charCodeAt(0);if(b===1)c(M)&&(y=1,N=!0);else if(c(M))if(N=!0,c(f.charCodeAt(1))){let D=2,R=D;for(;D<b&&!c(f.charCodeAt(D));)D++;if(D<b&&D!==R){const P=f.slice(R,D);for(R=D;D<b&&c(f.charCodeAt(D));)D++;if(D<b&&D!==R){for(R=D;D<b&&!c(f.charCodeAt(D));)D++;(D===b||D!==R)&&(L=`\\\\${P}\\${f.slice(R,D)}`,y=D)}}}else y=1;else r(M)&&f.charCodeAt(1)===p&&(L=f.slice(0,2),y=2,b>2&&c(f.charCodeAt(2))&&(N=!0,y=3));if(L.length>0)if(o.length>0){if(L.toLowerCase()!==o.toLowerCase())continue}else o=L;if(g){if(o.length>0)break}else if(h=`${f.slice(y)}\\${h}`,g=N,N&&o.length>0)break}return h=n(h,!g,"\\",c),g?`${o}\\${h}`:`${o}${h}`||"."},normalize(t){l(t,"path");const o=t.length;if(o===0)return".";let h=0,g,m=!1;const f=t.charCodeAt(0);if(o===1)return d(f)?"\\":t;if(c(f))if(m=!0,c(t.charCodeAt(1))){let y=2,L=y;for(;y<o&&!c(t.charCodeAt(y));)y++;if(y<o&&y!==L){const N=t.slice(L,y);for(L=y;y<o&&c(t.charCodeAt(y));)y++;if(y<o&&y!==L){for(L=y;y<o&&!c(t.charCodeAt(y));)y++;if(y===o)return`\\\\${N}\\${t.slice(L)}\\`;y!==L&&(g=`\\\\${N}\\${t.slice(L,y)}`,h=y)}}}else h=1;else r(f)&&t.charCodeAt(1)===p&&(g=t.slice(0,2),h=2,o>2&&c(t.charCodeAt(2))&&(m=!0,h=3));let b=h<o?n(t.slice(h),!m,"\\",c):"";return b.length===0&&!m&&(b="."),b.length>0&&c(t.charCodeAt(o-1))&&(b+="\\"),g===void 0?m?`\\${b}`:b:m?`${g}\\${b}`:`${g}${b}`},isAbsolute(t){l(t,"path");const o=t.length;if(o===0)return!1;const h=t.charCodeAt(0);return c(h)||o>2&&r(h)&&t.charCodeAt(1)===p&&c(t.charCodeAt(2))},join(...t){if(t.length===0)return".";let o,h;for(let f=0;f<t.length;++f){const b=t[f];l(b,"path"),b.length>0&&(o===void 0?o=h=b:o+=`\\${b}`)}if(o===void 0)return".";let g=!0,m=0;if(typeof h=="string"&&c(h.charCodeAt(0))){++m;const f=h.length;f>1&&c(h.charCodeAt(1))&&(++m,f>2&&(c(h.charCodeAt(2))?++m:g=!1))}if(g){for(;m<o.length&&c(o.charCodeAt(m));)m++;m>=2&&(o=`\\${o.slice(m)}`)}return e.win32.normalize(o)},relative(t,o){if(l(t,"from"),l(o,"to"),t===o)return"";const h=e.win32.resolve(t),g=e.win32.resolve(o);if(h===g||(t=h.toLowerCase(),o=g.toLowerCase(),t===o))return"";let m=0;for(;m<t.length&&t.charCodeAt(m)===i;)m++;let f=t.length;for(;f-1>m&&t.charCodeAt(f-1)===i;)f--;const b=f-m;let y=0;for(;y<o.length&&o.charCodeAt(y)===i;)y++;let L=o.length;for(;L-1>y&&o.charCodeAt(L-1)===i;)L--;const N=L-y,M=b<N?b:N;let D=-1,R=0;for(;R<M;R++){const O=t.charCodeAt(m+R);if(O!==o.charCodeAt(y+R))break;O===i&&(D=R)}if(R!==M){if(D===-1)return g}else{if(N>M){if(o.charCodeAt(y+R)===i)return g.slice(y+R+1);if(R===2)return g.slice(y+R)}b>M&&(t.charCodeAt(m+R)===i?D=R:R===2&&(D=3)),D===-1&&(D=0)}let P="";for(R=m+D+1;R<=f;++R)(R===f||t.charCodeAt(R)===i)&&(P+=P.length===0?"..":"\\..");return y+=D,P.length>0?`${P}${g.slice(y,L)}`:(g.charCodeAt(y)===i&&++y,g.slice(y,L))},toNamespacedPath(t){if(typeof t!="string")return t;if(t.length===0)return"";const o=e.win32.resolve(t);if(o.length<=2)return t;if(o.charCodeAt(0)===i){if(o.charCodeAt(1)===i){const h=o.charCodeAt(2);if(h!==u&&h!==_)return`\\\\?\\UNC\\${o.slice(2)}`}}else if(r(o.charCodeAt(0))&&o.charCodeAt(1)===p&&o.charCodeAt(2)===i)return`\\\\?\\${o}`;return t},dirname(t){l(t,"path");const o=t.length;if(o===0)return".";let h=-1,g=0;const m=t.charCodeAt(0);if(o===1)return c(m)?t:".";if(c(m)){if(h=g=1,c(t.charCodeAt(1))){let y=2,L=y;for(;y<o&&!c(t.charCodeAt(y));)y++;if(y<o&&y!==L){for(L=y;y<o&&c(t.charCodeAt(y));)y++;if(y<o&&y!==L){for(L=y;y<o&&!c(t.charCodeAt(y));)y++;if(y===o)return t;y!==L&&(h=g=y+1)}}}}else r(m)&&t.charCodeAt(1)===p&&(h=o>2&&c(t.charCodeAt(2))?3:2,g=h);let f=-1,b=!0;for(let y=o-1;y>=g;--y)if(c(t.charCodeAt(y))){if(!b){f=y;break}}else b=!1;if(f===-1){if(h===-1)return".";f=h}return t.slice(0,f)},basename(t,o){o!==void 0&&l(o,"ext"),l(t,"path");let h=0,g=-1,m=!0,f;if(t.length>=2&&r(t.charCodeAt(0))&&t.charCodeAt(1)===p&&(h=2),o!==void 0&&o.length>0&&o.length<=t.length){if(o===t)return"";let b=o.length-1,y=-1;for(f=t.length-1;f>=h;--f){const L=t.charCodeAt(f);if(c(L)){if(!m){h=f+1;break}}else y===-1&&(m=!1,y=f+1),b>=0&&(L===o.charCodeAt(b)?--b==-1&&(g=f):(b=-1,g=y))}return h===g?g=y:g===-1&&(g=t.length),t.slice(h,g)}for(f=t.length-1;f>=h;--f)if(c(t.charCodeAt(f))){if(!m){h=f+1;break}}else g===-1&&(m=!1,g=f+1);return g===-1?"":t.slice(h,g)},extname(t){l(t,"path");let o=0,h=-1,g=0,m=-1,f=!0,b=0;t.length>=2&&t.charCodeAt(1)===p&&r(t.charCodeAt(0))&&(o=g=2);for(let y=t.length-1;y>=o;--y){const L=t.charCodeAt(y);if(c(L)){if(!f){g=y+1;break}continue}m===-1&&(f=!1,m=y+1),L===_?h===-1?h=y:b!==1&&(b=1):h!==-1&&(b=-1)}return h===-1||m===-1||b===0||b===1&&h===m-1&&h===g+1?"":t.slice(h,m)},format:s.bind(null,"\\"),parse(t){l(t,"path");const o={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return o;const h=t.length;let g=0,m=t.charCodeAt(0);if(h===1)return c(m)?(o.root=o.dir=t,o):(o.base=o.name=t,o);if(c(m)){if(g=1,c(t.charCodeAt(1))){let D=2,R=D;for(;D<h&&!c(t.charCodeAt(D));)D++;if(D<h&&D!==R){for(R=D;D<h&&c(t.charCodeAt(D));)D++;if(D<h&&D!==R){for(R=D;D<h&&!c(t.charCodeAt(D));)D++;D===h?g=D:D!==R&&(g=D+1)}}}}else if(r(m)&&t.charCodeAt(1)===p){if(h<=2)return o.root=o.dir=t,o;if(g=2,c(t.charCodeAt(2))){if(h===3)return o.root=o.dir=t,o;g=3}}g>0&&(o.root=t.slice(0,g));let f=-1,b=g,y=-1,L=!0,N=t.length-1,M=0;for(;N>=g;--N){if(m=t.charCodeAt(N),c(m)){if(!L){b=N+1;break}continue}y===-1&&(L=!1,y=N+1),m===_?f===-1?f=N:M!==1&&(M=1):f!==-1&&(M=-1)}return y!==-1&&(f===-1||M===0||M===1&&f===y-1&&f===b+1?o.base=o.name=t.slice(b,y):(o.name=t.slice(b,f),o.base=t.slice(b,y),o.ext=t.slice(f,y))),b>0&&b!==g?o.dir=t.slice(0,b-1):o.dir=o.root,o},sep:"\\",delimiter:";",win32:null,posix:null},e.posix={resolve(...t){let o="",h=!1;for(let g=t.length-1;g>=-1&&!h;g--){const m=g>=0?t[g]:v.cwd();l(m,"path"),m.length!==0&&(o=`${m}/${o}`,h=m.charCodeAt(0)===C)}return o=n(o,!h,"/",d),h?`/${o}`:o.length>0?o:"."},normalize(t){if(l(t,"path"),t.length===0)return".";const o=t.charCodeAt(0)===C,h=t.charCodeAt(t.length-1)===C;return t=n(t,!o,"/",d),t.length===0?o?"/":h?"./":".":(h&&(t+="/"),o?`/${t}`:t)},isAbsolute(t){return l(t,"path"),t.length>0&&t.charCodeAt(0)===C},join(...t){if(t.length===0)return".";let o;for(let h=0;h<t.length;++h){const g=t[h];l(g,"path"),g.length>0&&(o===void 0?o=g:o+=`/${g}`)}return o===void 0?".":e.posix.normalize(o)},relative(t,o){if(l(t,"from"),l(o,"to"),t===o||(t=e.posix.resolve(t),o=e.posix.resolve(o),t===o))return"";const h=1,g=t.length,m=g-h,f=1,b=o.length-f,y=m<b?m:b;let L=-1,N=0;for(;N<y;N++){const D=t.charCodeAt(h+N);if(D!==o.charCodeAt(f+N))break;D===C&&(L=N)}if(N===y)if(b>y){if(o.charCodeAt(f+N)===C)return o.slice(f+N+1);if(N===0)return o.slice(f+N)}else m>y&&(t.charCodeAt(h+N)===C?L=N:N===0&&(L=0));let M="";for(N=h+L+1;N<=g;++N)(N===g||t.charCodeAt(N)===C)&&(M+=M.length===0?"..":"/..");return`${M}${o.slice(f+L)}`},toNamespacedPath(t){return t},dirname(t){if(l(t,"path"),t.length===0)return".";const o=t.charCodeAt(0)===C;let h=-1,g=!0;for(let m=t.length-1;m>=1;--m)if(t.charCodeAt(m)===C){if(!g){h=m;break}}else g=!1;return h===-1?o?"/":".":o&&h===1?"//":t.slice(0,h)},basename(t,o){o!==void 0&&l(o,"ext"),l(t,"path");let h=0,g=-1,m=!0,f;if(o!==void 0&&o.length>0&&o.length<=t.length){if(o===t)return"";let b=o.length-1,y=-1;for(f=t.length-1;f>=0;--f){const L=t.charCodeAt(f);if(L===C){if(!m){h=f+1;break}}else y===-1&&(m=!1,y=f+1),b>=0&&(L===o.charCodeAt(b)?--b==-1&&(g=f):(b=-1,g=y))}return h===g?g=y:g===-1&&(g=t.length),t.slice(h,g)}for(f=t.length-1;f>=0;--f)if(t.charCodeAt(f)===C){if(!m){h=f+1;break}}else g===-1&&(m=!1,g=f+1);return g===-1?"":t.slice(h,g)},extname(t){l(t,"path");let o=-1,h=0,g=-1,m=!0,f=0;for(let b=t.length-1;b>=0;--b){const y=t.charCodeAt(b);if(y===C){if(!m){h=b+1;break}continue}g===-1&&(m=!1,g=b+1),y===_?o===-1?o=b:f!==1&&(f=1):o!==-1&&(f=-1)}return o===-1||g===-1||f===0||f===1&&o===g-1&&o===h+1?"":t.slice(o,g)},format:s.bind(null,"/"),parse(t){l(t,"path");const o={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return o;const h=t.charCodeAt(0)===C;let g;h?(o.root="/",g=1):g=0;let m=-1,f=0,b=-1,y=!0,L=t.length-1,N=0;for(;L>=g;--L){const M=t.charCodeAt(L);if(M===C){if(!y){f=L+1;break}continue}b===-1&&(y=!1,b=L+1),M===_?m===-1?m=L:N!==1&&(N=1):m!==-1&&(N=-1)}if(b!==-1){const M=f===0&&h?1:f;m===-1||N===0||N===1&&m===b-1&&m===f+1?o.base=o.name=t.slice(M,b):(o.name=t.slice(M,m),o.base=t.slice(M,b),o.ext=t.slice(m,b))}return f>0?o.dir=t.slice(0,f-1):h&&(o.dir="/"),o},sep:"/",delimiter:":",win32:null,posix:null},e.posix.win32=e.win32.win32=e.win32,e.posix.posix=e.win32.posix=e.posix,e.normalize=v.platform==="win32"?e.win32.normalize:e.posix.normalize,e.resolve=v.platform==="win32"?e.win32.resolve:e.posix.resolve,e.relative=v.platform==="win32"?e.win32.relative:e.posix.relative,e.dirname=v.platform==="win32"?e.win32.dirname:e.posix.dirname,e.basename=v.platform==="win32"?e.win32.basename:e.posix.basename,e.extname=v.platform==="win32"?e.win32.extname:e.posix.extname,e.sep=v.platform==="win32"?e.win32.sep:e.posix.sep}),define(J[121],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;var v;(function(I){function k(C,i){if(C.start>=i.end||i.start>=C.end)return{start:0,end:0};const p=Math.max(C.start,i.start),u=Math.min(C.end,i.end);return u-p<=0?{start:0,end:0}:{start:p,end:u}}I.intersect=k;function w(C){return C.end-C.start<=0}I.isEmpty=w;function S(C,i){return!w(k(C,i))}I.intersects=S;function _(C,i){const p=[],u={start:C.start,end:Math.min(i.start,C.end)},a={start:Math.max(i.end,C.start),end:C.end};return w(u)||p.push(u),w(a)||p.push(a),p}I.relativeComplement=_})(v=e.Range||(e.Range={}))}),define(J[282],ee([0,1,121]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeMap=e.consolidate=e.shift=e.groupIntersect=void 0;function I(C,i){const p=[];for(let u of i)if(!(C.start>=u.range.end)){if(C.end<u.range.start)break;const a=v.Range.intersect(C,u.range);v.Range.isEmpty(a)||p.push({range:a,size:u.size})}return p}e.groupIntersect=I;function k({start:C,end:i},p){return{start:C+p,end:i+p}}e.shift=k;function w(C){const i=[];let p=null;for(let u of C){const a=u.range.start,l=u.range.end,c=u.size;if(p&&c===p.size){p.range.end=l;continue}p={range:{start:a,end:l},size:c},i.push(p)}return i}e.consolidate=w;function S(...C){return w(C.reduce((i,p)=>i.concat(p),[]))}class _{constructor(){this.groups=[],this._size=0}splice(i,p,u=[]){const a=u.length-p,l=I({start:0,end:i},this.groups),c=I({start:i+p,end:Number.POSITIVE_INFINITY},this.groups).map(r=>({range:k(r.range,a),size:r.size})),d=u.map((r,n)=>({range:{start:i+n,end:i+n+1},size:r.size}));this.groups=S(l,d,c),this._size=this.groups.reduce((r,n)=>r+n.size*(n.range.end-n.range.start),0)}get count(){const i=this.groups.length;return i?this.groups[i-1].range.end:0}get size(){return this._size}indexAt(i){if(i<0)return-1;let p=0,u=0;for(let a of this.groups){const l=a.range.end-a.range.start,c=u+l*a.size;if(i<c)return p+Math.floor((i-u)/a.size);p+=l,u=c}return p}indexAfter(i){return Math.min(this.indexAt(i)+1,this.count)}positionAt(i){if(i<0)return-1;let p=0,u=0;for(let a of this.groups){const l=a.range.end-a.range.start,c=u+l;if(i<c)return p+(i-u)*a.size;p+=l*a.size,u=c}return-1}}e.RangeMap=_}),define(J[81],ee([0,1,17]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StopWatch=void 0;const I=v.globals.performance&&typeof v.globals.performance.now=="function";class k{constructor(S){this._highResolution=I&&S,this._startTime=this._now(),this._stopTime=-1}static create(S=!0){return new k(S)}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?v.globals.performance.now():Date.now()}}e.StopWatch=k}),define(J[6],ee([0,1,11,2,72,81]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Relay=e.EventBufferer=e.PauseableEmitter=e.Emitter=e.Event=void 0;var S;(function(c){c.None=()=>I.Disposable.None;function d(O){return(W,F=null,E)=>{let A=!1,B;return B=O(H=>{if(!A)return B?B.dispose():A=!0,W.call(F,H)},null,E),A&&B.dispose(),B}}c.once=d;function r(O,W){return g((F,E=null,A)=>O(B=>F.call(E,W(B)),null,A))}c.map=r;function n(O,W){return g((F,E=null,A)=>O(B=>{W(B),F.call(E,B)},null,A))}c.forEach=n;function s(O,W){return g((F,E=null,A)=>O(B=>W(B)&&F.call(E,B),null,A))}c.filter=s;function t(O){return O}c.signal=t;function o(...O){return(W,F=null,E)=>(0,I.combinedDisposable)(...O.map(A=>A(B=>W.call(F,B),null,E)))}c.any=o;function h(O,W,F){let E=F;return r(O,A=>(E=W(E,A),E))}c.reduce=h;function g(O){let W;const F=new p({onFirstListenerAdd(){W=O(F.fire,F)},onLastListenerRemove(){W.dispose()}});return F.event}c.snapshot=g;function m(O,W,F=100,E=!1,A){let B,H,K,q=0;const Y=new p({leakWarningThreshold:A,onFirstListenerAdd(){B=O(te=>{q++,H=W(H,te),E&&!K&&(Y.fire(H),H=void 0),clearTimeout(K),K=setTimeout(()=>{const ie=H;H=void 0,K=void 0,(!E||q>1)&&Y.fire(ie),q=0},F)})},onLastListenerRemove(){B.dispose()}});return Y.event}c.debounce=m;function f(O){const W=new Date().getTime();return r(d(O),F=>new Date().getTime()-W)}c.stopwatch=f;function b(O){let W=!0,F;return s(O,E=>{const A=W||E!==F;return W=!1,F=E,A})}c.latch=b;function y(O,W=!1,F=[]){let E=F.slice(),A=O(K=>{E?E.push(K):H.fire(K)});const B=()=>{E&&E.forEach(K=>H.fire(K)),E=null},H=new p({onFirstListenerAdd(){A||(A=O(K=>H.fire(K)))},onFirstListenerDidAdd(){E&&(W?setTimeout(B):B())},onLastListenerRemove(){A&&A.dispose(),A=null}});return H.event}c.buffer=y;class L{constructor(W){this.event=W}map(W){return new L(r(this.event,W))}forEach(W){return new L(n(this.event,W))}filter(W){return new L(s(this.event,W))}reduce(W,F){return new L(h(this.event,W,F))}latch(){return new L(b(this.event))}debounce(W,F=100,E=!1,A){return new L(m(this.event,W,F,E,A))}on(W,F,E){return this.event(W,F,E)}once(W,F,E){return d(this.event)(W,F,E)}}function N(O){return new L(O)}c.chain=N;function M(O,W,F=E=>E){const E=(...K)=>H.fire(F(...K)),A=()=>O.on(W,E),B=()=>O.removeListener(W,E),H=new p({onFirstListenerAdd:A,onLastListenerRemove:B});return H.event}c.fromNodeEventEmitter=M;function D(O,W,F=E=>E){const E=(...K)=>H.fire(F(...K)),A=()=>O.addEventListener(W,E),B=()=>O.removeEventListener(W,E),H=new p({onFirstListenerAdd:A,onLastListenerRemove:B});return H.event}c.fromDOMEventEmitter=D;function R(O){const W=new p;let F=!1;return O.then(void 0,()=>null).then(()=>{F?W.fire(void 0):setTimeout(()=>W.fire(void 0),0)}),F=!0,W.event}c.fromPromise=R;function P(O){return new Promise(W=>d(O)(W))}c.toPromise=P})(S=e.Event||(e.Event={}));class _{constructor(d){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${d}_${_._idPool++}`}start(d){this._stopWatch=new w.StopWatch(!0),this._listenerCount=d}stop(){if(this._stopWatch){const d=this._stopWatch.elapsed();this._elapsedOverall+=d,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${d.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}_._idPool=0;let C=-1;class i{constructor(d,r=Math.random().toString(18).slice(2,5)){this.customThreshold=d,this.name=r,this._warnCountdown=0}dispose(){this._stacks&&this._stacks.clear()}check(d){let r=C;if(typeof this.customThreshold=="number"&&(r=this.customThreshold),!(r<=0||d<r)){this._stacks||(this._stacks=new Map);const n=new Error().stack.split(`
`).slice(3).join(`
`),s=this._stacks.get(n)||0;if(this._stacks.set(n,s+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=r*.5;let t,o=0;for(const[h,g]of this._stacks)(!t||o<g)&&(t=h,o=g);console.warn(`[${this.name}] potential listener LEAK detected, having ${d} listeners already. MOST frequent listener (${o}):`),console.warn(t)}return()=>{const t=this._stacks.get(n)||0;this._stacks.set(n,t-1)}}}}class p{constructor(d){var r;this._disposed=!1,this._options=d,this._leakageMon=C>0?new i(this._options&&this._options.leakWarningThreshold):void 0,this._perfMon=((r=this._options)===null||r===void 0?void 0:r._profName)?new _(this._options._profName):void 0}get event(){return this._event||(this._event=(d,r,n)=>{var s;this._listeners||(this._listeners=new k.LinkedList);const t=this._listeners.isEmpty();t&&this._options&&this._options.onFirstListenerAdd&&this._options.onFirstListenerAdd(this);const o=this._listeners.push(r?[d,r]:d);t&&this._options&&this._options.onFirstListenerDidAdd&&this._options.onFirstListenerDidAdd(this),this._options&&this._options.onListenerDidAdd&&this._options.onListenerDidAdd(this,d,r);const h=(s=this._leakageMon)===null||s===void 0?void 0:s.check(this._listeners.size);let g;return g={dispose:()=>{h&&h(),g.dispose=p._noop,this._disposed||(o(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))}},n instanceof I.DisposableStore?n.add(g):Array.isArray(n)&&n.push(g),g}),this._event}fire(d){var r,n;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new k.LinkedList);for(let s of this._listeners)this._deliveryQueue.push([s,d]);for((r=this._perfMon)===null||r===void 0||r.start(this._deliveryQueue.size);this._deliveryQueue.size>0;){const[s,t]=this._deliveryQueue.shift();try{typeof s=="function"?s.call(void 0,t):s[0].call(s[1],t)}catch(o){(0,v.onUnexpectedError)(o)}}(n=this._perfMon)===null||n===void 0||n.stop()}}dispose(){var d,r,n;(d=this._listeners)===null||d===void 0||d.clear(),(r=this._deliveryQueue)===null||r===void 0||r.clear(),(n=this._leakageMon)===null||n===void 0||n.dispose(),this._disposed=!0}}e.Emitter=p,p._noop=function(){};class u extends p{constructor(d){super(d);this._isPaused=0,this._eventQueue=new k.LinkedList,this._mergeFn=d==null?void 0:d.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused==0)if(this._mergeFn){const d=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(d))}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(d){this._listeners&&(this._isPaused!==0?this._eventQueue.push(d):super.fire(d))}}e.PauseableEmitter=u;class a{constructor(){this.buffers=[]}wrapEvent(d){return(r,n,s)=>d(t=>{const o=this.buffers[this.buffers.length-1];o?o.push(()=>r.call(n,t)):r.call(n,t)},void 0,s)}bufferEvents(d){const r=[];this.buffers.push(r);const n=d();return this.buffers.pop(),r.forEach(s=>s()),n}}e.EventBufferer=a;class l{constructor(){this.listening=!1,this.inputEvent=S.None,this.inputEventListener=I.Disposable.None,this.emitter=new p({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(d){this.inputEvent=d,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=d(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}e.Relay=l}),define(J[35],ee([0,1,6]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isStandalone=e.isAndroid=e.isIPad=e.isWebkitWebView=e.isSafari=e.isChrome=e.isWebKit=e.isFirefox=e.getPixelRatio=e.getZoomFactor=e.onDidChangeZoomLevel=e.getTimeSinceLastZoomLevelChanged=e.getZoomLevel=void 0;class I{constructor(){this._zoomLevel=0,this._lastZoomLevelChangeTime=0,this._onDidChangeZoomLevel=new v.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event,this._zoomFactor=1}getZoomLevel(){return this._zoomLevel}getTimeSinceLastZoomLevelChanged(){return Date.now()-this._lastZoomLevelChangeTime}getZoomFactor(){return this._zoomFactor}getPixelRatio(){let u=document.createElement("canvas").getContext("2d"),a=window.devicePixelRatio||1,l=u.webkitBackingStorePixelRatio||u.mozBackingStorePixelRatio||u.msBackingStorePixelRatio||u.oBackingStorePixelRatio||u.backingStorePixelRatio||1;return a/l}}I.INSTANCE=new I;function k(){return I.INSTANCE.getZoomLevel()}e.getZoomLevel=k;function w(){return I.INSTANCE.getTimeSinceLastZoomLevelChanged()}e.getTimeSinceLastZoomLevelChanged=w;function S(p){return I.INSTANCE.onDidChangeZoomLevel(p)}e.onDidChangeZoomLevel=S;function _(){return I.INSTANCE.getZoomFactor()}e.getZoomFactor=_;function C(){return I.INSTANCE.getPixelRatio()}e.getPixelRatio=C;const i=navigator.userAgent;e.isFirefox=i.indexOf("Firefox")>=0,e.isWebKit=i.indexOf("AppleWebKit")>=0,e.isChrome=i.indexOf("Chrome")>=0,e.isSafari=!e.isChrome&&i.indexOf("Safari")>=0,e.isWebkitWebView=!e.isChrome&&!e.isSafari&&e.isWebKit,e.isIPad=i.indexOf("iPad")>=0||e.isSafari&&navigator.maxTouchPoints>0,e.isAndroid=i.indexOf("Android")>=0,e.isStandalone=window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches}),define(J[151],ee([0,1,35,17]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserFeatures=void 0,e.BrowserFeatures={clipboard:{writeText:I.isNative||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:I.isNative||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:(()=>I.isNative||v.isStandalone?0:navigator.keyboard||v.isSafari?1:2)(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0)}}),define(J[55],ee([0,1,6]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stop=e.stopEvent=e.domEvent=void 0;const I=(S,_,C)=>{const i=u=>p.fire(u),p=new v.Emitter({onFirstListenerAdd:()=>{S.addEventListener(_,i,C)},onLastListenerRemove:()=>{S.removeEventListener(_,i,C)}});return p.event};e.domEvent=I;function k(S){return S.preventDefault(),S.stopPropagation(),S}e.stopEvent=k;function w(S){return v.Event.map(S,k)}e.stop=w}),define(J[56],ee([0,1,35,39,17]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardKeyboardEvent=void 0;let w=new Array(230),S=new Array(112);(function(){for(let c=0;c<S.length;c++)S[c]=-1;function l(c,d){w[c]=d,S[d]=c}l(3,7),l(8,1),l(9,2),l(13,3),l(16,4),l(17,5),l(18,6),l(19,7),l(20,8),l(27,9),l(32,10),l(33,11),l(34,12),l(35,13),l(36,14),l(37,15),l(38,16),l(39,17),l(40,18),l(45,19),l(46,20),l(48,21),l(49,22),l(50,23),l(51,24),l(52,25),l(53,26),l(54,27),l(55,28),l(56,29),l(57,30),l(65,31),l(66,32),l(67,33),l(68,34),l(69,35),l(70,36),l(71,37),l(72,38),l(73,39),l(74,40),l(75,41),l(76,42),l(77,43),l(78,44),l(79,45),l(80,46),l(81,47),l(82,48),l(83,49),l(84,50),l(85,51),l(86,52),l(87,53),l(88,54),l(89,55),l(90,56),l(93,58),l(96,93),l(97,94),l(98,95),l(99,96),l(100,97),l(101,98),l(102,99),l(103,100),l(104,101),l(105,102),l(106,103),l(107,104),l(108,105),l(109,106),l(110,107),l(111,108),l(112,59),l(113,60),l(114,61),l(115,62),l(116,63),l(117,64),l(118,65),l(119,66),l(120,67),l(121,68),l(122,69),l(123,70),l(124,71),l(125,72),l(126,73),l(127,74),l(128,75),l(129,76),l(130,77),l(144,78),l(145,79),l(186,80),l(187,81),l(188,82),l(189,83),l(190,84),l(191,85),l(192,86),l(193,110),l(194,111),l(219,87),l(220,88),l(221,89),l(222,90),l(223,91),l(226,92),l(229,109),v.isFirefox?(l(59,80),l(107,81),l(109,83),k.isMacintosh&&l(224,57)):v.isWebKit&&(l(91,57),k.isMacintosh?l(93,57):l(92,57))})();function _(l){if(l.charCode){let c=String.fromCharCode(l.charCode).toUpperCase();return I.KeyCodeUtils.fromString(c)}return w[l.keyCode]||0}const C=k.isMacintosh?256:2048,i=512,p=1024,u=k.isMacintosh?2048:256;class a{constructor(c){this._standardKeyboardEventBrand=!0;let d=c;this.browserEvent=d,this.target=d.target,this.ctrlKey=d.ctrlKey,this.shiftKey=d.shiftKey,this.altKey=d.altKey,this.metaKey=d.metaKey,this.keyCode=_(d),this.code=d.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(c){return this._asKeybinding===c}_computeKeybinding(){let c=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(c=this.keyCode);let d=0;return this.ctrlKey&&(d|=C),this.altKey&&(d|=i),this.shiftKey&&(d|=p),this.metaKey&&(d|=u),d|=c,d}_computeRuntimeKeybinding(){let c=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(c=this.keyCode),new I.SimpleKeybinding(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,c)}}e.StandardKeyboardEvent=a}),define(J[50],ee([0,1,35,194,17]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardWheelEvent=e.StandardMouseEvent=void 0;class w{constructor(C){this.timestamp=Date.now(),this.browserEvent=C,this.leftButton=C.button===0,this.middleButton=C.button===1,this.rightButton=C.button===2,this.buttons=C.buttons,this.target=C.target,this.detail=C.detail||1,C.type==="dblclick"&&(this.detail=2),this.ctrlKey=C.ctrlKey,this.shiftKey=C.shiftKey,this.altKey=C.altKey,this.metaKey=C.metaKey,typeof C.pageX=="number"?(this.posx=C.pageX,this.posy=C.pageY):(this.posx=C.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=C.clientY+document.body.scrollTop+document.documentElement.scrollTop);let i=I.IframeUtils.getPositionOfChildWindowRelativeToAncestorWindow(self,C.view);this.posx-=i.left,this.posy-=i.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}e.StandardMouseEvent=w;class S{constructor(C,i=0,p=0){if(this.browserEvent=C||null,this.target=C?C.target||C.targetNode||C.srcElement:null,this.deltaY=p,this.deltaX=i,C){let u=C,a=C;if(typeof u.wheelDeltaY!="undefined")this.deltaY=u.wheelDeltaY/120;else if(typeof a.VERTICAL_AXIS!="undefined"&&a.axis===a.VERTICAL_AXIS)this.deltaY=-a.detail/3;else if(C.type==="wheel"){const l=C;l.deltaMode===l.DOM_DELTA_LINE?v.isFirefox&&!k.isMacintosh?this.deltaY=-C.deltaY/3:this.deltaY=-C.deltaY:this.deltaY=-C.deltaY/40}if(typeof u.wheelDeltaX!="undefined")v.isSafari&&k.isWindows?this.deltaX=-(u.wheelDeltaX/120):this.deltaX=u.wheelDeltaX/120;else if(typeof a.HORIZONTAL_AXIS!="undefined"&&a.axis===a.HORIZONTAL_AXIS)this.deltaX=-C.detail/3;else if(C.type==="wheel"){const l=C;l.deltaMode===l.DOM_DELTA_LINE?v.isFirefox&&!k.isMacintosh?this.deltaX=-C.deltaX/3:this.deltaX=-C.deltaX:this.deltaX=-C.deltaX/40}this.deltaY===0&&this.deltaX===0&&C.wheelDelta&&(this.deltaY=C.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}e.StandardWheelEvent=S}),define(J[23],ee([0,1,6]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0;const I=Object.freeze(function(_,C){const i=setTimeout(_.bind(C),0);return{dispose(){clearTimeout(i)}}});var k;(function(_){function C(i){return i===_.None||i===_.Cancelled||i instanceof w?!0:!i||typeof i!="object"?!1:typeof i.isCancellationRequested=="boolean"&&typeof i.onCancellationRequested=="function"}_.isCancellationToken=C,_.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:v.Event.None}),_.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:I})})(k=e.CancellationToken||(e.CancellationToken={}));class w{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?I:(this._emitter||(this._emitter=new v.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class S{constructor(C){this._token=void 0,this._parentListener=void 0,this._parentListener=C&&C.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new w),this._token}cancel(){this._token?this._token instanceof w&&this._token.cancel():this._token=k.Cancelled}dispose(C=!1){C&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof w&&this._token.dispose():this._token=k.None}}e.CancellationTokenSource=S});var Ie=this&&this.__awaiter||function($,e,v,I){function k(w){return w instanceof v?w:new v(function(S){S(w)})}return new(v||(v=Promise))(function(w,S){function _(p){try{i(I.next(p))}catch(u){S(u)}}function C(p){try{i(I.throw(p))}catch(u){S(u)}}function i(p){p.done?w(p.value):k(p.value).then(_,C)}i((I=I.apply($,e||[])).next())})};define(J[15],ee([0,1,23,11,2]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Promises=e.IdleValue=e.runWhenIdle=e.RunOnceScheduler=e.IntervalTimer=e.TimeoutTimer=e.first=e.disposableTimeout=e.timeout=e.ThrottledDelayer=e.Delayer=e.Throttler=e.raceCancellation=e.createCancelablePromise=e.isThenable=void 0;function w(t){return!!t&&typeof t.then=="function"}e.isThenable=w;function S(t){const o=new v.CancellationTokenSource,h=t(o.token),g=new Promise((m,f)=>{o.token.onCancellationRequested(()=>{f((0,I.canceled)())}),Promise.resolve(h).then(b=>{o.dispose(),m(b)},b=>{o.dispose(),f(b)})});return new class{cancel(){o.cancel()}then(m,f){return g.then(m,f)}catch(m){return this.then(void 0,m)}finally(m){return g.finally(m)}}}e.createCancelablePromise=S;function _(t,o,h){return Promise.race([t,new Promise(g=>o.onCancellationRequested(()=>g(h)))])}e.raceCancellation=_;class C{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(o){if(this.activePromise){if(this.queuedPromiseFactory=o,!this.queuedPromise){const h=()=>{this.queuedPromise=null;const g=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,g};this.queuedPromise=new Promise(g=>{this.activePromise.then(h,h).then(g)})}return new Promise((h,g)=>{this.queuedPromise.then(h,g)})}return this.activePromise=o(),new Promise((h,g)=>{this.activePromise.then(m=>{this.activePromise=null,h(m)},m=>{this.activePromise=null,g(m)})})}}e.Throttler=C;class i{constructor(o){this.defaultDelay=o,this.timeout=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(o,h=this.defaultDelay){return this.task=o,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((g,m)=>{this.doResolve=g,this.doReject=m}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const g=this.task;return this.task=null,g()}})),this.timeout=setTimeout(()=>{this.timeout=null,this.doResolve&&this.doResolve(null)},h),this.completionPromise}isTriggered(){return this.timeout!==null}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject((0,I.canceled)()),this.completionPromise=null)}cancelTimeout(){this.timeout!==null&&(clearTimeout(this.timeout),this.timeout=null)}dispose(){this.cancelTimeout()}}e.Delayer=i;class p{constructor(o){this.delayer=new i(o),this.throttler=new C}trigger(o,h){return this.delayer.trigger(()=>this.throttler.queue(o),h)}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose()}}e.ThrottledDelayer=p;function u(t,o){return o?new Promise((h,g)=>{const m=setTimeout(h,t);o.onCancellationRequested(()=>{clearTimeout(m),g((0,I.canceled)())})}):S(h=>u(t,h))}e.timeout=u;function a(t,o=0){const h=setTimeout(t,o);return(0,k.toDisposable)(()=>clearTimeout(h))}e.disposableTimeout=a;function l(t,o=g=>!!g,h=null){let g=0;const m=t.length,f=()=>{if(g>=m)return Promise.resolve(h);const b=t[g++];return Promise.resolve(b()).then(L=>o(L)?Promise.resolve(L):f())};return f()}e.first=l;class c{constructor(o,h){this._token=-1,typeof o=="function"&&typeof h=="number"&&this.setIfNotSet(o,h)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(o,h){this.cancel(),this._token=setTimeout(()=>{this._token=-1,o()},h)}setIfNotSet(o,h){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,o()},h))}}e.TimeoutTimer=c;class d{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(o,h){this.cancel(),this._token=setInterval(()=>{o()},h)}}e.IntervalTimer=d;class r{constructor(o,h){this.timeoutToken=-1,this.runner=o,this.timeout=h,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(o=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,o)}get delay(){return this.timeout}set delay(o){this.timeout=o}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}}e.RunOnceScheduler=r,function(){if(typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"){const t=Object.freeze({didTimeout:!0,timeRemaining(){return 15}});e.runWhenIdle=o=>{const h=setTimeout(()=>o(t));let g=!1;return{dispose(){g||(g=!0,clearTimeout(h))}}}}else e.runWhenIdle=(t,o)=>{const h=requestIdleCallback(t,typeof o=="number"?{timeout:o}:void 0);let g=!1;return{dispose(){g||(g=!0,cancelIdleCallback(h))}}}}();class n{constructor(o){this._didRun=!1,this._executor=()=>{try{this._value=o()}catch(h){this._error=h}finally{this._didRun=!0}},this._handle=(0,e.runWhenIdle)(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}}e.IdleValue=n;var s;(function(t){function o(f){return Ie(this,void 0,void 0,function*(){return typeof Promise.allSettled=="function"?h(f):g(f)})}t.allSettled=o;function h(f){return Ie(this,void 0,void 0,function*(){return Promise.allSettled(f)})}function g(f){return Ie(this,void 0,void 0,function*(){return Promise.all(f.map(b=>b.then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))})}function m(f){return Ie(this,void 0,void 0,function*(){let b;const y=yield Promise.all(f.map(L=>L.then(N=>N,N=>{b||(b=N)})));if(typeof b!="undefined")throw b;return y})}t.settled=m})(s=e.Promises||(e.Promises={}))}),define(J[283],ee([0,1,15,2]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarVisibilityController=void 0;class k extends I.Disposable{constructor(S,_,C){super();this._visibility=S,this._visibleClassName=_,this._invisibleClassName=C,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new v.TimeoutTimer)}applyVisibilitySetting(S){return this._visibility===2?!1:this._visibility===3?!0:S}setShouldBeVisible(S){const _=this.applyVisibilitySetting(S);this._shouldBeVisible!==_&&(this._shouldBeVisible=_,this.ensureVisibility())}setIsNeeded(S){this._isNeeded!==S&&(this._isNeeded=S,this.ensureVisibility())}setDomNode(S){this._domNode=S,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode&&this._domNode.setClassName(this._visibleClassName)},0))}_hide(S){this._revealTimer.cancel(),!!this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(S?" fade":"")))}}e.ScrollbarVisibilityController=k}),define(J[27],ee([0,1,6]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CSSIcon=e.Codicon=e.getCodiconAriaLabel=e.registerCodicon=e.iconRegistry=void 0;class I{constructor(){this._icons=new Map,this._onDidRegister=new v.Emitter}add(p){const u=this._icons.get(p.id);u?p.description?u.description=p.description:console.error(`Duplicate registration of codicon ${p.id}`):(this._icons.set(p.id,p),this._onDidRegister.fire(p))}get(p){return this._icons.get(p)}get all(){return this._icons.values()}get onDidRegister(){return this._onDidRegister.event}}const k=new I;e.iconRegistry=k;function w(i,p){return new _(i,p)}e.registerCodicon=w;function S(i){return i?i.replace(/\$\((.*?)\)/g,(p,u)=>` ${u} `).trim():""}e.getCodiconAriaLabel=S;class _{constructor(p,u,a){this.id=p,this.definition=u,this.description=a,k.add(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}}e.Codicon=_;var C;(function(i){i.iconNameSegment="[A-Za-z0-9]+",i.iconNameExpression="[A-Za-z0-9\\-]+",i.iconModifierExpression="~[A-Za-z]+";const p=new RegExp(`^(${i.iconNameExpression})(${i.iconModifierExpression})?$`);function u(c){if(c instanceof _)return["codicon","codicon-"+c.id];const d=p.exec(c.id);if(!d)return u(_.error);let[,r,n]=d;const s=["codicon","codicon-"+r];return n&&s.push("codicon-modifier-"+n.substr(1)),s}i.asClassNameArray=u;function a(c){return u(c).join(" ")}i.asClassName=a;function l(c){return"."+u(c).join(".")}i.asCSSSelector=l})(C=e.CSSIcon||(e.CSSIcon={})),function(i){i.add=new i("add",{fontCharacter:"\\ea60"}),i.plus=new i("plus",{fontCharacter:"\\ea60"}),i.gistNew=new i("gist-new",{fontCharacter:"\\ea60"}),i.repoCreate=new i("repo-create",{fontCharacter:"\\ea60"}),i.lightbulb=new i("lightbulb",{fontCharacter:"\\ea61"}),i.lightBulb=new i("light-bulb",{fontCharacter:"\\ea61"}),i.repo=new i("repo",{fontCharacter:"\\ea62"}),i.repoDelete=new i("repo-delete",{fontCharacter:"\\ea62"}),i.gistFork=new i("gist-fork",{fontCharacter:"\\ea63"}),i.repoForked=new i("repo-forked",{fontCharacter:"\\ea63"}),i.gitPullRequest=new i("git-pull-request",{fontCharacter:"\\ea64"}),i.gitPullRequestAbandoned=new i("git-pull-request-abandoned",{fontCharacter:"\\ea64"}),i.recordKeys=new i("record-keys",{fontCharacter:"\\ea65"}),i.keyboard=new i("keyboard",{fontCharacter:"\\ea65"}),i.tag=new i("tag",{fontCharacter:"\\ea66"}),i.tagAdd=new i("tag-add",{fontCharacter:"\\ea66"}),i.tagRemove=new i("tag-remove",{fontCharacter:"\\ea66"}),i.person=new i("person",{fontCharacter:"\\ea67"}),i.personFollow=new i("person-follow",{fontCharacter:"\\ea67"}),i.personOutline=new i("person-outline",{fontCharacter:"\\ea67"}),i.personFilled=new i("person-filled",{fontCharacter:"\\ea67"}),i.gitBranch=new i("git-branch",{fontCharacter:"\\ea68"}),i.gitBranchCreate=new i("git-branch-create",{fontCharacter:"\\ea68"}),i.gitBranchDelete=new i("git-branch-delete",{fontCharacter:"\\ea68"}),i.sourceControl=new i("source-control",{fontCharacter:"\\ea68"}),i.mirror=new i("mirror",{fontCharacter:"\\ea69"}),i.mirrorPublic=new i("mirror-public",{fontCharacter:"\\ea69"}),i.star=new i("star",{fontCharacter:"\\ea6a"}),i.starAdd=new i("star-add",{fontCharacter:"\\ea6a"}),i.starDelete=new i("star-delete",{fontCharacter:"\\ea6a"}),i.starEmpty=new i("star-empty",{fontCharacter:"\\ea6a"}),i.comment=new i("comment",{fontCharacter:"\\ea6b"}),i.commentAdd=new i("comment-add",{fontCharacter:"\\ea6b"}),i.alert=new i("alert",{fontCharacter:"\\ea6c"}),i.warning=new i("warning",{fontCharacter:"\\ea6c"}),i.search=new i("search",{fontCharacter:"\\ea6d"}),i.searchSave=new i("search-save",{fontCharacter:"\\ea6d"}),i.logOut=new i("log-out",{fontCharacter:"\\ea6e"}),i.signOut=new i("sign-out",{fontCharacter:"\\ea6e"}),i.logIn=new i("log-in",{fontCharacter:"\\ea6f"}),i.signIn=new i("sign-in",{fontCharacter:"\\ea6f"}),i.eye=new i("eye",{fontCharacter:"\\ea70"}),i.eyeUnwatch=new i("eye-unwatch",{fontCharacter:"\\ea70"}),i.eyeWatch=new i("eye-watch",{fontCharacter:"\\ea70"}),i.circleFilled=new i("circle-filled",{fontCharacter:"\\ea71"}),i.primitiveDot=new i("primitive-dot",{fontCharacter:"\\ea71"}),i.closeDirty=new i("close-dirty",{fontCharacter:"\\ea71"}),i.debugBreakpoint=new i("debug-breakpoint",{fontCharacter:"\\ea71"}),i.debugBreakpointDisabled=new i("debug-breakpoint-disabled",{fontCharacter:"\\ea71"}),i.debugHint=new i("debug-hint",{fontCharacter:"\\ea71"}),i.primitiveSquare=new i("primitive-square",{fontCharacter:"\\ea72"}),i.edit=new i("edit",{fontCharacter:"\\ea73"}),i.pencil=new i("pencil",{fontCharacter:"\\ea73"}),i.info=new i("info",{fontCharacter:"\\ea74"}),i.issueOpened=new i("issue-opened",{fontCharacter:"\\ea74"}),i.gistPrivate=new i("gist-private",{fontCharacter:"\\ea75"}),i.gitForkPrivate=new i("git-fork-private",{fontCharacter:"\\ea75"}),i.lock=new i("lock",{fontCharacter:"\\ea75"}),i.mirrorPrivate=new i("mirror-private",{fontCharacter:"\\ea75"}),i.close=new i("close",{fontCharacter:"\\ea76"}),i.removeClose=new i("remove-close",{fontCharacter:"\\ea76"}),i.x=new i("x",{fontCharacter:"\\ea76"}),i.repoSync=new i("repo-sync",{fontCharacter:"\\ea77"}),i.sync=new i("sync",{fontCharacter:"\\ea77"}),i.clone=new i("clone",{fontCharacter:"\\ea78"}),i.desktopDownload=new i("desktop-download",{fontCharacter:"\\ea78"}),i.beaker=new i("beaker",{fontCharacter:"\\ea79"}),i.microscope=new i("microscope",{fontCharacter:"\\ea79"}),i.vm=new i("vm",{fontCharacter:"\\ea7a"}),i.deviceDesktop=new i("device-desktop",{fontCharacter:"\\ea7a"}),i.file=new i("file",{fontCharacter:"\\ea7b"}),i.fileText=new i("file-text",{fontCharacter:"\\ea7b"}),i.more=new i("more",{fontCharacter:"\\ea7c"}),i.ellipsis=new i("ellipsis",{fontCharacter:"\\ea7c"}),i.kebabHorizontal=new i("kebab-horizontal",{fontCharacter:"\\ea7c"}),i.mailReply=new i("mail-reply",{fontCharacter:"\\ea7d"}),i.reply=new i("reply",{fontCharacter:"\\ea7d"}),i.organization=new i("organization",{fontCharacter:"\\ea7e"}),i.organizationFilled=new i("organization-filled",{fontCharacter:"\\ea7e"}),i.organizationOutline=new i("organization-outline",{fontCharacter:"\\ea7e"}),i.newFile=new i("new-file",{fontCharacter:"\\ea7f"}),i.fileAdd=new i("file-add",{fontCharacter:"\\ea7f"}),i.newFolder=new i("new-folder",{fontCharacter:"\\ea80"}),i.fileDirectoryCreate=new i("file-directory-create",{fontCharacter:"\\ea80"}),i.trash=new i("trash",{fontCharacter:"\\ea81"}),i.trashcan=new i("trashcan",{fontCharacter:"\\ea81"}),i.history=new i("history",{fontCharacter:"\\ea82"}),i.clock=new i("clock",{fontCharacter:"\\ea82"}),i.folder=new i("folder",{fontCharacter:"\\ea83"}),i.fileDirectory=new i("file-directory",{fontCharacter:"\\ea83"}),i.symbolFolder=new i("symbol-folder",{fontCharacter:"\\ea83"}),i.logoGithub=new i("logo-github",{fontCharacter:"\\ea84"}),i.markGithub=new i("mark-github",{fontCharacter:"\\ea84"}),i.github=new i("github",{fontCharacter:"\\ea84"}),i.terminal=new i("terminal",{fontCharacter:"\\ea85"}),i.console=new i("console",{fontCharacter:"\\ea85"}),i.repl=new i("repl",{fontCharacter:"\\ea85"}),i.zap=new i("zap",{fontCharacter:"\\ea86"}),i.symbolEvent=new i("symbol-event",{fontCharacter:"\\ea86"}),i.error=new i("error",{fontCharacter:"\\ea87"}),i.stop=new i("stop",{fontCharacter:"\\ea87"}),i.variable=new i("variable",{fontCharacter:"\\ea88"}),i.symbolVariable=new i("symbol-variable",{fontCharacter:"\\ea88"}),i.array=new i("array",{fontCharacter:"\\ea8a"}),i.symbolArray=new i("symbol-array",{fontCharacter:"\\ea8a"}),i.symbolModule=new i("symbol-module",{fontCharacter:"\\ea8b"}),i.symbolPackage=new i("symbol-package",{fontCharacter:"\\ea8b"}),i.symbolNamespace=new i("symbol-namespace",{fontCharacter:"\\ea8b"}),i.symbolObject=new i("symbol-object",{fontCharacter:"\\ea8b"}),i.symbolMethod=new i("symbol-method",{fontCharacter:"\\ea8c"}),i.symbolFunction=new i("symbol-function",{fontCharacter:"\\ea8c"}),i.symbolConstructor=new i("symbol-constructor",{fontCharacter:"\\ea8c"}),i.symbolBoolean=new i("symbol-boolean",{fontCharacter:"\\ea8f"}),i.symbolNull=new i("symbol-null",{fontCharacter:"\\ea8f"}),i.symbolNumeric=new i("symbol-numeric",{fontCharacter:"\\ea90"}),i.symbolNumber=new i("symbol-number",{fontCharacter:"\\ea90"}),i.symbolStructure=new i("symbol-structure",{fontCharacter:"\\ea91"}),i.symbolStruct=new i("symbol-struct",{fontCharacter:"\\ea91"}),i.symbolParameter=new i("symbol-parameter",{fontCharacter:"\\ea92"}),i.symbolTypeParameter=new i("symbol-type-parameter",{fontCharacter:"\\ea92"}),i.symbolKey=new i("symbol-key",{fontCharacter:"\\ea93"}),i.symbolText=new i("symbol-text",{fontCharacter:"\\ea93"}),i.symbolReference=new i("symbol-reference",{fontCharacter:"\\ea94"}),i.goToFile=new i("go-to-file",{fontCharacter:"\\ea94"}),i.symbolEnum=new i("symbol-enum",{fontCharacter:"\\ea95"}),i.symbolValue=new i("symbol-value",{fontCharacter:"\\ea95"}),i.symbolRuler=new i("symbol-ruler",{fontCharacter:"\\ea96"}),i.symbolUnit=new i("symbol-unit",{fontCharacter:"\\ea96"}),i.activateBreakpoints=new i("activate-breakpoints",{fontCharacter:"\\ea97"}),i.archive=new i("archive",{fontCharacter:"\\ea98"}),i.arrowBoth=new i("arrow-both",{fontCharacter:"\\ea99"}),i.arrowDown=new i("arrow-down",{fontCharacter:"\\ea9a"}),i.arrowLeft=new i("arrow-left",{fontCharacter:"\\ea9b"}),i.arrowRight=new i("arrow-right",{fontCharacter:"\\ea9c"}),i.arrowSmallDown=new i("arrow-small-down",{fontCharacter:"\\ea9d"}),i.arrowSmallLeft=new i("arrow-small-left",{fontCharacter:"\\ea9e"}),i.arrowSmallRight=new i("arrow-small-right",{fontCharacter:"\\ea9f"}),i.arrowSmallUp=new i("arrow-small-up",{fontCharacter:"\\eaa0"}),i.arrowUp=new i("arrow-up",{fontCharacter:"\\eaa1"}),i.bell=new i("bell",{fontCharacter:"\\eaa2"}),i.bold=new i("bold",{fontCharacter:"\\eaa3"}),i.book=new i("book",{fontCharacter:"\\eaa4"}),i.bookmark=new i("bookmark",{fontCharacter:"\\eaa5"}),i.debugBreakpointConditionalUnverified=new i("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"}),i.debugBreakpointConditional=new i("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"}),i.debugBreakpointConditionalDisabled=new i("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"}),i.debugBreakpointDataUnverified=new i("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"}),i.debugBreakpointData=new i("debug-breakpoint-data",{fontCharacter:"\\eaa9"}),i.debugBreakpointDataDisabled=new i("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"}),i.debugBreakpointLogUnverified=new i("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"}),i.debugBreakpointLog=new i("debug-breakpoint-log",{fontCharacter:"\\eaab"}),i.debugBreakpointLogDisabled=new i("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"}),i.briefcase=new i("briefcase",{fontCharacter:"\\eaac"}),i.broadcast=new i("broadcast",{fontCharacter:"\\eaad"}),i.browser=new i("browser",{fontCharacter:"\\eaae"}),i.bug=new i("bug",{fontCharacter:"\\eaaf"}),i.calendar=new i("calendar",{fontCharacter:"\\eab0"}),i.caseSensitive=new i("case-sensitive",{fontCharacter:"\\eab1"}),i.check=new i("check",{fontCharacter:"\\eab2"}),i.checklist=new i("checklist",{fontCharacter:"\\eab3"}),i.chevronDown=new i("chevron-down",{fontCharacter:"\\eab4"}),i.chevronLeft=new i("chevron-left",{fontCharacter:"\\eab5"}),i.chevronRight=new i("chevron-right",{fontCharacter:"\\eab6"}),i.chevronUp=new i("chevron-up",{fontCharacter:"\\eab7"}),i.chromeClose=new i("chrome-close",{fontCharacter:"\\eab8"}),i.chromeMaximize=new i("chrome-maximize",{fontCharacter:"\\eab9"}),i.chromeMinimize=new i("chrome-minimize",{fontCharacter:"\\eaba"}),i.chromeRestore=new i("chrome-restore",{fontCharacter:"\\eabb"}),i.circleOutline=new i("circle-outline",{fontCharacter:"\\eabc"}),i.debugBreakpointUnverified=new i("debug-breakpoint-unverified",{fontCharacter:"\\eabc"}),i.circleSlash=new i("circle-slash",{fontCharacter:"\\eabd"}),i.circuitBoard=new i("circuit-board",{fontCharacter:"\\eabe"}),i.clearAll=new i("clear-all",{fontCharacter:"\\eabf"}),i.clippy=new i("clippy",{fontCharacter:"\\eac0"}),i.closeAll=new i("close-all",{fontCharacter:"\\eac1"}),i.cloudDownload=new i("cloud-download",{fontCharacter:"\\eac2"}),i.cloudUpload=new i("cloud-upload",{fontCharacter:"\\eac3"}),i.code=new i("code",{fontCharacter:"\\eac4"}),i.collapseAll=new i("collapse-all",{fontCharacter:"\\eac5"}),i.colorMode=new i("color-mode",{fontCharacter:"\\eac6"}),i.commentDiscussion=new i("comment-discussion",{fontCharacter:"\\eac7"}),i.compareChanges=new i("compare-changes",{fontCharacter:"\\eafd"}),i.creditCard=new i("credit-card",{fontCharacter:"\\eac9"}),i.dash=new i("dash",{fontCharacter:"\\eacc"}),i.dashboard=new i("dashboard",{fontCharacter:"\\eacd"}),i.database=new i("database",{fontCharacter:"\\eace"}),i.debugContinue=new i("debug-continue",{fontCharacter:"\\eacf"}),i.debugDisconnect=new i("debug-disconnect",{fontCharacter:"\\ead0"}),i.debugPause=new i("debug-pause",{fontCharacter:"\\ead1"}),i.debugRestart=new i("debug-restart",{fontCharacter:"\\ead2"}),i.debugStart=new i("debug-start",{fontCharacter:"\\ead3"}),i.debugStepInto=new i("debug-step-into",{fontCharacter:"\\ead4"}),i.debugStepOut=new i("debug-step-out",{fontCharacter:"\\ead5"}),i.debugStepOver=new i("debug-step-over",{fontCharacter:"\\ead6"}),i.debugStop=new i("debug-stop",{fontCharacter:"\\ead7"}),i.debug=new i("debug",{fontCharacter:"\\ead8"}),i.deviceCameraVideo=new i("device-camera-video",{fontCharacter:"\\ead9"}),i.deviceCamera=new i("device-camera",{fontCharacter:"\\eada"}),i.deviceMobile=new i("device-mobile",{fontCharacter:"\\eadb"}),i.diffAdded=new i("diff-added",{fontCharacter:"\\eadc"}),i.diffIgnored=new i("diff-ignored",{fontCharacter:"\\eadd"}),i.diffModified=new i("diff-modified",{fontCharacter:"\\eade"}),i.diffRemoved=new i("diff-removed",{fontCharacter:"\\eadf"}),i.diffRenamed=new i("diff-renamed",{fontCharacter:"\\eae0"}),i.diff=new i("diff",{fontCharacter:"\\eae1"}),i.discard=new i("discard",{fontCharacter:"\\eae2"}),i.editorLayout=new i("editor-layout",{fontCharacter:"\\eae3"}),i.emptyWindow=new i("empty-window",{fontCharacter:"\\eae4"}),i.exclude=new i("exclude",{fontCharacter:"\\eae5"}),i.extensions=new i("extensions",{fontCharacter:"\\eae6"}),i.eyeClosed=new i("eye-closed",{fontCharacter:"\\eae7"}),i.fileBinary=new i("file-binary",{fontCharacter:"\\eae8"}),i.fileCode=new i("file-code",{fontCharacter:"\\eae9"}),i.fileMedia=new i("file-media",{fontCharacter:"\\eaea"}),i.filePdf=new i("file-pdf",{fontCharacter:"\\eaeb"}),i.fileSubmodule=new i("file-submodule",{fontCharacter:"\\eaec"}),i.fileSymlinkDirectory=new i("file-symlink-directory",{fontCharacter:"\\eaed"}),i.fileSymlinkFile=new i("file-symlink-file",{fontCharacter:"\\eaee"}),i.fileZip=new i("file-zip",{fontCharacter:"\\eaef"}),i.files=new i("files",{fontCharacter:"\\eaf0"}),i.filter=new i("filter",{fontCharacter:"\\eaf1"}),i.flame=new i("flame",{fontCharacter:"\\eaf2"}),i.foldDown=new i("fold-down",{fontCharacter:"\\eaf3"}),i.foldUp=new i("fold-up",{fontCharacter:"\\eaf4"}),i.fold=new i("fold",{fontCharacter:"\\eaf5"}),i.folderActive=new i("folder-active",{fontCharacter:"\\eaf6"}),i.folderOpened=new i("folder-opened",{fontCharacter:"\\eaf7"}),i.gear=new i("gear",{fontCharacter:"\\eaf8"}),i.gift=new i("gift",{fontCharacter:"\\eaf9"}),i.gistSecret=new i("gist-secret",{fontCharacter:"\\eafa"}),i.gist=new i("gist",{fontCharacter:"\\eafb"}),i.gitCommit=new i("git-commit",{fontCharacter:"\\eafc"}),i.gitCompare=new i("git-compare",{fontCharacter:"\\eafd"}),i.gitMerge=new i("git-merge",{fontCharacter:"\\eafe"}),i.githubAction=new i("github-action",{fontCharacter:"\\eaff"}),i.githubAlt=new i("github-alt",{fontCharacter:"\\eb00"}),i.globe=new i("globe",{fontCharacter:"\\eb01"}),i.grabber=new i("grabber",{fontCharacter:"\\eb02"}),i.graph=new i("graph",{fontCharacter:"\\eb03"}),i.gripper=new i("gripper",{fontCharacter:"\\eb04"}),i.heart=new i("heart",{fontCharacter:"\\eb05"}),i.home=new i("home",{fontCharacter:"\\eb06"}),i.horizontalRule=new i("horizontal-rule",{fontCharacter:"\\eb07"}),i.hubot=new i("hubot",{fontCharacter:"\\eb08"}),i.inbox=new i("inbox",{fontCharacter:"\\eb09"}),i.issueClosed=new i("issue-closed",{fontCharacter:"\\eb0a"}),i.issueReopened=new i("issue-reopened",{fontCharacter:"\\eb0b"}),i.issues=new i("issues",{fontCharacter:"\\eb0c"}),i.italic=new i("italic",{fontCharacter:"\\eb0d"}),i.jersey=new i("jersey",{fontCharacter:"\\eb0e"}),i.json=new i("json",{fontCharacter:"\\eb0f"}),i.kebabVertical=new i("kebab-vertical",{fontCharacter:"\\eb10"}),i.key=new i("key",{fontCharacter:"\\eb11"}),i.law=new i("law",{fontCharacter:"\\eb12"}),i.lightbulbAutofix=new i("lightbulb-autofix",{fontCharacter:"\\eb13"}),i.linkExternal=new i("link-external",{fontCharacter:"\\eb14"}),i.link=new i("link",{fontCharacter:"\\eb15"}),i.listOrdered=new i("list-ordered",{fontCharacter:"\\eb16"}),i.listUnordered=new i("list-unordered",{fontCharacter:"\\eb17"}),i.liveShare=new i("live-share",{fontCharacter:"\\eb18"}),i.loading=new i("loading",{fontCharacter:"\\eb19"}),i.location=new i("location",{fontCharacter:"\\eb1a"}),i.mailRead=new i("mail-read",{fontCharacter:"\\eb1b"}),i.mail=new i("mail",{fontCharacter:"\\eb1c"}),i.markdown=new i("markdown",{fontCharacter:"\\eb1d"}),i.megaphone=new i("megaphone",{fontCharacter:"\\eb1e"}),i.mention=new i("mention",{fontCharacter:"\\eb1f"}),i.milestone=new i("milestone",{fontCharacter:"\\eb20"}),i.mortarBoard=new i("mortar-board",{fontCharacter:"\\eb21"}),i.move=new i("move",{fontCharacter:"\\eb22"}),i.multipleWindows=new i("multiple-windows",{fontCharacter:"\\eb23"}),i.mute=new i("mute",{fontCharacter:"\\eb24"}),i.noNewline=new i("no-newline",{fontCharacter:"\\eb25"}),i.note=new i("note",{fontCharacter:"\\eb26"}),i.octoface=new i("octoface",{fontCharacter:"\\eb27"}),i.openPreview=new i("open-preview",{fontCharacter:"\\eb28"}),i.package_=new i("package",{fontCharacter:"\\eb29"}),i.paintcan=new i("paintcan",{fontCharacter:"\\eb2a"}),i.pin=new i("pin",{fontCharacter:"\\eb2b"}),i.play=new i("play",{fontCharacter:"\\eb2c"}),i.run=new i("run",{fontCharacter:"\\eb2c"}),i.plug=new i("plug",{fontCharacter:"\\eb2d"}),i.preserveCase=new i("preserve-case",{fontCharacter:"\\eb2e"}),i.preview=new i("preview",{fontCharacter:"\\eb2f"}),i.project=new i("project",{fontCharacter:"\\eb30"}),i.pulse=new i("pulse",{fontCharacter:"\\eb31"}),i.question=new i("question",{fontCharacter:"\\eb32"}),i.quote=new i("quote",{fontCharacter:"\\eb33"}),i.radioTower=new i("radio-tower",{fontCharacter:"\\eb34"}),i.reactions=new i("reactions",{fontCharacter:"\\eb35"}),i.references=new i("references",{fontCharacter:"\\eb36"}),i.refresh=new i("refresh",{fontCharacter:"\\eb37"}),i.regex=new i("regex",{fontCharacter:"\\eb38"}),i.remoteExplorer=new i("remote-explorer",{fontCharacter:"\\eb39"}),i.remote=new i("remote",{fontCharacter:"\\eb3a"}),i.remove=new i("remove",{fontCharacter:"\\eb3b"}),i.replaceAll=new i("replace-all",{fontCharacter:"\\eb3c"}),i.replace=new i("replace",{fontCharacter:"\\eb3d"}),i.repoClone=new i("repo-clone",{fontCharacter:"\\eb3e"}),i.repoForcePush=new i("repo-force-push",{fontCharacter:"\\eb3f"}),i.repoPull=new i("repo-pull",{fontCharacter:"\\eb40"}),i.repoPush=new i("repo-push",{fontCharacter:"\\eb41"}),i.report=new i("report",{fontCharacter:"\\eb42"}),i.requestChanges=new i("request-changes",{fontCharacter:"\\eb43"}),i.rocket=new i("rocket",{fontCharacter:"\\eb44"}),i.rootFolderOpened=new i("root-folder-opened",{fontCharacter:"\\eb45"}),i.rootFolder=new i("root-folder",{fontCharacter:"\\eb46"}),i.rss=new i("rss",{fontCharacter:"\\eb47"}),i.ruby=new i("ruby",{fontCharacter:"\\eb48"}),i.saveAll=new i("save-all",{fontCharacter:"\\eb49"}),i.saveAs=new i("save-as",{fontCharacter:"\\eb4a"}),i.save=new i("save",{fontCharacter:"\\eb4b"}),i.screenFull=new i("screen-full",{fontCharacter:"\\eb4c"}),i.screenNormal=new i("screen-normal",{fontCharacter:"\\eb4d"}),i.searchStop=new i("search-stop",{fontCharacter:"\\eb4e"}),i.server=new i("server",{fontCharacter:"\\eb50"}),i.settingsGear=new i("settings-gear",{fontCharacter:"\\eb51"}),i.settings=new i("settings",{fontCharacter:"\\eb52"}),i.shield=new i("shield",{fontCharacter:"\\eb53"}),i.smiley=new i("smiley",{fontCharacter:"\\eb54"}),i.sortPrecedence=new i("sort-precedence",{fontCharacter:"\\eb55"}),i.splitHorizontal=new i("split-horizontal",{fontCharacter:"\\eb56"}),i.splitVertical=new i("split-vertical",{fontCharacter:"\\eb57"}),i.squirrel=new i("squirrel",{fontCharacter:"\\eb58"}),i.starFull=new i("star-full",{fontCharacter:"\\eb59"}),i.starHalf=new i("star-half",{fontCharacter:"\\eb5a"}),i.symbolClass=new i("symbol-class",{fontCharacter:"\\eb5b"}),i.symbolColor=new i("symbol-color",{fontCharacter:"\\eb5c"}),i.symbolConstant=new i("symbol-constant",{fontCharacter:"\\eb5d"}),i.symbolEnumMember=new i("symbol-enum-member",{fontCharacter:"\\eb5e"}),i.symbolField=new i("symbol-field",{fontCharacter:"\\eb5f"}),i.symbolFile=new i("symbol-file",{fontCharacter:"\\eb60"}),i.symbolInterface=new i("symbol-interface",{fontCharacter:"\\eb61"}),i.symbolKeyword=new i("symbol-keyword",{fontCharacter:"\\eb62"}),i.symbolMisc=new i("symbol-misc",{fontCharacter:"\\eb63"}),i.symbolOperator=new i("symbol-operator",{fontCharacter:"\\eb64"}),i.symbolProperty=new i("symbol-property",{fontCharacter:"\\eb65"}),i.wrench=new i("wrench",{fontCharacter:"\\eb65"}),i.wrenchSubaction=new i("wrench-subaction",{fontCharacter:"\\eb65"}),i.symbolSnippet=new i("symbol-snippet",{fontCharacter:"\\eb66"}),i.tasklist=new i("tasklist",{fontCharacter:"\\eb67"}),i.telescope=new i("telescope",{fontCharacter:"\\eb68"}),i.textSize=new i("text-size",{fontCharacter:"\\eb69"}),i.threeBars=new i("three-bars",{fontCharacter:"\\eb6a"}),i.thumbsdown=new i("thumbsdown",{fontCharacter:"\\eb6b"}),i.thumbsup=new i("thumbsup",{fontCharacter:"\\eb6c"}),i.tools=new i("tools",{fontCharacter:"\\eb6d"}),i.triangleDown=new i("triangle-down",{fontCharacter:"\\eb6e"}),i.triangleLeft=new i("triangle-left",{fontCharacter:"\\eb6f"}),i.triangleRight=new i("triangle-right",{fontCharacter:"\\eb70"}),i.triangleUp=new i("triangle-up",{fontCharacter:"\\eb71"}),i.twitter=new i("twitter",{fontCharacter:"\\eb72"}),i.unfold=new i("unfold",{fontCharacter:"\\eb73"}),i.unlock=new i("unlock",{fontCharacter:"\\eb74"}),i.unmute=new i("unmute",{fontCharacter:"\\eb75"}),i.unverified=new i("unverified",{fontCharacter:"\\eb76"}),i.verified=new i("verified",{fontCharacter:"\\eb77"}),i.versions=new i("versions",{fontCharacter:"\\eb78"}),i.vmActive=new i("vm-active",{fontCharacter:"\\eb79"}),i.vmOutline=new i("vm-outline",{fontCharacter:"\\eb7a"}),i.vmRunning=new i("vm-running",{fontCharacter:"\\eb7b"}),i.watch=new i("watch",{fontCharacter:"\\eb7c"}),i.whitespace=new i("whitespace",{fontCharacter:"\\eb7d"}),i.wholeWord=new i("whole-word",{fontCharacter:"\\eb7e"}),i.window=new i("window",{fontCharacter:"\\eb7f"}),i.wordWrap=new i("word-wrap",{fontCharacter:"\\eb80"}),i.zoomIn=new i("zoom-in",{fontCharacter:"\\eb81"}),i.zoomOut=new i("zoom-out",{fontCharacter:"\\eb82"}),i.listFilter=new i("list-filter",{fontCharacter:"\\eb83"}),i.listFlat=new i("list-flat",{fontCharacter:"\\eb84"}),i.listSelection=new i("list-selection",{fontCharacter:"\\eb85"}),i.selection=new i("selection",{fontCharacter:"\\eb85"}),i.listTree=new i("list-tree",{fontCharacter:"\\eb86"}),i.debugBreakpointFunctionUnverified=new i("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"}),i.debugBreakpointFunction=new i("debug-breakpoint-function",{fontCharacter:"\\eb88"}),i.debugBreakpointFunctionDisabled=new i("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"}),i.debugStackframeActive=new i("debug-stackframe-active",{fontCharacter:"\\eb89"}),i.debugStackframeDot=new i("debug-stackframe-dot",{fontCharacter:"\\eb8a"}),i.debugStackframe=new i("debug-stackframe",{fontCharacter:"\\eb8b"}),i.debugStackframeFocused=new i("debug-stackframe-focused",{fontCharacter:"\\eb8b"}),i.debugBreakpointUnsupported=new i("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"}),i.symbolString=new i("symbol-string",{fontCharacter:"\\eb8d"}),i.debugReverseContinue=new i("debug-reverse-continue",{fontCharacter:"\\eb8e"}),i.debugStepBack=new i("debug-step-back",{fontCharacter:"\\eb8f"}),i.debugRestartFrame=new i("debug-restart-frame",{fontCharacter:"\\eb90"}),i.callIncoming=new i("call-incoming",{fontCharacter:"\\eb92"}),i.callOutgoing=new i("call-outgoing",{fontCharacter:"\\eb93"}),i.menu=new i("menu",{fontCharacter:"\\eb94"}),i.expandAll=new i("expand-all",{fontCharacter:"\\eb95"}),i.feedback=new i("feedback",{fontCharacter:"\\eb96"}),i.groupByRefType=new i("group-by-ref-type",{fontCharacter:"\\eb97"}),i.ungroupByRefType=new i("ungroup-by-ref-type",{fontCharacter:"\\eb98"}),i.account=new i("account",{fontCharacter:"\\eb99"}),i.bellDot=new i("bell-dot",{fontCharacter:"\\eb9a"}),i.debugConsole=new i("debug-console",{fontCharacter:"\\eb9b"}),i.library=new i("library",{fontCharacter:"\\eb9c"}),i.output=new i("output",{fontCharacter:"\\eb9d"}),i.runAll=new i("run-all",{fontCharacter:"\\eb9e"}),i.syncIgnored=new i("sync-ignored",{fontCharacter:"\\eb9f"}),i.pinned=new i("pinned",{fontCharacter:"\\eba0"}),i.githubInverted=new i("github-inverted",{fontCharacter:"\\eba1"}),i.debugAlt=new i("debug-alt",{fontCharacter:"\\eb91"}),i.serverProcess=new i("server-process",{fontCharacter:"\\eba2"}),i.serverEnvironment=new i("server-environment",{fontCharacter:"\\eba3"}),i.pass=new i("pass",{fontCharacter:"\\eba4"}),i.stopCircle=new i("stop-circle",{fontCharacter:"\\eba5"}),i.playCircle=new i("play-circle",{fontCharacter:"\\eba6"}),i.record=new i("record",{fontCharacter:"\\eba7"}),i.debugAltSmall=new i("debug-alt-small",{fontCharacter:"\\eba8"}),i.vmConnect=new i("vm-connect",{fontCharacter:"\\eba9"}),i.cloud=new i("cloud",{fontCharacter:"\\ebaa"}),i.merge=new i("merge",{fontCharacter:"\\ebab"}),i.exportIcon=new i("export",{fontCharacter:"\\ebac"}),i.graphLeft=new i("graph-left",{fontCharacter:"\\ebad"}),i.magnet=new i("magnet",{fontCharacter:"\\ebae"}),i.notebook=new i("notebook",{fontCharacter:"\\ebaf"}),i.redo=new i("redo",{fontCharacter:"\\ebb0"}),i.checkAll=new i("check-all",{fontCharacter:"\\ebb1"}),i.pinnedDirty=new i("pinned-dirty",{fontCharacter:"\\ebb2"}),i.passFilled=new i("pass-filled",{fontCharacter:"\\ebb3"}),i.circleLargeFilled=new i("circle-large-filled",{fontCharacter:"\\ebb4"}),i.circleLargeOutline=new i("circle-large-outline",{fontCharacter:"\\ebb5"}),i.combine=new i("combine",{fontCharacter:"\\ebb6"}),i.gather=new i("gather",{fontCharacter:"\\ebb6"}),i.table=new i("table",{fontCharacter:"\\ebb7"}),i.variableGroup=new i("variable-group",{fontCharacter:"\\ebb8"}),i.typeHierarchy=new i("type-hierarchy",{fontCharacter:"\\ebb9"}),i.typeHierarchySub=new i("type-hierarchy-sub",{fontCharacter:"\\ebba"}),i.typeHierarchySuper=new i("type-hierarchy-super",{fontCharacter:"\\ebbb"}),i.gitPullRequestCreate=new i("git-pull-request-create",{fontCharacter:"\\ebbc"}),i.runAbove=new i("run-above",{fontCharacter:"\\ebbd"}),i.runBelow=new i("run-below",{fontCharacter:"\\ebbe"}),i.notebookTemplate=new i("notebook-template",{fontCharacter:"\\ebbf"}),i.debugRerun=new i("debug-rerun",{fontCharacter:"\\ebc0"}),i.workspaceTrusted=new i("workspace-trusted",{fontCharacter:"\\ebc1"}),i.workspaceUntrusted=new i("workspace-untrusted",{fontCharacter:"\\ebc2"}),i.workspaceUnspecified=new i("workspace-unspecified",{fontCharacter:"\\ebc3"}),i.terminalCmd=new i("terminal-cmd",{fontCharacter:"\\ebc4"}),i.terminalDebian=new i("terminal-debian",{fontCharacter:"\\ebc5"}),i.terminalLinux=new i("terminal-linux",{fontCharacter:"\\ebc6"}),i.terminalPowershell=new i("terminal-powershell",{fontCharacter:"\\ebc7"}),i.terminalTmux=new i("terminal-tmux",{fontCharacter:"\\ebc8"}),i.terminalUbuntu=new i("terminal-ubuntu",{fontCharacter:"\\ebc9"}),i.terminalBash=new i("terminal-bash",{fontCharacter:"\\ebca"}),i.arrowSwap=new i("arrow-swap",{fontCharacter:"\\ebcb"}),i.copy=new i("copy",{fontCharacter:"\\ebcc"}),i.personAdd=new i("person-add",{fontCharacter:"\\ebcd"}),i.filterFilled=new i("filter-filled",{fontCharacter:"\\ebce"}),i.wand=new i("wand",{fontCharacter:"\\ebcf"}),i.debugLineByLine=new i("debug-line-by-line",{fontCharacter:"\\ebd0"}),i.dropDownButton=new i("drop-down-button",i.chevronDown.definition)}(_=e.Codicon||(e.Codicon={}))}),define(J[198],ee([0,1,27]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.treeItemLoadingIcon=e.treeFilterClearIcon=e.treeFilterOnTypeOffIcon=e.treeFilterOnTypeOnIcon=e.treeItemExpandedIcon=void 0,e.treeItemExpandedIcon=(0,v.registerCodicon)("tree-item-expanded",v.Codicon.chevronDown),e.treeFilterOnTypeOnIcon=(0,v.registerCodicon)("tree-filter-on-type-on",v.Codicon.listFilter),e.treeFilterOnTypeOffIcon=(0,v.registerCodicon)("tree-filter-on-type-off",v.Codicon.listSelection),e.treeFilterClearIcon=(0,v.registerCodicon)("tree-filter-clear",v.Codicon.close),e.treeItemLoadingIcon=(0,v.registerCodicon)("tree-item-loading",v.Codicon.loading)}),define(J[284],ee([0,1,15]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compareByPrefix=e.compareAnything=e.compareFileNames=void 0;const I=new v.IdleValue(()=>{const _=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:_,collatorIsNumeric:_.resolvedOptions().numeric}});function k(_,C,i=!1){const p=_||"",u=C||"",a=I.value.collator.compare(p,u);return I.value.collatorIsNumeric&&a===0&&p!==u?p<u?-1:1:a}e.compareFileNames=k;function w(_,C,i){const p=_.toLowerCase(),u=C.toLowerCase(),a=S(_,C,i);if(a)return a;const l=p.endsWith(i),c=u.endsWith(i);if(l!==c)return l?-1:1;const d=k(p,u);return d!==0?d:p.localeCompare(u)}e.compareAnything=w;function S(_,C,i){const p=_.toLowerCase(),u=C.toLowerCase(),a=p.startsWith(i),l=u.startsWith(i);if(a!==l)return a?-1:1;if(a&&l){if(p.length<u.length)return-1;if(p.length>u.length)return 1}return 0}e.compareByPrefix=S}),define(J[122],ee([0,1,6,2]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SmoothScrollingOperation=e.SmoothScrollingUpdate=e.Scrollable=e.ScrollState=void 0;class k{constructor(l,c,d,r,n,s){l=l|0,c=c|0,d=d|0,r=r|0,n=n|0,s=s|0,this.rawScrollLeft=d,this.rawScrollTop=s,l<0&&(l=0),d+l>c&&(d=c-l),d<0&&(d=0),r<0&&(r=0),s+r>n&&(s=n-r),s<0&&(s=0),this.width=l,this.scrollWidth=c,this.scrollLeft=d,this.height=r,this.scrollHeight=n,this.scrollTop=s}equals(l){return this.rawScrollLeft===l.rawScrollLeft&&this.rawScrollTop===l.rawScrollTop&&this.width===l.width&&this.scrollWidth===l.scrollWidth&&this.scrollLeft===l.scrollLeft&&this.height===l.height&&this.scrollHeight===l.scrollHeight&&this.scrollTop===l.scrollTop}withScrollDimensions(l,c){return new k(typeof l.width!="undefined"?l.width:this.width,typeof l.scrollWidth!="undefined"?l.scrollWidth:this.scrollWidth,c?this.rawScrollLeft:this.scrollLeft,typeof l.height!="undefined"?l.height:this.height,typeof l.scrollHeight!="undefined"?l.scrollHeight:this.scrollHeight,c?this.rawScrollTop:this.scrollTop)}withScrollPosition(l){return new k(this.width,this.scrollWidth,typeof l.scrollLeft!="undefined"?l.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof l.scrollTop!="undefined"?l.scrollTop:this.rawScrollTop)}createScrollEvent(l,c){const d=this.width!==l.width,r=this.scrollWidth!==l.scrollWidth,n=this.scrollLeft!==l.scrollLeft,s=this.height!==l.height,t=this.scrollHeight!==l.scrollHeight,o=this.scrollTop!==l.scrollTop;return{inSmoothScrolling:c,oldWidth:l.width,oldScrollWidth:l.scrollWidth,oldScrollLeft:l.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:l.height,oldScrollHeight:l.scrollHeight,oldScrollTop:l.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:d,scrollWidthChanged:r,scrollLeftChanged:n,heightChanged:s,scrollHeightChanged:t,scrollTopChanged:o}}}e.ScrollState=k;class w extends I.Disposable{constructor(l,c){super();this._onScroll=this._register(new v.Emitter),this.onScroll=this._onScroll.event,this._smoothScrollDuration=l,this._scheduleAtNextAnimationFrame=c,this._state=new k(0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(l){this._smoothScrollDuration=l}validateScrollPosition(l){return this._state.withScrollPosition(l)}getScrollDimensions(){return this._state}setScrollDimensions(l,c){const d=this._state.withScrollDimensions(l,c);this._setState(d,Boolean(this._smoothScrolling)),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(l){const c=this._state.withScrollPosition(l);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(c,!1)}setScrollPositionSmooth(l,c){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(l);if(this._smoothScrolling){l={scrollLeft:typeof l.scrollLeft=="undefined"?this._smoothScrolling.to.scrollLeft:l.scrollLeft,scrollTop:typeof l.scrollTop=="undefined"?this._smoothScrolling.to.scrollTop:l.scrollTop};const d=this._state.withScrollPosition(l);if(this._smoothScrolling.to.scrollLeft===d.scrollLeft&&this._smoothScrolling.to.scrollTop===d.scrollTop)return;let r;c?r=new i(this._smoothScrolling.from,d,this._smoothScrolling.startTime,this._smoothScrolling.duration):r=this._smoothScrolling.combine(this._state,d,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=r}else{const d=this._state.withScrollPosition(l);this._smoothScrolling=i.start(this._state,d,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!!this._smoothScrolling){const l=this._smoothScrolling.tick(),c=this._state.withScrollPosition(l);if(this._setState(c,!0),!!this._smoothScrolling){if(l.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}}_setState(l,c){const d=this._state;d.equals(l)||(this._state=l,this._onScroll.fire(this._state.createScrollEvent(d,c)))}}e.Scrollable=w;class S{constructor(l,c,d){this.scrollLeft=l,this.scrollTop=c,this.isDone=d}}e.SmoothScrollingUpdate=S;function _(a,l){const c=l-a;return function(d){return a+c*u(d)}}function C(a,l,c){return function(d){return d<c?a(d/c):l((d-c)/(1-c))}}class i{constructor(l,c,d,r){this.from=l,this.to=c,this.duration=r,this.startTime=d,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(l,c,d){if(Math.abs(l-c)>2.5*d){let n,s;return l<c?(n=l+.75*d,s=c-.75*d):(n=l-.75*d,s=c+.75*d),C(_(l,n),_(s,c),.33)}return _(l,c)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(l){this.to=l.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(l){const c=(l-this.startTime)/this.duration;if(c<1){const d=this.scrollLeft(c),r=this.scrollTop(c);return new S(d,r,!1)}return new S(this.to.scrollLeft,this.to.scrollTop,!0)}combine(l,c,d){return i.start(l,c,d)}static start(l,c,d){d=d+10;const r=Date.now()-10;return new i(l,c,r,d)}}e.SmoothScrollingOperation=i;function p(a){return Math.pow(a,3)}function u(a){return 1-p(1-a)}}),define(J[8],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.breakBetweenGraphemeBreakType=e.getGraphemeBreakType=e.singleLetterHash=e.containsUppercaseCharacter=e.startsWithUTF8BOM=e.UTF8_BOM_CHARACTER=e.isEmojiImprecise=e.isFullWidthCharacter=e.containsFullWidthCharacter=e.containsUnusualLineTerminators=e.UNUSUAL_LINE_TERMINATORS=e.isBasicASCII=e.containsEmoji=e.containsRTL=e.decodeUTF8=e.prevCharLength=e.nextCharLength=e.getNextCodePoint=e.computeCodePoint=e.isLowSurrogate=e.isHighSurrogate=e.commonSuffixLength=e.commonPrefixLength=e.startsWithIgnoreCase=e.equalsIgnoreCase=e.isUpperAsciiLetter=e.isLowerAsciiLetter=e.compareSubstringIgnoreCase=e.compareIgnoreCase=e.compareSubstring=e.compare=e.lastNonWhitespaceIndex=e.getLeadingWhitespace=e.firstNonWhitespaceIndex=e.splitLines=e.regExpFlags=e.regExpLeadsToEndlessLoop=e.createRegExp=e.stripWildcards=e.convertSimple2RegExpPattern=e.rtrim=e.ltrim=e.trim=e.escapeRegExpCharacters=e.escape=e.format=e.isFalsyOrWhitespace=void 0;function v(G){return!G||typeof G!="string"?!0:G.trim().length===0}e.isFalsyOrWhitespace=v;const I=/{(\d+)}/g;function k(G,...j){return j.length===0?G:G.replace(I,function(ne,X){const de=parseInt(X,10);return isNaN(de)||de<0||de>=j.length?ne:j[de]})}e.format=k;function w(G){return G.replace(/[<>&]/g,function(j){switch(j){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return j}})}e.escape=w;function S(G){return G.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}e.escapeRegExpCharacters=S;function _(G,j=" "){const ne=C(G,j);return i(ne,j)}e.trim=_;function C(G,j){if(!G||!j)return G;const ne=j.length;if(ne===0||G.length===0)return G;let X=0;for(;G.indexOf(j,X)===X;)X=X+ne;return G.substring(X)}e.ltrim=C;function i(G,j){if(!G||!j)return G;const ne=j.length,X=G.length;if(ne===0||X===0)return G;let de=X,he=-1;for(;he=G.lastIndexOf(j,de-1),!(he===-1||he+ne!==de);){if(he===0)return"";de=he}return G.substring(0,de)}e.rtrim=i;function p(G){return G.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}e.convertSimple2RegExpPattern=p;function u(G){return G.replace(/\*/g,"")}e.stripWildcards=u;function a(G,j,ne={}){if(!G)throw new Error("Cannot create regex from empty string");j||(G=S(G)),ne.wholeWord&&(/\B/.test(G.charAt(0))||(G="\\b"+G),/\B/.test(G.charAt(G.length-1))||(G=G+"\\b"));let X="";return ne.global&&(X+="g"),ne.matchCase||(X+="i"),ne.multiline&&(X+="m"),ne.unicode&&(X+="u"),new RegExp(G,X)}e.createRegExp=a;function l(G){return G.source==="^"||G.source==="^$"||G.source==="$"||G.source==="^\\s*$"?!1:!!(G.exec("")&&G.lastIndex===0)}e.regExpLeadsToEndlessLoop=l;function c(G){return(G.global?"g":"")+(G.ignoreCase?"i":"")+(G.multiline?"m":"")+(G.unicode?"u":"")}e.regExpFlags=c;function d(G){return G.split(/\r\n|\r|\n/)}e.splitLines=d;function r(G){for(let j=0,ne=G.length;j<ne;j++){const X=G.charCodeAt(j);if(X!==32&&X!==9)return j}return-1}e.firstNonWhitespaceIndex=r;function n(G,j=0,ne=G.length){for(let X=j;X<ne;X++){const de=G.charCodeAt(X);if(de!==32&&de!==9)return G.substring(j,X)}return G.substring(j,ne)}e.getLeadingWhitespace=n;function s(G,j=G.length-1){for(let ne=j;ne>=0;ne--){const X=G.charCodeAt(ne);if(X!==32&&X!==9)return ne}return-1}e.lastNonWhitespaceIndex=s;function t(G,j){return G<j?-1:G>j?1:0}e.compare=t;function o(G,j,ne=0,X=G.length,de=0,he=j.length){for(;ne<X&&de<he;ne++,de++){let me=G.charCodeAt(ne),be=j.charCodeAt(de);if(me<be)return-1;if(me>be)return 1}const re=X-ne,ue=he-de;return re<ue?-1:re>ue?1:0}e.compareSubstring=o;function h(G,j){return g(G,j,0,G.length,0,j.length)}e.compareIgnoreCase=h;function g(G,j,ne=0,X=G.length,de=0,he=j.length){for(;ne<X&&de<he;ne++,de++){let me=G.charCodeAt(ne),be=j.charCodeAt(de);if(me!==be){const we=me-be;if(!(we===32&&f(be))&&!(we===-32&&f(me)))return m(me)&&m(be)?we:o(G.toLowerCase(),j.toLowerCase(),ne,X,de,he)}}const re=X-ne,ue=he-de;return re<ue?-1:re>ue?1:0}e.compareSubstringIgnoreCase=g;function m(G){return G>=97&&G<=122}e.isLowerAsciiLetter=m;function f(G){return G>=65&&G<=90}e.isUpperAsciiLetter=f;function b(G){return m(G)||f(G)}function y(G,j){return G.length===j.length&&L(G,j)}e.equalsIgnoreCase=y;function L(G,j,ne=G.length){for(let X=0;X<ne;X++){const de=G.charCodeAt(X),he=j.charCodeAt(X);if(de!==he){if(b(de)&&b(he)){const re=Math.abs(de-he);if(re!==0&&re!==32)return!1}else if(String.fromCharCode(de).toLowerCase()!==String.fromCharCode(he).toLowerCase())return!1}}return!0}function N(G,j){const ne=j.length;return j.length>G.length?!1:L(G,j,ne)}e.startsWithIgnoreCase=N;function M(G,j){let ne,X=Math.min(G.length,j.length);for(ne=0;ne<X;ne++)if(G.charCodeAt(ne)!==j.charCodeAt(ne))return ne;return X}e.commonPrefixLength=M;function D(G,j){let ne,X=Math.min(G.length,j.length);const de=G.length-1,he=j.length-1;for(ne=0;ne<X;ne++)if(G.charCodeAt(de-ne)!==j.charCodeAt(he-ne))return ne;return X}e.commonSuffixLength=D;function R(G){return 55296<=G&&G<=56319}e.isHighSurrogate=R;function P(G){return 56320<=G&&G<=57343}e.isLowSurrogate=P;function O(G,j){return(G-55296<<10)+(j-56320)+65536}e.computeCodePoint=O;function W(G,j,ne){const X=G.charCodeAt(ne);if(R(X)&&ne+1<j){const de=G.charCodeAt(ne+1);if(P(de))return O(X,de)}return X}e.getNextCodePoint=W;function F(G,j){const ne=G.charCodeAt(j-1);if(P(ne)&&j>1){const X=G.charCodeAt(j-2);if(R(X))return O(X,ne)}return ne}function E(G,j){const ne=se.getInstance(),X=j,de=G.length,he=W(G,de,j);j+=he>=65536?2:1;let re=ne.getGraphemeBreakType(he);for(;j<de;){const ue=W(G,de,j),me=ne.getGraphemeBreakType(ue);if(Q(re,me))break;j+=ue>=65536?2:1,re=me}return j-X}e.nextCharLength=E;function A(G,j){const ne=se.getInstance(),X=j,de=F(G,j);j-=de>=65536?2:1;let he=ne.getGraphemeBreakType(de);for(;j>0;){const re=F(G,j),ue=ne.getGraphemeBreakType(re);if(Q(ue,he))break;j-=re>=65536?2:1,he=ue}return X-j}e.prevCharLength=A;function B(G){const j=G.byteLength,ne=[];let X=0;for(;X<j;){const de=G[X];let he;if(de>=240&&X+3<j?he=(G[X++]&7)<<18>>>0|(G[X++]&63)<<12>>>0|(G[X++]&63)<<6>>>0|(G[X++]&63)<<0>>>0:de>=224&&X+2<j?he=(G[X++]&15)<<12>>>0|(G[X++]&63)<<6>>>0|(G[X++]&63)<<0>>>0:de>=192&&X+1<j?he=(G[X++]&31)<<6>>>0|(G[X++]&63)<<0>>>0:he=G[X++],he>=0&&he<=55295||he>=57344&&he<=65535)ne.push(String.fromCharCode(he));else if(he>=65536&&he<=1114111){const re=he-65536,ue=55296+((re&1047552)>>>10),me=56320+((re&1023)>>>0);ne.push(String.fromCharCode(ue)),ne.push(String.fromCharCode(me))}else ne.push(String.fromCharCode(65533))}return ne.join("")}e.decodeUTF8=B;const H=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u08BD\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE33\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDCFF]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD50-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function K(G){return H.test(G)}e.containsRTL=K;const q=/(?:[\u231A\u231B\u23F0\u23F3\u2600-\u27BF\u2B50\u2B55]|\uD83C[\uDDE6-\uDDFF\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD00-\uDDFF\uDE70-\uDED6])/;function Y(G){return q.test(G)}e.containsEmoji=Y;const te=/^[\t\n\r\x20-\x7E]*$/;function ie(G){return te.test(G)}e.isBasicASCII=ie,e.UNUSUAL_LINE_TERMINATORS=/[\u2028\u2029]/;function ae(G){return e.UNUSUAL_LINE_TERMINATORS.test(G)}e.containsUnusualLineTerminators=ae;function le(G){for(let j=0,ne=G.length;j<ne;j++)if(Z(G.charCodeAt(j)))return!0;return!1}e.containsFullWidthCharacter=le;function Z(G){return G=+G,G>=11904&&G<=55215||G>=63744&&G<=64255||G>=65281&&G<=65374}e.isFullWidthCharacter=Z;function T(G){return G>=127462&&G<=127487||G===8986||G===8987||G===9200||G===9203||G>=9728&&G<=10175||G===11088||G===11093||G>=127744&&G<=128591||G>=128640&&G<=128764||G>=128992&&G<=129003||G>=129280&&G<=129535||G>=129648&&G<=129750}e.isEmojiImprecise=T,e.UTF8_BOM_CHARACTER=String.fromCharCode(65279);function x(G){return!!(G&&G.length>0&&G.charCodeAt(0)===65279)}e.startsWithUTF8BOM=x;function z(G,j=!1){return G?(j&&(G=G.replace(/\\./g,"")),G.toLowerCase()!==G):!1}e.containsUppercaseCharacter=z;function V(G){const j=90-65+1;return G=G%(2*j),G<j?String.fromCharCode(97+G):String.fromCharCode(65+G-j)}e.singleLetterHash=V;function U(G){return se.getInstance().getGraphemeBreakType(G)}e.getGraphemeBreakType=U;function Q(G,j){return G===0?j!==5&&j!==7:G===2&&j===3?!1:G===4||G===2||G===3||j===4||j===2||j===3?!0:!(G===8&&(j===8||j===9||j===11||j===12)||(G===11||G===9)&&(j===9||j===10)||(G===12||G===10)&&j===10||j===5||j===13||j===7||G===1||G===13&&j===14||G===6&&j===6)}e.breakBetweenGraphemeBreakType=Q;class se{constructor(){this._data=oe()}static getInstance(){return se._INSTANCE||(se._INSTANCE=new se),se._INSTANCE}getGraphemeBreakType(j){if(j<32)return j===10?3:j===13?2:4;if(j<127)return 0;const ne=this._data,X=ne.length/3;let de=1;for(;de<=X;)if(j<ne[3*de])de=2*de;else if(j>ne[3*de+1])de=2*de+1;else return ne[3*de+2];return 0}}se._INSTANCE=null;function oe(){return JSON.parse("[0,0,0,51592,51592,11,44424,44424,11,72251,72254,5,7150,7150,7,48008,48008,11,55176,55176,11,128420,128420,14,3276,3277,5,9979,9980,14,46216,46216,11,49800,49800,11,53384,53384,11,70726,70726,5,122915,122916,5,129320,129327,14,2558,2558,5,5906,5908,5,9762,9763,14,43360,43388,8,45320,45320,11,47112,47112,11,48904,48904,11,50696,50696,11,52488,52488,11,54280,54280,11,70082,70083,1,71350,71350,7,73111,73111,5,127892,127893,14,128726,128727,14,129473,129474,14,2027,2035,5,2901,2902,5,3784,3789,5,6754,6754,5,8418,8420,5,9877,9877,14,11088,11088,14,44008,44008,5,44872,44872,11,45768,45768,11,46664,46664,11,47560,47560,11,48456,48456,11,49352,49352,11,50248,50248,11,51144,51144,11,52040,52040,11,52936,52936,11,53832,53832,11,54728,54728,11,69811,69814,5,70459,70460,5,71096,71099,7,71998,71998,5,72874,72880,5,119149,119149,7,127374,127374,14,128335,128335,14,128482,128482,14,128765,128767,14,129399,129400,14,129680,129685,14,1476,1477,5,2377,2380,7,2759,2760,5,3137,3140,7,3458,3459,7,4153,4154,5,6432,6434,5,6978,6978,5,7675,7679,5,9723,9726,14,9823,9823,14,9919,9923,14,10035,10036,14,42736,42737,5,43596,43596,5,44200,44200,11,44648,44648,11,45096,45096,11,45544,45544,11,45992,45992,11,46440,46440,11,46888,46888,11,47336,47336,11,47784,47784,11,48232,48232,11,48680,48680,11,49128,49128,11,49576,49576,11,50024,50024,11,50472,50472,11,50920,50920,11,51368,51368,11,51816,51816,11,52264,52264,11,52712,52712,11,53160,53160,11,53608,53608,11,54056,54056,11,54504,54504,11,54952,54952,11,68108,68111,5,69933,69940,5,70197,70197,7,70498,70499,7,70845,70845,5,71229,71229,5,71727,71735,5,72154,72155,5,72344,72345,5,73023,73029,5,94095,94098,5,121403,121452,5,126981,127182,14,127538,127546,14,127990,127990,14,128391,128391,14,128445,128449,14,128500,128505,14,128752,128752,14,129160,129167,14,129356,129356,14,129432,129442,14,129648,129651,14,129751,131069,14,173,173,4,1757,1757,1,2274,2274,1,2494,2494,5,2641,2641,5,2876,2876,5,3014,3016,7,3262,3262,7,3393,3396,5,3570,3571,7,3968,3972,5,4228,4228,7,6086,6086,5,6679,6680,5,6912,6915,5,7080,7081,5,7380,7392,5,8252,8252,14,9096,9096,14,9748,9749,14,9784,9786,14,9833,9850,14,9890,9894,14,9938,9938,14,9999,9999,14,10085,10087,14,12349,12349,14,43136,43137,7,43454,43456,7,43755,43755,7,44088,44088,11,44312,44312,11,44536,44536,11,44760,44760,11,44984,44984,11,45208,45208,11,45432,45432,11,45656,45656,11,45880,45880,11,46104,46104,11,46328,46328,11,46552,46552,11,46776,46776,11,47000,47000,11,47224,47224,11,47448,47448,11,47672,47672,11,47896,47896,11,48120,48120,11,48344,48344,11,48568,48568,11,48792,48792,11,49016,49016,11,49240,49240,11,49464,49464,11,49688,49688,11,49912,49912,11,50136,50136,11,50360,50360,11,50584,50584,11,50808,50808,11,51032,51032,11,51256,51256,11,51480,51480,11,51704,51704,11,51928,51928,11,52152,52152,11,52376,52376,11,52600,52600,11,52824,52824,11,53048,53048,11,53272,53272,11,53496,53496,11,53720,53720,11,53944,53944,11,54168,54168,11,54392,54392,11,54616,54616,11,54840,54840,11,55064,55064,11,65438,65439,5,69633,69633,5,69837,69837,1,70018,70018,7,70188,70190,7,70368,70370,7,70465,70468,7,70712,70719,5,70835,70840,5,70850,70851,5,71132,71133,5,71340,71340,7,71458,71461,5,71985,71989,7,72002,72002,7,72193,72202,5,72281,72283,5,72766,72766,7,72885,72886,5,73104,73105,5,92912,92916,5,113824,113827,4,119173,119179,5,121505,121519,5,125136,125142,5,127279,127279,14,127489,127490,14,127570,127743,14,127900,127901,14,128254,128254,14,128369,128370,14,128400,128400,14,128425,128432,14,128468,128475,14,128489,128494,14,128715,128720,14,128745,128745,14,128759,128760,14,129004,129023,14,129296,129304,14,129340,129342,14,129388,129392,14,129404,129407,14,129454,129455,14,129485,129487,14,129659,129663,14,129719,129727,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2363,2363,7,2402,2403,5,2507,2508,7,2622,2624,7,2691,2691,7,2786,2787,5,2881,2884,5,3006,3006,5,3072,3072,5,3170,3171,5,3267,3268,7,3330,3331,7,3406,3406,1,3538,3540,5,3655,3662,5,3897,3897,5,4038,4038,5,4184,4185,5,4352,4447,8,6068,6069,5,6155,6157,5,6448,6449,7,6742,6742,5,6783,6783,5,6966,6970,5,7042,7042,7,7143,7143,7,7212,7219,5,7412,7412,5,8206,8207,4,8294,8303,4,8596,8601,14,9410,9410,14,9742,9742,14,9757,9757,14,9770,9770,14,9794,9794,14,9828,9828,14,9855,9855,14,9882,9882,14,9900,9903,14,9929,9933,14,9963,9967,14,9987,9988,14,10006,10006,14,10062,10062,14,10175,10175,14,11744,11775,5,42607,42607,5,43043,43044,7,43263,43263,5,43444,43445,7,43569,43570,5,43698,43700,5,43766,43766,5,44032,44032,11,44144,44144,11,44256,44256,11,44368,44368,11,44480,44480,11,44592,44592,11,44704,44704,11,44816,44816,11,44928,44928,11,45040,45040,11,45152,45152,11,45264,45264,11,45376,45376,11,45488,45488,11,45600,45600,11,45712,45712,11,45824,45824,11,45936,45936,11,46048,46048,11,46160,46160,11,46272,46272,11,46384,46384,11,46496,46496,11,46608,46608,11,46720,46720,11,46832,46832,11,46944,46944,11,47056,47056,11,47168,47168,11,47280,47280,11,47392,47392,11,47504,47504,11,47616,47616,11,47728,47728,11,47840,47840,11,47952,47952,11,48064,48064,11,48176,48176,11,48288,48288,11,48400,48400,11,48512,48512,11,48624,48624,11,48736,48736,11,48848,48848,11,48960,48960,11,49072,49072,11,49184,49184,11,49296,49296,11,49408,49408,11,49520,49520,11,49632,49632,11,49744,49744,11,49856,49856,11,49968,49968,11,50080,50080,11,50192,50192,11,50304,50304,11,50416,50416,11,50528,50528,11,50640,50640,11,50752,50752,11,50864,50864,11,50976,50976,11,51088,51088,11,51200,51200,11,51312,51312,11,51424,51424,11,51536,51536,11,51648,51648,11,51760,51760,11,51872,51872,11,51984,51984,11,52096,52096,11,52208,52208,11,52320,52320,11,52432,52432,11,52544,52544,11,52656,52656,11,52768,52768,11,52880,52880,11,52992,52992,11,53104,53104,11,53216,53216,11,53328,53328,11,53440,53440,11,53552,53552,11,53664,53664,11,53776,53776,11,53888,53888,11,54000,54000,11,54112,54112,11,54224,54224,11,54336,54336,11,54448,54448,11,54560,54560,11,54672,54672,11,54784,54784,11,54896,54896,11,55008,55008,11,55120,55120,11,64286,64286,5,66272,66272,5,68900,68903,5,69762,69762,7,69817,69818,5,69927,69931,5,70003,70003,5,70070,70078,5,70094,70094,7,70194,70195,7,70206,70206,5,70400,70401,5,70463,70463,7,70475,70477,7,70512,70516,5,70722,70724,5,70832,70832,5,70842,70842,5,70847,70848,5,71088,71089,7,71102,71102,7,71219,71226,5,71231,71232,5,71342,71343,7,71453,71455,5,71463,71467,5,71737,71738,5,71995,71996,5,72000,72000,7,72145,72147,7,72160,72160,5,72249,72249,7,72273,72278,5,72330,72342,5,72752,72758,5,72850,72871,5,72882,72883,5,73018,73018,5,73031,73031,5,73109,73109,5,73461,73462,7,94031,94031,5,94192,94193,7,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,126976,126979,14,127184,127231,14,127344,127345,14,127405,127461,14,127514,127514,14,127561,127567,14,127778,127779,14,127896,127896,14,127985,127986,14,127995,127999,5,128326,128328,14,128360,128366,14,128378,128378,14,128394,128397,14,128405,128406,14,128422,128423,14,128435,128443,14,128453,128464,14,128479,128480,14,128484,128487,14,128496,128498,14,128640,128709,14,128723,128724,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129096,129103,14,129292,129292,14,129311,129311,14,129329,129330,14,129344,129349,14,129360,129374,14,129394,129394,14,129402,129402,14,129413,129425,14,129445,129450,14,129466,129471,14,129483,129483,14,129511,129535,14,129653,129655,14,129667,129670,14,129705,129711,14,129731,129743,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2307,2307,7,2366,2368,7,2382,2383,7,2434,2435,7,2497,2500,5,2519,2519,5,2563,2563,7,2631,2632,5,2677,2677,5,2750,2752,7,2763,2764,7,2817,2817,5,2879,2879,5,2891,2892,7,2914,2915,5,3008,3008,5,3021,3021,5,3076,3076,5,3146,3149,5,3202,3203,7,3264,3265,7,3271,3272,7,3298,3299,5,3390,3390,5,3402,3404,7,3426,3427,5,3535,3535,5,3544,3550,7,3635,3635,7,3763,3763,7,3893,3893,5,3953,3966,5,3981,3991,5,4145,4145,7,4157,4158,5,4209,4212,5,4237,4237,5,4520,4607,10,5970,5971,5,6071,6077,5,6089,6099,5,6277,6278,5,6439,6440,5,6451,6456,7,6683,6683,5,6744,6750,5,6765,6770,7,6846,6846,5,6964,6964,5,6972,6972,5,7019,7027,5,7074,7077,5,7083,7085,5,7146,7148,7,7154,7155,7,7222,7223,5,7394,7400,5,7416,7417,5,8204,8204,5,8233,8233,4,8288,8292,4,8413,8416,5,8482,8482,14,8986,8987,14,9193,9203,14,9654,9654,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9775,14,9792,9792,14,9800,9811,14,9825,9826,14,9831,9831,14,9852,9853,14,9872,9873,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9936,9936,14,9941,9960,14,9974,9974,14,9982,9985,14,9992,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10145,10145,14,11013,11015,14,11503,11505,5,12334,12335,5,12951,12951,14,42612,42621,5,43014,43014,5,43047,43047,7,43204,43205,5,43335,43345,5,43395,43395,7,43450,43451,7,43561,43566,5,43573,43574,5,43644,43644,5,43710,43711,5,43758,43759,7,44005,44005,5,44012,44012,7,44060,44060,11,44116,44116,11,44172,44172,11,44228,44228,11,44284,44284,11,44340,44340,11,44396,44396,11,44452,44452,11,44508,44508,11,44564,44564,11,44620,44620,11,44676,44676,11,44732,44732,11,44788,44788,11,44844,44844,11,44900,44900,11,44956,44956,11,45012,45012,11,45068,45068,11,45124,45124,11,45180,45180,11,45236,45236,11,45292,45292,11,45348,45348,11,45404,45404,11,45460,45460,11,45516,45516,11,45572,45572,11,45628,45628,11,45684,45684,11,45740,45740,11,45796,45796,11,45852,45852,11,45908,45908,11,45964,45964,11,46020,46020,11,46076,46076,11,46132,46132,11,46188,46188,11,46244,46244,11,46300,46300,11,46356,46356,11,46412,46412,11,46468,46468,11,46524,46524,11,46580,46580,11,46636,46636,11,46692,46692,11,46748,46748,11,46804,46804,11,46860,46860,11,46916,46916,11,46972,46972,11,47028,47028,11,47084,47084,11,47140,47140,11,47196,47196,11,47252,47252,11,47308,47308,11,47364,47364,11,47420,47420,11,47476,47476,11,47532,47532,11,47588,47588,11,47644,47644,11,47700,47700,11,47756,47756,11,47812,47812,11,47868,47868,11,47924,47924,11,47980,47980,11,48036,48036,11,48092,48092,11,48148,48148,11,48204,48204,11,48260,48260,11,48316,48316,11,48372,48372,11,48428,48428,11,48484,48484,11,48540,48540,11,48596,48596,11,48652,48652,11,48708,48708,11,48764,48764,11,48820,48820,11,48876,48876,11,48932,48932,11,48988,48988,11,49044,49044,11,49100,49100,11,49156,49156,11,49212,49212,11,49268,49268,11,49324,49324,11,49380,49380,11,49436,49436,11,49492,49492,11,49548,49548,11,49604,49604,11,49660,49660,11,49716,49716,11,49772,49772,11,49828,49828,11,49884,49884,11,49940,49940,11,49996,49996,11,50052,50052,11,50108,50108,11,50164,50164,11,50220,50220,11,50276,50276,11,50332,50332,11,50388,50388,11,50444,50444,11,50500,50500,11,50556,50556,11,50612,50612,11,50668,50668,11,50724,50724,11,50780,50780,11,50836,50836,11,50892,50892,11,50948,50948,11,51004,51004,11,51060,51060,11,51116,51116,11,51172,51172,11,51228,51228,11,51284,51284,11,51340,51340,11,51396,51396,11,51452,51452,11,51508,51508,11,51564,51564,11,51620,51620,11,51676,51676,11,51732,51732,11,51788,51788,11,51844,51844,11,51900,51900,11,51956,51956,11,52012,52012,11,52068,52068,11,52124,52124,11,52180,52180,11,52236,52236,11,52292,52292,11,52348,52348,11,52404,52404,11,52460,52460,11,52516,52516,11,52572,52572,11,52628,52628,11,52684,52684,11,52740,52740,11,52796,52796,11,52852,52852,11,52908,52908,11,52964,52964,11,53020,53020,11,53076,53076,11,53132,53132,11,53188,53188,11,53244,53244,11,53300,53300,11,53356,53356,11,53412,53412,11,53468,53468,11,53524,53524,11,53580,53580,11,53636,53636,11,53692,53692,11,53748,53748,11,53804,53804,11,53860,53860,11,53916,53916,11,53972,53972,11,54028,54028,11,54084,54084,11,54140,54140,11,54196,54196,11,54252,54252,11,54308,54308,11,54364,54364,11,54420,54420,11,54476,54476,11,54532,54532,11,54588,54588,11,54644,54644,11,54700,54700,11,54756,54756,11,54812,54812,11,54868,54868,11,54924,54924,11,54980,54980,11,55036,55036,11,55092,55092,11,55148,55148,11,55216,55238,9,65056,65071,5,65529,65531,4,68097,68099,5,68159,68159,5,69446,69456,5,69688,69702,5,69808,69810,7,69815,69816,7,69821,69821,1,69888,69890,5,69932,69932,7,69957,69958,7,70016,70017,5,70067,70069,7,70079,70080,7,70089,70092,5,70095,70095,5,70191,70193,5,70196,70196,5,70198,70199,5,70367,70367,5,70371,70378,5,70402,70403,7,70462,70462,5,70464,70464,5,70471,70472,7,70487,70487,5,70502,70508,5,70709,70711,7,70720,70721,7,70725,70725,7,70750,70750,5,70833,70834,7,70841,70841,7,70843,70844,7,70846,70846,7,70849,70849,7,71087,71087,5,71090,71093,5,71100,71101,5,71103,71104,5,71216,71218,7,71227,71228,7,71230,71230,7,71339,71339,5,71341,71341,5,71344,71349,5,71351,71351,5,71456,71457,7,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123628,123631,5,125252,125258,5,126980,126980,14,127183,127183,14,127245,127247,14,127340,127343,14,127358,127359,14,127377,127386,14,127462,127487,6,127491,127503,14,127535,127535,14,127548,127551,14,127568,127569,14,127744,127777,14,127780,127891,14,127894,127895,14,127897,127899,14,127902,127984,14,127987,127989,14,127991,127994,14,128000,128253,14,128255,128317,14,128329,128334,14,128336,128359,14,128367,128368,14,128371,128377,14,128379,128390,14,128392,128393,14,128398,128399,14,128401,128404,14,128407,128419,14,128421,128421,14,128424,128424,14,128433,128434,14,128444,128444,14,128450,128452,14,128465,128467,14,128476,128478,14,128481,128481,14,128483,128483,14,128488,128488,14,128495,128495,14,128499,128499,14,128506,128591,14,128710,128714,14,128721,128722,14,128725,128725,14,128728,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129664,129666,14,129671,129679,14,129686,129704,14,129712,129718,14,129728,129730,14,129744,129750,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2259,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3134,3136,5,3142,3144,5,3157,3158,5,3201,3201,5,3260,3260,5,3263,3263,5,3266,3266,5,3270,3270,5,3274,3275,7,3285,3286,5,3328,3329,5,3387,3388,5,3391,3392,7,3398,3400,7,3405,3405,5,3415,3415,5,3457,3457,5,3530,3530,5,3536,3537,7,3542,3542,5,3551,3551,5,3633,3633,5,3636,3642,5,3761,3761,5,3764,3772,5,3864,3865,5,3895,3895,5,3902,3903,7,3967,3967,7,3974,3975,5,3993,4028,5,4141,4144,5,4146,4151,5,4155,4156,7,4182,4183,7,4190,4192,5,4226,4226,5,4229,4230,5,4253,4253,5,4448,4519,9,4957,4959,5,5938,5940,5,6002,6003,5,6070,6070,7,6078,6085,7,6087,6088,7,6109,6109,5,6158,6158,4,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6848,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7673,5,8203,8203,4,8205,8205,13,8232,8232,4,8234,8238,4,8265,8265,14,8293,8293,4,8400,8412,5,8417,8417,5,8421,8432,5,8505,8505,14,8617,8618,14,9000,9000,14,9167,9167,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9776,9783,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9935,14,9937,9937,14,9939,9940,14,9961,9962,14,9968,9973,14,9975,9978,14,9981,9981,14,9986,9986,14,9989,9989,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10084,14,10133,10135,14,10160,10160,14,10548,10549,14,11035,11036,14,11093,11093,14,11647,11647,5,12330,12333,5,12336,12336,14,12441,12442,5,12953,12953,14,42608,42610,5,42654,42655,5,43010,43010,5,43019,43019,5,43045,43046,5,43052,43052,5,43188,43203,7,43232,43249,5,43302,43309,5,43346,43347,7,43392,43394,5,43443,43443,5,43446,43449,5,43452,43453,5,43493,43493,5,43567,43568,7,43571,43572,7,43587,43587,5,43597,43597,7,43696,43696,5,43703,43704,5,43713,43713,5,43756,43757,5,43765,43765,7,44003,44004,7,44006,44007,7,44009,44010,7,44013,44013,5,44033,44059,12,44061,44087,12,44089,44115,12,44117,44143,12,44145,44171,12,44173,44199,12,44201,44227,12,44229,44255,12,44257,44283,12,44285,44311,12,44313,44339,12,44341,44367,12,44369,44395,12,44397,44423,12,44425,44451,12,44453,44479,12,44481,44507,12,44509,44535,12,44537,44563,12,44565,44591,12,44593,44619,12,44621,44647,12,44649,44675,12,44677,44703,12,44705,44731,12,44733,44759,12,44761,44787,12,44789,44815,12,44817,44843,12,44845,44871,12,44873,44899,12,44901,44927,12,44929,44955,12,44957,44983,12,44985,45011,12,45013,45039,12,45041,45067,12,45069,45095,12,45097,45123,12,45125,45151,12,45153,45179,12,45181,45207,12,45209,45235,12,45237,45263,12,45265,45291,12,45293,45319,12,45321,45347,12,45349,45375,12,45377,45403,12,45405,45431,12,45433,45459,12,45461,45487,12,45489,45515,12,45517,45543,12,45545,45571,12,45573,45599,12,45601,45627,12,45629,45655,12,45657,45683,12,45685,45711,12,45713,45739,12,45741,45767,12,45769,45795,12,45797,45823,12,45825,45851,12,45853,45879,12,45881,45907,12,45909,45935,12,45937,45963,12,45965,45991,12,45993,46019,12,46021,46047,12,46049,46075,12,46077,46103,12,46105,46131,12,46133,46159,12,46161,46187,12,46189,46215,12,46217,46243,12,46245,46271,12,46273,46299,12,46301,46327,12,46329,46355,12,46357,46383,12,46385,46411,12,46413,46439,12,46441,46467,12,46469,46495,12,46497,46523,12,46525,46551,12,46553,46579,12,46581,46607,12,46609,46635,12,46637,46663,12,46665,46691,12,46693,46719,12,46721,46747,12,46749,46775,12,46777,46803,12,46805,46831,12,46833,46859,12,46861,46887,12,46889,46915,12,46917,46943,12,46945,46971,12,46973,46999,12,47001,47027,12,47029,47055,12,47057,47083,12,47085,47111,12,47113,47139,12,47141,47167,12,47169,47195,12,47197,47223,12,47225,47251,12,47253,47279,12,47281,47307,12,47309,47335,12,47337,47363,12,47365,47391,12,47393,47419,12,47421,47447,12,47449,47475,12,47477,47503,12,47505,47531,12,47533,47559,12,47561,47587,12,47589,47615,12,47617,47643,12,47645,47671,12,47673,47699,12,47701,47727,12,47729,47755,12,47757,47783,12,47785,47811,12,47813,47839,12,47841,47867,12,47869,47895,12,47897,47923,12,47925,47951,12,47953,47979,12,47981,48007,12,48009,48035,12,48037,48063,12,48065,48091,12,48093,48119,12,48121,48147,12,48149,48175,12,48177,48203,12,48205,48231,12,48233,48259,12,48261,48287,12,48289,48315,12,48317,48343,12,48345,48371,12,48373,48399,12,48401,48427,12,48429,48455,12,48457,48483,12,48485,48511,12,48513,48539,12,48541,48567,12,48569,48595,12,48597,48623,12,48625,48651,12,48653,48679,12,48681,48707,12,48709,48735,12,48737,48763,12,48765,48791,12,48793,48819,12,48821,48847,12,48849,48875,12,48877,48903,12,48905,48931,12,48933,48959,12,48961,48987,12,48989,49015,12,49017,49043,12,49045,49071,12,49073,49099,12,49101,49127,12,49129,49155,12,49157,49183,12,49185,49211,12,49213,49239,12,49241,49267,12,49269,49295,12,49297,49323,12,49325,49351,12,49353,49379,12,49381,49407,12,49409,49435,12,49437,49463,12,49465,49491,12,49493,49519,12,49521,49547,12,49549,49575,12,49577,49603,12,49605,49631,12,49633,49659,12,49661,49687,12,49689,49715,12,49717,49743,12,49745,49771,12,49773,49799,12,49801,49827,12,49829,49855,12,49857,49883,12,49885,49911,12,49913,49939,12,49941,49967,12,49969,49995,12,49997,50023,12,50025,50051,12,50053,50079,12,50081,50107,12,50109,50135,12,50137,50163,12,50165,50191,12,50193,50219,12,50221,50247,12,50249,50275,12,50277,50303,12,50305,50331,12,50333,50359,12,50361,50387,12,50389,50415,12,50417,50443,12,50445,50471,12,50473,50499,12,50501,50527,12,50529,50555,12,50557,50583,12,50585,50611,12,50613,50639,12,50641,50667,12,50669,50695,12,50697,50723,12,50725,50751,12,50753,50779,12,50781,50807,12,50809,50835,12,50837,50863,12,50865,50891,12,50893,50919,12,50921,50947,12,50949,50975,12,50977,51003,12,51005,51031,12,51033,51059,12,51061,51087,12,51089,51115,12,51117,51143,12,51145,51171,12,51173,51199,12,51201,51227,12,51229,51255,12,51257,51283,12,51285,51311,12,51313,51339,12,51341,51367,12,51369,51395,12,51397,51423,12,51425,51451,12,51453,51479,12,51481,51507,12,51509,51535,12,51537,51563,12,51565,51591,12,51593,51619,12,51621,51647,12,51649,51675,12,51677,51703,12,51705,51731,12,51733,51759,12,51761,51787,12,51789,51815,12,51817,51843,12,51845,51871,12,51873,51899,12,51901,51927,12,51929,51955,12,51957,51983,12,51985,52011,12,52013,52039,12,52041,52067,12,52069,52095,12,52097,52123,12,52125,52151,12,52153,52179,12,52181,52207,12,52209,52235,12,52237,52263,12,52265,52291,12,52293,52319,12,52321,52347,12,52349,52375,12,52377,52403,12,52405,52431,12,52433,52459,12,52461,52487,12,52489,52515,12,52517,52543,12,52545,52571,12,52573,52599,12,52601,52627,12,52629,52655,12,52657,52683,12,52685,52711,12,52713,52739,12,52741,52767,12,52769,52795,12,52797,52823,12,52825,52851,12,52853,52879,12,52881,52907,12,52909,52935,12,52937,52963,12,52965,52991,12,52993,53019,12,53021,53047,12,53049,53075,12,53077,53103,12,53105,53131,12,53133,53159,12,53161,53187,12,53189,53215,12,53217,53243,12,53245,53271,12,53273,53299,12,53301,53327,12,53329,53355,12,53357,53383,12,53385,53411,12,53413,53439,12,53441,53467,12,53469,53495,12,53497,53523,12,53525,53551,12,53553,53579,12,53581,53607,12,53609,53635,12,53637,53663,12,53665,53691,12,53693,53719,12,53721,53747,12,53749,53775,12,53777,53803,12,53805,53831,12,53833,53859,12,53861,53887,12,53889,53915,12,53917,53943,12,53945,53971,12,53973,53999,12,54001,54027,12,54029,54055,12,54057,54083,12,54085,54111,12,54113,54139,12,54141,54167,12,54169,54195,12,54197,54223,12,54225,54251,12,54253,54279,12,54281,54307,12,54309,54335,12,54337,54363,12,54365,54391,12,54393,54419,12,54421,54447,12,54449,54475,12,54477,54503,12,54505,54531,12,54533,54559,12,54561,54587,12,54589,54615,12,54617,54643,12,54645,54671,12,54673,54699,12,54701,54727,12,54729,54755,12,54757,54783,12,54785,54811,12,54813,54839,12,54841,54867,12,54869,54895,12,54897,54923,12,54925,54951,12,54953,54979,12,54981,55007,12,55009,55035,12,55037,55063,12,55065,55091,12,55093,55119,12,55121,55147,12,55149,55175,12,55177,55203,12,55243,55291,10,65024,65039,5,65279,65279,4,65520,65528,4,66045,66045,5,66422,66426,5,68101,68102,5,68152,68154,5,68325,68326,5,69291,69292,5,69632,69632,7,69634,69634,7,69759,69761,5]")}}),define(J[101],ee([0,1,8]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.writeUInt8=e.readUInt8=e.writeUInt32BE=e.readUInt32BE=e.writeUInt16LE=e.readUInt16LE=e.VSBuffer=void 0;const I=typeof Buffer!="undefined",k=typeof TextDecoder!="undefined";let w;class S{constructor(c){this.buffer=c,this.byteLength=this.buffer.byteLength}static wrap(c){return I&&!Buffer.isBuffer(c)&&(c=Buffer.from(c.buffer,c.byteOffset,c.byteLength)),new S(c)}toString(){return I?this.buffer.toString():k?(w||(w=new TextDecoder),w.decode(this.buffer)):v.decodeUTF8(this.buffer)}}e.VSBuffer=S;function _(l,c){return l[c+0]<<0>>>0|l[c+1]<<8>>>0}e.readUInt16LE=_;function C(l,c,d){l[d+0]=c&255,c=c>>>8,l[d+1]=c&255}e.writeUInt16LE=C;function i(l,c){return l[c]*Math.pow(2,24)+l[c+1]*Math.pow(2,16)+l[c+2]*Math.pow(2,8)+l[c+3]}e.readUInt32BE=i;function p(l,c,d){l[d+3]=c,c=c>>>8,l[d+2]=c,c=c>>>8,l[d+1]=c,c=c>>>8,l[d]=c}e.writeUInt32BE=p;function u(l,c){return l[c]}e.readUInt8=u;function a(l,c,d){l[d]=c}e.writeUInt8=a}),define(J[152],ee([0,1,17,8,73]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasDriveLetter=e.isRootOrDriveLetter=e.isWindowsDriveLetter=e.isEqualOrParent=e.toSlashes=void 0;function w(p){return p.replace(/[\\/]/g,k.posix.sep)}e.toSlashes=w;function S(p,u,a,l=k.sep){if(p===u)return!0;if(!p||!u||u.length>p.length)return!1;if(a){if(!(0,I.startsWithIgnoreCase)(p,u))return!1;if(u.length===p.length)return!0;let d=u.length;return u.charAt(u.length-1)===l&&d--,p.charAt(d)===l}return u.charAt(u.length-1)!==l&&(u+=l),p.indexOf(u)===0}e.isEqualOrParent=S;function _(p){return p>=65&&p<=90||p>=97&&p<=122}e.isWindowsDriveLetter=_;function C(p){const u=(0,k.normalize)(p);return v.isWindows?p.length>3?!1:i(u)&&(p.length===2||u.charCodeAt(2)===92):u===k.posix.sep}e.isRootOrDriveLetter=C;function i(p){return v.isWindows?_(p.charCodeAt(0))&&p.charCodeAt(1)===58:!1}e.hasDriveLetter=i}),define(J[89],ee([0,1,8]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringSHA1=e.toHexString=e.stringHash=e.doHash=e.hash=void 0;function I(d){return k(d,0)}e.hash=I;function k(d,r){switch(typeof d){case"object":return d===null?w(349,r):Array.isArray(d)?C(d,r):i(d,r);case"string":return _(d,r);case"boolean":return S(d,r);case"number":return w(d,r);case"undefined":return w(937,r);default:return w(617,r)}}e.doHash=k;function w(d,r){return(r<<5)-r+d|0}function S(d,r){return w(d?433:863,r)}function _(d,r){r=w(149417,r);for(let n=0,s=d.length;n<s;n++)r=w(d.charCodeAt(n),r);return r}e.stringHash=_;function C(d,r){return r=w(104579,r),d.reduce((n,s)=>k(s,n),r)}function i(d,r){return r=w(181387,r),Object.keys(d).sort().reduce((n,s)=>(n=_(s,n),k(d[s],n)),r)}function p(d,r,n=32){const s=n-r,t=~((1<<s)-1);return(d<<r|(t&d)>>>s)>>>0}function u(d,r=0,n=d.byteLength,s=0){for(let t=0;t<n;t++)d[r+t]=s}function a(d,r,n="0"){for(;d.length<r;)d=n+d;return d}function l(d,r=32){return d instanceof ArrayBuffer?Array.from(new Uint8Array(d)).map(n=>n.toString(16).padStart(2,"0")).join(""):a((d>>>0).toString(16),r/4)}e.toHexString=l;class c{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(r){const n=r.length;if(n!==0){const s=this._buff;let t=this._buffLen,o=this._leftoverHighSurrogate,h,g;for(o!==0?(h=o,g=-1,o=0):(h=r.charCodeAt(0),g=0);;){let m=h;if(v.isHighSurrogate(h))if(g+1<n){const f=r.charCodeAt(g+1);v.isLowSurrogate(f)?(g++,m=v.computeCodePoint(h,f)):m=65533}else{o=h;break}else v.isLowSurrogate(h)&&(m=65533);if(t=this._push(s,t,m),g++,g<n)h=r.charCodeAt(g);else break}this._buffLen=t,this._leftoverHighSurrogate=o}}_push(r,n,s){return s<128?r[n++]=s:s<2048?(r[n++]=192|(s&1984)>>>6,r[n++]=128|(s&63)>>>0):s<65536?(r[n++]=224|(s&61440)>>>12,r[n++]=128|(s&4032)>>>6,r[n++]=128|(s&63)>>>0):(r[n++]=240|(s&1835008)>>>18,r[n++]=128|(s&258048)>>>12,r[n++]=128|(s&4032)>>>6,r[n++]=128|(s&63)>>>0),n>=64&&(this._step(),n-=64,this._totalLen+=64,r[0]=r[64+0],r[1]=r[64+1],r[2]=r[64+2]),n}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),l(this._h0)+l(this._h1)+l(this._h2)+l(this._h3)+l(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,u(this._buff,this._buffLen),this._buffLen>56&&(this._step(),u(this._buff));const r=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(r/4294967296),!1),this._buffDV.setUint32(60,r%4294967296,!1),this._step()}_step(){const r=c._bigBlock32,n=this._buffDV;for(let y=0;y<64;y+=4)r.setUint32(y,n.getUint32(y,!1),!1);for(let y=64;y<320;y+=4)r.setUint32(y,p(r.getUint32(y-12,!1)^r.getUint32(y-32,!1)^r.getUint32(y-56,!1)^r.getUint32(y-64,!1),1),!1);let s=this._h0,t=this._h1,o=this._h2,h=this._h3,g=this._h4,m,f,b;for(let y=0;y<80;y++)y<20?(m=t&o|~t&h,f=1518500249):y<40?(m=t^o^h,f=1859775393):y<60?(m=t&o|t&h|o&h,f=2400959708):(m=t^o^h,f=3395469782),b=p(s,5)+m+g+f+r.getUint32(y*4,!1)&4294967295,g=h,h=o,o=p(t,30),t=s,s=b;this._h0=this._h0+s&4294967295,this._h1=this._h1+t&4294967295,this._h2=this._h2+o&4294967295,this._h3=this._h3+h&4294967295,this._h4=this._h4+g&4294967295}}e.StringSHA1=c,c._bigBlock32=new DataView(new ArrayBuffer(320))}),define(J[153],ee([0,1,278,89]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LcsDiff=e.MyArray=e.Debug=e.stringDiff=e.StringDiffSequence=void 0;class k{constructor(u){this.source=u}getElements(){const u=this.source,a=new Int32Array(u.length);for(let l=0,c=u.length;l<c;l++)a[l]=u.charCodeAt(l);return a}}e.StringDiffSequence=k;function w(p,u,a){return new i(new k(p),new k(u)).ComputeDiff(a).changes}e.stringDiff=w;class S{static Assert(u,a){if(!u)throw new Error(a)}}e.Debug=S;class _{static Copy(u,a,l,c,d){for(let r=0;r<d;r++)l[c+r]=u[a+r]}static Copy2(u,a,l,c,d){for(let r=0;r<d;r++)l[c+r]=u[a+r]}}e.MyArray=_;class C{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new v.DiffChange(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(u,a){this.m_originalStart=Math.min(this.m_originalStart,u),this.m_modifiedStart=Math.min(this.m_modifiedStart,a),this.m_originalCount++}AddModifiedElement(u,a){this.m_originalStart=Math.min(this.m_originalStart,u),this.m_modifiedStart=Math.min(this.m_modifiedStart,a),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class i{constructor(u,a,l=null){this.ContinueProcessingPredicate=l;const[c,d,r]=i._getElements(u),[n,s,t]=i._getElements(a);this._hasStrings=r&&t,this._originalStringElements=c,this._originalElementsOrHash=d,this._modifiedStringElements=n,this._modifiedElementsOrHash=s,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(u){return u.length>0&&typeof u[0]=="string"}static _getElements(u){const a=u.getElements();if(i._isStringArray(a)){const l=new Int32Array(a.length);for(let c=0,d=a.length;c<d;c++)l[c]=(0,I.stringHash)(a[c],0);return[a,l,!0]}return a instanceof Int32Array?[[],a,!1]:[[],new Int32Array(a),!1]}ElementsAreEqual(u,a){return this._originalElementsOrHash[u]!==this._modifiedElementsOrHash[a]?!1:this._hasStrings?this._originalStringElements[u]===this._modifiedStringElements[a]:!0}OriginalElementsAreEqual(u,a){return this._originalElementsOrHash[u]!==this._originalElementsOrHash[a]?!1:this._hasStrings?this._originalStringElements[u]===this._originalStringElements[a]:!0}ModifiedElementsAreEqual(u,a){return this._modifiedElementsOrHash[u]!==this._modifiedElementsOrHash[a]?!1:this._hasStrings?this._modifiedStringElements[u]===this._modifiedStringElements[a]:!0}ComputeDiff(u){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,u)}_ComputeDiff(u,a,l,c,d){const r=[!1];let n=this.ComputeDiffRecursive(u,a,l,c,r);return d&&(n=this.PrettifyChanges(n)),{quitEarly:r[0],changes:n}}ComputeDiffRecursive(u,a,l,c,d){for(d[0]=!1;u<=a&&l<=c&&this.ElementsAreEqual(u,l);)u++,l++;for(;a>=u&&c>=l&&this.ElementsAreEqual(a,c);)a--,c--;if(u>a||l>c){let h;return l<=c?(S.Assert(u===a+1,"originalStart should only be one more than originalEnd"),h=[new v.DiffChange(u,0,l,c-l+1)]):u<=a?(S.Assert(l===c+1,"modifiedStart should only be one more than modifiedEnd"),h=[new v.DiffChange(u,a-u+1,l,0)]):(S.Assert(u===a+1,"originalStart should only be one more than originalEnd"),S.Assert(l===c+1,"modifiedStart should only be one more than modifiedEnd"),h=[]),h}const r=[0],n=[0],s=this.ComputeRecursionPoint(u,a,l,c,r,n,d),t=r[0],o=n[0];if(s!==null)return s;if(!d[0]){const h=this.ComputeDiffRecursive(u,t,l,o,d);let g=[];return d[0]?g=[new v.DiffChange(t+1,a-(t+1)+1,o+1,c-(o+1)+1)]:g=this.ComputeDiffRecursive(t+1,a,o+1,c,d),this.ConcatenateChanges(h,g)}return[new v.DiffChange(u,a-u+1,l,c-l+1)]}WALKTRACE(u,a,l,c,d,r,n,s,t,o,h,g,m,f,b,y,L,N){let M=null,D=null,R=new C,P=a,O=l,W=m[0]-y[0]-c,F=-1073741824,E=this.m_forwardHistory.length-1;do{const A=W+u;A===P||A<O&&t[A-1]<t[A+1]?(h=t[A+1],f=h-W-c,h<F&&R.MarkNextChange(),F=h,R.AddModifiedElement(h+1,f),W=A+1-u):(h=t[A-1]+1,f=h-W-c,h<F&&R.MarkNextChange(),F=h-1,R.AddOriginalElement(h,f+1),W=A-1-u),E>=0&&(t=this.m_forwardHistory[E],u=t[0],P=1,O=t.length-1)}while(--E>=-1);if(M=R.getReverseChanges(),N[0]){let A=m[0]+1,B=y[0]+1;if(M!==null&&M.length>0){const H=M[M.length-1];A=Math.max(A,H.getOriginalEnd()),B=Math.max(B,H.getModifiedEnd())}D=[new v.DiffChange(A,g-A+1,B,b-B+1)]}else{R=new C,P=r,O=n,W=m[0]-y[0]-s,F=1073741824,E=L?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const A=W+d;A===P||A<O&&o[A-1]>=o[A+1]?(h=o[A+1]-1,f=h-W-s,h>F&&R.MarkNextChange(),F=h+1,R.AddOriginalElement(h+1,f+1),W=A+1-d):(h=o[A-1],f=h-W-s,h>F&&R.MarkNextChange(),F=h,R.AddModifiedElement(h+1,f+1),W=A-1-d),E>=0&&(o=this.m_reverseHistory[E],d=o[0],P=1,O=o.length-1)}while(--E>=-1);D=R.getChanges()}return this.ConcatenateChanges(M,D)}ComputeRecursionPoint(u,a,l,c,d,r,n){let s=0,t=0,o=0,h=0,g=0,m=0;u--,l--,d[0]=0,r[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const f=a-u+(c-l),b=f+1,y=new Int32Array(b),L=new Int32Array(b),N=c-l,M=a-u,D=u-l,R=a-c,O=(M-N)%2==0;y[N]=u,L[M]=a,n[0]=!1;for(let W=1;W<=f/2+1;W++){let F=0,E=0;o=this.ClipDiagonalBound(N-W,W,N,b),h=this.ClipDiagonalBound(N+W,W,N,b);for(let B=o;B<=h;B+=2){B===o||B<h&&y[B-1]<y[B+1]?s=y[B+1]:s=y[B-1]+1,t=s-(B-N)-D;const H=s;for(;s<a&&t<c&&this.ElementsAreEqual(s+1,t+1);)s++,t++;if(y[B]=s,s+t>F+E&&(F=s,E=t),!O&&Math.abs(B-M)<=W-1&&s>=L[B])return d[0]=s,r[0]=t,H<=L[B]&&1447>0&&W<=1447+1?this.WALKTRACE(N,o,h,D,M,g,m,R,y,L,s,a,d,t,c,r,O,n):null}const A=(F-u+(E-l)-W)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(F,A))return n[0]=!0,d[0]=F,r[0]=E,A>0&&1447>0&&W<=1447+1?this.WALKTRACE(N,o,h,D,M,g,m,R,y,L,s,a,d,t,c,r,O,n):(u++,l++,[new v.DiffChange(u,a-u+1,l,c-l+1)]);g=this.ClipDiagonalBound(M-W,W,M,b),m=this.ClipDiagonalBound(M+W,W,M,b);for(let B=g;B<=m;B+=2){B===g||B<m&&L[B-1]>=L[B+1]?s=L[B+1]-1:s=L[B-1],t=s-(B-M)-R;const H=s;for(;s>u&&t>l&&this.ElementsAreEqual(s,t);)s--,t--;if(L[B]=s,O&&Math.abs(B-N)<=W&&s<=y[B])return d[0]=s,r[0]=t,H>=y[B]&&1447>0&&W<=1447+1?this.WALKTRACE(N,o,h,D,M,g,m,R,y,L,s,a,d,t,c,r,O,n):null}if(W<=1447){let B=new Int32Array(h-o+2);B[0]=N-o+1,_.Copy2(y,o,B,1,h-o+1),this.m_forwardHistory.push(B),B=new Int32Array(m-g+2),B[0]=M-g+1,_.Copy2(L,g,B,1,m-g+1),this.m_reverseHistory.push(B)}}return this.WALKTRACE(N,o,h,D,M,g,m,R,y,L,s,a,d,t,c,r,O,n)}PrettifyChanges(u){for(let a=0;a<u.length;a++){const l=u[a],c=a<u.length-1?u[a+1].originalStart:this._originalElementsOrHash.length,d=a<u.length-1?u[a+1].modifiedStart:this._modifiedElementsOrHash.length,r=l.originalLength>0,n=l.modifiedLength>0;for(;l.originalStart+l.originalLength<c&&l.modifiedStart+l.modifiedLength<d&&(!r||this.OriginalElementsAreEqual(l.originalStart,l.originalStart+l.originalLength))&&(!n||this.ModifiedElementsAreEqual(l.modifiedStart,l.modifiedStart+l.modifiedLength));)l.originalStart++,l.modifiedStart++;let s=[null];if(a<u.length-1&&this.ChangesOverlap(u[a],u[a+1],s)){u[a]=s[0],u.splice(a+1,1),a--;continue}}for(let a=u.length-1;a>=0;a--){const l=u[a];let c=0,d=0;if(a>0){const h=u[a-1];c=h.originalStart+h.originalLength,d=h.modifiedStart+h.modifiedLength}const r=l.originalLength>0,n=l.modifiedLength>0;let s=0,t=this._boundaryScore(l.originalStart,l.originalLength,l.modifiedStart,l.modifiedLength);for(let h=1;;h++){const g=l.originalStart-h,m=l.modifiedStart-h;if(g<c||m<d||r&&!this.OriginalElementsAreEqual(g,g+l.originalLength)||n&&!this.ModifiedElementsAreEqual(m,m+l.modifiedLength))break;const b=(g===c&&m===d?5:0)+this._boundaryScore(g,l.originalLength,m,l.modifiedLength);b>t&&(t=b,s=h)}l.originalStart-=s,l.modifiedStart-=s;const o=[null];if(a>0&&this.ChangesOverlap(u[a-1],u[a],o)){u[a-1]=o[0],u.splice(a,1),a++;continue}}if(this._hasStrings)for(let a=1,l=u.length;a<l;a++){const c=u[a-1],d=u[a],r=d.originalStart-c.originalStart-c.originalLength,n=c.originalStart,s=d.originalStart+d.originalLength,t=s-n,o=c.modifiedStart,h=d.modifiedStart+d.modifiedLength,g=h-o;if(r<5&&t<20&&g<20){const m=this._findBetterContiguousSequence(n,t,o,g,r);if(m){const[f,b]=m;(f!==c.originalStart+c.originalLength||b!==c.modifiedStart+c.modifiedLength)&&(c.originalLength=f-c.originalStart,c.modifiedLength=b-c.modifiedStart,d.originalStart=f+r,d.modifiedStart=b+r,d.originalLength=s-d.originalStart,d.modifiedLength=h-d.modifiedStart)}}}return u}_findBetterContiguousSequence(u,a,l,c,d){if(a<d||c<d)return null;const r=u+a-d+1,n=l+c-d+1;let s=0,t=0,o=0;for(let h=u;h<r;h++)for(let g=l;g<n;g++){const m=this._contiguousSequenceScore(h,g,d);m>0&&m>s&&(s=m,t=h,o=g)}return s>0?[t,o]:null}_contiguousSequenceScore(u,a,l){let c=0;for(let d=0;d<l;d++){if(!this.ElementsAreEqual(u+d,a+d))return 0;c+=this._originalStringElements[u+d].length}return c}_OriginalIsBoundary(u){return u<=0||u>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[u])}_OriginalRegionIsBoundary(u,a){if(this._OriginalIsBoundary(u)||this._OriginalIsBoundary(u-1))return!0;if(a>0){const l=u+a;if(this._OriginalIsBoundary(l-1)||this._OriginalIsBoundary(l))return!0}return!1}_ModifiedIsBoundary(u){return u<=0||u>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[u])}_ModifiedRegionIsBoundary(u,a){if(this._ModifiedIsBoundary(u)||this._ModifiedIsBoundary(u-1))return!0;if(a>0){const l=u+a;if(this._ModifiedIsBoundary(l-1)||this._ModifiedIsBoundary(l))return!0}return!1}_boundaryScore(u,a,l,c){const d=this._OriginalRegionIsBoundary(u,a)?1:0,r=this._ModifiedRegionIsBoundary(l,c)?1:0;return d+r}ConcatenateChanges(u,a){let l=[];if(u.length===0||a.length===0)return a.length>0?a:u;if(this.ChangesOverlap(u[u.length-1],a[0],l)){const c=new Array(u.length+a.length-1);return _.Copy(u,0,c,0,u.length-1),c[u.length-1]=l[0],_.Copy(a,1,c,u.length,a.length-1),c}else{const c=new Array(u.length+a.length);return _.Copy(u,0,c,0,u.length),_.Copy(a,0,c,u.length,a.length),c}}ChangesOverlap(u,a,l){if(S.Assert(u.originalStart<=a.originalStart,"Left change is not less than or equal to right change"),S.Assert(u.modifiedStart<=a.modifiedStart,"Left change is not less than or equal to right change"),u.originalStart+u.originalLength>=a.originalStart||u.modifiedStart+u.modifiedLength>=a.modifiedStart){const c=u.originalStart;let d=u.originalLength;const r=u.modifiedStart;let n=u.modifiedLength;return u.originalStart+u.originalLength>=a.originalStart&&(d=a.originalStart+a.originalLength-u.originalStart),u.modifiedStart+u.modifiedLength>=a.modifiedStart&&(n=a.modifiedStart+a.modifiedLength-u.modifiedStart),l[0]=new v.DiffChange(c,d,r,n),!0}else return l[0]=null,!1}ClipDiagonalBound(u,a,l,c){if(u>=0&&u<c)return u;const d=l,r=c-l-1,n=a%2==0;if(u<0){const s=d%2==0;return n===s?0:1}else{const s=r%2==0;return n===s?c-1:c-2}}}e.LcsDiff=i}),define(J[154],ee([0,1,98,19,153,6,54]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndexTreeModel=e.getVisibleState=e.isFilterResult=void 0;function _(u){return typeof u=="object"&&"visibility"in u&&"data"in u}e.isFilterResult=_;function C(u){switch(u){case!0:return 1;case!1:return 0;default:return u}}e.getVisibleState=C;function i(u){return typeof u.collapsible=="boolean"}class p{constructor(a,l,c,d={}){this.user=a,this.list=l,this.rootRef=[],this.eventBufferer=new w.EventBufferer,this._onDidChangeCollapseState=new w.Emitter,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new w.Emitter,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new w.Emitter,this.onDidSplice=this._onDidSplice.event,this.collapseByDefault=typeof d.collapseByDefault=="undefined"?!1:d.collapseByDefault,this.filter=d.filter,this.autoExpandSingleChildren=typeof d.autoExpandSingleChildren=="undefined"?!1:d.autoExpandSingleChildren,this.root={parent:void 0,element:c,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(a,l,c=S.Iterable.empty(),d={}){if(a.length===0)throw new v.TreeError(this.user,"Invalid tree location");d.diffIdentityProvider?this.spliceSmart(d.diffIdentityProvider,a,l,c,d):this.spliceSimple(a,l,c,d)}spliceSmart(a,l,c,d,r,n){var s;d===void 0&&(d=S.Iterable.empty()),n===void 0&&(n=(s=r.diffDepth)!==null&&s!==void 0?s:0);const{parentNode:t}=this.getParentNodeWithListIndex(l),o=[...d],h=l[l.length-1],g=new k.LcsDiff({getElements:()=>t.children.map(L=>a.getId(L.element).toString())},{getElements:()=>[...t.children.slice(0,h),...o,...t.children.slice(h+c)].map(L=>a.getId(L.element).toString())}).ComputeDiff(!1);if(g.quitEarly)return this.spliceSimple(l,c,o,r);const m=l.slice(0,-1),f=(L,N,M)=>{if(n>0)for(let D=0;D<M;D++)L--,N--,this.spliceSmart(a,[...m,L,0],Number.MAX_SAFE_INTEGER,o[N].children,r,n-1)};let b=Math.min(t.children.length,h+c),y=o.length;for(const L of g.changes.sort((N,M)=>M.originalStart-N.originalStart))f(b,y,b-(L.originalStart+L.originalLength)),b=L.originalStart,y=L.modifiedStart-h,this.spliceSimple([...m,b],L.originalLength,S.Iterable.slice(o,y,y+L.modifiedLength),r);f(b,y,b)}spliceSimple(a,l,c=S.Iterable.empty(),{onDidCreateNode:d,onDidDeleteNode:r}){const{parentNode:n,listIndex:s,revealed:t,visible:o}=this.getParentNodeWithListIndex(a),h=[],g=S.Iterable.map(c,O=>this.createTreeNode(O,n,n.visible?1:0,t,h,d)),m=a[a.length-1],f=n.children.length>0;let b=0;for(let O=m;O>=0&&O<n.children.length;O--){const W=n.children[O];if(W.visible){b=W.visibleChildIndex;break}}const y=[];let L=0,N=0;for(const O of g)y.push(O),N+=O.renderNodeCount,O.visible&&(O.visibleChildIndex=b+L++);const M=n.children.splice(m,l,...y);let D=0;for(const O of M)O.visible&&D++;if(D!==0)for(let O=m+y.length;O<n.children.length;O++){const W=n.children[O];W.visible&&(W.visibleChildIndex-=D)}if(n.visibleChildrenCount+=L-D,t&&o){const O=M.reduce((W,F)=>W+(F.visible?F.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(n,N-O),this.list.splice(s,O,h)}if(M.length>0&&r){const O=W=>{r(W),W.children.forEach(O)};M.forEach(O)}const R=n.children.length>0;f!==R&&this.setCollapsible(a.slice(0,-1),R),this._onDidSplice.fire({insertedNodes:y,deletedNodes:M});let P=n;for(;P;){if(P.visibility===2){this.refilter();break}P=P.parent}}rerender(a){if(a.length===0)throw new v.TreeError(this.user,"Invalid tree location");const{node:l,listIndex:c,revealed:d}=this.getTreeNodeWithListIndex(a);l.visible&&d&&this.list.splice(c,1,[l])}has(a){return this.hasTreeNode(a)}getListIndex(a){const{listIndex:l,visible:c,revealed:d}=this.getTreeNodeWithListIndex(a);return c&&d?l:-1}getListRenderCount(a){return this.getTreeNode(a).renderNodeCount}isCollapsible(a){return this.getTreeNode(a).collapsible}setCollapsible(a,l){const c=this.getTreeNode(a);typeof l=="undefined"&&(l=!c.collapsible);const d={collapsible:l};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(a,d))}isCollapsed(a){return this.getTreeNode(a).collapsed}setCollapsed(a,l,c){const d=this.getTreeNode(a);typeof l=="undefined"&&(l=!d.collapsed);const r={collapsed:l,recursive:c||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(a,r))}_setCollapseState(a,l){const{node:c,listIndex:d,revealed:r}=this.getTreeNodeWithListIndex(a),n=this._setListNodeCollapseState(c,d,r,l);if(c!==this.root&&this.autoExpandSingleChildren&&n&&!i(l)&&c.collapsible&&!c.collapsed&&!l.recursive){let s=-1;for(let t=0;t<c.children.length;t++)if(c.children[t].visible)if(s>-1){s=-1;break}else s=t;s>-1&&this._setCollapseState([...a,s],l)}return n}_setListNodeCollapseState(a,l,c,d){const r=this._setNodeCollapseState(a,d,!1);if(!c||!a.visible||!r)return r;const n=a.renderNodeCount,s=this.updateNodeAfterCollapseChange(a),t=n-(l===-1?0:1);return this.list.splice(l+1,t,s.slice(1)),r}_setNodeCollapseState(a,l,c){let d;if(a===this.root?d=!1:(i(l)?(d=a.collapsible!==l.collapsible,a.collapsible=l.collapsible):a.collapsible?(d=a.collapsed!==l.collapsed,a.collapsed=l.collapsed):d=!1,d&&this._onDidChangeCollapseState.fire({node:a,deep:c})),!i(l)&&l.recursive)for(const r of a.children)d=this._setNodeCollapseState(r,l,!0)||d;return d}expandTo(a){this.eventBufferer.bufferEvents(()=>{let l=this.getTreeNode(a);for(;l.parent;)l=l.parent,a=a.slice(0,a.length-1),l.collapsed&&this._setCollapseState(a,{collapsed:!1,recursive:!1})})}refilter(){const a=this.root.renderNodeCount,l=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,a,l)}createTreeNode(a,l,c,d,r,n){const s={parent:l,element:a.element,children:[],depth:l.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof a.collapsible=="boolean"?a.collapsible:typeof a.collapsed!="undefined",collapsed:typeof a.collapsed=="undefined"?this.collapseByDefault:a.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},t=this._filterNode(s,c);s.visibility=t,d&&r.push(s);const o=a.children||S.Iterable.empty(),h=d&&t!==0&&!s.collapsed,g=S.Iterable.map(o,b=>this.createTreeNode(b,s,t,h,r,n));let m=0,f=1;for(const b of g)s.children.push(b),f+=b.renderNodeCount,b.visible&&(b.visibleChildIndex=m++);return s.collapsible=s.collapsible||s.children.length>0,s.visibleChildrenCount=m,s.visible=t===2?m>0:t===1,s.visible?s.collapsed||(s.renderNodeCount=f):(s.renderNodeCount=0,d&&r.pop()),n&&n(s),s}updateNodeAfterCollapseChange(a){const l=a.renderNodeCount,c=[];return this._updateNodeAfterCollapseChange(a,c),this._updateAncestorsRenderNodeCount(a.parent,c.length-l),c}_updateNodeAfterCollapseChange(a,l){if(a.visible===!1)return 0;if(l.push(a),a.renderNodeCount=1,!a.collapsed)for(const c of a.children)a.renderNodeCount+=this._updateNodeAfterCollapseChange(c,l);return this._onDidChangeRenderNodeCount.fire(a),a.renderNodeCount}updateNodeAfterFilterChange(a){const l=a.renderNodeCount,c=[];return this._updateNodeAfterFilterChange(a,a.visible?1:0,c),this._updateAncestorsRenderNodeCount(a.parent,c.length-l),c}_updateNodeAfterFilterChange(a,l,c,d=!0){let r;if(a!==this.root){if(r=this._filterNode(a,l),r===0)return a.visible=!1,a.renderNodeCount=0,!1;d&&c.push(a)}const n=c.length;a.renderNodeCount=a===this.root?0:1;let s=!1;if(!a.collapsed||r!==0){let t=0;for(const o of a.children)s=this._updateNodeAfterFilterChange(o,r,c,d&&!a.collapsed)||s,o.visible&&(o.visibleChildIndex=t++);a.visibleChildrenCount=t}else a.visibleChildrenCount=0;return a!==this.root&&(a.visible=r===2?s:r===1),a.visible?a.collapsed||(a.renderNodeCount+=c.length-n):(a.renderNodeCount=0,d&&c.pop()),this._onDidChangeRenderNodeCount.fire(a),a.visible}_updateAncestorsRenderNodeCount(a,l){if(l!==0)for(;a;)a.renderNodeCount+=l,this._onDidChangeRenderNodeCount.fire(a),a=a.parent}_filterNode(a,l){const c=this.filter?this.filter.filter(a.element,l):1;return typeof c=="boolean"?(a.filterData=void 0,c?1:0):_(c)?(a.filterData=c.data,C(c.visibility)):(a.filterData=void 0,C(c))}hasTreeNode(a,l=this.root){if(!a||a.length===0)return!0;const[c,...d]=a;return c<0||c>l.children.length?!1:this.hasTreeNode(d,l.children[c])}getTreeNode(a,l=this.root){if(!a||a.length===0)return l;const[c,...d]=a;if(c<0||c>l.children.length)throw new v.TreeError(this.user,"Invalid tree location");return this.getTreeNode(d,l.children[c])}getTreeNodeWithListIndex(a){if(a.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:l,listIndex:c,revealed:d,visible:r}=this.getParentNodeWithListIndex(a),n=a[a.length-1];if(n<0||n>l.children.length)throw new v.TreeError(this.user,"Invalid tree location");const s=l.children[n];return{node:s,listIndex:c,revealed:d,visible:r&&s.visible}}getParentNodeWithListIndex(a,l=this.root,c=0,d=!0,r=!0){const[n,...s]=a;if(n<0||n>l.children.length)throw new v.TreeError(this.user,"Invalid tree location");for(let t=0;t<n;t++)c+=l.children[t].renderNodeCount;return d=d&&!l.collapsed,r=r&&l.visible,s.length===0?{parentNode:l,listIndex:c,revealed:d,visible:r}:this.getParentNodeWithListIndex(s,l.children[n],c+1,d,r)}getNode(a=[]){return this.getTreeNode(a)}getNodeLocation(a){const l=[];let c=a;for(;c.parent;)l.push(c.parent.children.indexOf(c)),c=c.parent;return l.reverse()}getParentNodeLocation(a){if(a.length!==0)return a.length===1?[]:(0,I.tail2)(a)[0]}}e.IndexTreeModel=p}),define(J[155],ee([0,1,54,154,98]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectTreeModel=void 0;class w{constructor(_,C,i={}){this.user=_,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new I.IndexTreeModel(_,C,null,i),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,i.sorter&&(this.sorter={compare(p,u){return i.sorter.compare(p.element,u.element)}}),this.identityProvider=i.identityProvider}setChildren(_,C=v.Iterable.empty(),i={}){const p=this.getElementLocation(_);this._setChildren(p,this.preserveCollapseState(C),i)}_setChildren(_,C=v.Iterable.empty(),i){const p=new Set,u=new Set,a=c=>{var d;if(c.element!==null){const r=c;if(p.add(r.element),this.nodes.set(r.element,r),this.identityProvider){const n=this.identityProvider.getId(r.element).toString();u.add(n),this.nodesByIdentity.set(n,r)}(d=i.onDidCreateNode)===null||d===void 0||d.call(i,r)}},l=c=>{var d;if(c.element!==null){const r=c;if(p.has(r.element)||this.nodes.delete(r.element),this.identityProvider){const n=this.identityProvider.getId(r.element).toString();u.has(n)||this.nodesByIdentity.delete(n)}(d=i.onDidDeleteNode)===null||d===void 0||d.call(i,r)}};this.model.splice([..._,0],Number.MAX_VALUE,C,Object.assign(Object.assign({},i),{onDidCreateNode:a,onDidDeleteNode:l}))}preserveCollapseState(_=v.Iterable.empty()){return this.sorter&&(_=[..._].sort(this.sorter.compare.bind(this.sorter))),v.Iterable.map(_,C=>{let i=this.nodes.get(C.element);if(!i&&this.identityProvider){const a=this.identityProvider.getId(C.element).toString();i=this.nodesByIdentity.get(a)}if(!i)return Object.assign(Object.assign({},C),{children:this.preserveCollapseState(C.children)});const p=typeof C.collapsible=="boolean"?C.collapsible:i.collapsible,u=typeof C.collapsed!="undefined"?C.collapsed:i.collapsed;return Object.assign(Object.assign({},C),{collapsible:p,collapsed:u,children:this.preserveCollapseState(C.children)})})}rerender(_){const C=this.getElementLocation(_);this.model.rerender(C)}has(_){return this.nodes.has(_)}getListIndex(_){const C=this.getElementLocation(_);return this.model.getListIndex(C)}getListRenderCount(_){const C=this.getElementLocation(_);return this.model.getListRenderCount(C)}isCollapsible(_){const C=this.getElementLocation(_);return this.model.isCollapsible(C)}setCollapsible(_,C){const i=this.getElementLocation(_);return this.model.setCollapsible(i,C)}isCollapsed(_){const C=this.getElementLocation(_);return this.model.isCollapsed(C)}setCollapsed(_,C,i){const p=this.getElementLocation(_);return this.model.setCollapsed(p,C,i)}expandTo(_){const C=this.getElementLocation(_);this.model.expandTo(C)}refilter(){this.model.refilter()}getNode(_=null){if(_===null)return this.model.getNode(this.model.rootRef);const C=this.nodes.get(_);if(!C)throw new k.TreeError(this.user,`Tree element not found: ${_}`);return C}getNodeLocation(_){return _.element}getParentNodeLocation(_){if(_===null)throw new k.TreeError(this.user,"Invalid getParentNodeLocation call");const C=this.nodes.get(_);if(!C)throw new k.TreeError(this.user,`Tree element not found: ${_}`);const i=this.model.getNodeLocation(C),p=this.model.getParentNodeLocation(i);return this.model.getNode(p).element}getElementLocation(_){if(_===null)return[];const C=this.nodes.get(_);if(!C)throw new k.TreeError(this.user,`Tree element not found: ${_}`);return this.model.getNodeLocation(C)}}e.ObjectTreeModel=w}),define(J[285],ee([0,1,54,6,98,155]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTreeModel=e.DefaultElementMapper=e.CompressedObjectTreeModel=e.decompress=e.compress=void 0;function S(s){const t=[s.element],o=s.incompressible||!1;return{element:{elements:t,incompressible:o},children:v.Iterable.map(v.Iterable.from(s.children),S),collapsible:s.collapsible,collapsed:s.collapsed}}function _(s){const t=[s.element],o=s.incompressible||!1;let h,g;for(;[g,h]=v.Iterable.consume(v.Iterable.from(s.children),2),!(g.length!==1||g[0].incompressible);)s=g[0],t.push(s.element);return{element:{elements:t,incompressible:o},children:v.Iterable.map(v.Iterable.concat(g,h),_),collapsible:s.collapsible,collapsed:s.collapsed}}e.compress=_;function C(s,t=0){let o;return t<s.element.elements.length-1?o=[C(s,t+1)]:o=v.Iterable.map(v.Iterable.from(s.children),h=>C(h,0)),t===0&&s.element.incompressible?{element:s.element.elements[t],children:o,incompressible:!0,collapsible:s.collapsible,collapsed:s.collapsed}:{element:s.element.elements[t],children:o,collapsible:s.collapsible,collapsed:s.collapsed}}function i(s){return C(s,0)}e.decompress=i;function p(s,t,o){return s.element===t?Object.assign(Object.assign({},s),{children:o}):Object.assign(Object.assign({},s),{children:v.Iterable.map(v.Iterable.from(s.children),h=>p(h,t,o))})}const u=s=>({getId(t){return t.elements.map(o=>s.getId(o).toString()).join("\0")}});class a{constructor(t,o,h={}){this.user=t,this.rootRef=null,this.nodes=new Map,this.model=new w.ObjectTreeModel(t,o,h),this.enabled=typeof h.compressionEnabled=="undefined"?!0:h.compressionEnabled,this.identityProvider=h.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(t,o=v.Iterable.empty(),h){const g=h.diffIdentityProvider&&u(h.diffIdentityProvider);if(t===null){const R=v.Iterable.map(o,this.enabled?_:S);this._setChildren(null,R,{diffIdentityProvider:g,diffDepth:Infinity});return}const m=this.nodes.get(t);if(!m)throw new Error("Unknown compressed tree node");const f=this.model.getNode(m),b=this.model.getParentNodeLocation(m),y=this.model.getNode(b),L=i(f),N=p(L,t,o),M=(this.enabled?_:S)(N),D=y.children.map(R=>R===f?M:R);this._setChildren(y.element,D,{diffIdentityProvider:g,diffDepth:f.depth-y.depth})}setCompressionEnabled(t){if(t!==this.enabled){this.enabled=t;const h=this.model.getNode().children,g=v.Iterable.map(h,i),m=v.Iterable.map(g,t?_:S);this._setChildren(null,m,{diffIdentityProvider:this.identityProvider,diffDepth:Infinity})}}_setChildren(t,o,h){const g=new Set,m=b=>{for(const y of b.element.elements)g.add(y),this.nodes.set(y,b.element)},f=b=>{for(const y of b.element.elements)g.has(y)||this.nodes.delete(y)};this.model.setChildren(t,o,Object.assign(Object.assign({},h),{onDidCreateNode:m,onDidDeleteNode:f}))}has(t){return this.nodes.has(t)}getListIndex(t){const o=this.getCompressedNode(t);return this.model.getListIndex(o)}getListRenderCount(t){const o=this.getCompressedNode(t);return this.model.getListRenderCount(o)}getNode(t){if(typeof t=="undefined")return this.model.getNode();const o=this.getCompressedNode(t);return this.model.getNode(o)}getNodeLocation(t){const o=this.model.getNodeLocation(t);return o===null?null:o.elements[o.elements.length-1]}getParentNodeLocation(t){const o=this.getCompressedNode(t),h=this.model.getParentNodeLocation(o);return h===null?null:h.elements[h.elements.length-1]}isCollapsible(t){const o=this.getCompressedNode(t);return this.model.isCollapsible(o)}setCollapsible(t,o){const h=this.getCompressedNode(t);return this.model.setCollapsible(h,o)}isCollapsed(t){const o=this.getCompressedNode(t);return this.model.isCollapsed(o)}setCollapsed(t,o,h){const g=this.getCompressedNode(t);return this.model.setCollapsed(g,o,h)}expandTo(t){const o=this.getCompressedNode(t);this.model.expandTo(o)}rerender(t){const o=this.getCompressedNode(t);this.model.rerender(o)}refilter(){this.model.refilter()}getCompressedNode(t){if(t===null)return null;const o=this.nodes.get(t);if(!o)throw new k.TreeError(this.user,`Tree element not found: ${t}`);return o}}e.CompressedObjectTreeModel=a;const l=s=>s[s.length-1];e.DefaultElementMapper=l;class c{constructor(t,o){this.unwrapper=t,this.node=o}get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(t=>new c(this.unwrapper,t))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}function d(s,t){return{splice(o,h,g){t.splice(o,h,g.map(m=>s.map(m)))},updateElementHeight(o,h){t.updateElementHeight(o,h)}}}function r(s,t){return Object.assign(Object.assign({},t),{identityProvider:t.identityProvider&&{getId(o){return t.identityProvider.getId(s(o))}},sorter:t.sorter&&{compare(o,h){return t.sorter.compare(o.elements[0],h.elements[0])}},filter:t.filter&&{filter(o,h){return t.filter.filter(s(o),h)}}})}class n{constructor(t,o,h={}){this.rootRef=null,this.elementMapper=h.elementMapper||e.DefaultElementMapper;const g=m=>this.elementMapper(m.elements);this.nodeMapper=new k.WeakMapper(m=>new c(g,m)),this.model=new a(t,d(this.nodeMapper,o),r(g,h))}get onDidSplice(){return I.Event.map(this.model.onDidSplice,({insertedNodes:t,deletedNodes:o})=>({insertedNodes:t.map(h=>this.nodeMapper.map(h)),deletedNodes:o.map(h=>this.nodeMapper.map(h))}))}get onDidChangeCollapseState(){return I.Event.map(this.model.onDidChangeCollapseState,({node:t,deep:o})=>({node:this.nodeMapper.map(t),deep:o}))}get onDidChangeRenderNodeCount(){return I.Event.map(this.model.onDidChangeRenderNodeCount,t=>this.nodeMapper.map(t))}setChildren(t,o=v.Iterable.empty(),h={}){this.model.setChildren(t,o,h)}setCompressionEnabled(t){this.model.setCompressionEnabled(t)}has(t){return this.model.has(t)}getListIndex(t){return this.model.getListIndex(t)}getListRenderCount(t){return this.model.getListRenderCount(t)}getNode(t){return this.nodeMapper.map(this.model.getNode(t))}getNodeLocation(t){return t.element}getParentNodeLocation(t){return this.model.getParentNodeLocation(t)}isCollapsible(t){return this.model.isCollapsible(t)}setCollapsible(t,o){return this.model.setCollapsible(t,o)}isCollapsed(t){return this.model.isCollapsed(t)}setCollapsed(t,o,h){return this.model.setCollapsed(t,o,h)}expandTo(t){return this.model.expandTo(t)}rerender(t){return this.model.rerender(t)}refilter(){return this.model.refilter()}getCompressedTreeNode(t=null){return this.model.getNode(t)}}e.CompressibleObjectTreeModel=n}),define(J[286],ee([0,1,8]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildReplaceStringWithCasePreserved=void 0;function I(S,_){if(S&&S[0]!==""){const C=k(S,_,"-"),i=k(S,_,"_");return C&&!i?w(S,_,"-"):!C&&i?w(S,_,"_"):S[0].toUpperCase()===S[0]?_.toUpperCase():S[0].toLowerCase()===S[0]?_.toLowerCase():v.containsUppercaseCharacter(S[0][0])&&_.length>0?_[0].toUpperCase()+_.substr(1):S[0][0].toUpperCase()!==S[0][0]&&_.length>0?_[0].toLowerCase()+_.substr(1):_}else return _}e.buildReplaceStringWithCasePreserved=I;function k(S,_,C){return S[0].indexOf(C)!==-1&&_.indexOf(C)!==-1&&S[0].split(C).length===_.split(C).length}function w(S,_,C){const i=_.split(C),p=S[0].split(C);let u="";return i.forEach((a,l)=>{u+=I([p[l]],a)+C}),u.slice(0,-1)}}),define(J[82],ee([0,1,8]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var I;(function(k){k[k.Ignore=0]="Ignore",k[k.Info=1]="Info",k[k.Warning=2]="Warning",k[k.Error=3]="Error"})(I||(I={})),function(k){const w="error",S="warning",_="warn",C="info",i="ignore";function p(a){return a?v.equalsIgnoreCase(w,a)?k.Error:v.equalsIgnoreCase(S,a)||v.equalsIgnoreCase(_,a)?k.Warning:v.equalsIgnoreCase(C,a)?k.Info:k.Ignore:k.Ignore}k.fromValue=p;function u(a){switch(a){case k.Error:return w;case k.Warning:return S;case k.Info:return C;default:return i}}k.toString=u}(I||(I={})),e.default=I}),define(J[20],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.withNullAsUndefined=e.createProxyObject=e.getAllMethodNames=e.getAllPropertyNames=e.validateConstraint=e.validateConstraints=e.isFunction=e.assertIsDefined=e.assertType=e.isUndefinedOrNull=e.isUndefined=e.isBoolean=e.isNumber=e.isObject=e.isString=e.isArray=void 0;function v(s){return Array.isArray(s)}e.isArray=v;function I(s){return typeof s=="string"}e.isString=I;function k(s){return typeof s=="object"&&s!==null&&!Array.isArray(s)&&!(s instanceof RegExp)&&!(s instanceof Date)}e.isObject=k;function w(s){return typeof s=="number"&&!isNaN(s)}e.isNumber=w;function S(s){return s===!0||s===!1}e.isBoolean=S;function _(s){return typeof s=="undefined"}e.isUndefined=_;function C(s){return _(s)||s===null}e.isUndefinedOrNull=C;function i(s,t){if(!s)throw new Error(t?`Unexpected type, expected '${t}'`:"Unexpected type")}e.assertType=i;function p(s){if(C(s))throw new Error("Assertion Failed: argument is undefined or null");return s}e.assertIsDefined=p;function u(s){return typeof s=="function"}e.isFunction=u;function a(s,t){const o=Math.min(s.length,t.length);for(let h=0;h<o;h++)l(s[h],t[h])}e.validateConstraints=a;function l(s,t){if(I(t)){if(typeof s!==t)throw new Error(`argument does not match constraint: typeof ${t}`)}else if(u(t)){try{if(s instanceof t)return}catch(o){}if(!C(s)&&s.constructor===t||t.length===1&&t.call(void 0,s)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}e.validateConstraint=l;function c(s){let t=[],o=Object.getPrototypeOf(s);for(;Object.prototype!==o;)t=t.concat(Object.getOwnPropertyNames(o)),o=Object.getPrototypeOf(o);return t}e.getAllPropertyNames=c;function d(s){const t=[];for(const o of c(s))typeof s[o]=="function"&&t.push(o);return t}e.getAllMethodNames=d;function r(s,t){const o=g=>function(){const m=Array.prototype.slice.call(arguments,0);return t(g,m)};let h={};for(const g of s)h[g]=o(g);return h}e.createProxyObject=r;function n(s){return s===null?void 0:s}e.withNullAsUndefined=n}),define(J[40],ee([0,1,20]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOrDefault=e.equals=e.mixin=e.cloneAndChange=e.deepFreeze=e.deepClone=void 0;function I(u){if(!u||typeof u!="object"||u instanceof RegExp)return u;const a=Array.isArray(u)?[]:{};return Object.keys(u).forEach(l=>{u[l]&&typeof u[l]=="object"?a[l]=I(u[l]):a[l]=u[l]}),a}e.deepClone=I;function k(u){if(!u||typeof u!="object")return u;const a=[u];for(;a.length>0;){const l=a.shift();Object.freeze(l);for(const c in l)if(w.call(l,c)){const d=l[c];typeof d=="object"&&!Object.isFrozen(d)&&a.push(d)}}return u}e.deepFreeze=k;const w=Object.prototype.hasOwnProperty;function S(u,a){return _(u,a,new Set)}e.cloneAndChange=S;function _(u,a,l){if((0,v.isUndefinedOrNull)(u))return u;const c=a(u);if(typeof c!="undefined")return c;if((0,v.isArray)(u)){const d=[];for(const r of u)d.push(_(r,a,l));return d}if((0,v.isObject)(u)){if(l.has(u))throw new Error("Cannot clone recursive data-structure");l.add(u);const d={};for(let r in u)w.call(u,r)&&(d[r]=_(u[r],a,l));return l.delete(u),d}return u}function C(u,a,l=!0){return(0,v.isObject)(u)?((0,v.isObject)(a)&&Object.keys(a).forEach(c=>{c in u?l&&((0,v.isObject)(u[c])&&(0,v.isObject)(a[c])?C(u[c],a[c],l):u[c]=a[c]):u[c]=a[c]}),u):a}e.mixin=C;function i(u,a){if(u===a)return!0;if(u==null||a===null||a===void 0||typeof u!=typeof a||typeof u!="object"||Array.isArray(u)!==Array.isArray(a))return!1;let l,c;if(Array.isArray(u)){if(u.length!==a.length)return!1;for(l=0;l<u.length;l++)if(!i(u[l],a[l]))return!1}else{const d=[];for(c in u)d.push(c);d.sort();const r=[];for(c in a)r.push(c);if(r.sort(),!i(d,r))return!1;for(l=0;l<d.length;l++)if(!i(u[d[l]],a[d[l]]))return!1}return!0}e.equals=i;function p(u,a,l){const c=a(u);return typeof c=="undefined"?l:c}e.getOrDefault=p}),define(J[123],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toUint32=e.toUint8=void 0;function v(k){return k<0?0:k>255?255:k|0}e.toUint8=v;function I(k){return k<0?0:k>4294967295?4294967295:k|0}e.toUint32=I}),define(J[24],ee([0,1,17,73]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uriToFsPath=e.URI=void 0;const k=/^\w[\w\d+.-]*$/,w=/^\//,S=/^\/\//;function _(f,b){if(!f.scheme&&b)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${f.authority}", path: "${f.path}", query: "${f.query}", fragment: "${f.fragment}"}`);if(f.scheme&&!k.test(f.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(f.path){if(f.authority){if(!w.test(f.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(S.test(f.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function C(f,b){return!f&&!b?"file":f}function i(f,b){switch(f){case"https":case"http":case"file":b?b[0]!==u&&(b=u+b):b=u;break}return b}const p="",u="/",a=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class l{constructor(b,y,L,N,M,D=!1){typeof b=="object"?(this.scheme=b.scheme||p,this.authority=b.authority||p,this.path=b.path||p,this.query=b.query||p,this.fragment=b.fragment||p):(this.scheme=C(b,D),this.authority=y||p,this.path=i(this.scheme,L||p),this.query=N||p,this.fragment=M||p,_(this,D))}static isUri(b){return b instanceof l?!0:b?typeof b.authority=="string"&&typeof b.fragment=="string"&&typeof b.path=="string"&&typeof b.query=="string"&&typeof b.scheme=="string"&&typeof b.fsPath=="string"&&typeof b.with=="function"&&typeof b.toString=="function":!1}get fsPath(){return t(this,!1)}with(b){if(!b)return this;let{scheme:y,authority:L,path:N,query:M,fragment:D}=b;return y===void 0?y=this.scheme:y===null&&(y=p),L===void 0?L=this.authority:L===null&&(L=p),N===void 0?N=this.path:N===null&&(N=p),M===void 0?M=this.query:M===null&&(M=p),D===void 0?D=this.fragment:D===null&&(D=p),y===this.scheme&&L===this.authority&&N===this.path&&M===this.query&&D===this.fragment?this:new d(y,L,N,M,D)}static parse(b,y=!1){const L=a.exec(b);return L?new d(L[2]||p,m(L[4]||p),m(L[5]||p),m(L[7]||p),m(L[9]||p),y):new d(p,p,p,p,p)}static file(b){let y=p;if(v.isWindows&&(b=b.replace(/\\/g,u)),b[0]===u&&b[1]===u){const L=b.indexOf(u,2);L===-1?(y=b.substring(2),b=u):(y=b.substring(2,L),b=b.substring(L)||u)}return new d("file",y,b,p,p)}static from(b){return new d(b.scheme,b.authority,b.path,b.query,b.fragment)}static joinPath(b,...y){if(!b.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let L;return v.isWindows&&b.scheme==="file"?L=l.file(I.win32.join(t(b,!0),...y)).path:L=I.posix.join(b.path,...y),b.with({path:L})}toString(b=!1){return o(this,b)}toJSON(){return this}static revive(b){if(b){if(b instanceof l)return b;{const y=new d(b);return y._formatted=b.external,y._fsPath=b._sep===c?b.fsPath:null,y}}else return b}}e.URI=l;const c=v.isWindows?1:void 0;class d extends l{constructor(){super(...arguments);this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=t(this,!1)),this._fsPath}toString(b=!1){return b?o(this,!0):(this._formatted||(this._formatted=o(this,!1)),this._formatted)}toJSON(){const b={$mid:1};return this._fsPath&&(b.fsPath=this._fsPath,b._sep=c),this._formatted&&(b.external=this._formatted),this.path&&(b.path=this.path),this.scheme&&(b.scheme=this.scheme),this.authority&&(b.authority=this.authority),this.query&&(b.query=this.query),this.fragment&&(b.fragment=this.fragment),b}}const r={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};function n(f,b){let y,L=-1;for(let N=0;N<f.length;N++){const M=f.charCodeAt(N);if(M>=97&&M<=122||M>=65&&M<=90||M>=48&&M<=57||M===45||M===46||M===95||M===126||b&&M===47)L!==-1&&(y+=encodeURIComponent(f.substring(L,N)),L=-1),y!==void 0&&(y+=f.charAt(N));else{y===void 0&&(y=f.substr(0,N));const D=r[M];D!==void 0?(L!==-1&&(y+=encodeURIComponent(f.substring(L,N)),L=-1),y+=D):L===-1&&(L=N)}}return L!==-1&&(y+=encodeURIComponent(f.substring(L))),y!==void 0?y:f}function s(f){let b;for(let y=0;y<f.length;y++){const L=f.charCodeAt(y);L===35||L===63?(b===void 0&&(b=f.substr(0,y)),b+=r[L]):b!==void 0&&(b+=f[y])}return b!==void 0?b:f}function t(f,b){let y;return f.authority&&f.path.length>1&&f.scheme==="file"?y=`//${f.authority}${f.path}`:f.path.charCodeAt(0)===47&&(f.path.charCodeAt(1)>=65&&f.path.charCodeAt(1)<=90||f.path.charCodeAt(1)>=97&&f.path.charCodeAt(1)<=122)&&f.path.charCodeAt(2)===58?b?y=f.path.substr(1):y=f.path[1].toLowerCase()+f.path.substr(2):y=f.path,v.isWindows&&(y=y.replace(/\//g,"\\")),y}e.uriToFsPath=t;function o(f,b){const y=b?s:n;let L="",{scheme:N,authority:M,path:D,query:R,fragment:P}=f;if(N&&(L+=N,L+=":"),(M||N==="file")&&(L+=u,L+=u),M){let O=M.indexOf("@");if(O!==-1){const W=M.substr(0,O);M=M.substr(O+1),O=W.indexOf(":"),O===-1?L+=y(W,!1):(L+=y(W.substr(0,O),!1),L+=":",L+=y(W.substr(O+1),!1)),L+="@"}M=M.toLowerCase(),O=M.indexOf(":"),O===-1?L+=y(M,!1):(L+=y(M.substr(0,O),!1),L+=M.substr(O))}if(D){if(D.length>=3&&D.charCodeAt(0)===47&&D.charCodeAt(2)===58){const O=D.charCodeAt(1);O>=65&&O<=90&&(D=`/${String.fromCharCode(O+32)}:${D.substr(3)}`)}else if(D.length>=2&&D.charCodeAt(1)===58){const O=D.charCodeAt(0);O>=65&&O<=90&&(D=`${String.fromCharCode(O+32)}:${D.substr(2)}`)}L+=y(D,!0)}return R&&(L+="?",L+=y(R,!1)),P&&(L+="#",L+=b?P:n(P,!1)),L}function h(f){try{return decodeURIComponent(f)}catch(b){return f.length>3?f.substr(0,3)+h(f.substr(3)):f}}const g=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function m(f){return f.match(g)?f.replace(g,b=>h(b)):f}}),define(J[51],ee([0,1,24,8]),function($,e,v,I){"use strict";var k,w;Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=e.LinkedMap=e.ResourceMap=e.TernarySearchTree=e.UriIterator=e.PathIterator=e.ConfigKeysIterator=e.StringIterator=void 0;class S{constructor(){this._value="",this._pos=0}reset(r){return this._value=r,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(r){const n=r.charCodeAt(0),s=this._value.charCodeAt(this._pos);return n-s}value(){return this._value[this._pos]}}e.StringIterator=S;class _{constructor(r=!0){this._caseSensitive=r}reset(r){return this._value=r,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let r=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(r)this._from++;else break;else r=!1;return this}cmp(r){return this._caseSensitive?(0,I.compareSubstring)(r,this._value,0,r.length,this._from,this._to):(0,I.compareSubstringIgnoreCase)(r,this._value,0,r.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.ConfigKeysIterator=_;class C{constructor(r=!0,n=!0){this._splitOnBackslash=r,this._caseSensitive=n}reset(r){return this._value=r.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let r=!0;for(;this._to<this._value.length;this._to++){const n=this._value.charCodeAt(this._to);if(n===47||this._splitOnBackslash&&n===92)if(r)this._from++;else break;else r=!1}return this}cmp(r){return this._caseSensitive?(0,I.compareSubstring)(r,this._value,0,r.length,this._from,this._to):(0,I.compareSubstringIgnoreCase)(r,this._value,0,r.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.PathIterator=C;class i{constructor(r){this._ignorePathCasing=r,this._states=[],this._stateIdx=0}reset(r){return this._value=r,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new C(!1,!this._ignorePathCasing(r)),this._pathIterator.reset(r.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(r){if(this._states[this._stateIdx]===1)return(0,I.compareIgnoreCase)(r,this._value.scheme);if(this._states[this._stateIdx]===2)return(0,I.compareIgnoreCase)(r,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(r);if(this._states[this._stateIdx]===4)return(0,I.compare)(r,this._value.query);if(this._states[this._stateIdx]===5)return(0,I.compare)(r,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}e.UriIterator=i;class p{isEmpty(){return!this.left&&!this.mid&&!this.right&&!this.value}}class u{constructor(r){this._iter=r}static forUris(r=()=>!1){return new u(new i(r))}static forStrings(){return new u(new S)}static forConfigKeys(){return new u(new _)}clear(){this._root=void 0}set(r,n){const s=this._iter.reset(r);let t;for(this._root||(this._root=new p,this._root.segment=s.value()),t=this._root;;){const h=s.cmp(t.segment);if(h>0)t.left||(t.left=new p,t.left.segment=s.value()),t=t.left;else if(h<0)t.right||(t.right=new p,t.right.segment=s.value()),t=t.right;else if(s.hasNext())s.next(),t.mid||(t.mid=new p,t.mid.segment=s.value()),t=t.mid;else break}const o=t.value;return t.value=n,t.key=r,o}get(r){var n;return(n=this._getNode(r))===null||n===void 0?void 0:n.value}_getNode(r){const n=this._iter.reset(r);let s=this._root;for(;s;){const t=n.cmp(s.segment);if(t>0)s=s.left;else if(t<0)s=s.right;else if(n.hasNext())n.next(),s=s.mid;else break}return s}has(r){const n=this._getNode(r);return!((n==null?void 0:n.value)===void 0&&(n==null?void 0:n.mid)===void 0)}delete(r){return this._delete(r,!1)}deleteSuperstr(r){return this._delete(r,!0)}_delete(r,n){const s=this._iter.reset(r),t=[];let o=this._root;for(;o;){const h=s.cmp(o.segment);if(h>0)t.push([1,o]),o=o.left;else if(h<0)t.push([-1,o]),o=o.right;else if(s.hasNext())s.next(),t.push([0,o]),o=o.mid;else{for(n?(o.left=void 0,o.mid=void 0,o.right=void 0):o.value=void 0;t.length>0&&o.isEmpty();){let[g,m]=t.pop();switch(g){case 1:m.left=void 0;break;case 0:m.mid=void 0;break;case-1:m.right=void 0;break}o=m}break}}}findSubstr(r){const n=this._iter.reset(r);let s=this._root,t;for(;s;){const o=n.cmp(s.segment);if(o>0)s=s.left;else if(o<0)s=s.right;else if(n.hasNext())n.next(),t=s.value||t,s=s.mid;else break}return s&&s.value||t}findSuperstr(r){const n=this._iter.reset(r);let s=this._root;for(;s;){const t=n.cmp(s.segment);if(t>0)s=s.left;else if(t<0)s=s.right;else if(n.hasNext())n.next(),s=s.mid;else return s.mid?this._entries(s.mid):void 0}}forEach(r){for(const[n,s]of this)r(s,n)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(r){r&&(yield*this._entries(r.left),r.value&&(yield[r.key,r.value]),yield*this._entries(r.mid),yield*this._entries(r.right))}}e.TernarySearchTree=u;class a{constructor(r,n){this[k]="ResourceMap",r instanceof a?(this.map=new Map(r.map),this.toKey=n!=null?n:a.defaultToKey):(this.map=new Map,this.toKey=r!=null?r:a.defaultToKey)}set(r,n){return this.map.set(this.toKey(r),n),this}get(r){return this.map.get(this.toKey(r))}has(r){return this.map.has(this.toKey(r))}get size(){return this.map.size}clear(){this.map.clear()}delete(r){return this.map.delete(this.toKey(r))}forEach(r,n){typeof n!="undefined"&&(r=r.bind(n));for(let[s,t]of this.map)r(t,v.URI.parse(s),this)}values(){return this.map.values()}*keys(){for(let r of this.map.keys())yield v.URI.parse(r)}*entries(){for(let r of this.map.entries())yield[v.URI.parse(r[0]),r[1]]}*[(k=Symbol.toStringTag,Symbol.iterator)](){for(let r of this.map)yield[v.URI.parse(r[0]),r[1]]}}e.ResourceMap=a,a.defaultToKey=d=>d.toString();class l{constructor(){this[w]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var r;return(r=this._head)===null||r===void 0?void 0:r.value}get last(){var r;return(r=this._tail)===null||r===void 0?void 0:r.value}has(r){return this._map.has(r)}get(r,n=0){const s=this._map.get(r);if(!!s)return n!==0&&this.touch(s,n),s.value}set(r,n,s=0){let t=this._map.get(r);if(t)t.value=n,s!==0&&this.touch(t,s);else{switch(t={key:r,value:n,next:void 0,previous:void 0},s){case 0:this.addItemLast(t);break;case 1:this.addItemFirst(t);break;case 2:this.addItemLast(t);break;default:this.addItemLast(t);break}this._map.set(r,t),this._size++}return this}delete(r){return!!this.remove(r)}remove(r){const n=this._map.get(r);if(!!n)return this._map.delete(r),this.removeItem(n),this._size--,n.value}shift(){if(!(!this._head&&!this._tail)){if(!this._head||!this._tail)throw new Error("Invalid list");const r=this._head;return this._map.delete(r.key),this.removeItem(r),this._size--,r.value}}forEach(r,n){const s=this._state;let t=this._head;for(;t;){if(n?r.bind(n)(t.value,t.key,this):r(t.value,t.key,this),this._state!==s)throw new Error("LinkedMap got modified during iteration.");t=t.next}}keys(){const r=this,n=this._state;let s=this._head;const t={[Symbol.iterator](){return t},next(){if(r._state!==n)throw new Error("LinkedMap got modified during iteration.");if(s){const o={value:s.key,done:!1};return s=s.next,o}else return{value:void 0,done:!0}}};return t}values(){const r=this,n=this._state;let s=this._head;const t={[Symbol.iterator](){return t},next(){if(r._state!==n)throw new Error("LinkedMap got modified during iteration.");if(s){const o={value:s.value,done:!1};return s=s.next,o}else return{value:void 0,done:!0}}};return t}entries(){const r=this,n=this._state;let s=this._head;const t={[Symbol.iterator](){return t},next(){if(r._state!==n)throw new Error("LinkedMap got modified during iteration.");if(s){const o={value:[s.key,s.value],done:!1};return s=s.next,o}else return{value:void 0,done:!0}}};return t}[(w=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(r){if(!(r>=this.size)){if(r===0){this.clear();return}let n=this._head,s=this.size;for(;n&&s>r;)this._map.delete(n.key),n=n.next,s--;this._head=n,this._size=s,n&&(n.previous=void 0),this._state++}}addItemFirst(r){if(!this._head&&!this._tail)this._tail=r;else if(this._head)r.next=this._head,this._head.previous=r;else throw new Error("Invalid list");this._head=r,this._state++}addItemLast(r){if(!this._head&&!this._tail)this._head=r;else if(this._tail)r.previous=this._tail,this._tail.next=r;else throw new Error("Invalid list");this._tail=r,this._state++}removeItem(r){if(r===this._head&&r===this._tail)this._head=void 0,this._tail=void 0;else if(r===this._head){if(!r.next)throw new Error("Invalid list");r.next.previous=void 0,this._head=r.next}else if(r===this._tail){if(!r.previous)throw new Error("Invalid list");r.previous.next=void 0,this._tail=r.previous}else{const n=r.next,s=r.previous;if(!n||!s)throw new Error("Invalid list");n.previous=s,s.next=n}r.next=void 0,r.previous=void 0,this._state++}touch(r,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==1&&n!==2)){if(n===1){if(r===this._head)return;const s=r.next,t=r.previous;r===this._tail?(t.next=void 0,this._tail=t):(s.previous=t,t.next=s),r.previous=void 0,r.next=this._head,this._head.previous=r,this._head=r,this._state++}else if(n===2){if(r===this._tail)return;const s=r.next,t=r.previous;r===this._head?(s.previous=void 0,this._head=s):(s.previous=t,t.next=s),r.next=void 0,r.previous=this._tail,this._tail.next=r,this._tail=r,this._state++}}}toJSON(){const r=[];return this.forEach((n,s)=>{r.push([s,n])}),r}fromJSON(r){this.clear();for(const[n,s]of r)this.set(n,s)}}e.LinkedMap=l;class c extends l{constructor(r,n=1){super();this._limit=r,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(r){this._limit=r,this.checkTrim()}get(r,n=2){return super.get(r,n)}peek(r){return super.get(r,0)}set(r,n){return super.set(r,n,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}e.LRUCache=c}),define(J[66],ee([0,1,51,8]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fuzzyScoreGracefulAggressive=e.fuzzyScore=e.FuzzyScore=e.isPatternInWord=e.createMatches=e.anyScore=e.matchesFuzzy=e.matchesWords=e.matchesCamelCase=e.isUpper=e.matchesSubString=e.matchesContiguousSubString=e.matchesPrefix=e.or=void 0;function k(...G){return function(j,ne){for(let X=0,de=G.length;X<de;X++){const he=G[X](j,ne);if(he)return he}return null}}e.or=k,e.matchesPrefix=w.bind(void 0,!0);function w(G,j,ne){if(!ne||ne.length<j.length)return null;let X;return G?X=I.startsWithIgnoreCase(ne,j):X=ne.indexOf(j)===0,X?j.length>0?[{start:0,end:j.length}]:[]:null}function S(G,j){const ne=j.toLowerCase().indexOf(G.toLowerCase());return ne===-1?null:[{start:ne,end:ne+G.length}]}e.matchesContiguousSubString=S;function _(G,j){return C(G.toLowerCase(),j.toLowerCase(),0,0)}e.matchesSubString=_;function C(G,j,ne,X){if(ne===G.length)return[];if(X===j.length)return null;if(G[ne]===j[X]){let de=null;return(de=C(G,j,ne+1,X+1))?n({start:X,end:X+1},de):null}return C(G,j,ne,X+1)}function i(G){return 97<=G&&G<=122}function p(G){return 65<=G&&G<=90}e.isUpper=p;function u(G){return 48<=G&&G<=57}function a(G){return G===32||G===9||G===10||G===13}const l=new Set;"`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?".split("").forEach(G=>l.add(G.charCodeAt(0)));function c(G){return a(G)||l.has(G)}function d(G,j){return G===j||c(G)&&c(j)}function r(G){return i(G)||p(G)||u(G)}function n(G,j){return j.length===0?j=[G]:G.end===j[0].start?j[0].start=G.start:j.unshift(G),j}function s(G,j){for(let ne=j;ne<G.length;ne++){const X=G.charCodeAt(ne);if(p(X)||u(X)||ne>0&&!r(G.charCodeAt(ne-1)))return ne}return G.length}function t(G,j,ne,X){if(ne===G.length)return[];if(X===j.length)return null;if(G[ne]!==j[X].toLowerCase())return null;{let de=null,he=X+1;for(de=t(G,j,ne+1,X+1);!de&&(he=s(j,he))<j.length;)de=t(G,j,ne+1,he),he++;return de===null?null:n({start:X,end:X+1},de)}}function o(G){let j=0,ne=0,X=0,de=0,he=0;for(let we=0;we<G.length;we++)he=G.charCodeAt(we),p(he)&&j++,i(he)&&ne++,r(he)&&X++,u(he)&&de++;const re=j/G.length,ue=ne/G.length,me=X/G.length,be=de/G.length;return{upperPercent:re,lowerPercent:ue,alphaPercent:me,numericPercent:be}}function h(G){const{upperPercent:j,lowerPercent:ne}=G;return ne===0&&j>.6}function g(G){const{upperPercent:j,lowerPercent:ne,alphaPercent:X,numericPercent:de}=G;return ne>.2&&j<.8&&X>.6&&de<.2}function m(G){let j=0,ne=0,X=0,de=0;for(let he=0;he<G.length;he++)X=G.charCodeAt(he),p(X)&&j++,i(X)&&ne++,a(X)&&de++;return(j===0||ne===0)&&de===0?G.length<=30:j<=5}function f(G,j){if(!j||(j=j.trim(),j.length===0)||!m(G)||j.length>60)return null;const ne=o(j);if(!g(ne)){if(!h(ne))return null;j=j.toLowerCase()}let X=null,de=0;for(G=G.toLowerCase();de<j.length&&(X=t(G,j,0,de))===null;)de=s(j,de+1);return X}e.matchesCamelCase=f;function b(G,j,ne=!1){if(!j||j.length===0)return null;let X=null,de=0;for(G=G.toLowerCase(),j=j.toLowerCase();de<j.length&&(X=y(G,j,0,de,ne))===null;)de=L(j,de+1);return X}e.matchesWords=b;function y(G,j,ne,X,de){if(ne===G.length)return[];if(X===j.length)return null;if(d(G.charCodeAt(ne),j.charCodeAt(X))){let he=null,re=X+1;if(he=y(G,j,ne+1,X+1,de),!de)for(;!he&&(re=L(j,re))<j.length;)he=y(G,j,ne+1,re,de),re++;return he===null?null:n({start:X,end:X+1},he)}else return null}function L(G,j){for(let ne=j;ne<G.length;ne++)if(c(G.charCodeAt(ne))||ne>0&&c(G.charCodeAt(ne-1)))return ne;return G.length}const N=k(e.matchesPrefix,f,S),M=k(e.matchesPrefix,f,_),D=new v.LRUCache(1e4);function R(G,j,ne=!1){if(typeof G!="string"||typeof j!="string")return null;let X=D.get(G);X||(X=new RegExp(I.convertSimple2RegExpPattern(G),"i"),D.set(G,X));const de=X.exec(j);return de?[{start:de.index,end:de.index+de[0].length}]:ne?M(G,j):N(G,j)}e.matchesFuzzy=R;function P(G,j,ne,X,de,he){const re=Math.min(13,G.length);for(;ne<re;ne++){const ue=z(G,j,ne,X,de,he,!1);if(ue)return ue}return[0,he]}e.anyScore=P;function O(G){if(typeof G=="undefined")return[];const j=[],ne=G[1];for(let X=G.length-1;X>1;X--){const de=G[X]+ne,he=j[j.length-1];he&&he.end===de?he.end=de+1:j.push({start:de,end:de+1})}return j}e.createMatches=O;const W=128;function F(){const G=[],j=[];for(let ne=0;ne<=W;ne++)j[ne]=0;for(let ne=0;ne<=W;ne++)G.push(j.slice(0));return G}function E(G){const j=[];for(let ne=0;ne<=G;ne++)j[ne]=0;return j}const A=E(2*W),B=E(2*W),H=F(),K=F(),q=F(),Y=!1;function te(G,j,ne,X,de){function he(ue,me,be=" "){for(;ue.length<me;)ue=be+ue;return ue}let re=` |   |${X.split("").map(ue=>he(ue,3)).join("|")}
`;for(let ue=0;ue<=ne;ue++)ue===0?re+=" |":re+=`${j[ue-1]}|`,re+=G[ue].slice(0,de+1).map(me=>he(me.toString(),3)).join("|")+`
`;return re}function ie(G,j,ne,X){G=G.substr(j),ne=ne.substr(X),console.log(te(K,G,G.length,ne,ne.length)),console.log(te(q,G,G.length,ne,ne.length)),console.log(te(H,G,G.length,ne,ne.length))}function ae(G,j){if(j<0||j>=G.length)return!1;const ne=G.codePointAt(j);switch(ne){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 40:case 91:return!0;case void 0:return!1;default:return!!I.isEmojiImprecise(ne)}}function le(G,j){if(j<0||j>=G.length)return!1;switch(G.charCodeAt(j)){case 32:case 9:return!0;default:return!1}}function Z(G,j,ne){return j[G]!==ne[G]}function T(G,j,ne,X,de,he,re=!1){for(;j<ne&&de<he;)G[j]===X[de]&&(re&&(A[j]=de),j+=1),de+=1;return j===ne}e.isPatternInWord=T;var x;(function(G){G.Default=[-100,0];function j(ne){return!ne||ne.length===2&&ne[0]===-100&&ne[1]===0}G.isDefault=j})(x=e.FuzzyScore||(e.FuzzyScore={}));function z(G,j,ne,X,de,he,re){const ue=G.length>W?W:G.length,me=X.length>W?W:X.length;if(!(ne>=ue||he>=me||ue-ne>me-he)&&!!T(j,ne,ue,de,he,me,!0)){V(ue,me,ne,he,j,de);let be=1,we=1,Ee=ne,De=he;const Oe=[!1];for(be=1,Ee=ne;Ee<ue;be++,Ee++){const ye=A[Ee],fe=B[Ee],Ce=Ee+1<ue?B[Ee+1]:me;for(we=ye-he+1,De=ye;De<Ce;we++,De++){let ce=Number.MIN_SAFE_INTEGER,ge=!1;De<=fe&&(ce=U(G,j,Ee,ne,X,de,De,me,he,H[be-1][we-1]===0,Oe));let _e=0;ce!==Number.MAX_SAFE_INTEGER&&(ge=!0,_e=ce+K[be-1][we-1]);const ke=De>ye,Ne=ke?K[be][we-1]+(H[be][we-1]>0?-5:0):0,Re=De>ye+1&&H[be][we-1]>0,Ae=Re?K[be][we-2]+(H[be][we-2]>0?-5:0):0;if(Re&&(!ke||Ae>=Ne)&&(!ge||Ae>=_e))K[be][we]=Ae,q[be][we]=3,H[be][we]=0;else if(ke&&(!ge||Ne>=_e))K[be][we]=Ne,q[be][we]=2,H[be][we]=0;else if(ge)K[be][we]=_e,q[be][we]=1,H[be][we]=H[be-1][we-1]+1;else throw new Error("not possible")}}if(Y&&ie(G,ne,X,he),!(!Oe[0]&&!re)){be--,we--;const Le=[K[be][we],he];let Te=0,ve=0;for(;be>=1;){let ye=we;do{const fe=q[be][ye];if(fe===3)ye=ye-2;else if(fe===2)ye=ye-1;else break}while(ye>=1);Te>1&&j[ne+be-1]===de[he+we-1]&&!Z(ye+he-1,X,de)&&Te+1>H[be][ye]&&(ye=we),ye===we?Te++:Te=1,ve||(ve=ye),be--,we=ye-1,Le.push(we)}me===ue&&(Le[0]+=2);const Se=ve-ue;return Le[0]-=Se,Le}}}e.fuzzyScore=z;function V(G,j,ne,X,de,he){let re=G-1,ue=j-1;for(;re>=ne&&ue>=X;)de[re]===he[ue]&&(B[re]=ue,re--),ue--}function U(G,j,ne,X,de,he,re,ue,me,be,we){if(j[ne]!==he[re])return Number.MIN_SAFE_INTEGER;let Ee=1,De=!1;return re===ne-X?Ee=G[ne]===de[re]?7:5:Z(re,de,he)&&(re===0||!Z(re-1,de,he))?(Ee=G[ne]===de[re]?7:5,De=!0):ae(he,re)&&(re===0||!ae(he,re-1))?Ee=5:(ae(he,re-1)||le(he,re-1))&&(Ee=5,De=!0),Ee>1&&ne===X&&(we[0]=!0),De||(De=Z(re,de,he)||ae(he,re-1)||le(he,re-1)),ne===X?re>me&&(Ee-=De?3:5):be?Ee+=De?2:0:Ee+=De?0:1,re+1===ue&&(Ee-=De?3:5),Ee}function Q(G,j,ne,X,de,he,re){return se(G,j,ne,X,de,he,!0,re)}e.fuzzyScoreGracefulAggressive=Q;function se(G,j,ne,X,de,he,re,ue){let me=z(G,j,ne,X,de,he,ue);if(me&&!re)return me;if(G.length>=3){const be=Math.min(7,G.length-1);for(let we=ne+1;we<be;we++){const Ee=oe(G,we);if(Ee){const De=z(Ee,Ee.toLowerCase(),ne,X,de,he,ue);De&&(De[0]-=3,(!me||De[0]>me[0])&&(me=De))}}}return me}function oe(G,j){if(!(j+1>=G.length)){const ne=G[j],X=G[j+1];if(ne!==X)return G.slice(0,j)+X+ne+G.slice(j+2)}}}),define(J[287],ee([0,1,66,73,17,8]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pieceToQuery=e.prepareQuery=e.scoreFuzzy2=void 0;const S=[void 0,[]];function _(r,n,s=0,t=0){const o=n;return o.values&&o.values.length>1?C(r,o.values,s,t):i(r,n,s,t)}e.scoreFuzzy2=_;function C(r,n,s,t){let o=0;const h=[];for(const g of n){const[m,f]=i(r,g,s,t);if(typeof m!="number")return S;o+=m,h.push(...f)}return[o,p(h)]}function i(r,n,s,t){const o=(0,v.fuzzyScore)(n.original,n.originalLowercase,s,r,r.toLowerCase(),t,!0);return o?[o[0],(0,v.createMatches)(o)]:S}function p(r){const n=r.sort((o,h)=>o.start-h.start),s=[];let t;for(const o of n)!t||!u(t,o)?(t=o,s.push(o)):(t.start=Math.min(t.start,o.start),t.end=Math.max(t.end,o.end));return s}function u(r,n){return!(r.end<n.start||n.end<r.start)}const a=" ";function l(r){typeof r!="string"&&(r="");const n=r.toLowerCase(),{pathNormalized:s,normalized:t,normalizedLowercase:o}=c(r),h=s.indexOf(I.sep)>=0;let g;const m=r.split(a);if(m.length>1)for(const f of m){const{pathNormalized:b,normalized:y,normalizedLowercase:L}=c(f);y&&(g||(g=[]),g.push({original:f,originalLowercase:f.toLowerCase(),pathNormalized:b,normalized:y,normalizedLowercase:L}))}return{original:r,originalLowercase:n,pathNormalized:s,normalized:t,normalizedLowercase:o,values:g,containsPathSeparator:h}}e.prepareQuery=l;function c(r){let n;k.isWindows?n=r.replace(/\//g,I.sep):n=r.replace(/\\/g,I.sep);const s=(0,w.stripWildcards)(n).replace(/\s/g,"");return{pathNormalized:n,normalized:s,normalizedLowercase:s.toLowerCase()}}function d(r){return Array.isArray(r)?l(r.map(n=>n.original).join(a)):l(r.original)}e.pieceToQuery=d}),define(J[199],ee([0,1,8,152,73,51,15]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isRelativePattern=e.parse=e.match=e.splitGlobAware=void 0;const _="**",C="/",i="[/\\\\]",p="[^/\\\\]",u=/\//g;function a(A){switch(A){case 0:return"";case 1:return`${p}*?`;default:return`(?:${i}|${p}+${i}|${i}${p}+)*?`}}function l(A,B){if(!A)return[];const H=[];let K=!1,q=!1,Y="";for(const te of A){switch(te){case B:if(!K&&!q){H.push(Y),Y="";continue}break;case"{":K=!0;break;case"}":K=!1;break;case"[":q=!0;break;case"]":q=!1;break}Y+=te}return Y&&H.push(Y),H}e.splitGlobAware=l;function c(A){if(!A)return"";let B="";const H=l(A,C);if(H.every(K=>K===_))B=".*";else{let K=!1;H.forEach((q,Y)=>{if(q===_){K||(B+=a(2),K=!0);return}let te=!1,ie="",ae=!1,le="";for(const Z of q){if(Z!=="}"&&te){ie+=Z;continue}if(ae&&(Z!=="]"||!le)){let T;Z==="-"?T=Z:(Z==="^"||Z==="!")&&!le?T="^":Z===C?T="":T=v.escapeRegExpCharacters(Z),le+=T;continue}switch(Z){case"{":te=!0;continue;case"[":ae=!0;continue;case"}":B+=`(?:${l(ie,",").map(z=>c(z)).join("|")})`,te=!1,ie="";break;case"]":B+="["+le+"]",ae=!1,le="";break;case"?":B+=p;continue;case"*":B+=a(1);continue;default:B+=v.escapeRegExpCharacters(Z)}}Y<H.length-1&&(H[Y+1]!==_||Y+2<H.length)&&(B+=i),K=!1})}return B}const d=/^\*\*\/\*\.[\w\.-]+$/,r=/^\*\*\/([\w\.-]+)\/?$/,n=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,s=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,t=/^\*\*((\/[\w\.-]+)+)\/?$/,o=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,h=new w.LRUCache(1e4),g=function(){return!1},m=function(){return null};function f(A,B){if(!A)return m;let H;typeof A!="string"?H=A.pattern:H=A,H=H.trim();const K=`${H}_${!!B.trimForExclusions}`;let q=h.get(K);if(q)return b(q,A);let Y;if(d.test(H)){const te=H.substr(4);q=function(ie,ae){return typeof ie=="string"&&ie.endsWith(te)?H:null}}else(Y=r.exec(y(H,B)))?q=L(Y[1],H):(B.trimForExclusions?s:n).test(H)?q=N(H,B):(Y=t.exec(y(H,B)))?q=M(Y[1].substr(1),H,!0):(Y=o.exec(y(H,B)))?q=M(Y[1],H,!1):q=D(H);return h.set(K,q),b(q,A)}function b(A,B){return typeof B=="string"?A:function(H,K){return I.isEqualOrParent(H,B.base)?A(k.relative(B.base,H),K):null}}function y(A,B){return B.trimForExclusions&&A.endsWith("/**")?A.substr(0,A.length-2):A}function L(A,B){const H=`/${A}`,K=`\\${A}`,q=function(te,ie){return typeof te!="string"?null:ie?ie===A?B:null:te===A||te.endsWith(H)||te.endsWith(K)?B:null},Y=[A];return q.basenames=Y,q.patterns=[B],q.allBasenames=Y,q}function N(A,B){const H=E(A.slice(1,-1).split(",").map(ie=>f(ie,B)).filter(ie=>ie!==m),A),K=H.length;if(!K)return m;if(K===1)return H[0];const q=function(ie,ae){for(let le=0,Z=H.length;le<Z;le++)if(H[le](ie,ae))return A;return null},Y=H.find(ie=>!!ie.allBasenames);Y&&(q.allBasenames=Y.allBasenames);const te=H.reduce((ie,ae)=>ae.allPaths?ie.concat(ae.allPaths):ie,[]);return te.length&&(q.allPaths=te),q}function M(A,B,H){const K=k.sep===k.posix.sep,q=K?A:A.replace(u,k.sep),Y=k.sep+q,te=k.posix.sep+A,ie=H?function(ae,le){return typeof ae=="string"&&(ae===q||ae.endsWith(Y)||!K&&(ae===A||ae.endsWith(te)))?B:null}:function(ae,le){return typeof ae=="string"&&(ae===q||!K&&ae===A)?B:null};return ie.allPaths=[(H?"*/":"./")+A],ie}function D(A){try{const B=new RegExp(`^${c(A)}$`);return function(H){return B.lastIndex=0,typeof H=="string"&&B.test(H)?A:null}}catch(B){return m}}function R(A,B,H){return!A||typeof B!="string"?!1:P(A)(B,void 0,H)}e.match=R;function P(A,B={}){if(!A)return g;if(typeof A=="string"||O(A)){const H=f(A,B);if(H===m)return g;const K=function(q,Y){return!!H(q,Y)};return H.allBasenames&&(K.allBasenames=H.allBasenames),H.allPaths&&(K.allPaths=H.allPaths),K}return W(A,B)}e.parse=P;function O(A){const B=A;return B&&typeof B.base=="string"&&typeof B.pattern=="string"}e.isRelativePattern=O;function W(A,B){const H=E(Object.getOwnPropertyNames(A).map(ie=>F(ie,A[ie],B)).filter(ie=>ie!==m)),K=H.length;if(!K)return m;if(!H.some(ie=>!!ie.requiresSiblings)){if(K===1)return H[0];const ie=function(Z,T){for(let x=0,z=H.length;x<z;x++){const V=H[x](Z,T);if(V)return V}return null},ae=H.find(Z=>!!Z.allBasenames);ae&&(ie.allBasenames=ae.allBasenames);const le=H.reduce((Z,T)=>T.allPaths?Z.concat(T.allPaths):Z,[]);return le.length&&(ie.allPaths=le),ie}const q=function(ie,ae,le){let Z;for(let T=0,x=H.length;T<x;T++){const z=H[T];z.requiresSiblings&&le&&(ae||(ae=k.basename(ie)),Z||(Z=ae.substr(0,ae.length-k.extname(ie).length)));const V=z(ie,ae,Z,le);if(V)return V}return null},Y=H.find(ie=>!!ie.allBasenames);Y&&(q.allBasenames=Y.allBasenames);const te=H.reduce((ie,ae)=>ae.allPaths?ie.concat(ae.allPaths):ie,[]);return te.length&&(q.allPaths=te),q}function F(A,B,H){if(B===!1)return m;const K=f(A,H);if(K===m)return m;if(typeof B=="boolean")return K;if(B){const q=B.when;if(typeof q=="string"){const Y=(te,ie,ae,le)=>{if(!le||!K(te,ie))return null;const Z=q.replace("$(basename)",ae),T=le(Z);return(0,S.isThenable)(T)?T.then(x=>x?A:null):T?A:null};return Y.requiresSiblings=!0,Y}}return K}function E(A,B){const H=A.filter(ie=>!!ie.basenames);if(H.length<2)return A;const K=H.reduce((ie,ae)=>{const le=ae.basenames;return le?ie.concat(le):ie},[]);let q;if(B){q=[];for(let ie=0,ae=K.length;ie<ae;ie++)q.push(B)}else q=H.reduce((ie,ae)=>{const le=ae.patterns;return le?ie.concat(le):ie},[]);const Y=function(ie,ae){if(typeof ie!="string")return null;if(!ae){let Z;for(Z=ie.length;Z>0;Z--){const T=ie.charCodeAt(Z-1);if(T===47||T===92)break}ae=ie.substr(Z)}const le=K.indexOf(ae);return le!==-1?q[le]:null};Y.basenames=K,Y.patterns=q,Y.allBasenames=K;const te=A.filter(ie=>!ie.basenames);return te.push(Y),te}}),define(J[102],ee([0,1,27,66,8]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchesFuzzyIconAware=e.parseLabelWithIcons=e.stripIcons=e.markdownEscapeEscapedIcons=e.escapeIcons=e.iconStartMarker=void 0,e.iconStartMarker="$(";const w=new RegExp(`\\$\\(${v.CSSIcon.iconNameExpression}(?:${v.CSSIcon.iconModifierExpression})?\\)`,"g"),S=new RegExp(`(\\\\)?${w.source}`,"g");function _(d){return d.replace(S,(r,n)=>n?r:`\\${r}`)}e.escapeIcons=_;const C=new RegExp(`\\\\${w.source}`,"g");function i(d){return d.replace(C,r=>`\\${r}`)}e.markdownEscapeEscapedIcons=i;const p=new RegExp(`(\\s)?(\\\\)?${w.source}(\\s)?`,"g");function u(d){return d.indexOf(e.iconStartMarker)===-1?d:d.replace(p,(r,n,s,t)=>s?r:n||t||"")}e.stripIcons=u;function a(d){const r=d.indexOf(e.iconStartMarker);return r===-1?{text:d}:l(d,r)}e.parseLabelWithIcons=a;function l(d,r){const n=[];let s="";function t(L){if(L){s+=L;for(const N of L)n.push(g)}}let o=-1,h="",g=0,m,f,b=r;const y=d.length;for(t(d.substr(0,r));b<y;)m=d[b],f=d[b+1],m===e.iconStartMarker[0]&&f===e.iconStartMarker[1]?(o=b,t(h),h=e.iconStartMarker,b++):m===")"&&o!==-1?(g+=b-o+1,o=-1,h=""):o!==-1?/^[a-z0-9\-]$/i.test(m)?h+=m:(t(h),o=-1,h=""):t(m),b++;return t(h),{text:s,iconOffsets:n}}function c(d,r,n=!1){const{text:s,iconOffsets:t}=r;if(!t||t.length===0)return(0,I.matchesFuzzy)(d,s,n);const o=(0,k.ltrim)(s," "),h=s.length-o.length,g=(0,I.matchesFuzzy)(d,o,n);if(g)for(const m of g){const f=t[m.start+h]+h;m.start+=f,m.end+=f}return g}e.matchesFuzzyIconAware=c}),define(J[74],ee([0,1,19,102,11]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseHrefAndDimensions=e.removeMarkdownEscapes=e.escapeMarkdownSyntaxTokens=e.markedStringsEquals=e.isMarkdownString=e.isEmptyMarkdownString=e.MarkdownString=void 0;class w{constructor(c="",d=!1){var r,n;if(this.value=c,typeof this.value!="string")throw(0,k.illegalArgument)("value");typeof d=="boolean"?(this.isTrusted=d,this.supportThemeIcons=!1):(this.isTrusted=(r=d.isTrusted)!==null&&r!==void 0?r:void 0,this.supportThemeIcons=(n=d.supportThemeIcons)!==null&&n!==void 0?n:!1)}appendText(c,d=0){return this.value+=p(this.supportThemeIcons?(0,I.escapeIcons)(c):c).replace(/([ \t]+)/g,(r,n)=>"&nbsp;".repeat(n.length)).replace(/^>/gm,"\\>").replace(/\n/g,d===1?`\\
`:`

`),this}appendMarkdown(c){return this.value+=c,this}appendCodeblock(c,d){return this.value+="\n```",this.value+=c,this.value+=`
`,this.value+=d,this.value+="\n```\n",this}}e.MarkdownString=w;function S(l){return _(l)?!l.value:Array.isArray(l)?l.every(S):!0}e.isEmptyMarkdownString=S;function _(l){return l instanceof w?!0:l&&typeof l=="object"?typeof l.value=="string"&&(typeof l.isTrusted=="boolean"||l.isTrusted===void 0)&&(typeof l.supportThemeIcons=="boolean"||l.supportThemeIcons===void 0):!1}e.isMarkdownString=_;function C(l,c){return!l&&!c?!0:!l||!c?!1:Array.isArray(l)&&Array.isArray(c)?(0,v.equals)(l,c,i):_(l)&&_(c)?i(l,c):!1}e.markedStringsEquals=C;function i(l,c){return l===c?!0:!l||!c?!1:l.value===c.value&&l.isTrusted===c.isTrusted&&l.supportThemeIcons===c.supportThemeIcons}function p(l){return l.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}e.escapeMarkdownSyntaxTokens=p;function u(l){return l&&l.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}e.removeMarkdownEscapes=u;function a(l){const c=[],d=l.split("|").map(n=>n.trim());l=d[0];const r=d[1];if(r){const n=/height=(\d+)/.exec(r),s=/width=(\d+)/.exec(r),t=n?n[1]:"",o=s?s[1]:"",h=isFinite(parseInt(o)),g=isFinite(parseInt(t));h&&c.push(`width="${o}"`),g&&c.push(`height="${t}"`)}return{href:l,dimensions:c}}e.parseHrefAndDimensions=a}),define(J[200],ee([0,1,101,24]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.revive=e.parse=void 0;function k(S){let _=JSON.parse(S);return _=w(_),_}e.parse=k;function w(S,_=0){if(!S||_>200)return S;if(typeof S=="object"){switch(S.$mid){case 1:return I.URI.revive(S);case 2:return new RegExp(S.source,S.flags)}if(S instanceof v.VSBuffer||S instanceof Uint8Array)return S;if(Array.isArray(S))for(let C=0;C<S.length;++C)S[C]=w(S[C],_+1);else for(const C in S)Object.hasOwnProperty.call(S,C)&&(S[C]=w(S[C],_+1))}return S}e.revive=w}),define(J[44],ee([0,1,24,17]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileAccess=e.RemoteAuthorities=e.Schemas=void 0;var k;(function(_){_.inMemory="inmemory",_.vscode="vscode",_.internal="private",_.walkThrough="walkThrough",_.walkThroughSnippet="walkThroughSnippet",_.http="http",_.https="https",_.file="file",_.mailto="mailto",_.untitled="untitled",_.data="data",_.command="command",_.vscodeRemote="vscode-remote",_.vscodeRemoteResource="vscode-remote-resource",_.userData="vscode-userdata",_.vscodeCustomEditor="vscode-custom-editor",_.vscodeNotebook="vscode-notebook",_.vscodeNotebookCell="vscode-notebook-cell",_.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",_.vscodeSettings="vscode-settings",_.vscodeWorkspaceTrust="vscode-workspace-trust",_.vscodeTerminal="vscode-terminal",_.webviewPanel="webview-panel",_.vscodeWebview="vscode-webview",_.extension="extension",_.vscodeFileResource="vscode-file",_.tmp="tmp"})(k=e.Schemas||(e.Schemas={}));class w{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(C){this._preferredWebSchema=C}rewrite(C){if(this._delegate)return this._delegate(C);const i=C.authority;let p=this._hosts[i];p&&p.indexOf(":")!==-1&&(p=`[${p}]`);const u=this._ports[i],a=this._connectionTokens[i];let l=`path=${encodeURIComponent(C.path)}`;return typeof a=="string"&&(l+=`&tkn=${encodeURIComponent(a)}`),v.URI.from({scheme:I.isWeb?this._preferredWebSchema:k.vscodeRemoteResource,authority:`${p}:${u}`,path:"/vscode-remote-resource",query:l})}}e.RemoteAuthorities=new w;class S{constructor(){this.FALLBACK_AUTHORITY="vscode-app"}asBrowserUri(C,i,p){const u=this.toUri(C,i);return u.scheme===k.vscodeRemote?e.RemoteAuthorities.rewrite(u):I.isNative&&(p||I.isPreferringBrowserCodeLoad)&&u.scheme===k.file?u.with({scheme:k.vscodeFileResource,authority:u.authority||this.FALLBACK_AUTHORITY,query:null,fragment:null}):u}toUri(C,i){return v.URI.isUri(C)?C:v.URI.parse(i.toUrl(C))}}e.FileAccess=new S}),define(J[7],ee([0,1,35,55,56,50,15,11,6,2,17,44,151]),function($,e,v,I,k,w,S,_,C,i,p,u,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addMatchMediaChangeListener=e.ModifierKeyEmitter=e.asCSSPropertyValue=e.asCSSUrl=e.animate=e.windowOpenNoOpener=e.computeScreenAwareSize=e.getElementsByTagName=e.hide=e.show=e.$=e.Namespace=e.reset=e.append=e.trackFocus=e.restoreParentsScrollTop=e.saveParentsScrollTop=e.EventHelper=e.EventType=e.isHTMLElement=e.removeCSSRulesContainingSelector=e.createCSSRule=e.createStyleSheet=e.getActiveElement=e.getShadowRoot=e.isInShadowDOM=e.isShadowRoot=e.hasParentWithClass=e.findParentWithClass=e.isAncestor=e.getTotalHeight=e.getContentHeight=e.getContentWidth=e.getTotalWidth=e.StandardWindow=e.getDomNodePagePosition=e.size=e.getTopLeftOffset=e.Dimension=e.getClientArea=e.getComputedStyle=e.addDisposableThrottledListener=e.scheduleAtNextAnimationFrame=e.runAtThisOrScheduleAtNextAnimationFrame=e.addDisposableNonBubblingPointerOutListener=e.addDisposableNonBubblingMouseOutListener=e.addDisposableGenericMouseUpListner=e.addDisposableGenericMouseDownListner=e.addStandardDisposableGenericMouseDownListner=e.addStandardDisposableListener=e.addDisposableListener=e.isInDOM=e.clearNode=void 0;function l(ce){for(;ce.firstChild;)ce.firstChild.remove()}e.clearNode=l;function c(ce){var ge;return(ge=ce==null?void 0:ce.isConnected)!==null&&ge!==void 0?ge:!1}e.isInDOM=c;class d{constructor(ge,_e,ke,Ne){this._node=ge,this._type=_e,this._handler=ke,this._options=Ne||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){!this._handler||(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function r(ce,ge,_e,ke){return new d(ce,ge,_e,ke)}e.addDisposableListener=r;function n(ce){return function(ge){return ce(new w.StandardMouseEvent(ge))}}function s(ce){return function(ge){return ce(new k.StandardKeyboardEvent(ge))}}let t=function(ge,_e,ke,Ne){let Re=ke;return _e==="click"||_e==="mousedown"?Re=n(ke):(_e==="keydown"||_e==="keypress"||_e==="keyup")&&(Re=s(ke)),r(ge,_e,Re,Ne)};e.addStandardDisposableListener=t;let o=function(ge,_e,ke){let Ne=n(_e);return h(ge,Ne,ke)};e.addStandardDisposableGenericMouseDownListner=o;function h(ce,ge,_e){return r(ce,p.isIOS&&a.BrowserFeatures.pointerEvents?e.EventType.POINTER_DOWN:e.EventType.MOUSE_DOWN,ge,_e)}e.addDisposableGenericMouseDownListner=h;function g(ce,ge,_e){return r(ce,p.isIOS&&a.BrowserFeatures.pointerEvents?e.EventType.POINTER_UP:e.EventType.MOUSE_UP,ge,_e)}e.addDisposableGenericMouseUpListner=g;function m(ce,ge){return r(ce,"mouseout",_e=>{let ke=_e.relatedTarget;for(;ke&&ke!==ce;)ke=ke.parentNode;ke!==ce&&ge(_e)})}e.addDisposableNonBubblingMouseOutListener=m;function f(ce,ge){return r(ce,"pointerout",_e=>{let ke=_e.relatedTarget;for(;ke&&ke!==ce;)ke=ke.parentNode;ke!==ce&&ge(_e)})}e.addDisposableNonBubblingPointerOutListener=f;let b=null;function y(ce){if(!b){const ge=_e=>setTimeout(()=>_e(new Date().getTime()),0);b=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||ge}return b.call(self,ce)}class L{constructor(ge,_e=0){this._runner=ge,this.priority=_e,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(ge){(0,_.onUnexpectedError)(ge)}}static sort(ge,_e){return _e.priority-ge.priority}}(function(){let ce=[],ge=null,_e=!1,ke=!1,Ne=()=>{for(_e=!1,ge=ce,ce=[],ke=!0;ge.length>0;)ge.sort(L.sort),ge.shift().execute();ke=!1};e.scheduleAtNextAnimationFrame=(Re,Ae=0)=>{let Fe=new L(Re,Ae);return ce.push(Fe),_e||(_e=!0,y(Ne)),Fe},e.runAtThisOrScheduleAtNextAnimationFrame=(Re,Ae)=>{if(ke){let Fe=new L(Re,Ae);return ge.push(Fe),Fe}else return(0,e.scheduleAtNextAnimationFrame)(Re,Ae)}})();const N=8,M=function(ce,ge){return ge};class D extends i.Disposable{constructor(ge,_e,ke,Ne=M,Re=N){super();let Ae=null,Fe=0,Pe=this._register(new S.TimeoutTimer),xe=()=>{Fe=new Date().getTime(),ke(Ae),Ae=null};this._register(r(ge,_e,We=>{Ae=Ne(Ae,We);let ze=new Date().getTime()-Fe;ze>=Re?(Pe.cancel(),xe()):Pe.setIfNotSet(xe,Re-ze)}))}}function R(ce,ge,_e,ke,Ne){return new D(ce,ge,_e,ke,Ne)}e.addDisposableThrottledListener=R;function P(ce){return document.defaultView.getComputedStyle(ce,null)}e.getComputedStyle=P;function O(ce){if(ce!==document.body)return new F(ce.clientWidth,ce.clientHeight);if(p.isIOS&&window.visualViewport){const ge=window.visualViewport.width,_e=window.visualViewport.height-(v.isStandalone?20+4:0);return new F(ge,_e)}if(window.innerWidth&&window.innerHeight)return new F(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new F(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new F(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}e.getClientArea=O;class W{static convertToPixels(ge,_e){return parseFloat(_e)||0}static getDimension(ge,_e,ke){let Ne=P(ge),Re="0";return Ne&&(Ne.getPropertyValue?Re=Ne.getPropertyValue(_e):Re=Ne.getAttribute(ke)),W.convertToPixels(ge,Re)}static getBorderLeftWidth(ge){return W.getDimension(ge,"border-left-width","borderLeftWidth")}static getBorderRightWidth(ge){return W.getDimension(ge,"border-right-width","borderRightWidth")}static getBorderTopWidth(ge){return W.getDimension(ge,"border-top-width","borderTopWidth")}static getBorderBottomWidth(ge){return W.getDimension(ge,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(ge){return W.getDimension(ge,"padding-left","paddingLeft")}static getPaddingRight(ge){return W.getDimension(ge,"padding-right","paddingRight")}static getPaddingTop(ge){return W.getDimension(ge,"padding-top","paddingTop")}static getPaddingBottom(ge){return W.getDimension(ge,"padding-bottom","paddingBottom")}static getMarginLeft(ge){return W.getDimension(ge,"margin-left","marginLeft")}static getMarginTop(ge){return W.getDimension(ge,"margin-top","marginTop")}static getMarginRight(ge){return W.getDimension(ge,"margin-right","marginRight")}static getMarginBottom(ge){return W.getDimension(ge,"margin-bottom","marginBottom")}}class F{constructor(ge,_e){this.width=ge,this.height=_e}with(ge=this.width,_e=this.height){return ge!==this.width||_e!==this.height?new F(ge,_e):this}static is(ge){return typeof ge=="object"&&typeof ge.height=="number"&&typeof ge.width=="number"}static lift(ge){return ge instanceof F?ge:new F(ge.width,ge.height)}static equals(ge,_e){return ge===_e?!0:!ge||!_e?!1:ge.width===_e.width&&ge.height===_e.height}}e.Dimension=F;function E(ce){let ge=ce.offsetParent,_e=ce.offsetTop,ke=ce.offsetLeft;for(;(ce=ce.parentNode)!==null&&ce!==document.body&&ce!==document.documentElement;){_e-=ce.scrollTop;const Ne=le(ce)?null:P(ce);Ne&&(ke-=Ne.direction!=="rtl"?ce.scrollLeft:-ce.scrollLeft),ce===ge&&(ke+=W.getBorderLeftWidth(ce),_e+=W.getBorderTopWidth(ce),_e+=ce.offsetTop,ke+=ce.offsetLeft,ge=ce.offsetParent)}return{left:ke,top:_e}}e.getTopLeftOffset=E;function A(ce,ge,_e){typeof ge=="number"&&(ce.style.width=`${ge}px`),typeof _e=="number"&&(ce.style.height=`${_e}px`)}e.size=A;function B(ce){let ge=ce.getBoundingClientRect();return{left:ge.left+e.StandardWindow.scrollX,top:ge.top+e.StandardWindow.scrollY,width:ge.width,height:ge.height}}e.getDomNodePagePosition=B,e.StandardWindow=new class{get scrollX(){return typeof window.scrollX=="number"?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return typeof window.scrollY=="number"?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function H(ce){let ge=W.getMarginLeft(ce)+W.getMarginRight(ce);return ce.offsetWidth+ge}e.getTotalWidth=H;function K(ce){let ge=W.getBorderLeftWidth(ce)+W.getBorderRightWidth(ce),_e=W.getPaddingLeft(ce)+W.getPaddingRight(ce);return ce.offsetWidth-ge-_e}e.getContentWidth=K;function q(ce){let ge=W.getBorderTopWidth(ce)+W.getBorderBottomWidth(ce),_e=W.getPaddingTop(ce)+W.getPaddingBottom(ce);return ce.offsetHeight-ge-_e}e.getContentHeight=q;function Y(ce){let ge=W.getMarginTop(ce)+W.getMarginBottom(ce);return ce.offsetHeight+ge}e.getTotalHeight=Y;function te(ce,ge){for(;ce;){if(ce===ge)return!0;ce=ce.parentNode}return!1}e.isAncestor=te;function ie(ce,ge,_e){for(;ce&&ce.nodeType===ce.ELEMENT_NODE;){if(ce.classList.contains(ge))return ce;if(_e){if(typeof _e=="string"){if(ce.classList.contains(_e))return null}else if(ce===_e)return null}ce=ce.parentNode}return null}e.findParentWithClass=ie;function ae(ce,ge,_e){return!!ie(ce,ge,_e)}e.hasParentWithClass=ae;function le(ce){return ce&&!!ce.host&&!!ce.mode}e.isShadowRoot=le;function Z(ce){return!!T(ce)}e.isInShadowDOM=Z;function T(ce){for(;ce.parentNode;){if(ce===document.body)return null;ce=ce.parentNode}return le(ce)?ce:null}e.getShadowRoot=T;function x(){let ce=document.activeElement;for(;ce==null?void 0:ce.shadowRoot;)ce=ce.shadowRoot.activeElement;return ce}e.getActiveElement=x;function z(ce=document.getElementsByTagName("head")[0]){let ge=document.createElement("style");return ge.type="text/css",ge.media="screen",ce.appendChild(ge),ge}e.createStyleSheet=z;let V=null;function U(){return V||(V=z()),V}function Q(ce){var ge,_e;return((ge=ce==null?void 0:ce.sheet)===null||ge===void 0?void 0:ge.rules)?ce.sheet.rules:((_e=ce==null?void 0:ce.sheet)===null||_e===void 0?void 0:_e.cssRules)?ce.sheet.cssRules:[]}function se(ce,ge,_e=U()){!_e||!ge||_e.sheet.insertRule(ce+"{"+ge+"}",0)}e.createCSSRule=se;function oe(ce,ge=U()){if(!!ge){let _e=Q(ge),ke=[];for(let Ne=0;Ne<_e.length;Ne++)_e[Ne].selectorText.indexOf(ce)!==-1&&ke.push(Ne);for(let Ne=ke.length-1;Ne>=0;Ne--)ge.sheet.deleteRule(ke[Ne])}}e.removeCSSRulesContainingSelector=oe;function G(ce){return typeof HTMLElement=="object"?ce instanceof HTMLElement:ce&&typeof ce=="object"&&ce.nodeType===1&&typeof ce.nodeName=="string"}e.isHTMLElement=G,e.EventType={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:v.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:v.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:v.isWebKit?"webkitAnimationIteration":"animationiteration"},e.EventHelper={stop:function(ce,ge){ce.preventDefault?ce.preventDefault():ce.returnValue=!1,ge&&(ce.stopPropagation?ce.stopPropagation():ce.cancelBubble=!0)}};function j(ce){let ge=[];for(let _e=0;ce&&ce.nodeType===ce.ELEMENT_NODE;_e++)ge[_e]=ce.scrollTop,ce=ce.parentNode;return ge}e.saveParentsScrollTop=j;function ne(ce,ge){for(let _e=0;ce&&ce.nodeType===ce.ELEMENT_NODE;_e++)ce.scrollTop!==ge[_e]&&(ce.scrollTop=ge[_e]),ce=ce.parentNode}e.restoreParentsScrollTop=ne;class X extends i.Disposable{constructor(ge){super();this._onDidFocus=this._register(new C.Emitter),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new C.Emitter),this.onDidBlur=this._onDidBlur.event;let _e=te(document.activeElement,ge),ke=!1;const Ne=()=>{ke=!1,_e||(_e=!0,this._onDidFocus.fire())},Re=()=>{_e&&(ke=!0,window.setTimeout(()=>{ke&&(ke=!1,_e=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{te(document.activeElement,ge)!==_e&&(_e?Re():Ne())},this._register((0,I.domEvent)(ge,e.EventType.FOCUS,!0)(Ne)),this._register((0,I.domEvent)(ge,e.EventType.BLUR,!0)(Re))}}function de(ce){return new X(ce)}e.trackFocus=de;function he(ce,...ge){if(ce.append(...ge),ge.length===1&&typeof ge[0]!="string")return ge[0]}e.append=he;function re(ce,...ge){ce.innerText="",he(ce,...ge)}e.reset=re;const ue=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var me;(function(ce){ce.HTML="http://www.w3.org/1999/xhtml",ce.SVG="http://www.w3.org/2000/svg"})(me=e.Namespace||(e.Namespace={}));function be(ce,ge,_e,...ke){let Ne=ue.exec(ge);if(!Ne)throw new Error("Bad use of emmet");_e=Object.assign({},_e||{});let Re=Ne[1]||"div",Ae;return ce!==me.HTML?Ae=document.createElementNS(ce,Re):Ae=document.createElement(Re),Ne[3]&&(Ae.id=Ne[3]),Ne[4]&&(Ae.className=Ne[4].replace(/\./g," ").trim()),Object.keys(_e).forEach(Fe=>{const Pe=_e[Fe];typeof Pe!="undefined"&&(/^on\w+$/.test(Fe)?Ae[Fe]=Pe:Fe==="selected"?Pe&&Ae.setAttribute(Fe,"true"):Ae.setAttribute(Fe,Pe))}),Ae.append(...ke),Ae}function we(ce,ge,..._e){return be(me.HTML,ce,ge,..._e)}e.$=we,we.SVG=function(ce,ge,..._e){return be(me.SVG,ce,ge,..._e)};function Ee(...ce){for(let ge of ce)ge.style.display="",ge.removeAttribute("aria-hidden")}e.show=Ee;function De(...ce){for(let ge of ce)ge.style.display="none",ge.setAttribute("aria-hidden","true")}e.hide=De;function Oe(ce){return Array.prototype.slice.call(document.getElementsByTagName(ce),0)}e.getElementsByTagName=Oe;function Le(ce){const ge=window.devicePixelRatio*ce;return Math.max(1,Math.floor(ge))/window.devicePixelRatio}e.computeScreenAwareSize=Le;function Te(ce){window.open(ce,"_blank","noopener")}e.windowOpenNoOpener=Te;function ve(ce){const ge=()=>{ce(),_e=(0,e.scheduleAtNextAnimationFrame)(ge)};let _e=(0,e.scheduleAtNextAnimationFrame)(ge);return(0,i.toDisposable)(()=>_e.dispose())}e.animate=ve,u.RemoteAuthorities.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");function Se(ce){return ce?`url('${u.FileAccess.asBrowserUri(ce).toString(!0).replace(/'/g,"%27")}')`:"url('')"}e.asCSSUrl=Se;function ye(ce){return`'${ce.replace(/'/g,"%27")}'`}e.asCSSPropertyValue=ye;class fe extends C.Emitter{constructor(){super();this._subscriptions=new i.DisposableStore,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add((0,I.domEvent)(window,"keydown",!0)(ge=>{const _e=new k.StandardKeyboardEvent(ge);if(!(_e.keyCode===6&&ge.repeat)){if(ge.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(ge.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(ge.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(ge.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(_e.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=ge.altKey,this._keyStatus.ctrlKey=ge.ctrlKey,this._keyStatus.metaKey=ge.metaKey,this._keyStatus.shiftKey=ge.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=ge,this.fire(this._keyStatus))}})),this._subscriptions.add((0,I.domEvent)(window,"keyup",!0)(ge=>{!ge.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!ge.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!ge.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!ge.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=ge.altKey,this._keyStatus.ctrlKey=ge.ctrlKey,this._keyStatus.metaKey=ge.metaKey,this._keyStatus.shiftKey=ge.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=ge,this.fire(this._keyStatus))})),this._subscriptions.add((0,I.domEvent)(document.body,"mousedown",!0)(ge=>{this._keyStatus.lastKeyPressed=void 0})),this._subscriptions.add((0,I.domEvent)(document.body,"mouseup",!0)(ge=>{this._keyStatus.lastKeyPressed=void 0})),this._subscriptions.add((0,I.domEvent)(document.body,"mousemove",!0)(ge=>{ge.buttons&&(this._keyStatus.lastKeyPressed=void 0)})),this._subscriptions.add((0,I.domEvent)(window,"blur")(ge=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return fe.instance||(fe.instance=new fe),fe.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}e.ModifierKeyEmitter=fe;function Ce(ce,ge){const _e=window.matchMedia(ce);typeof _e.addEventListener=="function"?_e.addEventListener("change",ge):_e.addListener(ge)}e.addMatchMediaChangeListener=Ce}),define(J[156],ee([0,1,7]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createElement=e.renderFormattedText=e.renderText=void 0;function I(u,a={}){const l=w(a);return l.textContent=u,l}e.renderText=I;function k(u,a={}){const l=w(a);return _(l,C(u,!!a.renderCodeSegements),a.actionHandler,a.renderCodeSegements),l}e.renderFormattedText=k;function w(u){const a=u.inline?"span":"div",l=document.createElement(a);return u.className&&(l.className=u.className),l}e.createElement=w;class S{constructor(a){this.source=a,this.index=0}eos(){return this.index>=this.source.length}next(){const a=this.peek();return this.advance(),a}peek(){return this.source[this.index]}advance(){this.index++}}function _(u,a,l,c){let d;if(a.type===2)d=document.createTextNode(a.content||"");else if(a.type===3)d=document.createElement("b");else if(a.type===4)d=document.createElement("i");else if(a.type===7&&c)d=document.createElement("code");else if(a.type===5&&l){const r=document.createElement("a");r.href="#",l.disposeables.add(v.addStandardDisposableListener(r,"click",n=>{l.callback(String(a.index),n)})),d=r}else a.type===8?d=document.createElement("br"):a.type===1&&(d=u);d&&u!==d&&u.appendChild(d),d&&Array.isArray(a.children)&&a.children.forEach(r=>{_(d,r,l,c)})}function C(u,a){const l={type:1,children:[]};let c=0,d=l;const r=[],n=new S(u);for(;!n.eos();){let s=n.next();const t=s==="\\"&&p(n.peek(),a)!==0;if(t&&(s=n.next()),!t&&i(s,a)&&s===n.peek()){n.advance(),d.type===2&&(d=r.pop());const o=p(s,a);if(d.type===o||d.type===5&&o===6)d=r.pop();else{const h={type:o,children:[]};o===5&&(h.index=c,c++),d.children.push(h),r.push(d),d=h}}else if(s===`
`)d.type===2&&(d=r.pop()),d.children.push({type:8});else if(d.type!==2){const o={type:2,content:s};d.children.push(o),r.push(d),d=o}else d.content+=s}return d.type===2&&(d=r.pop()),r.length,l}function i(u,a){return p(u,a)!==0}function p(u,a){switch(u){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return a?7:0;default:return 0}}}),define(J[90],ee([0,1,7,194,50,2]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalMouseMoveMonitor=e.standardMouseMoveMerger=void 0;function S(C,i){let p=new k.StandardMouseEvent(i);return p.preventDefault(),{leftButton:p.leftButton,buttons:p.buttons,posx:p.posx,posy:p.posy}}e.standardMouseMoveMerger=S;class _{constructor(){this._hooks=new w.DisposableStore,this._mouseMoveEventMerger=null,this._mouseMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(i,p){if(!!this.isMonitoring()){this._hooks.clear(),this._mouseMoveEventMerger=null,this._mouseMoveCallback=null;const u=this._onStopCallback;this._onStopCallback=null,i&&u&&u(p)}}isMonitoring(){return!!this._mouseMoveEventMerger}startMonitoring(i,p,u,a,l){if(!this.isMonitoring()){this._mouseMoveEventMerger=u,this._mouseMoveCallback=a,this._onStopCallback=l;const c=I.IframeUtils.getSameOriginWindowChain(),d="mousemove",r="mouseup",n=c.map(t=>t.window.document),s=v.getShadowRoot(i);s&&n.unshift(s);for(const t of n)this._hooks.add(v.addDisposableThrottledListener(t,d,o=>{if(o.buttons!==p){this.stopMonitoring(!0);return}this._mouseMoveCallback(o)},(o,h)=>this._mouseMoveEventMerger(o,h))),this._hooks.add(v.addDisposableListener(t,r,o=>this.stopMonitoring(!0)));if(I.IframeUtils.hasDifferentOriginAncestor()){let t=c[c.length-1];this._hooks.add(v.addDisposableListener(t.window.document,"mouseout",o=>{new k.StandardMouseEvent(o).target.tagName.toLowerCase()==="html"&&this.stopMonitoring(!0)})),this._hooks.add(v.addDisposableListener(t.window.document,"mouseover",o=>{new k.StandardMouseEvent(o).target.tagName.toLowerCase()==="html"&&this.stopMonitoring(!0)})),this._hooks.add(v.addDisposableListener(t.window.document.body,"mouseleave",o=>{this.stopMonitoring(!0)}))}}}}e.GlobalMouseMoveMonitor=_});var Me=this&&this.__decorate||function($,e,v,I){var k=arguments.length,w=k<3?e:I===null?I=Object.getOwnPropertyDescriptor(e,v):I,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate($,e,v,I);else for(var _=$.length-1;_>=0;_--)(S=$[_])&&(w=(k<3?S(w):k>3?S(e,v,w):S(e,v))||w);return k>3&&w&&Object.defineProperty(e,v,w),w};define(J[60],ee([0,1,19,2,7,99]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Gesture=e.EventType=void 0;var S;(function(C){C.Tap="-monaco-gesturetap",C.Change="-monaco-gesturechange",C.Start="-monaco-gesturestart",C.End="-monaco-gesturesend",C.Contextmenu="-monaco-gesturecontextmenu"})(S=e.EventType||(e.EventType={}));class _ extends I.Disposable{constructor(){super();this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(k.addDisposableListener(document,"touchstart",i=>this.onTouchStart(i),{passive:!1})),this._register(k.addDisposableListener(document,"touchend",i=>this.onTouchEnd(i))),this._register(k.addDisposableListener(document,"touchmove",i=>this.onTouchMove(i),{passive:!1}))}static addTarget(i){return _.isTouchDevice()?(_.INSTANCE||(_.INSTANCE=new _),_.INSTANCE.targets.push(i),{dispose:()=>{_.INSTANCE.targets=_.INSTANCE.targets.filter(p=>p!==i)}}):I.Disposable.None}static ignoreTarget(i){return _.isTouchDevice()?(_.INSTANCE||(_.INSTANCE=new _),_.INSTANCE.ignoreTargets.push(i),{dispose:()=>{_.INSTANCE.ignoreTargets=_.INSTANCE.ignoreTargets.filter(p=>p!==i)}}):I.Disposable.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(i){let p=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let u=0,a=i.targetTouches.length;u<a;u++){let l=i.targetTouches.item(u);this.activeTouches[l.identifier]={id:l.identifier,initialTarget:l.target,initialTimeStamp:p,initialPageX:l.pageX,initialPageY:l.pageY,rollingTimestamps:[p],rollingPageX:[l.pageX],rollingPageY:[l.pageY]};let c=this.newGestureEvent(S.Start,l.target);c.pageX=l.pageX,c.pageY=l.pageY,this.dispatchEvent(c)}this.dispatched&&(i.preventDefault(),i.stopPropagation(),this.dispatched=!1)}onTouchEnd(i){let p=Date.now(),u=Object.keys(this.activeTouches).length;for(let a=0,l=i.changedTouches.length;a<l;a++){let c=i.changedTouches.item(a);if(!this.activeTouches.hasOwnProperty(String(c.identifier))){console.warn("move of an UNKNOWN touch",c);continue}let d=this.activeTouches[c.identifier],r=Date.now()-d.initialTimeStamp;if(r<_.HOLD_DELAY&&Math.abs(d.initialPageX-v.tail(d.rollingPageX))<30&&Math.abs(d.initialPageY-v.tail(d.rollingPageY))<30){let n=this.newGestureEvent(S.Tap,d.initialTarget);n.pageX=v.tail(d.rollingPageX),n.pageY=v.tail(d.rollingPageY),this.dispatchEvent(n)}else if(r>=_.HOLD_DELAY&&Math.abs(d.initialPageX-v.tail(d.rollingPageX))<30&&Math.abs(d.initialPageY-v.tail(d.rollingPageY))<30){let n=this.newGestureEvent(S.Contextmenu,d.initialTarget);n.pageX=v.tail(d.rollingPageX),n.pageY=v.tail(d.rollingPageY),this.dispatchEvent(n)}else if(u===1){let n=v.tail(d.rollingPageX),s=v.tail(d.rollingPageY),t=v.tail(d.rollingTimestamps)-d.rollingTimestamps[0],o=n-d.rollingPageX[0],h=s-d.rollingPageY[0];const g=this.targets.filter(m=>d.initialTarget instanceof Node&&m.contains(d.initialTarget));this.inertia(g,p,Math.abs(o)/t,o>0?1:-1,n,Math.abs(h)/t,h>0?1:-1,s)}this.dispatchEvent(this.newGestureEvent(S.End,d.initialTarget)),delete this.activeTouches[c.identifier]}this.dispatched&&(i.preventDefault(),i.stopPropagation(),this.dispatched=!1)}newGestureEvent(i,p){let u=document.createEvent("CustomEvent");return u.initEvent(i,!1,!0),u.initialTarget=p,u.tapCount=0,u}dispatchEvent(i){if(i.type===S.Tap){const p=new Date().getTime();let u=0;p-this._lastSetTapCountTime>_.CLEAR_TAP_COUNT_TIME?u=1:u=2,this._lastSetTapCountTime=p,i.tapCount=u}else(i.type===S.Change||i.type===S.Contextmenu)&&(this._lastSetTapCountTime=0);for(let p=0;p<this.ignoreTargets.length;p++)if(i.initialTarget instanceof Node&&this.ignoreTargets[p].contains(i.initialTarget))return;this.targets.forEach(p=>{i.initialTarget instanceof Node&&p.contains(i.initialTarget)&&(p.dispatchEvent(i),this.dispatched=!0)})}inertia(i,p,u,a,l,c,d,r){this.handle=k.scheduleAtNextAnimationFrame(()=>{let n=Date.now(),s=n-p,t=0,o=0,h=!0;u+=_.SCROLL_FRICTION*s,c+=_.SCROLL_FRICTION*s,u>0&&(h=!1,t=a*u*s),c>0&&(h=!1,o=d*c*s);let g=this.newGestureEvent(S.Change);g.translationX=t,g.translationY=o,i.forEach(m=>m.dispatchEvent(g)),h||this.inertia(i,n,u,a,l+t,c,d,r+o)})}onTouchMove(i){let p=Date.now();for(let u=0,a=i.changedTouches.length;u<a;u++){let l=i.changedTouches.item(u);if(!this.activeTouches.hasOwnProperty(String(l.identifier))){console.warn("end of an UNKNOWN touch",l);continue}let c=this.activeTouches[l.identifier],d=this.newGestureEvent(S.Change,c.initialTarget);d.translationX=l.pageX-v.tail(c.rollingPageX),d.translationY=l.pageY-v.tail(c.rollingPageY),d.pageX=l.pageX,d.pageY=l.pageY,this.dispatchEvent(d),c.rollingPageX.length>3&&(c.rollingPageX.shift(),c.rollingPageY.shift(),c.rollingTimestamps.shift()),c.rollingPageX.push(l.pageX),c.rollingPageY.push(l.pageY),c.rollingTimestamps.push(p)}this.dispatched&&(i.preventDefault(),i.stopPropagation(),this.dispatched=!1)}}_.SCROLL_FRICTION=-.005,_.HOLD_DELAY=700,_.CLEAR_TAP_COUNT_TIME=400,Me([w.memoize],_,"isTouchDevice",null),e.Gesture=_}),define(J[103],ee([0,1,7,27]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderIcon=e.renderLabelWithIcons=void 0;const k=new RegExp(`(\\\\)?\\$\\((${I.CSSIcon.iconNameExpression}(?:${I.CSSIcon.iconModifierExpression})?)\\)`,"g");function w(_){const C=new Array;let i,p=0,u=0;for(;(i=k.exec(_))!==null;){u=i.index||0,C.push(_.substring(p,u)),p=(i.index||0)+i[0].length;const[,a,l]=i;C.push(a?`$(${l})`:S({id:l}))}return p<_.length&&C.push(_.substring(p)),C}e.renderLabelWithIcons=w;function S(_){const C=v.$("span");return C.classList.add(...I.CSSIcon.asClassNameArray(_)),C}e.renderIcon=S}),define(J[157],ee([0,1,40,7,103]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HighlightedLabel=void 0;class w{constructor(_,C){this.supportIcons=C,this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.domNode=document.createElement("span"),this.domNode.className="monaco-highlighted-label",_.appendChild(this.domNode)}get element(){return this.domNode}set(_,C=[],i="",p){_||(_=""),p&&(_=w.escapeNewLines(_,C)),!(this.didEverRender&&this.text===_&&this.title===i&&v.equals(this.highlights,C))&&(this.text=_,this.title=i,this.highlights=C,this.render())}render(){const _=[];let C=0;for(const i of this.highlights)if(i.end!==i.start){if(C<i.start){const a=this.text.substring(C,i.start);_.push(I.$("span",void 0,...this.supportIcons?(0,k.renderLabelWithIcons)(a):[a])),C=i.end}const p=this.text.substring(i.start,i.end),u=I.$("span.highlight",void 0,...this.supportIcons?(0,k.renderLabelWithIcons)(p):[p]);i.extraClasses&&u.classList.add(i.extraClasses),_.push(u),C=i.end}if(C<this.text.length){const i=this.text.substring(C);_.push(I.$("span",void 0,...this.supportIcons?(0,k.renderLabelWithIcons)(i):[i]))}I.reset(this.domNode,..._),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(_,C){let i=0,p=0;return _.replace(/\r\n|\r|\n/g,(u,a)=>{p=u===`\r
`?-1:0,a+=i;for(const l of C)l.end<=a||(l.start>=a&&(l.start+=p),l.end>=a&&(l.end+=p));return i+=p,"\u23CE"})}}e.HighlightedLabel=w}),define(J[288],ee([0,1,7]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RowCache=void 0;function I(w){try{w.parentElement&&w.parentElement.removeChild(w)}catch(S){}}class k{constructor(S){this.renderers=S,this.cache=new Map}alloc(S){let _=this.getTemplateCache(S).pop();if(!_){const C=(0,v.$)(".monaco-list-row"),p=this.getRenderer(S).renderTemplate(C);_={domNode:C,templateId:S,templateData:p}}return _}release(S){!S||this.releaseRow(S)}releaseRow(S){const{domNode:_,templateId:C}=S;_&&(_.classList.remove("scrolling"),I(_)),this.getTemplateCache(C).push(S)}getTemplateCache(S){let _=this.cache.get(S);return _||(_=[],this.cache.set(S,_)),_}dispose(){this.cache.forEach((S,_)=>{for(const C of S)this.getRenderer(_).disposeTemplate(C.templateData),C.templateData=null}),this.cache.clear()}getRenderer(S){const _=this.renderers.get(S);if(!_)throw new Error(`No renderer found for ${S}`);return _}}e.RowCache=k}),define(J[52],ee([0,1,7,56,50,2,60]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Widget=void 0;class _ extends w.Disposable{onclick(i,p){this._register(v.addDisposableListener(i,v.EventType.CLICK,u=>p(new k.StandardMouseEvent(u))))}onmousedown(i,p){this._register(v.addDisposableListener(i,v.EventType.MOUSE_DOWN,u=>p(new k.StandardMouseEvent(u))))}onmouseover(i,p){this._register(v.addDisposableListener(i,v.EventType.MOUSE_OVER,u=>p(new k.StandardMouseEvent(u))))}onnonbubblingmouseout(i,p){this._register(v.addDisposableNonBubblingMouseOutListener(i,u=>p(new k.StandardMouseEvent(u))))}onkeydown(i,p){this._register(v.addDisposableListener(i,v.EventType.KEY_DOWN,u=>p(new I.StandardKeyboardEvent(u))))}onkeyup(i,p){this._register(v.addDisposableListener(i,v.EventType.KEY_UP,u=>p(new I.StandardKeyboardEvent(u))))}oninput(i,p){this._register(v.addDisposableListener(i,v.EventType.INPUT,p))}onblur(i,p){this._register(v.addDisposableListener(i,v.EventType.BLUR,p))}onfocus(i,p){this._register(v.addDisposableListener(i,v.EventType.FOCUS,p))}ignoreGesture(i){S.Gesture.ignoreTarget(i)}}e.Widget=_}),define(J[158],ee([0,1,90,52,15]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarArrow=e.ARROW_IMG_SIZE=void 0,e.ARROW_IMG_SIZE=11;class w extends I.Widget{constructor(_){super();this._onActivate=_.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=_.bgWidth+"px",this.bgDomNode.style.height=_.bgHeight+"px",typeof _.top!="undefined"&&(this.bgDomNode.style.top="0px"),typeof _.left!="undefined"&&(this.bgDomNode.style.left="0px"),typeof _.bottom!="undefined"&&(this.bgDomNode.style.bottom="0px"),typeof _.right!="undefined"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=_.className,this.domNode.classList.add(..._.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width=e.ARROW_IMG_SIZE+"px",this.domNode.style.height=e.ARROW_IMG_SIZE+"px",typeof _.top!="undefined"&&(this.domNode.style.top=_.top+"px"),typeof _.left!="undefined"&&(this.domNode.style.left=_.left+"px"),typeof _.bottom!="undefined"&&(this.domNode.style.bottom=_.bottom+"px"),typeof _.right!="undefined"&&(this.domNode.style.right=_.right+"px"),this._mouseMoveMonitor=this._register(new v.GlobalMouseMoveMonitor),this.onmousedown(this.bgDomNode,C=>this._arrowMouseDown(C)),this.onmousedown(this.domNode,C=>this._arrowMouseDown(C)),this._mousedownRepeatTimer=this._register(new k.IntervalTimer),this._mousedownScheduleRepeatTimer=this._register(new k.TimeoutTimer)}_arrowMouseDown(_){const C=()=>{this._mousedownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24)};this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet(C,200),this._mouseMoveMonitor.startMonitoring(_.target,_.buttons,v.standardMouseMoveMerger,i=>{},()=>{this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancel()}),_.preventDefault()}}e.ScrollbarArrow=w}),define(J[201],ee([0,1,7,30,90,158,283,52,17]),function($,e,v,I,k,w,S,_,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractScrollbar=void 0;const i=140;class p extends _.Widget{constructor(a){super();this._lazyRender=a.lazyRender,this._host=a.host,this._scrollable=a.scrollable,this._scrollByPage=a.scrollByPage,this._scrollbarState=a.scrollbarState,this._visibilityController=this._register(new S.ScrollbarVisibilityController(a.visibility,"visible scrollbar "+a.extraScrollbarClassName,"invisible scrollbar "+a.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._mouseMoveMonitor=this._register(new k.GlobalMouseMoveMonitor),this._shouldRender=!0,this.domNode=(0,I.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this.onmousedown(this.domNode.domNode,l=>this._domNodeMouseDown(l))}_createArrow(a){const l=this._register(new w.ScrollbarArrow(a));this.domNode.domNode.appendChild(l.bgDomNode),this.domNode.domNode.appendChild(l.domNode)}_createSlider(a,l,c,d){this.slider=(0,I.createFastDomNode)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(a),this.slider.setLeft(l),typeof c=="number"&&this.slider.setWidth(c),typeof d=="number"&&this.slider.setHeight(d),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,r=>{r.leftButton&&(r.preventDefault(),this._sliderMouseDown(r,()=>{}))}),this.onclick(this.slider.domNode,r=>{r.leftButton&&r.stopPropagation()})}_onElementSize(a){return this._scrollbarState.setVisibleSize(a)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(a){return this._scrollbarState.setScrollSize(a)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(a){return this._scrollbarState.setScrollPosition(a)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){!this._shouldRender||(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodeMouseDown(a){a.target===this.domNode.domNode&&this._onMouseDown(a)}delegateMouseDown(a){const l=this.domNode.domNode.getClientRects()[0].top,c=l+this._scrollbarState.getSliderPosition(),d=l+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),r=this._sliderMousePosition(a);c<=r&&r<=d?a.leftButton&&(a.preventDefault(),this._sliderMouseDown(a,()=>{})):this._onMouseDown(a)}_onMouseDown(a){let l,c;if(a.target===this.domNode.domNode&&typeof a.browserEvent.offsetX=="number"&&typeof a.browserEvent.offsetY=="number")l=a.browserEvent.offsetX,c=a.browserEvent.offsetY;else{const r=v.getDomNodePagePosition(this.domNode.domNode);l=a.posx-r.left,c=a.posy-r.top}const d=this._mouseDownRelativePosition(l,c);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(d):this._scrollbarState.getDesiredScrollPositionFromOffset(d)),a.leftButton&&(a.preventDefault(),this._sliderMouseDown(a,()=>{}))}_sliderMouseDown(a,l){const c=this._sliderMousePosition(a),d=this._sliderOrthogonalMousePosition(a),r=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(a.target,a.buttons,k.standardMouseMoveMerger,n=>{const s=this._sliderOrthogonalMousePosition(n),t=Math.abs(s-d);if(C.isWindows&&t>i){this._setDesiredScrollPositionNow(r.getScrollPosition());return}const h=this._sliderMousePosition(n)-c;this._setDesiredScrollPositionNow(r.getDesiredScrollPositionFromDelta(h))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd(),l()}),this._host.onDragStart()}_setDesiredScrollPositionNow(a){const l={};this.writeScrollPosition(l,a),this._scrollable.setScrollPositionNow(l)}updateScrollbarSize(a){this._updateScrollbarSize(a),this._scrollbarState.setScrollbarSize(a),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}e.AbstractScrollbar=p}),define(J[289],ee([0,1,50,201,158,195,27]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HorizontalScrollbar=void 0;const _=(0,S.registerCodicon)("scrollbar-button-left",S.Codicon.triangleLeft),C=(0,S.registerCodicon)("scrollbar-button-right",S.Codicon.triangleRight);class i extends I.AbstractScrollbar{constructor(u,a,l){const c=u.getScrollDimensions(),d=u.getCurrentScrollPosition();super({lazyRender:a.lazyRender,host:l,scrollbarState:new w.ScrollbarState(a.horizontalHasArrows?a.arrowSize:0,a.horizontal===2?0:a.horizontalScrollbarSize,a.vertical===2?0:a.verticalScrollbarSize,c.width,c.scrollWidth,d.scrollLeft),visibility:a.horizontal,extraScrollbarClassName:"horizontal",scrollable:u,scrollByPage:a.scrollByPage});if(a.horizontalHasArrows){const r=(a.arrowSize-k.ARROW_IMG_SIZE)/2,n=(a.horizontalScrollbarSize-k.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:_,top:n,left:r,bottom:void 0,right:void 0,bgWidth:a.arrowSize,bgHeight:a.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new v.StandardWheelEvent(null,1,0))}),this._createArrow({className:"scra",icon:C,top:n,left:void 0,bottom:void 0,right:r,bgWidth:a.arrowSize,bgHeight:a.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new v.StandardWheelEvent(null,-1,0))})}this._createSlider(Math.floor((a.horizontalScrollbarSize-a.horizontalSliderSize)/2),0,void 0,a.horizontalSliderSize)}_updateSlider(u,a){this.slider.setWidth(u),this.slider.setLeft(a)}_renderDomNode(u,a){this.domNode.setWidth(u),this.domNode.setHeight(a),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(u){return this._shouldRender=this._onElementScrollSize(u.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(u.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(u.width)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(u,a){return u}_sliderMousePosition(u){return u.posx}_sliderOrthogonalMousePosition(u){return u.posy}_updateScrollbarSize(u){this.slider.setHeight(u)}writeScrollPosition(u,a){u.scrollLeft=a}}e.HorizontalScrollbar=i}),define(J[290],ee([0,1,50,201,158,195,27]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VerticalScrollbar=void 0;const _=(0,S.registerCodicon)("scrollbar-button-up",S.Codicon.triangleUp),C=(0,S.registerCodicon)("scrollbar-button-down",S.Codicon.triangleDown);class i extends I.AbstractScrollbar{constructor(u,a,l){const c=u.getScrollDimensions(),d=u.getCurrentScrollPosition();super({lazyRender:a.lazyRender,host:l,scrollbarState:new w.ScrollbarState(a.verticalHasArrows?a.arrowSize:0,a.vertical===2?0:a.verticalScrollbarSize,0,c.height,c.scrollHeight,d.scrollTop),visibility:a.vertical,extraScrollbarClassName:"vertical",scrollable:u,scrollByPage:a.scrollByPage});if(a.verticalHasArrows){const r=(a.arrowSize-k.ARROW_IMG_SIZE)/2,n=(a.verticalScrollbarSize-k.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:_,top:r,left:n,bottom:void 0,right:void 0,bgWidth:a.verticalScrollbarSize,bgHeight:a.arrowSize,onActivate:()=>this._host.onMouseWheel(new v.StandardWheelEvent(null,0,1))}),this._createArrow({className:"scra",icon:C,top:void 0,left:n,bottom:r,right:void 0,bgWidth:a.verticalScrollbarSize,bgHeight:a.arrowSize,onActivate:()=>this._host.onMouseWheel(new v.StandardWheelEvent(null,0,-1))})}this._createSlider(0,Math.floor((a.verticalScrollbarSize-a.verticalSliderSize)/2),a.verticalSliderSize,void 0)}_updateSlider(u,a){this.slider.setHeight(u),this.slider.setTop(a)}_renderDomNode(u,a){this.domNode.setWidth(a),this.domNode.setHeight(u),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(u){return this._shouldRender=this._onElementScrollSize(u.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(u.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(u.height)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(u,a){return a}_sliderMousePosition(u){return u.posy}_sliderOrthogonalMousePosition(u){return u.posx}_updateScrollbarSize(u){this.slider.setWidth(u)}writeScrollPosition(u,a){u.scrollTop=a}}e.VerticalScrollbar=i}),define(J[45],ee([0,1,152,73,24,8,44]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataUri=e.resolvePath=e.normalizePath=e.joinPath=e.dirname=e.basename=e.basenameOrAuthority=e.isEqual=e.extUri=e.ExtUri=e.originalFSPath=void 0;function _(p){return(0,k.uriToFsPath)(p,!0)}e.originalFSPath=_;class C{constructor(u){this._ignorePathCasing=u}compare(u,a,l=!1){return u===a?0:(0,w.compare)(this.getComparisonKey(u,l),this.getComparisonKey(a,l))}isEqual(u,a,l=!1){return u===a?!0:!u||!a?!1:this.getComparisonKey(u,l)===this.getComparisonKey(a,l)}getComparisonKey(u,a=!1){return u.with({path:this._ignorePathCasing(u)?u.path.toLowerCase():void 0,fragment:a?null:void 0}).toString()}joinPath(u,...a){return k.URI.joinPath(u,...a)}basenameOrAuthority(u){return(0,e.basename)(u)||u.authority}basename(u){return I.posix.basename(u.path)}dirname(u){if(u.path.length===0)return u;let a;return u.scheme===S.Schemas.file?a=k.URI.file(I.dirname(_(u))).path:(a=I.posix.dirname(u.path),u.authority&&a.length&&a.charCodeAt(0)!==47&&(console.error(`dirname("${u.toString})) resulted in a relative path`),a="/")),u.with({path:a})}normalizePath(u){if(!u.path.length)return u;let a;return u.scheme===S.Schemas.file?a=k.URI.file(I.normalize(_(u))).path:a=I.posix.normalize(u.path),u.with({path:a})}resolvePath(u,a){if(u.scheme===S.Schemas.file){const l=k.URI.file(I.resolve(_(u),a));return u.with({authority:l.authority,path:l.path})}return a.indexOf("/")===-1&&(a=v.toSlashes(a),/^[a-zA-Z]:(\/|$)/.test(a)&&(a="/"+a)),u.with({path:I.posix.resolve(u.path,a)})}}e.ExtUri=C,e.extUri=new C(()=>!1),e.isEqual=e.extUri.isEqual.bind(e.extUri),e.basenameOrAuthority=e.extUri.basenameOrAuthority.bind(e.extUri),e.basename=e.extUri.basename.bind(e.extUri),e.dirname=e.extUri.dirname.bind(e.extUri),e.joinPath=e.extUri.joinPath.bind(e.extUri),e.normalizePath=e.extUri.normalizePath.bind(e.extUri),e.resolvePath=e.extUri.resolvePath.bind(e.extUri);var i;(function(p){p.META_DATA_LABEL="label",p.META_DATA_DESCRIPTION="description",p.META_DATA_SIZE="size",p.META_DATA_MIME="mime";function u(a){const l=new Map;a.path.substring(a.path.indexOf(";")+1,a.path.lastIndexOf(";")).split(";").forEach(r=>{const[n,s]=r.split(":");n&&s&&l.set(n,s)});const d=a.path.substring(0,a.path.indexOf(";"));return d&&l.set(p.META_DATA_MIME,d),l}p.parseMetaData=u})(i=e.DataUri||(e.DataUri={}))}),define(J[291],ee([0,1,7,156,11,74,120,686,687,200,40,8,24,44,102,45,50,103,6,55]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n,s,t){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0}),e.renderMarkdown=void 0;const h=(o=window.trustedTypes)===null||o===void 0?void 0:o.createPolicy("insane",{createHTML(b,y){return(0,C.insane)(b,y)}});function g(b,y={},L={}){var N;const M=(0,I.createElement)(y),D=function(A){let B;try{B=(0,i.parse)(decodeURIComponent(A))}catch(H){}return B?(B=(0,p.cloneAndChange)(B,H=>{if(b.uris&&b.uris[H])return a.URI.revive(b.uris[H])}),encodeURIComponent(JSON.stringify(B))):A},R=function(A,B){const H=b.uris&&b.uris[A];if(!H)return A;let K=a.URI.revive(H);return a.URI.parse(A).toString()===K.toString()?A:B?l.FileAccess.asBrowserUri(K).toString(!0):(K.query&&(K=K.with({query:D(K.query)})),K.toString())};let P;const O=new Promise(A=>P=A),W=new _.Renderer;W.image=(A,B,H)=>{let K=[],q=[];if(A){({href:A,dimensions:K}=(0,w.parseHrefAndDimensions)(A)),A=R(A,!0);try{const Y=a.URI.parse(A);y.baseUrl&&Y.scheme===l.Schemas.file&&(A=(0,d.resolvePath)(y.baseUrl,A).toString())}catch(Y){}q.push(`src="${A}"`)}return H&&q.push(`alt="${H}"`),B&&q.push(`title="${B}"`),K.length&&(q=q.concat(K)),"<img "+q.join(" ")+">"},W.link=(A,B,H)=>(A===H&&(H=(0,w.removeMarkdownEscapes)(H)),A=R(A,!1),y.baseUrl&&(/^\w[\w\d+.-]*:/.test(A)||(A=(0,d.resolvePath)(y.baseUrl,A).toString())),B=(0,w.removeMarkdownEscapes)(B),A=(0,w.removeMarkdownEscapes)(A),!A||A.match(/^data:|javascript:/i)||A.match(/^command:/i)&&!b.isTrusted||A.match(/^command:(\/\/\/)?_workbench\.downloadResource/i)?H:(A=A.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="#" data-href="${A}" title="${B||A}">${H}</a>`)),W.paragraph=A=>(b.supportThemeIcons&&(A=(0,n.renderLabelWithIcons)(A).map(H=>typeof H=="string"?H:H.outerHTML).join("")),`<p>${A}</p>`),y.codeBlockRenderer&&(W.code=(A,B)=>{const H=y.codeBlockRenderer(B,A),K=S.defaultGenerator.nextId(),q=Promise.all([H,O]).then(Y=>{const te=M.querySelector(`div[data-code="${K}"]`);te&&v.reset(te,Y[0])}).catch(Y=>{});return y.asyncRenderCallback&&q.then(y.asyncRenderCallback),`<div class="code" data-code="${K}">${(0,u.escape)(A)}</div>`}),y.actionHandler&&y.actionHandler.disposeables.add(s.Event.any((0,t.domEvent)(M,"click"),(0,t.domEvent)(M,"auxclick"))(A=>{const B=new r.StandardMouseEvent(A);if(!(!B.leftButton&&!B.middleButton)){let H=B.target;if(!(H.tagName!=="A"&&(H=H.parentElement,!H||H.tagName!=="A")))try{const K=H.dataset.href;K&&y.actionHandler.callback(K,B)}catch(K){(0,k.onUnexpectedError)(K)}finally{B.preventDefault()}}})),L.sanitizer=A=>(b.isTrusted?A.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?A:"",L.sanitize=!0,L.silent=!0,L.renderer=W;let F=(N=b.value)!==null&&N!==void 0?N:"";F.length>1e5&&(F=`${F.substr(0,1e5)}\u2026`),b.supportThemeIcons&&(F=(0,c.markdownEscapeEscapedIcons)(F));const E=_.parse(F,L);if(M.innerHTML=m(b,E),P(),y.asyncRenderCallback)for(const A of M.getElementsByTagName("img")){const B=v.addDisposableListener(A,"load",()=>{B.dispose(),y.asyncRenderCallback()})}return M}e.renderMarkdown=g;function m(b,y){var L;const N=f(b);return(L=h==null?void 0:h.createHTML(y,N))!==null&&L!==void 0?L:(0,C.insane)(y,N)}function f(b){const y=[l.Schemas.http,l.Schemas.https,l.Schemas.mailto,l.Schemas.data,l.Schemas.file,l.Schemas.vscodeRemote,l.Schemas.vscodeRemoteResource];return b.isTrusted&&y.push(l.Schemas.command),{allowedSchemes:y,allowedTags:["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],allowedAttributes:{a:["href","name","target","data-href"],img:["src","title","alt","width","height"],div:["class","data-code"],span:["class","style"],th:["align"],td:["align"]},filter(L){return L.tag==="span"&&b.isTrusted?L.attrs.style&&Object.keys(L.attrs).length===1?!!L.attrs.style.match(/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/):L.attrs.class?!!L.attrs.class.match(/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/):!1:!0}}}}),define(J[159],ee([0,1,24,44,17,45,152]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeDriveLetter=e.getBaseLabel=void 0;function _(i){if(!!i){typeof i=="string"&&(i=v.URI.file(i));const p=(0,w.basename)(i)||(i.scheme===I.Schemas.file?i.fsPath:i.path);return k.isWindows&&(0,S.isRootOrDriveLetter)(p)?C(p):p}}e.getBaseLabel=_;function C(i){return(0,S.hasDriveLetter)(i)?i.charAt(0).toUpperCase()+i.slice(1):i}e.normalizeDriveLetter=C}),define(J[292],ee([0,1,73,8,199,44,45]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.guessMimeTypes=e.registerTextMime=e.MIME_UNKNOWN=e.MIME_TEXT=void 0,e.MIME_TEXT="text/plain",e.MIME_UNKNOWN="application/unknown";let _=[],C=[],i=[];function p(d,r=!1){const n=u(d);_.push(n),n.userConfigured?i.push(n):C.push(n),r&&!n.userConfigured&&_.forEach(s=>{s.mime===n.mime||s.userConfigured||(n.extension&&s.extension===n.extension&&console.warn(`Overwriting extension <<${n.extension}>> to now point to mime <<${n.mime}>>`),n.filename&&s.filename===n.filename&&console.warn(`Overwriting filename <<${n.filename}>> to now point to mime <<${n.mime}>>`),n.filepattern&&s.filepattern===n.filepattern&&console.warn(`Overwriting filepattern <<${n.filepattern}>> to now point to mime <<${n.mime}>>`),n.firstline&&s.firstline===n.firstline&&console.warn(`Overwriting firstline <<${n.firstline}>> to now point to mime <<${n.mime}>>`))})}e.registerTextMime=p;function u(d){return{id:d.id,mime:d.mime,filename:d.filename,extension:d.extension,filepattern:d.filepattern,firstline:d.firstline,userConfigured:d.userConfigured,filenameLowercase:d.filename?d.filename.toLowerCase():void 0,extensionLowercase:d.extension?d.extension.toLowerCase():void 0,filepatternLowercase:d.filepattern?d.filepattern.toLowerCase():void 0,filepatternOnPath:d.filepattern?d.filepattern.indexOf(v.posix.sep)>=0:!1}}function a(d,r){let n;if(d)switch(d.scheme){case w.Schemas.file:n=d.fsPath;break;case w.Schemas.data:n=S.DataUri.parseMetaData(d).get(S.DataUri.META_DATA_LABEL);break;default:n=d.path}if(!n)return[e.MIME_UNKNOWN];n=n.toLowerCase();const s=(0,v.basename)(n),t=l(n,s,i);if(t)return[t,e.MIME_TEXT];const o=l(n,s,C);if(o)return[o,e.MIME_TEXT];if(r){const h=c(r);if(h)return[h,e.MIME_TEXT]}return[e.MIME_UNKNOWN]}e.guessMimeTypes=a;function l(d,r,n){let s=null,t=null,o=null;for(let h=n.length-1;h>=0;h--){const g=n[h];if(r===g.filenameLowercase){s=g;break}if(g.filepattern&&(!t||g.filepattern.length>t.filepattern.length)){const m=g.filepatternOnPath?d:r;(0,k.match)(g.filepatternLowercase,m)&&(t=g)}g.extension&&(!o||g.extension.length>o.extension.length)&&r.endsWith(g.extensionLowercase)&&(o=g)}return s?s.mime:t?t.mime:o?o.mime:null}function c(d){if((0,I.startsWithUTF8BOM)(d)&&(d=d.substr(1)),d.length>0)for(let r=_.length-1;r>=0;r--){const n=_[r];if(!!n.firstline){const s=d.match(n.firstline);if(s&&s.length>0)return n.mime}}return null}}),define(J[293],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateUuid=void 0;const v=new Uint8Array(16),I=[];for(let S=0;S<256;S++)I.push(S.toString(16).padStart(2,"0"));let k;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?k=crypto.getRandomValues.bind(crypto):k=function(S){for(let _=0;_<S.length;_++)S[_]=Math.floor(Math.random()*256);return S};function w(){k(v),v[6]=v[6]&15|64,v[8]=v[8]&63|128;let S=0,_="";return _+=I[v[S++]],_+=I[v[S++]],_+=I[v[S++]],_+=I[v[S++]],_+="-",_+=I[v[S++]],_+=I[v[S++]],_+="-",_+=I[v[S++]],_+=I[v[S++]],_+="-",_+=I[v[S++]],_+=I[v[S++]],_+="-",_+=I[v[S++]],_+=I[v[S++]],_+=I[v[S++]],_+=I[v[S++]],_+=I[v[S++]],_+=I[v[S++]],_}e.generateUuid=w}),define(J[202],ee([0,1,11,2,17,20]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.SimpleWorkerServer=e.SimpleWorkerClient=e.logOnceWebWorkerWarning=void 0;const S="$initialize";let _=!1;function C(l){!k.isWeb||(_||(_=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(l.message))}e.logOnceWebWorkerWarning=C;class i{constructor(c){this._workerId=-1,this._handler=c,this._lastSentReq=0,this._pendingReplies=Object.create(null)}setWorkerId(c){this._workerId=c}sendMessage(c,d){let r=String(++this._lastSentReq);return new Promise((n,s)=>{this._pendingReplies[r]={resolve:n,reject:s},this._send({vsWorker:this._workerId,req:r,method:c,args:d})})}handleMessage(c){!c||!c.vsWorker||this._workerId!==-1&&c.vsWorker!==this._workerId||this._handleMessage(c)}_handleMessage(c){if(c.seq){let s=c;if(!this._pendingReplies[s.seq]){console.warn("Got reply to unknown seq");return}let t=this._pendingReplies[s.seq];if(delete this._pendingReplies[s.seq],s.err){let o=s.err;s.err.$isError&&(o=new Error,o.name=s.err.name,o.message=s.err.message,o.stack=s.err.stack),t.reject(o);return}t.resolve(s.res);return}let d=c,r=d.req;this._handler.handleMessage(d.method,d.args).then(s=>{this._send({vsWorker:this._workerId,seq:r,res:s,err:void 0})},s=>{s.detail instanceof Error&&(s.detail=(0,v.transformErrorForSerialization)(s.detail)),this._send({vsWorker:this._workerId,seq:r,res:void 0,err:(0,v.transformErrorForSerialization)(s)})})}_send(c){let d=[];if(c.req){const r=c;for(let n=0;n<r.args.length;n++)r.args[n]instanceof ArrayBuffer&&d.push(r.args[n])}else{const r=c;r.res instanceof ArrayBuffer&&d.push(r.res)}this._handler.sendMessage(c,d)}}class p extends I.Disposable{constructor(c,d,r){super();let n=null;this._worker=this._register(c.create("vs/base/common/worker/simpleWorker",h=>{this._protocol.handleMessage(h)},h=>{n&&n(h)})),this._protocol=new i({sendMessage:(h,g)=>{this._worker.postMessage(h,g)},handleMessage:(h,g)=>{if(typeof r[h]!="function")return Promise.reject(new Error("Missing method "+h+" on main thread host."));try{return Promise.resolve(r[h].apply(r,g))}catch(m){return Promise.reject(m)}}}),this._protocol.setWorkerId(this._worker.getId());let s=null;typeof self.require!="undefined"&&typeof self.require.getConfig=="function"?s=self.require.getConfig():typeof self.requirejs!="undefined"&&(s=self.requirejs.s.contexts._.config);const t=w.getAllMethodNames(r);this._onModuleLoaded=this._protocol.sendMessage(S,[this._worker.getId(),JSON.parse(JSON.stringify(s)),d,t]);const o=(h,g)=>this._request(h,g);this._lazyProxy=new Promise((h,g)=>{n=g,this._onModuleLoaded.then(m=>{h(w.createProxyObject(m,o))},m=>{g(m),this._onError("Worker failed to load "+d,m)})})}getProxyObject(){return this._lazyProxy}_request(c,d){return new Promise((r,n)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(c,d).then(r,n)},n)})}_onError(c,d){console.error(c),console.info(d)}}e.SimpleWorkerClient=p;class u{constructor(c,d){this._requestHandlerFactory=d,this._requestHandler=null,this._protocol=new i({sendMessage:(r,n)=>{c(r,n)},handleMessage:(r,n)=>this._handleMessage(r,n)})}onmessage(c){this._protocol.handleMessage(c)}_handleMessage(c,d){if(c===S)return this.initialize(d[0],d[1],d[2],d[3]);if(!this._requestHandler||typeof this._requestHandler[c]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+c));try{return Promise.resolve(this._requestHandler[c].apply(this._requestHandler,d))}catch(r){return Promise.reject(r)}}initialize(c,d,r,n){this._protocol.setWorkerId(c);const s=(o,h)=>this._protocol.sendMessage(o,h),t=w.createProxyObject(n,s);return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(t),Promise.resolve(w.getAllMethodNames(this._requestHandler))):(d&&(typeof d.baseUrl!="undefined"&&delete d.baseUrl,typeof d.paths!="undefined"&&typeof d.paths.vs!="undefined"&&delete d.paths.vs,typeof d.trustedTypesPolicy!==void 0&&delete d.trustedTypesPolicy,d.catchError=!0,self.require.config(d)),new Promise((o,h)=>{self.require([r],g=>{if(this._requestHandler=g.create(t),!this._requestHandler){h(new Error("No RequestHandler!"));return}o(w.getAllMethodNames(this._requestHandler))},h)}))}}e.SimpleWorkerServer=u;function a(l){return new u(l,null)}e.create=a}),define(J[203],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ItemActivation=e.QuickInputHideReason=e.NO_KEY_MODS=void 0,e.NO_KEY_MODS={ctrlCmd:!1,alt:!1};var v;(function(k){k[k.Blur=1]="Blur",k[k.Gesture=2]="Gesture",k[k.Other=3]="Other"})(v=e.QuickInputHideReason||(e.QuickInputHideReason={}));var I;(function(k){k[k.NONE=0]="NONE",k[k.FIRST=1]="FIRST",k[k.SECOND=2]="SECOND",k[k.LAST=3]="LAST"})(I=e.ItemActivation||(e.ItemActivation={}))}),define(J[294],ee([0,1,2,6,15,20]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageDatabase=e.Storage=void 0;var S;(function(i){i[i.None=0]="None",i[i.Initialized=1]="Initialized",i[i.Closed=2]="Closed"})(S||(S={}));class _ extends v.Disposable{constructor(p,u=Object.create(null)){super();this.database=p,this.options=u,this._onDidChangeStorage=this._register(new I.Emitter),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=S.None,this.cache=new Map,this.flushDelayer=new k.ThrottledDelayer(_.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(p=>this.onDidChangeItemsExternal(p)))}onDidChangeItemsExternal(p){var u,a;(u=p.changed)===null||u===void 0||u.forEach((l,c)=>this.accept(c,l)),(a=p.deleted)===null||a===void 0||a.forEach(l=>this.accept(l,void 0))}accept(p,u){if(this.state!==S.Closed){let a=!1;(0,w.isUndefinedOrNull)(u)?a=this.cache.delete(p):this.cache.get(p)!==u&&(this.cache.set(p,u),a=!0),a&&this._onDidChangeStorage.fire(p)}}get(p,u){const a=this.cache.get(p);return(0,w.isUndefinedOrNull)(a)?u:a}getBoolean(p,u){const a=this.get(p);return(0,w.isUndefinedOrNull)(a)?u:a==="true"}getNumber(p,u){const a=this.get(p);return(0,w.isUndefinedOrNull)(a)?u:parseInt(a,10)}set(p,u){return Ie(this,void 0,void 0,function*(){if(this.state!==S.Closed){if((0,w.isUndefinedOrNull)(u))return this.delete(p);const a=String(u);if(this.cache.get(p)!==a)return this.cache.set(p,a),this.pendingInserts.set(p,a),this.pendingDeletes.delete(p),this._onDidChangeStorage.fire(p),this.flushDelayer.trigger(()=>this.flushPending())}})}delete(p){return Ie(this,void 0,void 0,function*(){if(this.state!==S.Closed&&!!this.cache.delete(p))return this.pendingDeletes.has(p)||this.pendingDeletes.add(p),this.pendingInserts.delete(p),this._onDidChangeStorage.fire(p),this.flushDelayer.trigger(()=>this.flushPending())})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return Ie(this,void 0,void 0,function*(){if(!!this.hasPending){const p={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(p).finally(()=>{var u;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(u=this.whenFlushedCallbacks.pop())===null||u===void 0||u()})}})}dispose(){this.flushDelayer.cancel(),this.flushDelayer.dispose(),super.dispose()}}e.Storage=_,_.DEFAULT_FLUSH_DELAY=100;class C{constructor(){this.onDidChangeItemsExternal=I.Event.None,this.items=new Map}updateItems(p){return Ie(this,void 0,void 0,function*(){p.insert&&p.insert.forEach((u,a)=>this.items.set(a,u)),p.delete&&p.delete.forEach(u=>this.items.delete(u))})}}e.InMemoryStorageDatabase=C}),define(J[295],ee([0,1,17,202]),function($,e,v,I){"use strict";var k;Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultWorkerFactory=e.getWorkerBootstrapUrl=void 0;const w=(k=window.trustedTypes)===null||k===void 0?void 0:k.createPolicy("defaultWorkerFactory",{createScriptURL:u=>u});function S(u,a){if(v.globals.MonacoEnvironment){if(typeof v.globals.MonacoEnvironment.getWorker=="function")return v.globals.MonacoEnvironment.getWorker(u,a);if(typeof v.globals.MonacoEnvironment.getWorkerUrl=="function"){const l=v.globals.MonacoEnvironment.getWorkerUrl(u,a);return new Worker(w?w.createScriptURL(l):l,{name:a})}}if(typeof $=="function"){const l=$.toUrl("./"+u),c=_(l,a);return new Worker(w?w.createScriptURL(c):c,{name:a})}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function _(u,a){if(/^((http:)|(https:)|(file:))/.test(u)&&u.substring(0,self.origin.length)!==self.origin){const l="vs/base/worker/defaultWorkerFactory.js",c=$.toUrl(l).slice(0,-l.length),d=`/*${a}*/self.MonacoEnvironment={baseUrl: '${c}'};importScripts('${u}');/*${a}*/`,r=new Blob([d],{type:"application/javascript"});return URL.createObjectURL(r)}return u+"#"+a}e.getWorkerBootstrapUrl=_;function C(u){return typeof u.then=="function"}class i{constructor(a,l,c,d,r){this.id=l;const n=S("workerMain.js",c);C(n)?this.worker=n:this.worker=Promise.resolve(n),this.postMessage(a,[]),this.worker.then(s=>{s.onmessage=function(t){d(t.data)},s.onmessageerror=r,typeof s.addEventListener=="function"&&s.addEventListener("error",r)})}getId(){return this.id}postMessage(a,l){this.worker&&this.worker.then(c=>c.postMessage(a,l))}dispose(){this.worker&&this.worker.then(a=>a.terminate()),this.worker=null}}class p{constructor(a){this._label=a,this._webWorkerFailedBeforeError=!1}create(a,l,c){let d=++p.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new i(a,d,this._label||"anonymous"+d,l,r=>{(0,I.logOnceWebWorkerWarning)(r),this._webWorkerFailedBeforeError=r,c(r)})}}e.DefaultWorkerFactory=p,p.LAST_WORKER_ID=0}),define(J[204],ee([10]),{}),define(J[296],ee([10]),{}),define(J[41],ee([0,1,17,7,296]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.status=e.alert=e.setARIAContainer=void 0;const k=2e4;let w,S,_,C,i;function p(c){w=document.createElement("div"),w.className="monaco-aria-container";const d=()=>{const n=document.createElement("div");return n.className="monaco-alert",n.setAttribute("role","alert"),n.setAttribute("aria-atomic","true"),w.appendChild(n),n};S=d(),_=d();const r=()=>{const n=document.createElement("div");return n.className="monaco-status",n.setAttribute("role","complementary"),n.setAttribute("aria-live","polite"),n.setAttribute("aria-atomic","true"),w.appendChild(n),n};C=r(),i=r(),c.appendChild(w)}e.setARIAContainer=p;function u(c){!w||(S.textContent!==c?(I.clearNode(_),l(S,c)):(I.clearNode(S),l(_,c)))}e.alert=u;function a(c){!w||(v.isMacintosh?u(c):C.textContent!==c?(I.clearNode(i),l(C,c)):(I.clearNode(C),l(i,c)))}e.status=a;function l(c,d){I.clearNode(c),d.length>k&&(d=d.substr(0,k)),c.textContent=d,c.style.visibility="hidden",c.style.visibility="visible"}}),define(J[297],ee([10]),{}),define(J[298],ee([0,1,56,29,40,6,2,60,103,7,297]),function($,e,v,I,k,w,S,_,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Button=void 0;const p={buttonBackground:I.Color.fromHex("#0E639C"),buttonHoverBackground:I.Color.fromHex("#006BB3"),buttonForeground:I.Color.white};class u extends S.Disposable{constructor(l,c){super();this._onDidClick=this._register(new w.Emitter),this.options=c||Object.create(null),(0,k.mixin)(this.options,p,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),l.appendChild(this._element),this._register(_.Gesture.addTarget(this._element)),[i.EventType.CLICK,_.EventType.Tap].forEach(d=>{this._register((0,i.addDisposableListener)(this._element,d,r=>{if(!this.enabled){i.EventHelper.stop(r);return}this._onDidClick.fire(r)}))}),this._register((0,i.addDisposableListener)(this._element,i.EventType.KEY_DOWN,d=>{const r=new v.StandardKeyboardEvent(d);let n=!1;this.enabled&&(r.equals(3)||r.equals(10))?(this._onDidClick.fire(d),n=!0):r.equals(9)&&(this._element.blur(),n=!0),n&&i.EventHelper.stop(r,!0)})),this._register((0,i.addDisposableListener)(this._element,i.EventType.MOUSE_OVER,d=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register((0,i.addDisposableListener)(this._element,i.EventType.MOUSE_OUT,d=>{this.applyStyles()})),this.focusTracker=this._register((0,i.trackFocus)(this._element)),this._register(this.focusTracker.onDidFocus(()=>this.setHoverBackground())),this._register(this.focusTracker.onDidBlur(()=>this.applyStyles())),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let l;this.options.secondary?l=this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:l=this.buttonHoverBackground?this.buttonHoverBackground.toString():null,l&&(this._element.style.backgroundColor=l)}style(l){this.buttonForeground=l.buttonForeground,this.buttonBackground=l.buttonBackground,this.buttonHoverBackground=l.buttonHoverBackground,this.buttonSecondaryForeground=l.buttonSecondaryForeground,this.buttonSecondaryBackground=l.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=l.buttonSecondaryHoverBackground,this.buttonBorder=l.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let l,c;this.options.secondary?(c=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",l=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(c=this.buttonForeground?this.buttonForeground.toString():"",l=this.buttonBackground?this.buttonBackground.toString():"");const d=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=c,this._element.style.backgroundColor=l,this._element.style.borderWidth=d?"1px":"",this._element.style.borderStyle=d?"solid":"",this._element.style.borderColor=d}}get element(){return this._element}set label(l){this._element.classList.add("monaco-text-button"),this.options.supportIcons?(0,i.reset)(this._element,...(0,C.renderLabelWithIcons)(l)):this._element.textContent=l,typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=l)}set enabled(l){l?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}e.Button=u}),define(J[299],ee([10]),{}),define(J[160],ee([0,1,52,29,6,27,299]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Checkbox=void 0;const S={inputActiveOptionBorder:I.Color.fromHex("#007ACC00"),inputActiveOptionForeground:I.Color.fromHex("#FFFFFF"),inputActiveOptionBackground:I.Color.fromHex("#0E639C50")};class _ extends v.Widget{constructor(i){super();this._onChange=this._register(new k.Emitter),this.onChange=this._onChange.event,this._onKeyDown=this._register(new k.Emitter),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},S),i),this._checked=this._opts.isChecked;const p=["monaco-custom-checkbox"];this._opts.icon&&p.push(...w.CSSIcon.asClassNameArray(this._opts.icon)),this._opts.actionClassName&&p.push(...this._opts.actionClassName.split(" ")),this._checked&&p.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...p),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,u=>{this.checked=!this._checked,this._onChange.fire(!1),u.preventDefault()}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,u=>{if(u.keyCode===10||u.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),u.preventDefault();return}this._onKeyDown.fire(u)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(i){this._checked=i,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 2+2+2+16}style(i){i.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=i.inputActiveOptionBorder),i.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=i.inputActiveOptionForeground),i.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=i.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"transparent",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"transparent")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}e.Checkbox=_}),define(J[300],ee([10]),{}),define(J[301],ee([10]),{}),define(J[124],ee([0,1,27,300,301]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formatRule=void 0;function I(k){let w=k.definition;for(;w instanceof v.Codicon;)w=w.definition;return`.codicon-${k.id}:before { content: '${w.fontCharacter}'; }`}e.formatRule=I}),define(J[302],ee([10]),{}),define(J[205],ee([0,1,7,17,2,121,151,302]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextView=e.layout=e.LayoutAnchorMode=void 0;var _;(function(u){u[u.AVOID=0]="AVOID",u[u.ALIGN=1]="ALIGN"})(_=e.LayoutAnchorMode||(e.LayoutAnchorMode={}));function C(u,a,l){const c=l.mode===_.ALIGN?l.offset:l.offset+l.size,d=l.mode===_.ALIGN?l.offset+l.size:l.offset;return l.position===0?a<=u-c?c:a<=d?d-a:Math.max(u-a,0):a<=d?d-a:a<=u-c?c:0}e.layout=C;class i extends k.Disposable{constructor(a,l){super();this.container=null,this.delegate=null,this.toDisposeOnClean=k.Disposable.None,this.toDisposeOnSetContainer=k.Disposable.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=v.$(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,v.hide(this.view),this.setContainer(a,l),this._register((0,k.toDisposable)(()=>this.setContainer(null,1)))}setContainer(a,l){var c;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(c=this.shadowRootHostElement)===null||c===void 0||c.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),a){if(this.container=a,this.useFixedPosition=l!==1,this.useShadowDOM=l===3,this.useShadowDOM){this.shadowRootHostElement=v.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const r=document.createElement("style");r.textContent=p,this.shadowRoot.appendChild(r),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(v.$("slot"))}else this.container.appendChild(this.view);const d=new k.DisposableStore;i.BUBBLE_UP_EVENTS.forEach(r=>{d.add(v.addStandardDisposableListener(this.container,r,n=>{this.onDOMEvent(n,!1)}))}),i.BUBBLE_DOWN_EVENTS.forEach(r=>{d.add(v.addStandardDisposableListener(this.container,r,n=>{this.onDOMEvent(n,!0)},!0))}),this.toDisposeOnSetContainer=d}}show(a){this.isVisible()&&this.hide(),v.clearNode(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2500",this.view.style.position=this.useFixedPosition?"fixed":"absolute",v.show(this.view),this.toDisposeOnClean=a.render(this.view)||k.Disposable.None,this.delegate=a,this.doLayout(),this.delegate.focus&&this.delegate.focus()}getViewElement(){return this.view}layout(){if(!!this.isVisible()){if(this.delegate.canRelayout===!1&&!(I.isIOS&&S.BrowserFeatures.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!!this.isVisible()){let a=this.delegate.getAnchor(),l;if(v.isHTMLElement(a)){let g=v.getDomNodePagePosition(a);l={top:g.top,left:g.left,width:g.width,height:g.height}}else l={top:a.y,left:a.x,width:a.width||1,height:a.height||2};const c=v.getTotalWidth(this.view),d=v.getTotalHeight(this.view),r=this.delegate.anchorPosition||0,n=this.delegate.anchorAlignment||0,s=this.delegate.anchorAxisAlignment||0;let t,o;if(s===0){const g={offset:l.top-window.pageYOffset,size:l.height,position:r===0?0:1},m={offset:l.left,size:l.width,position:n===0?0:1,mode:_.ALIGN};t=C(window.innerHeight,d,g)+window.pageYOffset,w.Range.intersects({start:t,end:t+d},{start:g.offset,end:g.offset+g.size})&&(m.mode=_.AVOID),o=C(window.innerWidth,c,m)}else{const g={offset:l.left,size:l.width,position:n===0?0:1},m={offset:l.top,size:l.height,position:r===0?0:1,mode:_.ALIGN};o=C(window.innerWidth,c,g),w.Range.intersects({start:o,end:o+c},{start:g.offset,end:g.offset+g.size})&&(m.mode=_.AVOID),t=C(window.innerHeight,d,m)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(r===0?"bottom":"top"),this.view.classList.add(n===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const h=v.getDomNodePagePosition(this.container);this.view.style.top=`${t-(this.useFixedPosition?v.getDomNodePagePosition(this.view).top:h.top)}px`,this.view.style.left=`${o-(this.useFixedPosition?v.getDomNodePagePosition(this.view).left:h.left)}px`,this.view.style.width="initial"}}hide(a){const l=this.delegate;this.delegate=null,(l==null?void 0:l.onHide)&&l.onHide(a),this.toDisposeOnClean.dispose(),v.hide(this.view)}isVisible(){return!!this.delegate}onDOMEvent(a,l){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(a,document.activeElement):l&&!v.isAncestor(a.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}e.ContextView=i,i.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],i.BUBBLE_DOWN_EVENTS=["click"];let p=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	@font-face {
		font-family: "codicon";
		src: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`}),define(J[303],ee([10]),{}),define(J[206],ee([0,1,7,8,29,40,303]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CountBadge=void 0;const S={badgeBackground:k.Color.fromHex("#4D4D4D"),badgeForeground:k.Color.fromHex("#FFFFFF")};class _{constructor(i,p){this.count=0,this.options=p||Object.create(null),(0,w.mixin)(this.options,S,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=(0,v.append)(i,(0,v.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(i){this.count=i,this.render()}setTitleFormat(i){this.titleFormat=i,this.render()}render(){this.element.textContent=(0,I.format)(this.countFormat,this.count),this.element.title=(0,I.format)(this.titleFormat,this.count),this.applyStyles()}style(i){this.badgeBackground=i.badgeBackground,this.badgeForeground=i.badgeForeground,this.badgeBorder=i.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const i=this.badgeBackground?this.badgeBackground.toString():"",p=this.badgeForeground?this.badgeForeground.toString():"",u=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=i,this.element.style.color=p,this.element.style.borderWidth=u?"1px":"",this.element.style.borderStyle=u?"solid":"",this.element.style.borderColor=u}}}e.CountBadge=_}),define(J[207],ee([10]),{}),define(J[208],ee([10]),{}),define(J[304],ee([10]),{}),define(J[305],ee([10]),{}),define(J[306],ee([10]),{}),define(J[307],ee([10]),{}),define(J[209],ee([10]),{}),define(J[308],ee([10]),{}),define(J[125],ee([0,1,308]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME=void 0,e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME="monaco-mouse-cursor-text"}),define(J[309],ee([10]),{}),define(J[310],ee([0,1,2,29,40,7,15,309]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressBar=void 0;const _="done",C="active",i="infinite",p="discrete",u={progressBarBackground:I.Color.fromHex("#0E70C0")};class a extends v.Disposable{constructor(c,d){super();this.options=d||Object.create(null),(0,k.mixin)(this.options,u,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this._register(this.showDelayedScheduler=new S.RunOnceScheduler(()=>(0,w.show)(this.element),0)),this.create(c)}create(c){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),c.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(C,i,p),this.workedVal=0,this.totalWork=void 0}stop(){return this.doDone(!1)}doDone(c){return this.element.classList.add(_),this.element.classList.contains(i)?(this.bit.style.opacity="0",c?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",c?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(p,_),this.element.classList.add(C,i),this}getContainer(){return this.element}style(c){this.progressBarBackground=c.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const c=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=c}}}e.ProgressBar=a}),define(J[311],ee([10]),{}),define(J[104],ee([0,1,2,17,20,60,50,6,7,55,15,311]),function($,e,v,I,k,w,S,_,C,i,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sash=e.OrthogonalEdge=void 0;let u=!1;var a;(function(s){s.North="north",s.South="south",s.East="east",s.West="west"})(a=e.OrthogonalEdge||(e.OrthogonalEdge={}));let l=4;const c=new _.Emitter;let d=300;const r=new _.Emitter;class n extends v.Disposable{constructor(t,o,h){super();this.hoverDelay=d,this.hoverDelayer=this._register(new p.Delayer(this.hoverDelay)),this._state=3,this._onDidEnablementChange=this._register(new _.Emitter),this.onDidEnablementChange=this._onDidEnablementChange.event,this._onDidStart=this._register(new _.Emitter),this.onDidStart=this._onDidStart.event,this._onDidChange=this._register(new _.Emitter),this.onDidChange=this._onDidChange.event,this._onDidReset=this._register(new _.Emitter),this.onDidReset=this._onDidReset.event,this._onDidEnd=this._register(new _.Emitter),this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.orthogonalStartSashDisposables=this._register(new v.DisposableStore),this.orthogonalStartDragHandleDisposables=this._register(new v.DisposableStore),this.orthogonalEndSashDisposables=this._register(new v.DisposableStore),this.orthogonalEndDragHandleDisposables=this._register(new v.DisposableStore),this.el=(0,C.append)(t,(0,C.$)(".monaco-sash")),h.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${h.orthogonalEdge}`),I.isMacintosh&&this.el.classList.add("mac"),this._register((0,i.domEvent)(this.el,"mousedown")(this.onMouseDown,this)),this._register((0,i.domEvent)(this.el,"dblclick")(this.onMouseDoubleClick,this)),this._register((0,i.domEvent)(this.el,"mouseenter")(()=>n.onMouseEnter(this))),this._register((0,i.domEvent)(this.el,"mouseleave")(()=>n.onMouseLeave(this))),this._register(w.Gesture.addTarget(this.el)),this._register((0,i.domEvent)(this.el,w.EventType.Start)(g=>this.onTouchStart(g),this)),typeof h.size=="number"?(this.size=h.size,h.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=l,this._register(c.event(g=>{this.size=g,this.layout()}))),this._register(r.event(g=>this.hoverDelay=g)),this.hidden=!1,this.layoutProvider=o,this.orthogonalStartSash=h.orthogonalStartSash,this.orthogonalEndSash=h.orthogonalEndSash,this.orientation=h.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",u),this.layout()}get state(){return this._state}set state(t){this._state!==t&&(this.el.classList.toggle("disabled",t===0),this.el.classList.toggle("minimum",t===1),this.el.classList.toggle("maximum",t===2),this._state=t,this._onDidEnablementChange.fire(t))}get orthogonalStartSash(){return this._orthogonalStartSash}set orthogonalStartSash(t){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),t){const o=h=>{this.orthogonalStartDragHandleDisposables.clear(),h!==0&&(this._orthogonalStartDragHandle=(0,C.append)(this.el,(0,C.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,v.toDisposable)(()=>this._orthogonalStartDragHandle.remove())),(0,i.domEvent)(this._orthogonalStartDragHandle,"mouseenter")(()=>n.onMouseEnter(t),void 0,this.orthogonalStartDragHandleDisposables),(0,i.domEvent)(this._orthogonalStartDragHandle,"mouseleave")(()=>n.onMouseLeave(t),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(t.onDidEnablementChange(o,this)),o(t.state)}this._orthogonalStartSash=t}get orthogonalEndSash(){return this._orthogonalEndSash}set orthogonalEndSash(t){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),t){const o=h=>{this.orthogonalEndDragHandleDisposables.clear(),h!==0&&(this._orthogonalEndDragHandle=(0,C.append)(this.el,(0,C.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,v.toDisposable)(()=>this._orthogonalEndDragHandle.remove())),(0,i.domEvent)(this._orthogonalEndDragHandle,"mouseenter")(()=>n.onMouseEnter(t),void 0,this.orthogonalEndDragHandleDisposables),(0,i.domEvent)(this._orthogonalEndDragHandle,"mouseleave")(()=>n.onMouseLeave(t),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(t.onDidEnablementChange(o,this)),o(t.state)}this._orthogonalEndSash=t}onMouseDown(t){C.EventHelper.stop(t,!1);let o=!1;if(!t.__orthogonalSashEvent){const P=this.getOrthogonalSash(t);P&&(o=!0,t.__orthogonalSashEvent=!0,P.onMouseDown(t))}if(this.linkedSash&&!t.__linkedSashEvent&&(t.__linkedSashEvent=!0,this.linkedSash.onMouseDown(t)),!!this.state){const h=[...(0,C.getElementsByTagName)("iframe"),...(0,C.getElementsByTagName)("webview")];for(const P of h)P.style.pointerEvents="none";const g=new S.StandardMouseEvent(t),m=g.posx,f=g.posy,b=g.altKey,y={startX:m,currentX:m,startY:f,currentY:f,altKey:b};this.el.classList.add("active"),this._onDidStart.fire(y);const L=(0,C.createStyleSheet)(this.el),N=()=>{let P="";o?P="all-scroll":this.orientation===1?this.state===1?P="s-resize":this.state===2?P="n-resize":P=I.isMacintosh?"row-resize":"ns-resize":this.state===1?P="e-resize":this.state===2?P="w-resize":P=I.isMacintosh?"col-resize":"ew-resize",L.textContent=`* { cursor: ${P} !important; }`},M=new v.DisposableStore;N(),o||this.onDidEnablementChange(N,null,M);const D=P=>{C.EventHelper.stop(P,!1);const O=new S.StandardMouseEvent(P),W={startX:m,currentX:O.posx,startY:f,currentY:O.posy,altKey:b};this._onDidChange.fire(W)},R=P=>{C.EventHelper.stop(P,!1),this.el.removeChild(L),this.el.classList.remove("active"),this._onDidEnd.fire(),M.dispose();for(const O of h)O.style.pointerEvents="auto"};(0,i.domEvent)(window,"mousemove")(D,null,M),(0,i.domEvent)(window,"mouseup")(R,null,M)}}onMouseDoubleClick(t){const o=this.getOrthogonalSash(t);o&&o._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}onTouchStart(t){C.EventHelper.stop(t);const o=[],h=t.pageX,g=t.pageY,m=t.altKey;this._onDidStart.fire({startX:h,currentX:h,startY:g,currentY:g,altKey:m}),o.push((0,C.addDisposableListener)(this.el,w.EventType.Change,f=>{k.isNumber(f.pageX)&&k.isNumber(f.pageY)&&this._onDidChange.fire({startX:h,currentX:f.pageX,startY:g,currentY:f.pageY,altKey:m})})),o.push((0,C.addDisposableListener)(this.el,w.EventType.End,()=>{this._onDidEnd.fire(),(0,v.dispose)(o)}))}static onMouseEnter(t,o=!1){t.el.classList.contains("active")?(t.hoverDelayer.cancel(),t.el.classList.add("hover")):t.hoverDelayer.trigger(()=>t.el.classList.add("hover"),t.hoverDelay).then(void 0,()=>{}),!o&&t.linkedSash&&n.onMouseEnter(t.linkedSash,!0)}static onMouseLeave(t,o=!1){t.hoverDelayer.cancel(),t.el.classList.remove("hover"),!o&&t.linkedSash&&n.onMouseLeave(t.linkedSash,!0)}clearSashHoverState(){n.onMouseLeave(this)}layout(){if(this.orientation===0){const t=this.layoutProvider;this.el.style.left=t.getVerticalSashLeft(this)-this.size/2+"px",t.getVerticalSashTop&&(this.el.style.top=t.getVerticalSashTop(this)+"px"),t.getVerticalSashHeight&&(this.el.style.height=t.getVerticalSashHeight(this)+"px")}else{const t=this.layoutProvider;this.el.style.top=t.getHorizontalSashTop(this)-this.size/2+"px",t.getHorizontalSashLeft&&(this.el.style.left=t.getHorizontalSashLeft(this)+"px"),t.getHorizontalSashWidth&&(this.el.style.width=t.getHorizontalSashWidth(this)+"px")}}hide(){this.hidden=!0,this.el.style.display="none",this.el.setAttribute("aria-hidden","true")}getOrthogonalSash(t){if(!(!t.target||!(t.target instanceof HTMLElement))&&t.target.classList.contains("orthogonal-drag-handle"))return t.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}e.Sash=n}),define(J[312],ee([10]),{}),define(J[61],ee([0,1,7,30,50,289,290,52,15,6,2,17,122,35,312]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomScrollableElement=e.SmoothScrollableElement=e.ScrollableElement=e.AbstractScrollableElement=e.MouseWheelClassifier=void 0;const c=500,d=50,r=!0;class n{constructor(b,y,L){this.timestamp=b,this.deltaX=y,this.deltaY=L,this.score=0}}class s{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let b=1,y=0,L=1,N=this._rear;do{const M=N===this._front?b:Math.pow(2,-L);if(b-=M,y+=this._memory[N].score*M,N===this._front)break;N=(this._capacity+N-1)%this._capacity,L++}while(!0);return y<=.5}accept(b,y,L){const N=new n(b,y,L);N.score=this._computeScore(N),this._front===-1&&this._rear===-1?(this._memory[0]=N,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=N)}_computeScore(b){if(Math.abs(b.deltaX)>0&&Math.abs(b.deltaY)>0)return 1;let y=.5;const L=this._front===-1&&this._rear===-1?null:this._memory[this._rear];return(!this._isAlmostInt(b.deltaX)||!this._isAlmostInt(b.deltaY))&&(y+=.25),Math.min(Math.max(y,0),1)}_isAlmostInt(b){return Math.abs(Math.round(b)-b)<.01}}e.MouseWheelClassifier=s,s.INSTANCE=new s;class t extends _.Widget{constructor(b,y,L){super();this._onScroll=this._register(new i.Emitter),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new i.Emitter),b.style.overflow="hidden",this._options=m(y),this._scrollable=L,this._register(this._scrollable.onScroll(M=>{this._onWillScroll.fire(M),this._onDidScroll(M),this._onScroll.fire(M)}));const N={onMouseWheel:M=>this._onMouseWheel(M),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new S.VerticalScrollbar(this._scrollable,this._options,N)),this._horizontalScrollbar=this._register(new w.HorizontalScrollbar(this._scrollable,this._options,N)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(b),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,I.createFastDomNode)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,I.createFastDomNode)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,I.createFastDomNode)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,M=>this._onMouseOver(M)),this.onnonbubblingmouseout(this._listenOnDomNode,M=>this._onMouseOut(M)),this._hideTimeout=this._register(new C.TimeoutTimer),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=(0,p.dispose)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarMouseDown(b){this._verticalScrollbar.delegateMouseDown(b)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(b){this._scrollable.setScrollDimensions(b,!1)}updateClassName(b){this._options.className=b,u.isMacintosh&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(b){typeof b.handleMouseWheel!="undefined"&&(this._options.handleMouseWheel=b.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof b.mouseWheelScrollSensitivity!="undefined"&&(this._options.mouseWheelScrollSensitivity=b.mouseWheelScrollSensitivity),typeof b.fastScrollSensitivity!="undefined"&&(this._options.fastScrollSensitivity=b.fastScrollSensitivity),typeof b.scrollPredominantAxis!="undefined"&&(this._options.scrollPredominantAxis=b.scrollPredominantAxis),typeof b.horizontalScrollbarSize!="undefined"&&this._horizontalScrollbar.updateScrollbarSize(b.horizontalScrollbarSize),this._options.lazyRender||this._render()}_setListeningToMouseWheel(b){if(this._mouseWheelToDispose.length>0!==b&&(this._mouseWheelToDispose=(0,p.dispose)(this._mouseWheelToDispose),b)){const L=N=>{this._onMouseWheel(new k.StandardWheelEvent(N))};this._mouseWheelToDispose.push(v.addDisposableListener(this._listenOnDomNode,v.EventType.MOUSE_WHEEL,L,{passive:!1}))}}_onMouseWheel(b){const y=s.INSTANCE;if(r){const M=window.devicePixelRatio/(0,l.getZoomFactor)();u.isWindows||u.isLinux?y.accept(Date.now(),b.deltaX/M,b.deltaY/M):y.accept(Date.now(),b.deltaX,b.deltaY)}let L=!1;if(b.deltaY||b.deltaX){let M=b.deltaY*this._options.mouseWheelScrollSensitivity,D=b.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(M)>=Math.abs(D)?D=0:M=0),this._options.flipAxes&&([M,D]=[D,M]);const R=!u.isMacintosh&&b.browserEvent&&b.browserEvent.shiftKey;(this._options.scrollYToX||R)&&!D&&(D=M,M=0),b.browserEvent&&b.browserEvent.altKey&&(D=D*this._options.fastScrollSensitivity,M=M*this._options.fastScrollSensitivity);const P=this._scrollable.getFutureScrollPosition();let O={};if(M){const W=P.scrollTop-d*M;this._verticalScrollbar.writeScrollPosition(O,W)}if(D){const W=P.scrollLeft-d*D;this._horizontalScrollbar.writeScrollPosition(O,W)}O=this._scrollable.validateScrollPosition(O),(P.scrollLeft!==O.scrollLeft||P.scrollTop!==O.scrollTop)&&(r&&this._options.mouseWheelSmoothScroll&&y.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(O):this._scrollable.setScrollPositionNow(O),L=!0)}let N=L;!N&&this._options.alwaysConsumeMouseWheel&&(N=!0),!N&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(N=!0),N&&(b.preventDefault(),b.stopPropagation())}_onDidScroll(b){this._shouldRender=this._horizontalScrollbar.onDidScroll(b)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(b)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(!!this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const b=this._scrollable.getCurrentScrollPosition(),y=b.scrollTop>0,L=b.scrollLeft>0,N=L?" left":"",M=y?" top":"",D=L||y?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${N}`),this._topShadowDomNode.setClassName(`shadow${M}`),this._topLeftShadowDomNode.setClassName(`shadow${D}${M}${N}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseOut(b){this._mouseIsOver=!1,this._hide()}_onMouseOver(b){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),c)}}e.AbstractScrollableElement=t;class o extends t{constructor(b,y){y=y||{},y.mouseWheelSmoothScroll=!1;const L=new a.Scrollable(0,N=>v.scheduleAtNextAnimationFrame(N));super(b,y,L);this._register(L)}setScrollPosition(b){this._scrollable.setScrollPositionNow(b)}}e.ScrollableElement=o;class h extends t{constructor(b,y,L){super(b,y,L)}setScrollPosition(b){b.reuseAnimation?this._scrollable.setScrollPositionSmooth(b,b.reuseAnimation):this._scrollable.setScrollPositionNow(b)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}e.SmoothScrollableElement=h;class g extends o{constructor(b,y){super(b,y);this._element=b,this.onScroll(L=>{L.scrollTopChanged&&(this._element.scrollTop=L.scrollTop),L.scrollLeftChanged&&(this._element.scrollLeft=L.scrollLeft)}),this.scanDomNode()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}e.DomScrollableElement=g;function m(f){const b={lazyRender:typeof f.lazyRender!="undefined"?f.lazyRender:!1,className:typeof f.className!="undefined"?f.className:"",useShadows:typeof f.useShadows!="undefined"?f.useShadows:!0,handleMouseWheel:typeof f.handleMouseWheel!="undefined"?f.handleMouseWheel:!0,flipAxes:typeof f.flipAxes!="undefined"?f.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof f.consumeMouseWheelIfScrollbarIsNeeded!="undefined"?f.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof f.alwaysConsumeMouseWheel!="undefined"?f.alwaysConsumeMouseWheel:!1,scrollYToX:typeof f.scrollYToX!="undefined"?f.scrollYToX:!1,mouseWheelScrollSensitivity:typeof f.mouseWheelScrollSensitivity!="undefined"?f.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof f.fastScrollSensitivity!="undefined"?f.fastScrollSensitivity:5,scrollPredominantAxis:typeof f.scrollPredominantAxis!="undefined"?f.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof f.mouseWheelSmoothScroll!="undefined"?f.mouseWheelSmoothScroll:!0,arrowSize:typeof f.arrowSize!="undefined"?f.arrowSize:11,listenOnDomNode:typeof f.listenOnDomNode!="undefined"?f.listenOnDomNode:null,horizontal:typeof f.horizontal!="undefined"?f.horizontal:1,horizontalScrollbarSize:typeof f.horizontalScrollbarSize!="undefined"?f.horizontalScrollbarSize:10,horizontalSliderSize:typeof f.horizontalSliderSize!="undefined"?f.horizontalSliderSize:0,horizontalHasArrows:typeof f.horizontalHasArrows!="undefined"?f.horizontalHasArrows:!1,vertical:typeof f.vertical!="undefined"?f.vertical:1,verticalScrollbarSize:typeof f.verticalScrollbarSize!="undefined"?f.verticalScrollbarSize:10,verticalHasArrows:typeof f.verticalHasArrows!="undefined"?f.verticalHasArrows:!1,verticalSliderSize:typeof f.verticalSliderSize!="undefined"?f.verticalSliderSize:0,scrollByPage:typeof f.scrollByPage!="undefined"?f.scrollByPage:!1};return b.horizontalSliderSize=typeof f.horizontalSliderSize!="undefined"?f.horizontalSliderSize:b.horizontalScrollbarSize,b.verticalSliderSize=typeof f.verticalSliderSize!="undefined"?f.verticalSliderSize:b.verticalScrollbarSize,u.isMacintosh&&(b.className+=" mac"),b}}),define(J[210],ee([0,1,7,2,61,304]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderHoverAction=e.HoverWidget=void 0;const w=v.$;class S extends I.Disposable{constructor(){super();this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this._scrollbar=this._register(new k.DomScrollableElement(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this._scrollbar.getDomNode())}onContentsChanged(){this._scrollbar.scanDomNode()}}e.HoverWidget=S;function _(C,i,p){const u=v.append(C,w("div.action-container")),a=v.append(u,w("a.action"));a.setAttribute("href","#"),a.setAttribute("role","button"),i.iconClass&&v.append(a,w(`span.icon.${i.iconClass}`));const l=v.append(a,w("span"));return l.textContent=p?`${i.label} (${p})`:i.label,v.addDisposableListener(u,v.EventType.CLICK,c=>{c.stopPropagation(),c.preventDefault(),i.run(u)})}e.renderHoverAction=_}),define(J[161],ee([0,1,40,2,60,6,55,61,122,282,288,99,121,19,149,15,35,7]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListView=e.NativeDragAndDropData=e.ExternalElementsDragAndDropData=e.ElementsDragAndDropData=void 0;const s={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(b){return[b]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class t{constructor(y){this.elements=y}update(){}getData(){return this.elements}}e.ElementsDragAndDropData=t;class o{constructor(y){this.elements=y}update(){}getData(){return this.elements}}e.ExternalElementsDragAndDropData=o;class h{constructor(){this.types=[],this.files=[]}update(y){if(y.types&&this.types.splice(0,this.types.length,...y.types),y.files){this.files.splice(0,this.files.length);for(let L=0;L<y.files.length;L++){const N=y.files.item(L);N&&(N.size||N.type)&&this.files.push(N)}}}getData(){return{types:this.types,files:this.files}}}e.NativeDragAndDropData=h;function g(b,y){return Array.isArray(b)&&Array.isArray(y)?(0,l.equals)(b,y):b===y}class m{constructor(y){(y==null?void 0:y.getSetSize)?this.getSetSize=y.getSetSize.bind(y):this.getSetSize=(L,N,M)=>M,(y==null?void 0:y.getPosInSet)?this.getPosInSet=y.getPosInSet.bind(y):this.getPosInSet=(L,N)=>N+1,(y==null?void 0:y.getRole)?this.getRole=y.getRole.bind(y):this.getRole=L=>"listitem",(y==null?void 0:y.isChecked)?this.isChecked=y.isChecked.bind(y):this.isChecked=L=>{}}}class f{constructor(y,L,N,M=s){if(this.virtualDelegate=L,this.domId=`list_id_${++f.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new d.Delayer(50),this.splicing=!1,this.dragOverAnimationStopDisposable=I.Disposable.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=I.Disposable.None,this.onDragLeaveTimeout=I.Disposable.None,this.disposables=new I.DisposableStore,this._onDidChangeContentHeight=new w.Emitter,this._horizontalScrolling=!1,M.horizontalScrolling&&M.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new i.RangeMap;for(const R of N)this.renderers.set(R.templateId,R);this.cache=this.disposables.add(new p.RowCache(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof M.mouseSupport=="boolean"?M.mouseSupport:!0),this._horizontalScrolling=(0,v.getOrDefault)(M,R=>R.horizontalScrolling,s.horizontalScrolling),this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=typeof M.additionalScrollHeight=="undefined"?0:M.additionalScrollHeight,this.accessibilityProvider=new m(M.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",(0,v.getOrDefault)(M,R=>R.transformOptimization,s.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(k.Gesture.addTarget(this.rowsContainer)),this.scrollable=new C.Scrollable((0,v.getOrDefault)(M,R=>R.smoothScrolling,!1)?125:0,R=>(0,n.scheduleAtNextAnimationFrame)(R)),this.scrollableElement=this.disposables.add(new _.SmoothScrollableElement(this.rowsContainer,{alwaysConsumeMouseWheel:(0,v.getOrDefault)(M,R=>R.alwaysConsumeMouseWheel,s.alwaysConsumeMouseWheel),horizontal:1,vertical:(0,v.getOrDefault)(M,R=>R.verticalScrollMode,s.verticalScrollMode),useShadows:(0,v.getOrDefault)(M,R=>R.useShadows,s.useShadows)},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),y.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),(0,S.domEvent)(this.rowsContainer,k.EventType.Change)(R=>this.onTouchChange(R),this,this.disposables),(0,S.domEvent)(this.scrollableElement.getDomNode(),"scroll")(R=>R.target.scrollTop=0,null,this.disposables),w.Event.map((0,S.domEvent)(this.domNode,"dragover"),R=>this.toDragEvent(R))(this.onDragOver,this,this.disposables),w.Event.map((0,S.domEvent)(this.domNode,"drop"),R=>this.toDragEvent(R))(this.onDrop,this,this.disposables),(0,S.domEvent)(this.domNode,"dragleave")(this.onDragLeave,this,this.disposables),(0,S.domEvent)(window,"dragend")(this.onDragEnd,this,this.disposables),this.setRowLineHeight=(0,v.getOrDefault)(M,R=>R.setRowLineHeight,s.setRowLineHeight),this.setRowHeight=(0,v.getOrDefault)(M,R=>R.setRowHeight,s.setRowHeight),this.supportDynamicHeights=(0,v.getOrDefault)(M,R=>R.supportDynamicHeights,s.supportDynamicHeights),this.dnd=(0,v.getOrDefault)(M,R=>R.dnd,s.dnd),this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(y){if(y!==this._horizontalScrolling){if(y&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=y,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const L of this.items)this.measureItemWidth(L);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,n.getContentWidth)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(y){y.additionalScrollHeight!==void 0&&(this.additionalScrollHeight=y.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),y.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(y.smoothScrolling?125:0),y.horizontalScrolling!==void 0&&(this.horizontalScrolling=y.horizontalScrolling)}splice(y,L,N=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(y,L,N)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(y,L,N=[]){const M=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),D={start:y,end:y+L},R=a.Range.intersect(M,D),P=new Map;for(let Z=R.start;Z<R.end;Z++){const T=this.items[Z];if(T.dragStartDisposable.dispose(),T.row){let x=P.get(T.templateId);x||(x=[],P.set(T.templateId,x));const z=this.renderers.get(T.templateId);z&&z.disposeElement&&z.disposeElement(T.element,Z,T.row.templateData,T.size),x.push(T.row)}T.row=null}const O={start:y+L,end:this.items.length},W=a.Range.intersect(O,M),F=a.Range.relativeComplement(O,M),E=N.map(Z=>({id:String(this.itemId++),element:Z,templateId:this.virtualDelegate.getTemplateId(Z),size:this.virtualDelegate.getHeight(Z),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(Z),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:I.Disposable.None}));let A;y===0&&L>=this.items.length?(this.rangeMap=new i.RangeMap,this.rangeMap.splice(0,0,E),A=this.items,this.items=E):(this.rangeMap.splice(y,L,E),A=this.items.splice(y,L,...E));const B=N.length-L,H=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),K=(0,i.shift)(W,B),q=a.Range.intersect(H,K);for(let Z=q.start;Z<q.end;Z++)this.updateItemInDOM(this.items[Z],Z);const Y=a.Range.relativeComplement(K,H);for(const Z of Y)for(let T=Z.start;T<Z.end;T++)this.removeItemFromDOM(T);const te=F.map(Z=>(0,i.shift)(Z,B)),ae=[{start:y,end:y+N.length},...te].map(Z=>a.Range.intersect(H,Z)),le=this.getNextToLastElement(ae);for(const Z of ae)for(let T=Z.start;T<Z.end;T++){const x=this.items[T],z=P.get(x.templateId),V=z==null?void 0:z.pop();this.insertItemInDOM(T,le,V)}for(const Z of P.values())for(const T of Z)this.cache.release(T);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),A.map(Z=>Z.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,n.scheduleAtNextAnimationFrame)(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!!this.horizontalScrolling){let y=0;for(const L of this.items)typeof L.width!="undefined"&&(y=Math.max(y,L.width));this.scrollWidth=y,this.scrollableElement.setScrollDimensions({scrollWidth:y===0?0:y+10})}}rerender(){if(!!this.supportDynamicHeights){for(const y of this.items)y.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(y){return this.items[y].element}domElement(y){const L=this.items[y].row;return L&&L.domNode}elementHeight(y){return this.items[y].size}elementTop(y){return this.rangeMap.positionAt(y)}indexAt(y){return this.rangeMap.indexAt(y)}indexAfter(y){return this.rangeMap.indexAfter(y)}layout(y,L){let N={height:typeof y=="number"?y:(0,n.getContentHeight)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,N.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(N),typeof L!="undefined"&&(this.renderWidth=L,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof L=="number"?L:(0,n.getContentWidth)(this.domNode)})}render(y,L,N,M,D,R=!1){const P=this.getRenderRange(L,N),O=a.Range.relativeComplement(P,y),W=a.Range.relativeComplement(y,P),F=this.getNextToLastElement(O);if(R){const E=a.Range.intersect(y,P);for(let A=E.start;A<E.end;A++)this.updateItemInDOM(this.items[A],A)}for(const E of O)for(let A=E.start;A<E.end;A++)this.insertItemInDOM(A,F);for(const E of W)for(let A=E.start;A<E.end;A++)this.removeItemFromDOM(A);M!==void 0&&(this.rowsContainer.style.left=`-${M}px`),this.rowsContainer.style.top=`-${L}px`,this.horizontalScrolling&&D!==void 0&&(this.rowsContainer.style.width=`${Math.max(D,this.renderWidth)}px`),this.lastRenderTop=L,this.lastRenderHeight=N}insertItemInDOM(y,L,N){const M=this.items[y];M.row||(M.row=N!=null?N:this.cache.alloc(M.templateId));const D=this.accessibilityProvider.getRole(M.element)||"listitem";M.row.domNode.setAttribute("role",D);const R=this.accessibilityProvider.isChecked(M.element);typeof R!="undefined"&&M.row.domNode.setAttribute("aria-checked",String(!!R)),M.row.domNode.parentElement||(L?this.rowsContainer.insertBefore(M.row.domNode,L):this.rowsContainer.appendChild(M.row.domNode)),this.updateItemInDOM(M,y);const P=this.renderers.get(M.templateId);if(!P)throw new Error(`No renderer found for template id ${M.templateId}`);P&&P.renderElement(M.element,y,M.row.templateData,M.size);const O=this.dnd.getDragURI(M.element);if(M.dragStartDisposable.dispose(),M.row.domNode.draggable=!!O,O){const W=(0,S.domEvent)(M.row.domNode,"dragstart");M.dragStartDisposable=W(F=>this.onDragStart(M.element,O,F))}this.horizontalScrolling&&(this.measureItemWidth(M),this.eventuallyUpdateScrollWidth())}measureItemWidth(y){if(!(!y.row||!y.row.domNode)){y.row.domNode.style.width=r.isFirefox?"-moz-fit-content":"fit-content",y.width=(0,n.getContentWidth)(y.row.domNode);const L=window.getComputedStyle(y.row.domNode);L.paddingLeft&&(y.width+=parseFloat(L.paddingLeft)),L.paddingRight&&(y.width+=parseFloat(L.paddingRight)),y.row.domNode.style.width=""}}updateItemInDOM(y,L){y.row.domNode.style.top=`${this.elementTop(L)}px`,this.setRowHeight&&(y.row.domNode.style.height=`${y.size}px`),this.setRowLineHeight&&(y.row.domNode.style.lineHeight=`${y.size}px`),y.row.domNode.setAttribute("data-index",`${L}`),y.row.domNode.setAttribute("data-last-element",L===this.length-1?"true":"false"),y.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(y.element,L,this.length))),y.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(y.element,L))),y.row.domNode.setAttribute("id",this.getElementDomId(L)),y.row.domNode.classList.toggle("drop-target",y.dropTarget)}removeItemFromDOM(y){const L=this.items[y];if(L.dragStartDisposable.dispose(),L.row){const N=this.renderers.get(L.templateId);N&&N.disposeElement&&N.disposeElement(L.element,y,L.row.templateData,L.size),this.cache.release(L.row),L.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(y,L){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:y,reuseAnimation:L})}get scrollTop(){return this.getScrollTop()}set scrollTop(y){this.setScrollTop(y)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return w.Event.map((0,S.domEvent)(this.domNode,"click"),y=>this.toMouseEvent(y))}get onMouseDblClick(){return w.Event.map((0,S.domEvent)(this.domNode,"dblclick"),y=>this.toMouseEvent(y))}get onMouseMiddleClick(){return w.Event.filter(w.Event.map((0,S.domEvent)(this.domNode,"auxclick"),y=>this.toMouseEvent(y)),y=>y.browserEvent.button===1)}get onMouseDown(){return w.Event.map((0,S.domEvent)(this.domNode,"mousedown"),y=>this.toMouseEvent(y))}get onContextMenu(){return w.Event.map((0,S.domEvent)(this.domNode,"contextmenu"),y=>this.toMouseEvent(y))}get onTouchStart(){return w.Event.map((0,S.domEvent)(this.domNode,"touchstart"),y=>this.toTouchEvent(y))}get onTap(){return w.Event.map((0,S.domEvent)(this.rowsContainer,k.EventType.Tap),y=>this.toGestureEvent(y))}toMouseEvent(y){const L=this.getItemIndexFromEventTarget(y.target||null),N=typeof L=="undefined"?void 0:this.items[L],M=N&&N.element;return{browserEvent:y,index:L,element:M}}toTouchEvent(y){const L=this.getItemIndexFromEventTarget(y.target||null),N=typeof L=="undefined"?void 0:this.items[L],M=N&&N.element;return{browserEvent:y,index:L,element:M}}toGestureEvent(y){const L=this.getItemIndexFromEventTarget(y.initialTarget||null),N=typeof L=="undefined"?void 0:this.items[L],M=N&&N.element;return{browserEvent:y,index:L,element:M}}toDragEvent(y){const L=this.getItemIndexFromEventTarget(y.target||null),N=typeof L=="undefined"?void 0:this.items[L],M=N&&N.element;return{browserEvent:y,index:L,element:M}}onScroll(y){try{const L=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(L,y.scrollTop,y.height,y.scrollLeft,y.scrollWidth),this.supportDynamicHeights&&this._rerender(y.scrollTop,y.height,y.inSmoothScrolling)}catch(L){throw console.error("Got bad scroll event:",y),L}}onTouchChange(y){y.preventDefault(),y.stopPropagation(),this.scrollTop-=y.translationY}onDragStart(y,L,N){if(!!N.dataTransfer){const M=this.dnd.getDragElements(y);if(N.dataTransfer.effectAllowed="copyMove",N.dataTransfer.setData(c.DataTransfers.RESOURCES,JSON.stringify([L])),N.dataTransfer.setDragImage){let D;this.dnd.getDragLabel&&(D=this.dnd.getDragLabel(M,N)),typeof D=="undefined"&&(D=String(M.length));const R=(0,n.$)(".monaco-drag-image");R.textContent=D,document.body.appendChild(R),N.dataTransfer.setDragImage(R,-10,-10),setTimeout(()=>document.body.removeChild(R),0)}this.currentDragData=new t(M),c.StaticDND.CurrentDragAndDropData=new o(M),this.dnd.onDragStart&&this.dnd.onDragStart(this.currentDragData,N)}}onDragOver(y){if(y.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),c.StaticDND.CurrentDragAndDropData&&c.StaticDND.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(y.browserEvent),!y.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(c.StaticDND.CurrentDragAndDropData)this.currentDragData=c.StaticDND.CurrentDragAndDropData;else{if(!y.browserEvent.dataTransfer.types)return!1;this.currentDragData=new h}const L=this.dnd.onDragOver(this.currentDragData,y.element,y.index,y.browserEvent);if(this.canDrop=typeof L=="boolean"?L:L.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;y.browserEvent.dataTransfer.dropEffect=typeof L!="boolean"&&L.effect===0?"copy":"move";let N;if(typeof L!="boolean"&&L.feedback?N=L.feedback:typeof y.index=="undefined"?N=[-1]:N=[y.index],N=(0,l.distinct)(N).filter(M=>M>=-1&&M<this.length).sort((M,D)=>M-D),N=N[0]===-1?[-1]:N,g(this.currentDragFeedback,N))return!0;if(this.currentDragFeedback=N,this.currentDragFeedbackDisposable.dispose(),N[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=(0,I.toDisposable)(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const M of N){const D=this.items[M];D.dropTarget=!0,D.row&&D.row.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=(0,I.toDisposable)(()=>{for(const M of N){const D=this.items[M];D.dropTarget=!1,D.row&&D.row.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(){this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,d.disposableTimeout)(()=>this.clearDragOverFeedback(),100)}onDrop(y){if(!!this.canDrop){const L=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,c.StaticDND.CurrentDragAndDropData=void 0,!(!L||!y.browserEvent.dataTransfer)&&(y.browserEvent.preventDefault(),L.update(y.browserEvent.dataTransfer),this.dnd.drop(L,y.element,y.index,y.browserEvent))}}onDragEnd(y){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,c.StaticDND.CurrentDragAndDropData=void 0,this.dnd.onDragEnd&&this.dnd.onDragEnd(y)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=I.Disposable.None}setupDragAndDropScrollTopAnimation(y){if(!this.dragOverAnimationDisposable){const L=(0,n.getTopLeftOffset)(this.domNode).top;this.dragOverAnimationDisposable=(0,n.animate)(this.animateDragAndDropScrollTop.bind(this,L))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,d.disposableTimeout)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=y.pageY}animateDragAndDropScrollTop(y){if(this.dragOverMouseY!==void 0){const L=this.dragOverMouseY-y,N=this.renderHeight-35;L<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(L-35))):L>N&&(this.scrollTop+=Math.min(14,Math.floor(.3*(L-N))))}}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(y){const L=this.scrollableElement.getDomNode();let N=y;for(;N instanceof HTMLElement&&N!==this.rowsContainer&&L.contains(N);){const M=N.getAttribute("data-index");if(M){const D=Number(M);if(!isNaN(D))return D}N=N.parentElement}}getRenderRange(y,L){return{start:this.rangeMap.indexAt(y),end:this.rangeMap.indexAfter(y+L-1)}}_rerender(y,L,N){const M=this.getRenderRange(y,L);let D,R;y===this.elementTop(M.start)?(D=M.start,R=0):M.end-M.start>1&&(D=M.start+1,R=this.elementTop(D)-y);let P=0;for(;;){const O=this.getRenderRange(y,L);let W=!1;for(let F=O.start;F<O.end;F++){const E=this.probeDynamicHeight(F);E!==0&&this.rangeMap.splice(F,1,[this.items[F]]),P+=E,W=W||E!==0}if(!W){P!==0&&this.eventuallyUpdateScrollDimensions();const F=a.Range.relativeComplement(M,O);for(const A of F)for(let B=A.start;B<A.end;B++)this.items[B].row&&this.removeItemFromDOM(B);const E=a.Range.relativeComplement(O,M);for(const A of E)for(let B=A.start;B<A.end;B++){const H=B+1,K=H<this.items.length?this.items[H].row:null,q=K?K.domNode:null;this.insertItemInDOM(B,q)}for(let A=O.start;A<O.end;A++)this.items[A].row&&this.updateItemInDOM(this.items[A],A);if(typeof D=="number"){const A=this.scrollable.getFutureScrollPosition().scrollTop-y,B=this.elementTop(D)-R+A;this.setScrollTop(B,N)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(y){const L=this.items[y];if(!L.hasDynamicHeight||L.lastDynamicHeightWidth===this.renderWidth||!!this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(L.element))return 0;const N=L.size;if(!this.setRowHeight&&L.row){let R=L.row.domNode.offsetHeight;return L.size=R,L.lastDynamicHeightWidth=this.renderWidth,R-N}const M=this.cache.alloc(L.templateId);M.domNode.style.height="",this.rowsContainer.appendChild(M.domNode);const D=this.renderers.get(L.templateId);return D&&(D.renderElement(L.element,y,M.templateData,void 0),D.disposeElement&&D.disposeElement(L.element,y,M.templateData,void 0)),L.size=M.domNode.offsetHeight,this.virtualDelegate.setDynamicHeight&&this.virtualDelegate.setDynamicHeight(L.element,L.size),L.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(M.domNode),this.cache.release(M),L.size-N}getNextToLastElement(y){const L=y[y.length-1];if(!L)return null;const N=this.items[L.end];return!N||!N.row?null:N.row.domNode}getElementDomId(y){return`${this.domId}_${y}`}dispose(){if(this.items){for(const y of this.items)if(y.row){const L=this.renderers.get(y.row.templateId);L&&(L.disposeElement&&L.disposeElement(y.element,-1,y.row.templateData,void 0),L.disposeTemplate(y.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(0,I.dispose)(this.disposables)}}f.InstanceCount=0,Me([u.memoize],f.prototype,"onMouseClick",null),Me([u.memoize],f.prototype,"onMouseDblClick",null),Me([u.memoize],f.prototype,"onMouseMiddleClick",null),Me([u.memoize],f.prototype,"onMouseDown",null),Me([u.memoize],f.prototype,"onContextMenu",null),Me([u.memoize],f.prototype,"onTouchStart",null),Me([u.memoize],f.prototype,"onTap",null),e.ListView=f}),define(J[105],ee([0,1,2,20,19,99,17,60,56,6,55,276,161,29,40,277,100,66,41,7,15,209]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n,s,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.List=e.DefaultStyleController=e.MouseController=e.isSelectionRangeChangeEvent=e.isSelectionSingleChangeEvent=e.DefaultKeyboardNavigationDelegate=e.isMonacoEditor=e.isInputElement=void 0;class h{constructor(T){this.trait=T,this.renderedElements=[]}get templateId(){return`template:${this.trait.trait}`}renderTemplate(T){return T}renderElement(T,x,z){const V=this.renderedElements.findIndex(U=>U.templateData===z);if(V>=0){const U=this.renderedElements[V];this.trait.unrender(z),U.index=x}else{const U={index:x,templateData:z};this.renderedElements.push(U)}this.trait.renderIndex(x,z)}splice(T,x,z){const V=[];for(const U of this.renderedElements)U.index<T?V.push(U):U.index>=T+x&&V.push({index:U.index+z-x,templateData:U.templateData});this.renderedElements=V}renderIndexes(T){for(const{index:x,templateData:z}of this.renderedElements)T.indexOf(x)>-1&&this.trait.renderIndex(x,z)}disposeTemplate(T){const x=this.renderedElements.findIndex(z=>z.templateData===T);x<0||this.renderedElements.splice(x,1)}}class g{constructor(T){this._trait=T,this.indexes=[],this.sortedIndexes=[],this._onChange=new i.Emitter,this.onChange=this._onChange.event}get trait(){return this._trait}get renderer(){return new h(this)}splice(T,x,z){const V=z.length-x,U=T+x,Q=[...this.sortedIndexes.filter(se=>se<T),...z.map((se,oe)=>se?oe+T:-1).filter(se=>se!==-1),...this.sortedIndexes.filter(se=>se>=U).map(se=>se+V)];this.renderer.splice(T,x,z.length),this._set(Q,Q)}renderIndex(T,x){x.classList.toggle(this._trait,this.contains(T))}unrender(T){T.classList.remove(this._trait)}set(T,x){return this._set(T,[...T].sort(Y),x)}_set(T,x,z){const V=this.indexes,U=this.sortedIndexes;this.indexes=T,this.sortedIndexes=x;const Q=K(U,T);return this.renderer.renderIndexes(Q),this._onChange.fire({indexes:T,browserEvent:z}),V}get(){return this.indexes}contains(T){return(0,k.binarySearch)(this.sortedIndexes,T,Y)>=0}dispose(){(0,v.dispose)(this._onChange)}}Me([w.memoize],g.prototype,"renderer",null);class m extends g{constructor(T){super("selected");this.setAriaSelected=T}renderIndex(T,x){super.renderIndex(T,x),this.setAriaSelected&&(this.contains(T)?x.setAttribute("aria-selected","true"):x.setAttribute("aria-selected","false"))}}class f{constructor(T,x,z){this.trait=T,this.view=x,this.identityProvider=z}splice(T,x,z){if(!this.identityProvider)return this.trait.splice(T,x,z.map(()=>!1));const V=this.trait.get().map(Q=>this.identityProvider.getId(this.view.element(Q)).toString()),U=z.map(Q=>V.indexOf(this.identityProvider.getId(Q).toString())>-1);this.trait.splice(T,x,U)}}function b(Z){return Z.tagName==="INPUT"||Z.tagName==="TEXTAREA"}e.isInputElement=b;function y(Z){return Z.classList.contains("monaco-editor")?!0:Z.classList.contains("monaco-list")||!Z.parentElement?!1:y(Z.parentElement)}e.isMonacoEditor=y;class L{constructor(T,x,z){this.list=T,this.view=x,this.disposables=new v.DisposableStore;const V=z.multipleSelectionSupport!==!1,U=i.Event.chain((0,p.domEvent)(x.domNode,"keydown")).filter(Q=>!b(Q.target)).map(Q=>new C.StandardKeyboardEvent(Q));U.filter(Q=>Q.keyCode===3).on(this.onEnter,this,this.disposables),U.filter(Q=>Q.keyCode===16).on(this.onUpArrow,this,this.disposables),U.filter(Q=>Q.keyCode===18).on(this.onDownArrow,this,this.disposables),U.filter(Q=>Q.keyCode===11).on(this.onPageUpArrow,this,this.disposables),U.filter(Q=>Q.keyCode===12).on(this.onPageDownArrow,this,this.disposables),U.filter(Q=>Q.keyCode===9).on(this.onEscape,this,this.disposables),V&&U.filter(Q=>(S.isMacintosh?Q.metaKey:Q.ctrlKey)&&Q.keyCode===31).on(this.onCtrlA,this,this.disposables)}onEnter(T){T.preventDefault(),T.stopPropagation(),this.list.setSelection(this.list.getFocus(),T.browserEvent)}onUpArrow(T){T.preventDefault(),T.stopPropagation(),this.list.focusPrevious(1,!1,T.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onDownArrow(T){T.preventDefault(),T.stopPropagation(),this.list.focusNext(1,!1,T.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onPageUpArrow(T){T.preventDefault(),T.stopPropagation(),this.list.focusPreviousPage(T.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onPageDownArrow(T){T.preventDefault(),T.stopPropagation(),this.list.focusNextPage(T.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onCtrlA(T){T.preventDefault(),T.stopPropagation(),this.list.setSelection((0,k.range)(this.list.length),T.browserEvent),this.view.domNode.focus()}onEscape(T){this.list.getSelection().length&&(T.preventDefault(),T.stopPropagation(),this.list.setSelection([],T.browserEvent),this.view.domNode.focus())}dispose(){this.disposables.dispose()}}var N;(function(Z){Z[Z.Idle=0]="Idle",Z[Z.Typing=1]="Typing"})(N||(N={})),e.DefaultKeyboardNavigationDelegate=new class{mightProducePrintableCharacter(Z){return Z.ctrlKey||Z.metaKey||Z.altKey?!1:Z.keyCode>=31&&Z.keyCode<=56||Z.keyCode>=21&&Z.keyCode<=30||Z.keyCode>=93&&Z.keyCode<=102||Z.keyCode>=80&&Z.keyCode<=90}};class M{constructor(T,x,z,V){this.list=T,this.view=x,this.keyboardNavigationLabelProvider=z,this.delegate=V,this.enabled=!1,this.state=N.Idle,this.automaticKeyboardNavigation=!0,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new v.DisposableStore,this.disposables=new v.DisposableStore,this.updateOptions(T.options)}updateOptions(T){(typeof T.enableKeyboardNavigation=="undefined"?!0:!!T.enableKeyboardNavigation)?this.enable():this.disable(),typeof T.automaticKeyboardNavigation!="undefined"&&(this.automaticKeyboardNavigation=T.automaticKeyboardNavigation)}enable(){if(!this.enabled){const T=i.Event.chain((0,p.domEvent)(this.view.domNode,"keydown")).filter(V=>!b(V.target)).filter(()=>this.automaticKeyboardNavigation||this.triggered).map(V=>new C.StandardKeyboardEvent(V)).filter(V=>this.delegate.mightProducePrintableCharacter(V)).forEach(V=>{V.stopPropagation(),V.preventDefault()}).map(V=>V.browserEvent.key).event,x=i.Event.debounce(T,()=>null,800);i.Event.reduce(i.Event.any(T,x),(V,U)=>U===null?null:(V||"")+U)(this.onInput,this,this.enabledDisposables),x(this.onClear,this,this.enabledDisposables),this.enabled=!0,this.triggered=!1}}disable(){!this.enabled||(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var T;const x=this.list.getFocus();if(x.length>0&&x[0]===this.previouslyFocused){const z=(T=this.list.options.accessibilityProvider)===null||T===void 0?void 0:T.getAriaLabel(this.list.element(x[0]));z&&(0,s.alert)(z)}this.previouslyFocused=-1}onInput(T){if(!T){this.state=N.Idle,this.triggered=!1;return}const x=this.list.getFocus(),z=x.length>0?x[0]:0,V=this.state===N.Idle?1:0;this.state=N.Typing;for(let U=0;U<this.list.length;U++){const Q=(z+U+V)%this.list.length,se=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(Q)),oe=se&&se.toString();if(typeof oe=="undefined"||(0,n.matchesPrefix)(T,oe)){this.previouslyFocused=z,this.list.setFocus([Q]),this.list.reveal(Q);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class D{constructor(T,x){this.list=T,this.view=x,this.disposables=new v.DisposableStore,i.Event.chain((0,p.domEvent)(x.domNode,"keydown")).filter(V=>!b(V.target)).map(V=>new C.StandardKeyboardEvent(V)).filter(V=>V.keyCode===2&&!V.ctrlKey&&!V.metaKey&&!V.shiftKey&&!V.altKey).on(this.onTab,this,this.disposables)}onTab(T){if(T.target===this.view.domNode){const x=this.list.getFocus();if(x.length!==0){const z=this.view.domElement(x[0]);if(!!z){const V=z.querySelector("[tabIndex]");if(!(!V||!(V instanceof HTMLElement)||V.tabIndex===-1)){const U=window.getComputedStyle(V);U.visibility==="hidden"||U.display==="none"||(T.preventDefault(),T.stopPropagation(),V.focus())}}}}}dispose(){this.disposables.dispose()}}function R(Z){return S.isMacintosh?Z.browserEvent.metaKey:Z.browserEvent.ctrlKey}e.isSelectionSingleChangeEvent=R;function P(Z){return Z.browserEvent.shiftKey}e.isSelectionRangeChangeEvent=P;function O(Z){return Z instanceof MouseEvent&&Z.button===2}const W={isSelectionSingleChangeEvent:R,isSelectionRangeChangeEvent:P};class F{constructor(T){this.list=T,this.disposables=new v.DisposableStore,this._onPointer=new i.Emitter,this.onPointer=this._onPointer.event,this.multipleSelectionSupport=T.options.multipleSelectionSupport!==!1,this.multipleSelectionSupport&&(this.multipleSelectionController=T.options.multipleSelectionController||W),this.mouseSupport=typeof T.options.mouseSupport=="undefined"||!!T.options.mouseSupport,this.mouseSupport&&(T.onMouseDown(this.onMouseDown,this,this.disposables),T.onContextMenu(this.onContextMenu,this,this.disposables),T.onMouseDblClick(this.onDoubleClick,this,this.disposables),T.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(_.Gesture.addTarget(T.getHTMLElement()))),i.Event.any(T.onMouseClick,T.onMouseMiddleClick,T.onTap)(this.onViewPointer,this,this.disposables)}isSelectionSingleChangeEvent(T){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(T):S.isMacintosh?T.browserEvent.metaKey:T.browserEvent.ctrlKey}isSelectionRangeChangeEvent(T){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(T):T.browserEvent.shiftKey}isSelectionChangeEvent(T){return this.isSelectionSingleChangeEvent(T)||this.isSelectionRangeChangeEvent(T)}onMouseDown(T){y(T.browserEvent.target)||document.activeElement!==T.browserEvent.target&&this.list.domFocus()}onContextMenu(T){if(!y(T.browserEvent.target)){const x=typeof T.index=="undefined"?[]:[T.index];this.list.setFocus(x,T.browserEvent)}}onViewPointer(T){if(!!this.mouseSupport&&!(b(T.browserEvent.target)||y(T.browserEvent.target))){const x=T.index;if(typeof x=="undefined"){this.list.setFocus([],T.browserEvent),this.list.setSelection([],T.browserEvent),this.list.setAnchor(void 0);return}if(this.multipleSelectionSupport&&this.isSelectionRangeChangeEvent(T))return this.changeSelection(T);if(this.multipleSelectionSupport&&this.isSelectionChangeEvent(T))return this.changeSelection(T);this.list.setFocus([x],T.browserEvent),this.list.setAnchor(x),O(T.browserEvent)||this.list.setSelection([x],T.browserEvent),this._onPointer.fire(T)}}onDoubleClick(T){if(!(b(T.browserEvent.target)||y(T.browserEvent.target))&&!(this.multipleSelectionSupport&&this.isSelectionChangeEvent(T))){const x=this.list.getFocus();this.list.setSelection(x,T.browserEvent)}}changeSelection(T){const x=T.index,z=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(T)&&typeof z=="number"){const V=Math.min(z,x),U=Math.max(z,x),Q=(0,k.range)(V,U+1),se=this.list.getSelection(),oe=H(K(se,[z]),z);if(oe.length===0)return;const G=K(Q,q(se,oe));this.list.setSelection(G,T.browserEvent),this.list.setFocus([x],T.browserEvent)}else if(this.isSelectionSingleChangeEvent(T)){const V=this.list.getSelection(),U=V.filter(Q=>Q!==x);this.list.setFocus([x]),this.list.setAnchor(x),V.length===U.length?this.list.setSelection([...U,x],T.browserEvent):this.list.setSelection(U,T.browserEvent)}}dispose(){this.disposables.dispose()}}e.MouseController=F;class E{constructor(T,x){this.styleElement=T,this.selectorSuffix=x}style(T){const x=this.selectorSuffix&&`.${this.selectorSuffix}`,z=[];T.listBackground&&(T.listBackground.isOpaque()?z.push(`.monaco-list${x} .monaco-list-rows { background: ${T.listBackground}; }`):S.isMacintosh||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),T.listFocusBackground&&(z.push(`.monaco-list${x}:focus .monaco-list-row.focused { background-color: ${T.listFocusBackground}; }`),z.push(`.monaco-list${x}:focus .monaco-list-row.focused:hover { background-color: ${T.listFocusBackground}; }`)),T.listFocusForeground&&z.push(`.monaco-list${x}:focus .monaco-list-row.focused { color: ${T.listFocusForeground}; }`),T.listActiveSelectionBackground&&(z.push(`.monaco-list${x}:focus .monaco-list-row.selected { background-color: ${T.listActiveSelectionBackground}; }`),z.push(`.monaco-list${x}:focus .monaco-list-row.selected:hover { background-color: ${T.listActiveSelectionBackground}; }`)),T.listActiveSelectionForeground&&z.push(`.monaco-list${x}:focus .monaco-list-row.selected { color: ${T.listActiveSelectionForeground}; }`),T.listFocusAndSelectionBackground&&z.push(`
				.monaco-drag-image,
				.monaco-list${x}:focus .monaco-list-row.selected.focused { background-color: ${T.listFocusAndSelectionBackground}; }
			`),T.listFocusAndSelectionForeground&&z.push(`
				.monaco-drag-image,
				.monaco-list${x}:focus .monaco-list-row.selected.focused { color: ${T.listFocusAndSelectionForeground}; }
			`),T.listInactiveFocusForeground&&(z.push(`.monaco-list${x} .monaco-list-row.focused { color:  ${T.listInactiveFocusForeground}; }`),z.push(`.monaco-list${x} .monaco-list-row.focused:hover { color:  ${T.listInactiveFocusForeground}; }`)),T.listInactiveFocusBackground&&(z.push(`.monaco-list${x} .monaco-list-row.focused { background-color:  ${T.listInactiveFocusBackground}; }`),z.push(`.monaco-list${x} .monaco-list-row.focused:hover { background-color:  ${T.listInactiveFocusBackground}; }`)),T.listInactiveSelectionBackground&&(z.push(`.monaco-list${x} .monaco-list-row.selected { background-color:  ${T.listInactiveSelectionBackground}; }`),z.push(`.monaco-list${x} .monaco-list-row.selected:hover { background-color:  ${T.listInactiveSelectionBackground}; }`)),T.listInactiveSelectionForeground&&z.push(`.monaco-list${x} .monaco-list-row.selected { color: ${T.listInactiveSelectionForeground}; }`),T.listHoverBackground&&z.push(`.monaco-list${x}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${T.listHoverBackground}; }`),T.listHoverForeground&&z.push(`.monaco-list${x} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${T.listHoverForeground}; }`),T.listSelectionOutline&&z.push(`.monaco-list${x} .monaco-list-row.selected { outline: 1px dotted ${T.listSelectionOutline}; outline-offset: -1px; }`),T.listFocusOutline&&z.push(`
				.monaco-drag-image,
				.monaco-list${x}:focus .monaco-list-row.focused { outline: 1px solid ${T.listFocusOutline}; outline-offset: -1px; }
			`),T.listInactiveFocusOutline&&z.push(`.monaco-list${x} .monaco-list-row.focused { outline: 1px dotted ${T.listInactiveFocusOutline}; outline-offset: -1px; }`),T.listHoverOutline&&z.push(`.monaco-list${x} .monaco-list-row:hover { outline: 1px dashed ${T.listHoverOutline}; outline-offset: -1px; }`),T.listDropBackground&&z.push(`
				.monaco-list${x}.drop-target,
				.monaco-list${x} .monaco-list-rows.drop-target,
				.monaco-list${x} .monaco-list-row.drop-target { background-color: ${T.listDropBackground} !important; color: inherit !important; }
			`),T.listFilterWidgetBackground&&z.push(`.monaco-list-type-filter { background-color: ${T.listFilterWidgetBackground} }`),T.listFilterWidgetOutline&&z.push(`.monaco-list-type-filter { border: 1px solid ${T.listFilterWidgetOutline}; }`),T.listFilterWidgetNoMatchesOutline&&z.push(`.monaco-list-type-filter.no-matches { border: 1px solid ${T.listFilterWidgetNoMatchesOutline}; }`),T.listMatchesShadow&&z.push(`.monaco-list-type-filter { box-shadow: 1px 1px 1px ${T.listMatchesShadow}; }`),T.tableColumnsBorder&&z.push(`
				.monaco-table:hover > .monaco-split-view2,
				.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${T.tableColumnsBorder};
			}`),this.styleElement.textContent=z.join(`
`)}}e.DefaultStyleController=E;const A={listFocusBackground:l.Color.fromHex("#7FB0D0"),listActiveSelectionBackground:l.Color.fromHex("#0E639C"),listActiveSelectionForeground:l.Color.fromHex("#FFFFFF"),listFocusAndSelectionBackground:l.Color.fromHex("#094771"),listFocusAndSelectionForeground:l.Color.fromHex("#FFFFFF"),listInactiveSelectionBackground:l.Color.fromHex("#3F3F46"),listHoverBackground:l.Color.fromHex("#2A2D2E"),listDropBackground:l.Color.fromHex("#383B3D"),treeIndentGuidesStroke:l.Color.fromHex("#a9a9a9"),tableColumnsBorder:l.Color.fromHex("#cccccc").transparent(.2)},B={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}}};function H(Z,T){const x=Z.indexOf(T);if(x===-1)return[];const z=[];let V=x-1;for(;V>=0&&Z[V]===T-(x-V);)z.push(Z[V--]);for(z.reverse(),V=x;V<Z.length&&Z[V]===T+(V-x);)z.push(Z[V++]);return z}function K(Z,T){const x=[];let z=0,V=0;for(;z<Z.length||V<T.length;)if(z>=Z.length)x.push(T[V++]);else if(V>=T.length)x.push(Z[z++]);else if(Z[z]===T[V]){x.push(Z[z]),z++,V++;continue}else Z[z]<T[V]?x.push(Z[z++]):x.push(T[V++]);return x}function q(Z,T){const x=[];let z=0,V=0;for(;z<Z.length||V<T.length;)if(z>=Z.length)x.push(T[V++]);else if(V>=T.length)x.push(Z[z++]);else if(Z[z]===T[V]){z++,V++;continue}else Z[z]<T[V]?x.push(Z[z++]):V++;return x}const Y=(Z,T)=>Z-T;class te{constructor(T,x){this._templateId=T,this.renderers=x}get templateId(){return this._templateId}renderTemplate(T){return this.renderers.map(x=>x.renderTemplate(T))}renderElement(T,x,z,V){let U=0;for(const Q of this.renderers)Q.renderElement(T,x,z[U++],V)}disposeElement(T,x,z,V){let U=0;for(const Q of this.renderers)Q.disposeElement&&Q.disposeElement(T,x,z[U],V),U+=1}disposeTemplate(T){let x=0;for(const z of this.renderers)z.disposeTemplate(T[x++])}}class ie{constructor(T){this.accessibilityProvider=T,this.templateId="a18n"}renderTemplate(T){return T}renderElement(T,x,z){const V=this.accessibilityProvider.getAriaLabel(T);V?z.setAttribute("aria-label",V):z.removeAttribute("aria-label");const U=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(T);typeof U=="number"?z.setAttribute("aria-level",`${U}`):z.removeAttribute("aria-level")}disposeTemplate(T){}}class ae{constructor(T,x){this.list=T,this.dnd=x}getDragElements(T){const x=this.list.getSelectedElements();return x.indexOf(T)>-1?x:[T]}getDragURI(T){return this.dnd.getDragURI(T)}getDragLabel(T,x){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(T,x)}onDragStart(T,x){this.dnd.onDragStart&&this.dnd.onDragStart(T,x)}onDragOver(T,x,z,V){return this.dnd.onDragOver(T,x,z,V)}onDragEnd(T){this.dnd.onDragEnd&&this.dnd.onDragEnd(T)}drop(T,x,z,V){this.dnd.drop(T,x,z,V)}}class le{constructor(T,x,z,V,U=B){var Q;this.user=T,this._options=U,this.focus=new g("focused"),this.anchor=new g("anchor"),this.eventBufferer=new i.EventBufferer,this._ariaLabel="",this.disposables=new v.DisposableStore,this._onDidDispose=new i.Emitter,this.onDidDispose=this._onDidDispose.event;const se=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(Q=this._options.accessibilityProvider)===null||Q===void 0?void 0:Q.getWidgetRole():"list";this.selection=new m(se!=="listbox"),(0,c.mixin)(U,A,!1);const oe=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=U.accessibilityProvider,this.accessibilityProvider&&(oe.push(new ie(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant&&this.accessibilityProvider.onDidChangeActiveDescendant(this.onDidChangeActiveDescendant,this,this.disposables)),V=V.map(j=>new te(j.templateId,[...oe,j]));const G=Object.assign(Object.assign({},U),{dnd:U.dnd&&new ae(this,U.dnd)});if(this.view=new a.ListView(x,z,V,G),this.view.domNode.setAttribute("role",se),U.styleController)this.styleController=U.styleController(this.view.domId);else{const j=(0,t.createStyleSheet)(this.view.domNode);this.styleController=new E(j,this.view.domId)}if(this.spliceable=new d.CombinedSpliceable([new f(this.focus,this.view,U.identityProvider),new f(this.selection,this.view,U.identityProvider),new f(this.anchor,this.view,U.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.onDidFocus=i.Event.map((0,p.domEvent)(this.view.domNode,"focus",!0),()=>null),this.onDidBlur=i.Event.map((0,p.domEvent)(this.view.domNode,"blur",!0),()=>null),this.disposables.add(new D(this,this.view)),typeof U.keyboardSupport!="boolean"||U.keyboardSupport){const j=new L(this,this.view,U);this.disposables.add(j)}if(U.keyboardNavigationLabelProvider){const j=U.keyboardNavigationDelegate||e.DefaultKeyboardNavigationDelegate;this.typeLabelController=new M(this,this.view,U.keyboardNavigationLabelProvider,j),this.disposables.add(this.typeLabelController)}this.mouseController=this.createMouseController(U),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),U.multipleSelectionSupport&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return i.Event.map(this.eventBufferer.wrapEvent(this.focus.onChange),T=>this.toListEvent(T))}get onDidChangeSelection(){return i.Event.map(this.eventBufferer.wrapEvent(this.selection.onChange),T=>this.toListEvent(T))}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let T=!1;const x=i.Event.chain((0,p.domEvent)(this.view.domNode,"keydown")).map(U=>new C.StandardKeyboardEvent(U)).filter(U=>T=U.keyCode===58||U.shiftKey&&U.keyCode===68).map(p.stopEvent).filter(()=>!1).event,z=i.Event.chain((0,p.domEvent)(this.view.domNode,"keyup")).forEach(()=>T=!1).map(U=>new C.StandardKeyboardEvent(U)).filter(U=>U.keyCode===58||U.shiftKey&&U.keyCode===68).map(p.stopEvent).map(({browserEvent:U})=>{const Q=this.getFocus(),se=Q.length?Q[0]:void 0,oe=typeof se!="undefined"?this.view.element(se):void 0,G=typeof se!="undefined"?this.view.domElement(se):this.view.domNode;return{index:se,element:oe,anchor:G,browserEvent:U}}).event,V=i.Event.chain(this.view.onContextMenu).filter(U=>!T).map(({element:U,index:Q,browserEvent:se})=>({element:U,index:Q,anchor:{x:se.clientX+1,y:se.clientY},browserEvent:se})).event;return i.Event.any(x,z,V)}get onKeyDown(){return(0,p.domEvent)(this.view.domNode,"keydown")}createMouseController(T){return new F(this)}updateOptions(T={}){this._options=Object.assign(Object.assign({},this._options),T),this.typeLabelController&&this.typeLabelController.updateOptions(this._options),this.view.updateOptions(T)}get options(){return this._options}splice(T,x,z=[]){if(T<0||T>this.view.length)throw new u.ListError(this.user,`Invalid start index: ${T}`);if(x<0)throw new u.ListError(this.user,`Invalid delete count: ${x}`);x===0&&z.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(T,x,z))}rerender(){this.view.rerender()}element(T){return this.view.element(T)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(T){this.view.setScrollTop(T)}get ariaLabel(){return this._ariaLabel}set ariaLabel(T){this._ariaLabel=T,this.view.domNode.setAttribute("aria-label",T)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(T,x){this.view.layout(T,x)}setSelection(T,x){for(const z of T)if(z<0||z>=this.length)throw new u.ListError(this.user,`Invalid index ${z}`);this.selection.set(T,x)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(T=>this.view.element(T))}setAnchor(T){if(typeof T=="undefined"){this.anchor.set([]);return}if(T<0||T>=this.length)throw new u.ListError(this.user,`Invalid index ${T}`);this.anchor.set([T])}getAnchor(){return(0,k.firstOrDefault)(this.anchor.get(),void 0)}setFocus(T,x){for(const z of T)if(z<0||z>=this.length)throw new u.ListError(this.user,`Invalid index ${z}`);this.focus.set(T,x)}focusNext(T=1,x=!1,z,V){if(this.length!==0){const U=this.focus.get(),Q=this.findNextIndex(U.length>0?U[0]+T:0,x,V);Q>-1&&this.setFocus([Q],z)}}focusPrevious(T=1,x=!1,z,V){if(this.length!==0){const U=this.focus.get(),Q=this.findPreviousIndex(U.length>0?U[0]-T:0,x,V);Q>-1&&this.setFocus([Q],z)}}focusNextPage(T,x){return Ie(this,void 0,void 0,function*(){let z=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);z=z===0?0:z-1;const V=this.view.element(z),U=this.getFocusedElements()[0];if(U!==V){const Q=this.findPreviousIndex(z,!1,x);Q>-1&&U!==this.view.element(Q)?this.setFocus([Q],T):this.setFocus([z],T)}else{const Q=this.view.getScrollTop();this.view.setScrollTop(Q+this.view.renderHeight-this.view.elementHeight(z)),this.view.getScrollTop()!==Q&&(this.setFocus([]),yield(0,o.timeout)(0),yield this.focusNextPage(T,x))}})}focusPreviousPage(T,x){return Ie(this,void 0,void 0,function*(){let z;const V=this.view.getScrollTop();V===0?z=this.view.indexAt(V):z=this.view.indexAfter(V-1);const U=this.view.element(z),Q=this.getFocusedElements()[0];if(Q!==U){const se=this.findNextIndex(z,!1,x);se>-1&&Q!==this.view.element(se)?this.setFocus([se],T):this.setFocus([z],T)}else{const se=V;this.view.setScrollTop(V-this.view.renderHeight),this.view.getScrollTop()!==se&&(this.setFocus([]),yield(0,o.timeout)(0),yield this.focusPreviousPage(T,x))}})}focusLast(T,x){if(this.length!==0){const z=this.findPreviousIndex(this.length-1,!1,x);z>-1&&this.setFocus([z],T)}}focusFirst(T,x){this.focusNth(0,T,x)}focusNth(T,x,z){if(this.length!==0){const V=this.findNextIndex(T,!1,z);V>-1&&this.setFocus([V],x)}}findNextIndex(T,x=!1,z){for(let V=0;V<this.length;V++){if(T>=this.length&&!x)return-1;if(T=T%this.length,!z||z(this.element(T)))return T;T++}return-1}findPreviousIndex(T,x=!1,z){for(let V=0;V<this.length;V++){if(T<0&&!x)return-1;if(T=(this.length+T%this.length)%this.length,!z||z(this.element(T)))return T;T--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(T=>this.view.element(T))}reveal(T,x){if(T<0||T>=this.length)throw new u.ListError(this.user,`Invalid index ${T}`);const z=this.view.getScrollTop(),V=this.view.elementTop(T),U=this.view.elementHeight(T);if((0,I.isNumber)(x)){const Q=U-this.view.renderHeight;this.view.setScrollTop(Q*(0,r.clamp)(x,0,1)+V)}else{const Q=V+U,se=z+this.view.renderHeight;V<z&&Q>=se||(V<z||Q>=se&&U>=this.view.renderHeight?this.view.setScrollTop(V):Q>=se&&this.view.setScrollTop(Q-this.view.renderHeight))}}getRelativeTop(T){if(T<0||T>=this.length)throw new u.ListError(this.user,`Invalid index ${T}`);const x=this.view.getScrollTop(),z=this.view.elementTop(T),V=this.view.elementHeight(T);if(z<x||z+V>x+this.view.renderHeight)return null;const U=V-this.view.renderHeight;return Math.abs((x-z)/U)}getHTMLElement(){return this.view.domNode}style(T){this.styleController.style(T)}toListEvent({indexes:T,browserEvent:x}){return{indexes:T,elements:T.map(z=>this.view.element(z)),browserEvent:x}}_onFocusChange(){const T=this.focus.get();this.view.domNode.classList.toggle("element-focused",T.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var T;const x=this.focus.get();if(x.length>0){let z;((T=this.accessibilityProvider)===null||T===void 0?void 0:T.getActiveDescendantId)&&(z=this.accessibilityProvider.getActiveDescendantId(this.view.element(x[0]))),this.view.domNode.setAttribute("aria-activedescendant",z||this.view.getElementDomId(x[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const T=this.selection.get();this.view.domNode.classList.toggle("selection-none",T.length===0),this.view.domNode.classList.toggle("selection-single",T.length===1),this.view.domNode.classList.toggle("selection-multiple",T.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}Me([w.memoize],le.prototype,"onDidChangeFocus",null),Me([w.memoize],le.prototype,"onDidChangeSelection",null),Me([w.memoize],le.prototype,"onContextMenu",null),e.List=le}),define(J[313],ee([0,1,2,19,105,6,23,209]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedList=void 0;class _{constructor(a,l){this.renderer=a,this.modelProvider=l}get templateId(){return this.renderer.templateId}renderTemplate(a){return{data:this.renderer.renderTemplate(a),disposable:v.Disposable.None}}renderElement(a,l,c,d){if(c.disposable&&c.disposable.dispose(),!!c.data){const r=this.modelProvider();if(r.isResolved(a))return this.renderer.renderElement(r.get(a),a,c.data,d);const n=new S.CancellationTokenSource,s=r.resolve(a,n.token);c.disposable={dispose:()=>n.cancel()},this.renderer.renderPlaceholder(a,c.data),s.then(t=>this.renderer.renderElement(t,a,c.data,d))}}disposeTemplate(a){a.disposable&&(a.disposable.dispose(),a.disposable=void 0),a.data&&(this.renderer.disposeTemplate(a.data),a.data=void 0)}}class C{constructor(a,l){this.modelProvider=a,this.accessibilityProvider=l}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(a){const l=this.modelProvider();return l.isResolved(a)?this.accessibilityProvider.getAriaLabel(l.get(a)):null}}function i(u,a){return Object.assign(Object.assign({},a),{accessibilityProvider:a.accessibilityProvider&&new C(u,a.accessibilityProvider)})}class p{constructor(a,l,c,d,r={}){const n=()=>this.model,s=d.map(t=>new _(t,n));this.list=new k.List(a,l,c,s,i(n,r))}updateOptions(a){this.list.updateOptions(a)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return w.Event.map(this.list.onMouseDblClick,({element:a,index:l,browserEvent:c})=>({element:a===void 0?void 0:this._model.get(a),index:l,browserEvent:c}))}get onPointer(){return w.Event.map(this.list.onPointer,({element:a,index:l,browserEvent:c})=>({element:a===void 0?void 0:this._model.get(a),index:l,browserEvent:c}))}get onDidChangeSelection(){return w.Event.map(this.list.onDidChangeSelection,({elements:a,indexes:l,browserEvent:c})=>({elements:a.map(d=>this._model.get(d)),indexes:l,browserEvent:c}))}get model(){return this._model}set model(a){this._model=a,this.list.splice(0,this.list.length,(0,I.range)(a.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(a=>this.model.get(a))}style(a){this.list.style(a)}dispose(){this.list.dispose()}}e.PagedList=p}),define(J[314],ee([10]),{}),define(J[211],ee([0,1,2,6,20,100,19,104,29,55,7,61,122,314]),function($,e,v,I,k,w,S,_,C,i,p,u,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SplitView=e.Sizing=void 0;const l={separatorBorder:C.Color.transparent};class c{constructor(h,g,m,f){this.container=h,this.view=g,this.disposable=f,this._cachedVisibleSize=void 0,typeof m=="number"?(this._size=m,this._cachedVisibleSize=void 0,h.classList.add("visible")):(this._size=0,this._cachedVisibleSize=m.cachedVisibleSize)}set size(h){this._size=h}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize=="undefined"}setVisible(h,g){h!==this.visible&&(h?(this.size=(0,w.clamp)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof g=="number"?g:this.size,this.size=0),this.container.classList.toggle("visible",h),this.view.setVisible&&this.view.setVisible(h))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(h){this.container.style.pointerEvents=h?"":"none"}layout(h,g){this.layoutContainer(h),this.view.layout(this.size,h,g)}dispose(){return this.disposable.dispose(),this.view}}class d extends c{layoutContainer(h){this.container.style.top=`${h}px`,this.container.style.height=`${this.size}px`}}class r extends c{layoutContainer(h){this.container.style.left=`${h}px`,this.container.style.width=`${this.size}px`}}var n;(function(o){o[o.Idle=0]="Idle",o[o.Busy=1]="Busy"})(n||(n={}));var s;(function(o){o.Distribute={type:"distribute"};function h(m){return{type:"split",index:m}}o.Split=h;function g(m){return{type:"invisible",cachedVisibleSize:m}}o.Invisible=g})(s=e.Sizing||(e.Sizing={}));class t extends v.Disposable{constructor(h,g={}){var m,f;super();this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=n.Idle,this._onDidSashChange=this._register(new I.Emitter),this.onDidSashChange=this._onDidSashChange.event,this._onDidSashReset=this._register(new I.Emitter),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.orientation=k.isUndefined(g.orientation)?0:g.orientation,this.inverseAltBehavior=!!g.inverseAltBehavior,this.proportionalLayout=k.isUndefined(g.proportionalLayout)?!0:!!g.proportionalLayout,this.getSashOrthogonalSize=g.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),h.appendChild(this.el),this.sashContainer=(0,p.append)(this.el,(0,p.$)(".sash-container")),this.viewContainer=(0,p.$)(".split-view-container"),this.scrollable=new a.Scrollable(125,p.scheduleAtNextAnimationFrame),this.scrollableElement=this._register(new u.SmoothScrollableElement(this.viewContainer,{vertical:this.orientation===0?(m=g.scrollbarVisibility)!==null&&m!==void 0?m:1:2,horizontal:this.orientation===1?(f=g.scrollbarVisibility)!==null&&f!==void 0?f:1:2},this.scrollable)),this._register(this.scrollableElement.onScroll(b=>{this.viewContainer.scrollTop=b.scrollTop,this.viewContainer.scrollLeft=b.scrollLeft})),(0,p.append)(this.el,this.scrollableElement.getDomNode()),this.style(g.styles||l),g.descriptor&&(this.size=g.descriptor.size,g.descriptor.views.forEach((b,y)=>{const L=k.isUndefined(b.visible)||b.visible?b.size:{type:"invisible",cachedVisibleSize:b.size},N=b.view;this.doAddView(N,L,y,!0)}),this.contentSize=this.viewItems.reduce((b,y)=>b+y.size,0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}set orthogonalStartSash(h){for(const g of this.sashItems)g.sash.orthogonalStartSash=h;this._orthogonalStartSash=h}get orthogonalEndSash(){return this._orthogonalEndSash}set orthogonalEndSash(h){for(const g of this.sashItems)g.sash.orthogonalEndSash=h;this._orthogonalEndSash=h}get startSnappingEnabled(){return this._startSnappingEnabled}set startSnappingEnabled(h){this._startSnappingEnabled!==h&&(this._startSnappingEnabled=h,this.updateSashEnablement())}get endSnappingEnabled(){return this._endSnappingEnabled}set endSnappingEnabled(h){this._endSnappingEnabled!==h&&(this._endSnappingEnabled=h,this.updateSashEnablement())}style(h){h.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",h.separatorBorder.toString()))}addView(h,g,m=this.viewItems.length,f){this.doAddView(h,g,m,f)}layout(h,g){const m=Math.max(this.size,this.contentSize);if(this.size=h,this.layoutContext=g,this.proportions)for(let f=0;f<this.viewItems.length;f++){const b=this.viewItems[f];b.size=(0,w.clamp)(Math.round(this.proportions[f]*h),b.minimumSize,b.maximumSize)}else{const f=(0,S.range)(this.viewItems.length),b=f.filter(L=>this.viewItems[L].priority===1),y=f.filter(L=>this.viewItems[L].priority===2);this.resize(this.viewItems.length-1,h-m,void 0,b,y)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(h=>h.size/this.contentSize))}onSashStart({sash:h,start:g,alt:m}){for(const L of this.viewItems)L.enabled=!1;const f=this.sashItems.findIndex(L=>L.sash===h),b=(0,v.combinedDisposable)((0,i.domEvent)(document.body,"keydown")(L=>y(this.sashDragState.current,L.altKey)),(0,i.domEvent)(document.body,"keyup")(()=>y(this.sashDragState.current,!1))),y=(L,N)=>{const M=this.viewItems.map(W=>W.size);let D=Number.NEGATIVE_INFINITY,R=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(N=!N),N)if(f===this.sashItems.length-1){const F=this.viewItems[f];D=(F.minimumSize-F.size)/2,R=(F.maximumSize-F.size)/2}else{const F=this.viewItems[f+1];D=(F.size-F.maximumSize)/2,R=(F.size-F.minimumSize)/2}let P,O;if(!N){const W=(0,S.range)(f,-1),F=(0,S.range)(f+1,this.viewItems.length),E=W.reduce((ie,ae)=>ie+(this.viewItems[ae].minimumSize-M[ae]),0),A=W.reduce((ie,ae)=>ie+(this.viewItems[ae].viewMaximumSize-M[ae]),0),B=F.length===0?Number.POSITIVE_INFINITY:F.reduce((ie,ae)=>ie+(M[ae]-this.viewItems[ae].minimumSize),0),H=F.length===0?Number.NEGATIVE_INFINITY:F.reduce((ie,ae)=>ie+(M[ae]-this.viewItems[ae].viewMaximumSize),0),K=Math.max(E,H),q=Math.min(B,A),Y=this.findFirstSnapIndex(W),te=this.findFirstSnapIndex(F);if(typeof Y=="number"){const ie=this.viewItems[Y],ae=Math.floor(ie.viewMinimumSize/2);P={index:Y,limitDelta:ie.visible?K-ae:K+ae,size:ie.size}}if(typeof te=="number"){const ie=this.viewItems[te],ae=Math.floor(ie.viewMinimumSize/2);O={index:te,limitDelta:ie.visible?q+ae:q-ae,size:ie.size}}}this.sashDragState={start:L,current:L,index:f,sizes:M,minDelta:D,maxDelta:R,alt:N,snapBefore:P,snapAfter:O,disposable:b}};y(g,m)}onSashChange({current:h}){const{index:g,start:m,sizes:f,alt:b,minDelta:y,maxDelta:L,snapBefore:N,snapAfter:M}=this.sashDragState;this.sashDragState.current=h;const D=h-m,R=this.resize(g,D,f,void 0,void 0,y,L,N,M);if(b){const P=g===this.sashItems.length-1,O=this.viewItems.map(H=>H.size),W=P?g:g+1,F=this.viewItems[W],E=F.size-F.maximumSize,A=F.size-F.minimumSize,B=P?g-1:g+1;this.resize(B,-R,O,void 0,void 0,E,A)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(h){this._onDidSashChange.fire(h),this.sashDragState.disposable.dispose(),this.saveProportions();for(const g of this.viewItems)g.enabled=!0}onViewChange(h,g){const m=this.viewItems.indexOf(h);m<0||m>=this.viewItems.length||(g=typeof g=="number"?g:h.size,g=(0,w.clamp)(g,h.minimumSize,h.maximumSize),this.inverseAltBehavior&&m>0?(this.resize(m-1,Math.floor((h.size-g)/2)),this.distributeEmptySpace(),this.layoutViews()):(h.size=g,this.relayout([m],void 0)))}resizeView(h,g){if(this.state!==n.Idle)throw new Error("Cant modify splitview");if(this.state=n.Busy,!(h<0||h>=this.viewItems.length)){const m=(0,S.range)(this.viewItems.length).filter(L=>L!==h),f=[...m.filter(L=>this.viewItems[L].priority===1),h],b=m.filter(L=>this.viewItems[L].priority===2),y=this.viewItems[h];g=Math.round(g),g=(0,w.clamp)(g,y.minimumSize,Math.min(y.maximumSize,this.size)),y.size=g,this.relayout(f,b),this.state=n.Idle}}distributeViewSizes(){const h=[];let g=0;for(const L of this.viewItems)L.maximumSize-L.minimumSize>0&&(h.push(L),g+=L.size);const m=Math.floor(g/h.length);for(const L of h)L.size=(0,w.clamp)(m,L.minimumSize,L.maximumSize);const f=(0,S.range)(this.viewItems.length),b=f.filter(L=>this.viewItems[L].priority===1),y=f.filter(L=>this.viewItems[L].priority===2);this.relayout(b,y)}getViewSize(h){return h<0||h>=this.viewItems.length?-1:this.viewItems[h].size}doAddView(h,g,m=this.viewItems.length,f){if(this.state!==n.Idle)throw new Error("Cant modify splitview");this.state=n.Busy;const b=(0,p.$)(".split-view-view");m===this.viewItems.length?this.viewContainer.appendChild(b):this.viewContainer.insertBefore(b,this.viewContainer.children.item(m));const y=h.onDidChange(P=>this.onViewChange(D,P)),L=(0,v.toDisposable)(()=>this.viewContainer.removeChild(b)),N=(0,v.combinedDisposable)(y,L);let M;typeof g=="number"?M=g:g.type==="split"?M=this.getViewSize(g.index)/2:g.type==="invisible"?M={cachedVisibleSize:g.cachedVisibleSize}:M=h.minimumSize;const D=this.orientation===0?new d(b,h,M,N):new r(b,h,M,N);if(this.viewItems.splice(m,0,D),this.viewItems.length>1){let P={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash};const O=this.orientation===0?new _.Sash(this.sashContainer,{getHorizontalSashTop:ie=>this.getSashPosition(ie),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},P),{orientation:1})):new _.Sash(this.sashContainer,{getVerticalSashLeft:ie=>this.getSashPosition(ie),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},P),{orientation:0})),W=this.orientation===0?ie=>({sash:O,start:ie.startY,current:ie.currentY,alt:ie.altKey}):ie=>({sash:O,start:ie.startX,current:ie.currentX,alt:ie.altKey}),E=I.Event.map(O.onDidStart,W)(this.onSashStart,this),B=I.Event.map(O.onDidChange,W)(this.onSashChange,this),K=I.Event.map(O.onDidEnd,()=>this.sashItems.findIndex(ie=>ie.sash===O))(this.onSashEnd,this),q=O.onDidReset(()=>{const ie=this.sashItems.findIndex(x=>x.sash===O),ae=(0,S.range)(ie,-1),le=(0,S.range)(ie+1,this.viewItems.length),Z=this.findFirstSnapIndex(ae),T=this.findFirstSnapIndex(le);typeof Z=="number"&&!this.viewItems[Z].visible||typeof T=="number"&&!this.viewItems[T].visible||this._onDidSashReset.fire(ie)}),Y=(0,v.combinedDisposable)(E,B,K,q,O),te={sash:O,disposable:Y};this.sashItems.splice(m-1,0,te)}b.appendChild(h.element);let R;typeof g!="number"&&g.type==="split"&&(R=[g.index]),f||this.relayout([m],R),this.state=n.Idle,!f&&typeof g!="number"&&g.type==="distribute"&&this.distributeViewSizes()}relayout(h,g){const m=this.viewItems.reduce((f,b)=>f+b.size,0);this.resize(this.viewItems.length-1,this.size-m,void 0,h,g),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(h,g,m=this.viewItems.map(D=>D.size),f,b,y=Number.NEGATIVE_INFINITY,L=Number.POSITIVE_INFINITY,N,M){if(h<0||h>=this.viewItems.length)return 0;const D=(0,S.range)(h,-1),R=(0,S.range)(h+1,this.viewItems.length);if(b)for(const te of b)(0,S.pushToStart)(D,te),(0,S.pushToStart)(R,te);if(f)for(const te of f)(0,S.pushToEnd)(D,te),(0,S.pushToEnd)(R,te);const P=D.map(te=>this.viewItems[te]),O=D.map(te=>m[te]),W=R.map(te=>this.viewItems[te]),F=R.map(te=>m[te]),E=D.reduce((te,ie)=>te+(this.viewItems[ie].minimumSize-m[ie]),0),A=D.reduce((te,ie)=>te+(this.viewItems[ie].maximumSize-m[ie]),0),B=R.length===0?Number.POSITIVE_INFINITY:R.reduce((te,ie)=>te+(m[ie]-this.viewItems[ie].minimumSize),0),H=R.length===0?Number.NEGATIVE_INFINITY:R.reduce((te,ie)=>te+(m[ie]-this.viewItems[ie].maximumSize),0),K=Math.max(E,H,y),q=Math.min(B,A,L);let Y=!1;if(N){const te=this.viewItems[N.index],ie=g>=N.limitDelta;Y=ie!==te.visible,te.setVisible(ie,N.size)}if(!Y&&M){const te=this.viewItems[M.index],ie=g<M.limitDelta;Y=ie!==te.visible,te.setVisible(ie,M.size)}if(Y)return this.resize(h,g,m,f,b,y,L);g=(0,w.clamp)(g,K,q);for(let te=0,ie=g;te<P.length;te++){const ae=P[te],le=(0,w.clamp)(O[te]+ie,ae.minimumSize,ae.maximumSize);ie-=le-O[te],ae.size=le}for(let te=0,ie=g;te<W.length;te++){const ae=W[te],le=(0,w.clamp)(F[te]-ie,ae.minimumSize,ae.maximumSize);ie+=le-F[te],ae.size=le}return g}distributeEmptySpace(h){const g=this.viewItems.reduce((L,N)=>L+N.size,0);let m=this.size-g;const f=(0,S.range)(this.viewItems.length-1,-1),b=f.filter(L=>this.viewItems[L].priority===1),y=f.filter(L=>this.viewItems[L].priority===2);for(const L of y)(0,S.pushToStart)(f,L);for(const L of b)(0,S.pushToEnd)(f,L);typeof h=="number"&&(0,S.pushToEnd)(f,h);for(let L=0;m!==0&&L<f.length;L++){const N=this.viewItems[f[L]],M=(0,w.clamp)(N.size+m,N.minimumSize,N.maximumSize);m-=M-N.size,N.size=M}}layoutViews(){this.contentSize=this.viewItems.reduce((g,m)=>g+m.size,0);let h=0;for(const g of this.viewItems)g.layout(h,this.layoutContext),h+=g.size;this.sashItems.forEach(g=>g.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let h=!1;const g=this.viewItems.map(N=>h=N.size-N.minimumSize>0||h);h=!1;const m=this.viewItems.map(N=>h=N.maximumSize-N.size>0||h),f=[...this.viewItems].reverse();h=!1;const b=f.map(N=>h=N.size-N.minimumSize>0||h).reverse();h=!1;const y=f.map(N=>h=N.maximumSize-N.size>0||h).reverse();let L=0;for(let N=0;N<this.sashItems.length;N++){const{sash:M}=this.sashItems[N];L+=this.viewItems[N].size;const R=!(g[N]&&y[N+1]),P=!(m[N]&&b[N+1]);if(R&&P){const O=(0,S.range)(N,-1),W=(0,S.range)(N+1,this.viewItems.length),F=this.findFirstSnapIndex(O),E=this.findFirstSnapIndex(W),A=typeof F=="number"&&!this.viewItems[F].visible,B=typeof E=="number"&&!this.viewItems[E].visible;A&&b[N]&&(L>0||this.startSnappingEnabled)?M.state=1:B&&g[N]&&(L<this.contentSize||this.endSnappingEnabled)?M.state=2:M.state=0}else R&&!P?M.state=1:!R&&P?M.state=2:M.state=3}}getSashPosition(h){let g=0;for(let m=0;m<this.sashItems.length;m++)if(g+=this.viewItems[m].size,this.sashItems[m].sash===h)return g;return 0}findFirstSnapIndex(h){for(const g of h){const m=this.viewItems[g];if(!!m.visible&&m.snap)return g}for(const g of h){const m=this.viewItems[g];if(m.visible&&m.maximumSize-m.minimumSize>0)return;if(!m.visible&&m.snap)return g}}dispose(){super.dispose(),this.viewItems.forEach(h=>h.dispose()),this.viewItems=[],this.sashItems.forEach(h=>h.disposable.dispose()),this.sashItems=[]}}e.SplitView=t}),define(J[315],ee([10]),{}),define(J[316],ee([0,1,105,7,211,6,315]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Table=void 0;class S{constructor(u,a,l){this.columns=u,this.getColumnSize=l,this.templateId=S.TemplateId,this.renderedTemplates=new Set;const c=new Map(a.map(d=>[d.templateId,d]));this.renderers=[];for(const d of u){const r=c.get(d.templateId);if(!r)throw new Error(`Table cell renderer for template id ${d.templateId} not found.`);this.renderers.push(r)}}renderTemplate(u){const a=(0,I.append)(u,(0,I.$)(".monaco-table-tr")),l=[],c=[];for(let r=0;r<this.columns.length;r++){const n=this.renderers[r],s=(0,I.append)(a,(0,I.$)(".monaco-table-td",{"data-col-index":r}));s.style.width=`${this.getColumnSize(r)}px`,l.push(s),c.push(n.renderTemplate(s))}const d={container:u,cellContainers:l,cellTemplateData:c};return this.renderedTemplates.add(d),d}renderElement(u,a,l,c){for(let d=0;d<this.columns.length;d++){const n=this.columns[d].project(u);this.renderers[d].renderElement(n,a,l.cellTemplateData[d],c)}}disposeElement(u,a,l,c){for(let d=0;d<this.columns.length;d++){const r=this.renderers[d];if(r.disposeElement){const s=this.columns[d].project(u);r.disposeElement(s,a,l.cellTemplateData[d],c)}}}disposeTemplate(u){for(let a=0;a<this.columns.length;a++)this.renderers[a].disposeTemplate(u.cellTemplateData[a]);(0,I.clearNode)(u.container),this.renderedTemplates.delete(u)}layoutColumn(u,a){for(const{cellContainers:l}of this.renderedTemplates)l[u].style.width=`${a}px`}}S.TemplateId="row";function _(p){return{getHeight(u){return p.getHeight(u)},getTemplateId(){return S.TemplateId}}}class C{constructor(u,a){this.column=u,this.index=a,this._onDidLayout=new w.Emitter,this.onDidLayout=this._onDidLayout.event,this.element=(0,I.$)(".monaco-table-th",{"data-col-index":a,title:u.tooltip},u.label)}get minimumSize(){var u;return(u=this.column.minimumWidth)!==null&&u!==void 0?u:120}get maximumSize(){var u;return(u=this.column.maximumWidth)!==null&&u!==void 0?u:Number.POSITIVE_INFINITY}get onDidChange(){var u;return(u=this.column.onDidChangeWidthConstraints)!==null&&u!==void 0?u:w.Event.None}layout(u){this._onDidLayout.fire([this.index,u])}}class i{constructor(u,a,l,c,d,r){this.virtualDelegate=l,this.domId=`table_id_${++i.InstanceCount}`,this.cachedHeight=0,this.domNode=(0,I.append)(a,(0,I.$)(`.monaco-table.${this.domId}`));const n=c.map((o,h)=>new C(o,h)),s={size:n.reduce((o,h)=>o+h.column.weight,0),views:n.map(o=>({size:o.column.weight,view:o}))};this.splitview=new k.SplitView(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:s}),this.splitview.el.style.height=`${l.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${l.headerRowHeight}px`;const t=new S(c,d,o=>this.splitview.getViewSize(o));this.list=new v.List(u,this.domNode,_(l),[t],r),this.columnLayoutDisposable=w.Event.any(...n.map(o=>o.onDidLayout))(([o,h])=>t.layoutColumn(o,h)),this.styleElement=(0,I.createStyleSheet)(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(u){this.list.updateOptions(u)}splice(u,a,l=[]){this.list.splice(u,a,l)}getHTMLElement(){return this.domNode}style(u){const a=[];a.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=a.join(`
`),this.list.style(u)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.splitview.dispose(),this.list.dispose(),this.columnLayoutDisposable.dispose()}}e.Table=i,i.InstanceCount=0}),define(J[317],ee([10]),{}),define(J[126],ee([10]),{}),define(J[212],ee([0,1,7,120,126]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIconClass=void 0;const k={},w=new I.IdGenerator("quick-input-button-icon-");function S(_){if(!!_){let C;const i=_.dark.toString();return k[i]?C=k[i]:(C=w.nextId(),v.createCSSRule(`.${C}`,`background-image: ${v.asCSSUrl(_.light||_.dark)}`),v.createCSSRule(`.vs-dark .${C}, .hc-black .${C}`,`background-image: ${v.asCSSUrl(_.dark)}`),k[i]=C),C}}e.getIconClass=S}),define(J[318],ee([10]),{}),define(J[319],ee([10]),{}),define(J[320],ee([10]),{}),define(J[321],ee([10]),{}),define(J[322],ee([10]),{}),define(J[323],ee([10]),{}),define(J[324],ee([10]),{}),define(J[325],ee([10]),{}),define(J[326],ee([10]),{}),define(J[327],ee([10]),{}),define(J[328],ee([10]),{}),define(J[329],ee([10]),{}),define(J[330],ee([10]),{}),define(J[331],ee([10]),{}),define(J[332],ee([10]),{}),define(J[333],ee([10]),{}),define(J[334],ee([10]),{}),define(J[335],ee([10]),{}),define(J[336],ee([10]),{}),define(J[337],ee([10]),{}),define(J[338],ee([10]),{}),define(J[339],ee([10]),{}),define(J[340],ee([10]),{}),define(J[341],ee([10]),{}),define(J[342],ee([10]),{}),define(J[343],ee([10]),{}),define(J[344],ee([10]),{}),define(J[345],ee([10]),{}),define(J[346],ee([10]),{}),define(J[347],ee([10]),{}),define(J[348],ee([10]),{}),define(J[349],ee([10]),{}),define(J[350],ee([10]),{}),define(J[351],ee([10]),{}),define(J[352],ee([10]),{}),define(J[353],ee([10]),{}),define(J[354],ee([10]),{}),define(J[355],ee([10]),{}),define(J[356],ee([10]),{}),define(J[357],ee([10]),{}),define(J[358],ee([10]),{}),define(J[359],ee([10]),{}),define(J[360],ee([10]),{}),define(J[361],ee([10]),{}),define(J[362],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readCharWidths=e.CharWidthRequest=void 0;class v{constructor(S,_){this.chr=S,this.type=_,this.width=0}fulfill(S){this.width=S}}e.CharWidthRequest=v;class I{constructor(S,_){this._bareFontInfo=S,this._requests=_,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const S=document.createElement("div");S.style.position="absolute",S.style.top="-50000px",S.style.width="50000px";const _=document.createElement("div");_.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),_.style.fontWeight=this._bareFontInfo.fontWeight,_.style.fontSize=this._bareFontInfo.fontSize+"px",_.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,_.style.lineHeight=this._bareFontInfo.lineHeight+"px",_.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",S.appendChild(_);const C=document.createElement("div");C.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),C.style.fontWeight="bold",C.style.fontSize=this._bareFontInfo.fontSize+"px",C.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,C.style.lineHeight=this._bareFontInfo.lineHeight+"px",C.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",S.appendChild(C);const i=document.createElement("div");i.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),i.style.fontWeight=this._bareFontInfo.fontWeight,i.style.fontSize=this._bareFontInfo.fontSize+"px",i.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,i.style.lineHeight=this._bareFontInfo.lineHeight+"px",i.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",i.style.fontStyle="italic",S.appendChild(i);const p=[];for(const u of this._requests){let a;u.type===0&&(a=_),u.type===2&&(a=C),u.type===1&&(a=i),a.appendChild(document.createElement("br"));const l=document.createElement("span");I._render(l,u),a.appendChild(l),p.push(l)}this._container=S,this._testElements=p}static _render(S,_){if(_.chr===" "){let C="\xA0";for(let i=0;i<8;i++)C+=C;S.innerText=C}else{let C=_.chr;for(let i=0;i<8;i++)C+=C;S.textContent=C}}_readFromDomElements(){for(let S=0,_=this._requests.length;S<_;S++){const C=this._requests[S],i=this._testElements[S];C.fulfill(i.offsetWidth/256)}}}function k(w,S){new I(w,S).read()}e.readCharWidths=k}),define(J[213],ee([0,1,2]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ElementSizeObserver=void 0;class I extends v.Disposable{constructor(w,S,_){super();this.referenceDomElement=w,this.changeCallback=_,this.width=-1,this.height=-1,this.resizeObserver=null,this.measureReferenceDomElementToken=-1,this.measureReferenceDomElement(!1,S)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this.width}getHeight(){return this.height}startObserving(){typeof ResizeObserver!="undefined"?!this.resizeObserver&&this.referenceDomElement&&(this.resizeObserver=new ResizeObserver(w=>{w&&w[0]&&w[0].contentRect?this.observe({width:w[0].contentRect.width,height:w[0].contentRect.height}):this.observe()}),this.resizeObserver.observe(this.referenceDomElement)):this.measureReferenceDomElementToken===-1&&(this.measureReferenceDomElementToken=setInterval(()=>this.observe(),100))}stopObserving(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.measureReferenceDomElementToken!==-1&&(clearInterval(this.measureReferenceDomElementToken),this.measureReferenceDomElementToken=-1)}observe(w){this.measureReferenceDomElement(!0,w)}measureReferenceDomElement(w,S){let _=0,C=0;S?(_=S.width,C=S.height):this.referenceDomElement&&(_=this.referenceDomElement.clientWidth,C=this.referenceDomElement.clientHeight),_=Math.max(5,_),C=Math.max(5,C),(this.width!==_||this.height!==C)&&(this.width=_,this.height=C,w&&this.changeCallback())}}e.ElementSizeObserver=I}),define(J[162],ee([0,1,7,90,50,2]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalEditorMouseMoveMonitor=e.EditorPointerEventFactory=e.EditorMouseEventFactory=e.EditorMouseEvent=e.createEditorPagePosition=e.EditorPagePosition=e.ClientCoordinates=e.PageCoordinates=void 0;class S{constructor(d,r){this.x=d,this.y=r}toClientCoordinates(){return new _(this.x-v.StandardWindow.scrollX,this.y-v.StandardWindow.scrollY)}}e.PageCoordinates=S;class _{constructor(d,r){this.clientX=d,this.clientY=r}toPageCoordinates(){return new S(this.clientX+v.StandardWindow.scrollX,this.clientY+v.StandardWindow.scrollY)}}e.ClientCoordinates=_;class C{constructor(d,r,n,s){this.x=d,this.y=r,this.width=n,this.height=s}}e.EditorPagePosition=C;function i(c){const d=v.getDomNodePagePosition(c);return new C(d.left,d.top,d.width,d.height)}e.createEditorPagePosition=i;class p extends k.StandardMouseEvent{constructor(d,r){super(d);this.pos=new S(this.posx,this.posy),this.editorPos=i(r)}}e.EditorMouseEvent=p;class u{constructor(d){this._editorViewDomNode=d}_create(d){return new p(d,this._editorViewDomNode)}onContextMenu(d,r){return v.addDisposableListener(d,"contextmenu",n=>{r(this._create(n))})}onMouseUp(d,r){return v.addDisposableListener(d,"mouseup",n=>{r(this._create(n))})}onMouseDown(d,r){return v.addDisposableListener(d,"mousedown",n=>{r(this._create(n))})}onMouseLeave(d,r){return v.addDisposableNonBubblingMouseOutListener(d,n=>{r(this._create(n))})}onMouseMoveThrottled(d,r,n,s){const t=(o,h)=>n(o,this._create(h));return v.addDisposableThrottledListener(d,"mousemove",r,t,s)}}e.EditorMouseEventFactory=u;class a{constructor(d){this._editorViewDomNode=d}_create(d){return new p(d,this._editorViewDomNode)}onPointerUp(d,r){return v.addDisposableListener(d,"pointerup",n=>{r(this._create(n))})}onPointerDown(d,r){return v.addDisposableListener(d,"pointerdown",n=>{r(this._create(n))})}onPointerLeave(d,r){return v.addDisposableNonBubblingPointerOutListener(d,n=>{r(this._create(n))})}onPointerMoveThrottled(d,r,n,s){const t=(o,h)=>n(o,this._create(h));return v.addDisposableThrottledListener(d,"pointermove",r,t,s)}}e.EditorPointerEventFactory=a;class l extends w.Disposable{constructor(d){super();this._editorViewDomNode=d,this._globalMouseMoveMonitor=this._register(new I.GlobalMouseMoveMonitor),this._keydownListener=null}startMonitoring(d,r,n,s,t){this._keydownListener=v.addStandardDisposableListener(document,"keydown",h=>{h.toKeybinding().isModifierKey()||this._globalMouseMoveMonitor.stopMonitoring(!0,h.browserEvent)},!0);const o=(h,g)=>n(h,new p(g,this._editorViewDomNode));this._globalMouseMoveMonitor.startMonitoring(d,r,o,s,h=>{this._keydownListener.dispose(),t(h)})}stopMonitoring(){this._globalMouseMoveMonitor.stopMonitoring(!0)}}e.GlobalEditorMouseMoveMonitor=l}),define(J[363],ee([0,1,6,2]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractCodeEditorService=void 0;class k extends I.Disposable{constructor(){super();this._onCodeEditorAdd=this._register(new v.Emitter),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new v.Emitter),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new v.Emitter),this._onDiffEditorRemove=this._register(new v.Emitter),this._onDecorationTypeRegistered=this._register(new v.Emitter),this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null)}addCodeEditor(S){this._codeEditors[S.getId()]=S,this._onCodeEditorAdd.fire(S)}removeCodeEditor(S){delete this._codeEditors[S.getId()]&&this._onCodeEditorRemove.fire(S)}listCodeEditors(){return Object.keys(this._codeEditors).map(S=>this._codeEditors[S])}addDiffEditor(S){this._diffEditors[S.getId()]=S,this._onDiffEditorAdd.fire(S)}removeDiffEditor(S){delete this._diffEditors[S.getId()]&&this._onDiffEditorRemove.fire(S)}listDiffEditors(){return Object.keys(this._diffEditors).map(S=>this._diffEditors[S])}getFocusedCodeEditor(){let S=null;const _=this.listCodeEditors();for(const C of _){if(C.hasTextFocus())return C;C.hasWidgetFocus()&&(S=C)}return S}setModelProperty(S,_,C){const i=S.toString();let p;this._modelProperties.has(i)?p=this._modelProperties.get(i):(p=new Map,this._modelProperties.set(i,p)),p.set(_,C)}getModelProperty(S,_){const C=S.toString();if(this._modelProperties.has(C))return this._modelProperties.get(C).get(_)}}e.AbstractCodeEditorService=k}),define(J[214],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCharIndex=e.allCharCodes=void 0,e.allCharCodes=(()=>{const I=[];for(let k=32;k<=126;k++)I.push(k);return I.push(65533),I})();const v=(I,k)=>(I-=32,I<0||I>96?k<=2?(I+96)%96:96-1:I);e.getCharIndex=v}),define(J[364],ee([0,1,214,123]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRenderer=void 0;class k{constructor(S,_){this.scale=_,this.charDataNormal=k.soften(S,12/15),this.charDataLight=k.soften(S,50/60)}static soften(S,_){let C=new Uint8ClampedArray(S.length);for(let i=0,p=S.length;i<p;i++)C[i]=(0,I.toUint8)(S[i]*_);return C}renderChar(S,_,C,i,p,u,a,l,c){const d=1*this.scale,r=2*this.scale,n=c?1:r;if(_+d>S.width||C+n>S.height){console.warn("bad render request outside image data");return}const s=l?this.charDataLight:this.charDataNormal,t=(0,v.getCharIndex)(i,a),o=S.width*4,h=u.r,g=u.g,m=u.b,f=p.r-h,b=p.g-g,y=p.b-m,L=S.data;let N=t*d*r,M=C*o+_*4;for(let D=0;D<n;D++){let R=M;for(let P=0;P<d;P++){const O=s[N++]/255;L[R++]=h+f*O,L[R++]=g+b*O,L[R++]=m+y*O,R++}M+=o}}blockRenderChar(S,_,C,i,p,u,a){const l=1*this.scale,c=2*this.scale,d=a?1:c;if(_+l>S.width||C+d>S.height){console.warn("bad render request outside image data");return}const r=S.width*4,n=.5,s=p.r,t=p.g,o=p.b,h=i.r-s,g=i.g-t,m=i.b-o,f=s+h*n,b=t+g*n,y=o+m*n,L=S.data;let N=C*r+_*4;for(let M=0;M<d;M++){let D=N;for(let R=0;R<l;R++)L[D++]=f,L[D++]=b,L[D++]=y,D++;N+=r}}}e.MinimapCharRenderer=k}),define(J[365],ee([0,1,88]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prebakedMiniMaps=void 0;const I={"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,A:10,B:11,C:12,D:13,E:14,F:15},k=w=>{const S=new Uint8ClampedArray(w.length/2);for(let _=0;_<w.length;_+=2)S[_>>1]=I[w[_]]<<4|I[w[_+1]]&15;return S};e.prebakedMiniMaps={1:(0,v.once)(()=>k("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,v.once)(()=>k("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))}}),define(J[366],ee([0,1,364,214,365,123]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRendererFactory=void 0;class S{static create(C,i){if(this.lastCreated&&C===this.lastCreated.scale&&i===this.lastFontFamily)return this.lastCreated;let p;return k.prebakedMiniMaps[C]?p=new v.MinimapCharRenderer(k.prebakedMiniMaps[C](),C):p=S.createFromSampleData(S.createSampleData(i).data,C),this.lastFontFamily=i,this.lastCreated=p,p}static createSampleData(C){const i=document.createElement("canvas"),p=i.getContext("2d");i.style.height=`${16}px`,i.height=16,i.width=96*10,i.style.width=96*10+"px",p.fillStyle="#ffffff",p.font=`bold ${16}px ${C}`,p.textBaseline="middle";let u=0;for(const a of I.allCharCodes)p.fillText(String.fromCharCode(a),u,16/2),u+=10;return p.getImageData(0,0,96*10,16)}static createFromSampleData(C,i){const p=16*10*4*96;if(C.length!==p)throw new Error("Unexpected source in MinimapCharRenderer");let u=S._downsample(C,i);return new v.MinimapCharRenderer(u,i)}static _downsampleChar(C,i,p,u,a){const l=1*a,c=2*a;let d=u,r=0;for(let n=0;n<c;n++){const s=n/c*16,t=(n+1)/c*16;for(let o=0;o<l;o++){const h=o/l*10,g=(o+1)/l*10;let m=0,f=0;for(let y=s;y<t;y++){const L=i+Math.floor(y)*3840,N=1-(y-Math.floor(y));for(let M=h;M<g;M++){const D=1-(M-Math.floor(M)),R=L+Math.floor(M)*4,P=D*N;f+=P,m+=C[R]*C[R+3]/255*P}}const b=m/f;r=Math.max(r,b),p[d++]=(0,w.toUint8)(b)}}return r}static _downsample(C,i){const p=2*i*1*i,u=p*96,a=new Uint8ClampedArray(u);let l=0,c=0,d=0;for(let r=0;r<96;r++)d=Math.max(d,this._downsampleChar(C,c,a,l,i)),l+=p,c+=10*4;if(d>0){const r=255/d;for(let n=0;n<u;n++)a[n]*=r}return a}}e.MinimapCharRendererFactory=S}),define(J[127],ee([0,1,6]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorZoom=void 0,e.EditorZoom=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new v.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(I){I=Math.min(Math.max(-5,I),20),this._zoomLevel!==I&&(this._zoomLevel=I,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}}),define(J[163],ee([0,1,17,127]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontInfo=e.SERIALIZED_FONT_INFO_VERSION=e.BareFontInfo=void 0;const k=v.isMacintosh?1.5:1.35,w=8;class S{constructor(i){this.zoomLevel=i.zoomLevel,this.pixelRatio=i.pixelRatio,this.fontFamily=String(i.fontFamily),this.fontWeight=String(i.fontWeight),this.fontSize=i.fontSize,this.fontFeatureSettings=i.fontFeatureSettings,this.lineHeight=i.lineHeight|0,this.letterSpacing=i.letterSpacing}static createFromValidatedSettings(i,p,u,a){const l=i.get(39),c=i.get(43),d=i.get(42),r=i.get(41),n=i.get(55),s=i.get(52);return S._create(l,c,d,r,n,s,p,u,a)}static _create(i,p,u,a,l,c,d,r,n){l===0?l=Math.round(k*u):l<w&&(l=w);const s=1+(n?0:I.EditorZoom.getZoomLevel()*.1);return u*=s,l*=s,new S({zoomLevel:d,pixelRatio:r,fontFamily:i,fontWeight:p,fontSize:u,fontFeatureSettings:a,lineHeight:l,letterSpacing:c})}getId(){return this.zoomLevel+"-"+this.pixelRatio+"-"+this.fontFamily+"-"+this.fontWeight+"-"+this.fontSize+"-"+this.fontFeatureSettings+"-"+this.lineHeight+"-"+this.letterSpacing}getMassagedFontFamily(){return/[,"']/.test(this.fontFamily)?this.fontFamily:/[+ ]/.test(this.fontFamily)?`"${this.fontFamily}"`:this.fontFamily}}e.BareFontInfo=S,e.SERIALIZED_FONT_INFO_VERSION=1;class _ extends S{constructor(i,p){super(i);this.version=e.SERIALIZED_FONT_INFO_VERSION,this.isTrusted=p,this.isMonospace=i.isMonospace,this.typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=i.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=i.canUseHalfwidthRightwardsArrow,this.spaceWidth=i.spaceWidth,this.middotWidth=i.middotWidth,this.wsmiddotWidth=i.wsmiddotWidth,this.maxDigitWidth=i.maxDigitWidth}equals(i){return this.fontFamily===i.fontFamily&&this.fontWeight===i.fontWeight&&this.fontSize===i.fontSize&&this.fontFeatureSettings===i.fontFeatureSettings&&this.lineHeight===i.lineHeight&&this.letterSpacing===i.letterSpacing&&this.typicalHalfwidthCharacterWidth===i.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===i.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===i.canUseHalfwidthRightwardsArrow&&this.spaceWidth===i.spaceWidth&&this.middotWidth===i.middotWidth&&this.wsmiddotWidth===i.wsmiddotWidth&&this.maxDigitWidth===i.maxDigitWidth}}e.FontInfo=_}),define(J[91],ee([0,1,123]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterSet=e.CharacterClassifier=void 0;class I{constructor(S){let _=(0,v.toUint8)(S);this._defaultValue=_,this._asciiMap=I._createAsciiMap(_),this._map=new Map}static _createAsciiMap(S){let _=new Uint8Array(256);for(let C=0;C<256;C++)_[C]=S;return _}set(S,_){let C=(0,v.toUint8)(_);S>=0&&S<256?this._asciiMap[S]=C:this._map.set(S,C)}get(S){return S>=0&&S<256?this._asciiMap[S]:this._map.get(S)||this._defaultValue}}e.CharacterClassifier=I;class k{constructor(){this._actual=new I(0)}add(S){this._actual.set(S,1)}has(S){return this._actual.get(S)===1}}e.CharacterSet=k}),define(J[106],ee([0,1,91]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMapForWordSeparators=e.WordCharacterClassifier=void 0;class I extends v.CharacterClassifier{constructor(S){super(0);for(let _=0,C=S.length;_<C;_++)this.set(S.charCodeAt(_),2);this.set(32,1),this.set(9,1)}}e.WordCharacterClassifier=I;function k(w){let S={};return _=>(S.hasOwnProperty(_)||(S[_]=w(_)),S[_])}e.getMapForWordSeparators=k(w=>new I(w))}),define(J[14],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Position=void 0;class v{constructor(k,w){this.lineNumber=k,this.column=w}with(k=this.lineNumber,w=this.column){return k===this.lineNumber&&w===this.column?this:new v(k,w)}delta(k=0,w=0){return this.with(this.lineNumber+k,this.column+w)}equals(k){return v.equals(this,k)}static equals(k,w){return!k&&!w?!0:!!k&&!!w&&k.lineNumber===w.lineNumber&&k.column===w.column}isBefore(k){return v.isBefore(this,k)}static isBefore(k,w){return k.lineNumber<w.lineNumber?!0:w.lineNumber<k.lineNumber?!1:k.column<w.column}isBeforeOrEqual(k){return v.isBeforeOrEqual(this,k)}static isBeforeOrEqual(k,w){return k.lineNumber<w.lineNumber?!0:w.lineNumber<k.lineNumber?!1:k.column<=w.column}static compare(k,w){let S=k.lineNumber|0,_=w.lineNumber|0;if(S===_){let C=k.column|0,i=w.column|0;return C-i}return S-_}clone(){return new v(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(k){return new v(k.lineNumber,k.column)}static isIPosition(k){return k&&typeof k.lineNumber=="number"&&typeof k.column=="number"}}e.Position=v}),define(J[3],ee([0,1,14]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;class I{constructor(w,S,_,C){w>_||w===_&&S>C?(this.startLineNumber=_,this.startColumn=C,this.endLineNumber=w,this.endColumn=S):(this.startLineNumber=w,this.startColumn=S,this.endLineNumber=_,this.endColumn=C)}isEmpty(){return I.isEmpty(this)}static isEmpty(w){return w.startLineNumber===w.endLineNumber&&w.startColumn===w.endColumn}containsPosition(w){return I.containsPosition(this,w)}static containsPosition(w,S){return!(S.lineNumber<w.startLineNumber||S.lineNumber>w.endLineNumber||S.lineNumber===w.startLineNumber&&S.column<w.startColumn||S.lineNumber===w.endLineNumber&&S.column>w.endColumn)}containsRange(w){return I.containsRange(this,w)}static containsRange(w,S){return!(S.startLineNumber<w.startLineNumber||S.endLineNumber<w.startLineNumber||S.startLineNumber>w.endLineNumber||S.endLineNumber>w.endLineNumber||S.startLineNumber===w.startLineNumber&&S.startColumn<w.startColumn||S.endLineNumber===w.endLineNumber&&S.endColumn>w.endColumn)}strictContainsRange(w){return I.strictContainsRange(this,w)}static strictContainsRange(w,S){return!(S.startLineNumber<w.startLineNumber||S.endLineNumber<w.startLineNumber||S.startLineNumber>w.endLineNumber||S.endLineNumber>w.endLineNumber||S.startLineNumber===w.startLineNumber&&S.startColumn<=w.startColumn||S.endLineNumber===w.endLineNumber&&S.endColumn>=w.endColumn)}plusRange(w){return I.plusRange(this,w)}static plusRange(w,S){let _,C,i,p;return S.startLineNumber<w.startLineNumber?(_=S.startLineNumber,C=S.startColumn):S.startLineNumber===w.startLineNumber?(_=S.startLineNumber,C=Math.min(S.startColumn,w.startColumn)):(_=w.startLineNumber,C=w.startColumn),S.endLineNumber>w.endLineNumber?(i=S.endLineNumber,p=S.endColumn):S.endLineNumber===w.endLineNumber?(i=S.endLineNumber,p=Math.max(S.endColumn,w.endColumn)):(i=w.endLineNumber,p=w.endColumn),new I(_,C,i,p)}intersectRanges(w){return I.intersectRanges(this,w)}static intersectRanges(w,S){let _=w.startLineNumber,C=w.startColumn,i=w.endLineNumber,p=w.endColumn,u=S.startLineNumber,a=S.startColumn,l=S.endLineNumber,c=S.endColumn;return _<u?(_=u,C=a):_===u&&(C=Math.max(C,a)),i>l?(i=l,p=c):i===l&&(p=Math.min(p,c)),_>i||_===i&&C>p?null:new I(_,C,i,p)}equalsRange(w){return I.equalsRange(this,w)}static equalsRange(w,S){return!!w&&!!S&&w.startLineNumber===S.startLineNumber&&w.startColumn===S.startColumn&&w.endLineNumber===S.endLineNumber&&w.endColumn===S.endColumn}getEndPosition(){return I.getEndPosition(this)}static getEndPosition(w){return new v.Position(w.endLineNumber,w.endColumn)}getStartPosition(){return I.getStartPosition(this)}static getStartPosition(w){return new v.Position(w.startLineNumber,w.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(w,S){return new I(this.startLineNumber,this.startColumn,w,S)}setStartPosition(w,S){return new I(w,S,this.endLineNumber,this.endColumn)}collapseToStart(){return I.collapseToStart(this)}static collapseToStart(w){return new I(w.startLineNumber,w.startColumn,w.startLineNumber,w.startColumn)}static fromPositions(w,S=w){return new I(w.lineNumber,w.column,S.lineNumber,S.column)}static lift(w){return w?new I(w.startLineNumber,w.startColumn,w.endLineNumber,w.endColumn):null}static isIRange(w){return w&&typeof w.startLineNumber=="number"&&typeof w.startColumn=="number"&&typeof w.endLineNumber=="number"&&typeof w.endColumn=="number"}static areIntersectingOrTouching(w,S){return!(w.endLineNumber<S.startLineNumber||w.endLineNumber===S.startLineNumber&&w.endColumn<S.startColumn||S.endLineNumber<w.startLineNumber||S.endLineNumber===w.startLineNumber&&S.endColumn<w.startColumn)}static areIntersecting(w,S){return!(w.endLineNumber<S.startLineNumber||w.endLineNumber===S.startLineNumber&&w.endColumn<=S.startColumn||S.endLineNumber<w.startLineNumber||S.endLineNumber===w.startLineNumber&&S.endColumn<=w.startColumn)}static compareRangesUsingStarts(w,S){if(w&&S){const i=w.startLineNumber|0,p=S.startLineNumber|0;if(i===p){const u=w.startColumn|0,a=S.startColumn|0;if(u===a){const l=w.endLineNumber|0,c=S.endLineNumber|0;if(l===c){const d=w.endColumn|0,r=S.endColumn|0;return d-r}return l-c}return u-a}return i-p}return(w?1:0)-(S?1:0)}static compareRangesUsingEnds(w,S){return w.endLineNumber===S.endLineNumber?w.endColumn===S.endColumn?w.startLineNumber===S.startLineNumber?w.startColumn-S.startColumn:w.startLineNumber-S.startLineNumber:w.endColumn-S.endColumn:w.endLineNumber-S.endLineNumber}static spansMultipleLines(w){return w.endLineNumber>w.startLineNumber}}e.Range=I}),define(J[215],ee([0,1,8,14,3]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedScreenReaderStrategy=e.TextAreaState=e._debugComposition=void 0,e._debugComposition=!1;class w{constructor(C,i,p,u,a){this.value=C,this.selectionStart=i,this.selectionEnd=p,this.selectionStartPosition=u,this.selectionEndPosition=a}toString(){return"[ <"+this.value+">, selectionStart: "+this.selectionStart+", selectionEnd: "+this.selectionEnd+"]"}static readFromTextArea(C){return new w(C.getValue(),C.getSelectionStart(),C.getSelectionEnd(),null,null)}collapseSelection(){return new w(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(C,i,p){e._debugComposition&&console.log("writeToTextArea "+C+": "+this.toString()),i.setValue(C,this.value),p&&i.setSelectionRange(C,this.selectionStart,this.selectionEnd)}deduceEditorPosition(C){if(C<=this.selectionStart){const u=this.value.substring(C,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,u,-1)}if(C>=this.selectionEnd){const u=this.value.substring(this.selectionEnd,C);return this._finishDeduceEditorPosition(this.selectionEndPosition,u,1)}const i=this.value.substring(this.selectionStart,C);if(i.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition(this.selectionStartPosition,i,1);const p=this.value.substring(C,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,p,-1)}_finishDeduceEditorPosition(C,i,p){let u=0,a=-1;for(;(a=i.indexOf(`
`,a+1))!==-1;)u++;return[C,p*i.length,u]}static selectedText(C){return new w(C,0,C.length,null,null)}static deduceInput(C,i,p){if(!C)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};e._debugComposition&&(console.log("------------------------deduceInput"),console.log("PREVIOUS STATE: "+C.toString()),console.log("CURRENT STATE: "+i.toString()));let u=C.value,a=C.selectionStart,l=C.selectionEnd,c=i.value,d=i.selectionStart,r=i.selectionEnd;const n=u.substring(l),s=c.substring(r),t=v.commonSuffixLength(n,s);c=c.substring(0,c.length-t),u=u.substring(0,u.length-t);const o=u.substring(0,a),h=c.substring(0,d),g=v.commonPrefixLength(o,h);if(c=c.substring(g),u=u.substring(g),d-=g,a-=g,r-=g,l-=g,e._debugComposition&&(console.log("AFTER DIFFING PREVIOUS STATE: <"+u+">, selectionStart: "+a+", selectionEnd: "+l),console.log("AFTER DIFFING CURRENT STATE: <"+c+">, selectionStart: "+d+", selectionEnd: "+r)),p&&d===r&&u.length>0){let f=null;if(d===c.length?c.startsWith(u)&&(f=c.substring(u.length)):c.endsWith(u)&&(f=c.substring(0,c.length-u.length)),f!==null&&f.length>0&&(/\uFE0F/.test(f)||v.containsEmoji(f)))return{text:f,replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0}}if(d===r){if(u===c&&a===0&&l===u.length&&d===c.length&&c.indexOf(`
`)===-1&&v.containsFullWidthCharacter(c))return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};const f=o.length-g;return e._debugComposition&&console.log("REMOVE PREVIOUS: "+(o.length-g)+" chars"),{text:c,replacePrevCharCnt:f,replaceNextCharCnt:0,positionDelta:0}}const m=l-a;return{text:c,replacePrevCharCnt:m,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(C,i){if(!C)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(e._debugComposition&&(console.log("------------------------deduceAndroidCompositionInput"),console.log("PREVIOUS STATE: "+C.toString()),console.log("CURRENT STATE: "+i.toString())),C.value===i.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:i.selectionEnd-C.selectionEnd};const p=Math.min(v.commonPrefixLength(C.value,i.value),C.selectionEnd),u=Math.min(v.commonSuffixLength(C.value,i.value),C.value.length-C.selectionEnd),a=C.value.substring(p,C.value.length-u),l=i.value.substring(p,i.value.length-u),c=C.selectionStart-p,d=C.selectionEnd-p,r=i.selectionStart-p,n=i.selectionEnd-p;return e._debugComposition&&(console.log("AFTER DIFFING PREVIOUS STATE: <"+a+">, selectionStart: "+c+", selectionEnd: "+d),console.log("AFTER DIFFING CURRENT STATE: <"+l+">, selectionStart: "+r+", selectionEnd: "+n)),{text:l,replacePrevCharCnt:d,replaceNextCharCnt:a.length-d,positionDelta:n-l.length}}}e.TextAreaState=w,w.EMPTY=new w("",0,0,null,null);class S{static _getPageOfLine(C,i){return Math.floor((C-1)/i)}static _getRangeForPage(C,i){const p=C*i,u=p+1,a=p+i;return new k.Range(u,1,a+1,1)}static fromEditorSelection(C,i,p,u,a){const l=S._getPageOfLine(p.startLineNumber,u),c=S._getRangeForPage(l,u),d=S._getPageOfLine(p.endLineNumber,u),r=S._getRangeForPage(d,u),n=c.intersectRanges(new k.Range(1,1,p.startLineNumber,p.startColumn));let s=i.getValueInRange(n,1);const t=i.getLineCount(),o=i.getLineMaxColumn(t),h=r.intersectRanges(new k.Range(p.endLineNumber,p.endColumn,t,o));let g=i.getValueInRange(h,1),m;if(l===d||l+1===d)m=i.getValueInRange(p,1);else{const f=c.intersectRanges(p),b=r.intersectRanges(p);m=i.getValueInRange(f,1)+String.fromCharCode(8230)+i.getValueInRange(b,1)}if(a){const f=500;s.length>f&&(s=s.substring(s.length-f,s.length)),g.length>f&&(g=g.substring(0,f)),m.length>2*f&&(m=m.substring(0,f)+String.fromCharCode(8230)+m.substring(m.length-f,m.length))}return new w(s+m+g,s.length,s.length+m.length,new I.Position(p.startLineNumber,p.startColumn),new I.Position(p.endLineNumber,p.endColumn))}}e.PagedScreenReaderStrategy=S}),define(J[216],ee([0,1,196,6,2,40,3]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffNavigator=void 0;const _={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class C extends k.Disposable{constructor(p,u={}){super();this._onDidUpdate=this._register(new I.Emitter),this._editor=p,this._options=w.mixin(u,_,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(a=>{this.ignoreSelectionChange||(this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(a=>{this.revealFirst=!0})),this._init()}_init(){!!this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&this._editor.getLineChanges()!==null&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(p){this.ranges=[],p&&p.forEach(u=>{!this._options.ignoreCharChanges&&u.charChanges?u.charChanges.forEach(a=>{this.ranges.push({rhs:!0,range:new S.Range(a.modifiedStartLineNumber,a.modifiedStartColumn,a.modifiedEndLineNumber,a.modifiedEndColumn)})}):this.ranges.push({rhs:!0,range:new S.Range(u.modifiedStartLineNumber,1,u.modifiedStartLineNumber,1)})}),this.ranges.sort((u,a)=>u.range.getStartPosition().isBeforeOrEqual(a.range.getStartPosition())?-1:a.range.getStartPosition().isBeforeOrEqual(u.range.getStartPosition())?1:0),this._onDidUpdate.fire(this)}_initIdx(p){let u=!1,a=this._editor.getPosition();if(!a){this.nextIdx=0;return}for(let l=0,c=this.ranges.length;l<c&&!u;l++){let d=this.ranges[l].range;a.isBeforeOrEqual(d.getStartPosition())&&(this.nextIdx=l+(p?0:-1),u=!0)}u||(this.nextIdx=p?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}_move(p,u){if(v.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),!!this.canNavigate()){this.nextIdx===-1?this._initIdx(p):p?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));let a=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{let l=a.range.getStartPosition();this._editor.setPosition(l),this._editor.revealPositionInCenter(l,u)}finally{this.ignoreSelectionChange=!1}}}canNavigate(){return this.ranges&&this.ranges.length>0}next(p=0){this._move(!0,p)}previous(p=0){this._move(!1,p)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}e.DiffNavigator=C}),define(J[62],ee([0,1,3]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditOperation=void 0;class I{static insert(w,S){return{range:new v.Range(w.lineNumber,w.column,w.lineNumber,w.column),text:S,forceMoveMarkers:!0}}static delete(w){return{range:w,text:null}}static replace(w,S){return{range:w,text:S}}static replaceMove(w,S){return{range:w,text:S,forceMoveMarkers:!0}}}e.EditOperation=I}),define(J[367],ee([0,1,8,62,3]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.trimTrailingWhitespace=e.TrimTrailingWhitespaceCommand=void 0;class w{constructor(C,i){this._selection=C,this._cursors=i,this._selectionId=null}getEditOperations(C,i){let p=S(C,this._cursors);for(let u=0,a=p.length;u<a;u++){let l=p[u];i.addEditOperation(l.range,l.text)}this._selectionId=i.trackSelection(this._selection)}computeCursorState(C,i){return i.getTrackedSelection(this._selectionId)}}e.TrimTrailingWhitespaceCommand=w;function S(_,C){C.sort((l,c)=>l.lineNumber===c.lineNumber?l.column-c.column:l.lineNumber-c.lineNumber);for(let l=C.length-2;l>=0;l--)C[l].lineNumber===C[l+1].lineNumber&&C.splice(l,1);let i=[],p=0,u=0,a=C.length;for(let l=1,c=_.getLineCount();l<=c;l++){let d=_.getLineContent(l),r=d.length+1,n=0;if(!(u<a&&C[u].lineNumber===l&&(n=C[u].column,u++,n===r))&&d.length!==0){let s=v.lastNonWhitespaceIndex(d),t=0;if(s===-1)t=1;else if(s!==d.length-1)t=s+2;else continue;t=Math.max(n,t),i[p++]=I.EditOperation.delete(new k.Range(l,t,l,r))}}return i}e.trimTrailingWhitespace=S}),define(J[217],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RGBA8=void 0;class v{constructor(k,w,S,_){this.r=v._clamp(k),this.g=v._clamp(w),this.b=v._clamp(S),this.a=v._clamp(_)}equals(k){return this.r===k.r&&this.g===k.g&&this.b===k.b&&this.a===k.a}static _clamp(k){return k<0?0:k>255?255:k|0}}e.RGBA8=v,v.Empty=new v(0,0,0,0)}),define(J[21],ee([0,1,14,3]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Selection=void 0;class k extends I.Range{constructor(S,_,C,i){super(S,_,C,i);this.selectionStartLineNumber=S,this.selectionStartColumn=_,this.positionLineNumber=C,this.positionColumn=i}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(S){return k.selectionsEqual(this,S)}static selectionsEqual(S,_){return S.selectionStartLineNumber===_.selectionStartLineNumber&&S.selectionStartColumn===_.selectionStartColumn&&S.positionLineNumber===_.positionLineNumber&&S.positionColumn===_.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(S,_){return this.getDirection()===0?new k(this.startLineNumber,this.startColumn,S,_):new k(S,_,this.startLineNumber,this.startColumn)}getPosition(){return new v.Position(this.positionLineNumber,this.positionColumn)}setStartPosition(S,_){return this.getDirection()===0?new k(S,_,this.endLineNumber,this.endColumn):new k(this.endLineNumber,this.endColumn,S,_)}static fromPositions(S,_=S){return new k(S.lineNumber,S.column,_.lineNumber,_.column)}static liftSelection(S){return new k(S.selectionStartLineNumber,S.selectionStartColumn,S.positionLineNumber,S.positionColumn)}static selectionsArrEqual(S,_){if(S&&!_||!S&&_)return!1;if(!S&&!_)return!0;if(S.length!==_.length)return!1;for(let C=0,i=S.length;C<i;C++)if(!this.selectionsEqual(S[C],_[C]))return!1;return!0}static isISelection(S){return S&&typeof S.selectionStartLineNumber=="number"&&typeof S.selectionStartColumn=="number"&&typeof S.positionLineNumber=="number"&&typeof S.positionColumn=="number"}static createWithDirection(S,_,C,i,p){return p===0?new k(S,_,C,i):new k(C,i,S,_)}}e.Selection=k}),define(J[164],ee([0,1,35,7,15,6,2,17,8,215,14,21]),function($,e,v,I,k,w,S,_,C,i,p,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaInput=e.InMemoryClipboardMetadataManager=e.CopyOptions=e.TextAreaSyntethicEvents=void 0;var a;(function(n){n.Tap="-monaco-textarea-synthetic-tap"})(a=e.TextAreaSyntethicEvents||(e.TextAreaSyntethicEvents={})),e.CopyOptions={forceCopyWithSyntaxHighlighting:!1};class l{constructor(){this._lastState=null}set(s,t){this._lastState={lastCopiedValue:s,data:t}}get(s){return this._lastState&&this._lastState.lastCopiedValue===s?this._lastState.data:(this._lastState=null,null)}}e.InMemoryClipboardMetadataManager=l,l.INSTANCE=new l;class c extends S.Disposable{constructor(s,t){super();this.textArea=t,this._onFocus=this._register(new w.Emitter),this.onFocus=this._onFocus.event,this._onBlur=this._register(new w.Emitter),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new w.Emitter),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new w.Emitter),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new w.Emitter),this.onCut=this._onCut.event,this._onPaste=this._register(new w.Emitter),this.onPaste=this._onPaste.event,this._onType=this._register(new w.Emitter),this.onType=this._onType.event,this._onCompositionStart=this._register(new w.Emitter),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new w.Emitter),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new w.Emitter),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new w.Emitter),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._host=s,this._textArea=this._register(new r(t)),this._asyncTriggerCut=this._register(new k.RunOnceScheduler(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new k.RunOnceScheduler(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=i.TextAreaState.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._isDoingComposition=!1,this._nextCommand=0;let o=null;this._register(I.addStandardDisposableListener(t.domNode,"keydown",f=>{(f.keyCode===109||this._isDoingComposition&&f.keyCode===1)&&f.stopPropagation(),f.equals(9)&&f.preventDefault(),o=f,this._onKeyDown.fire(f)})),this._register(I.addStandardDisposableListener(t.domNode,"keyup",f=>{this._onKeyUp.fire(f)})),this._register(I.addDisposableListener(t.domNode,"compositionstart",f=>{if(i._debugComposition&&console.log("[compositionstart]",f),!this._isDoingComposition){if(this._isDoingComposition=!0,_.isMacintosh&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===f.data&&(o&&o.equals(109)&&(o.code==="ArrowRight"||o.code==="ArrowLeft")||v.isFirefox)){i._debugComposition&&console.log("[compositionstart] Handling long press case on macOS + arrow key or Firefox",f),this._textAreaState=new i.TextAreaState(this._textAreaState.value,this._textAreaState.selectionStart-1,this._textAreaState.selectionEnd,this._textAreaState.selectionStartPosition?new p.Position(this._textAreaState.selectionStartPosition.lineNumber,this._textAreaState.selectionStartPosition.column-1):null,this._textAreaState.selectionEndPosition),this._onCompositionStart.fire({revealDeltaColumns:-1});return}if(v.isAndroid){this._onCompositionStart.fire({revealDeltaColumns:-this._textAreaState.selectionStart});return}this._setAndWriteTextAreaState("compositionstart",i.TextAreaState.EMPTY),this._onCompositionStart.fire({revealDeltaColumns:0})}}));const h=f=>{const b=this._textAreaState,y=i.TextAreaState.readFromTextArea(this._textArea);return[y,i.TextAreaState.deduceInput(b,y,f)]},g=()=>{const f=this._textAreaState,b=i.TextAreaState.readFromTextArea(this._textArea);return[b,i.TextAreaState.deduceAndroidCompositionInput(f,b)]},m=f=>{const b=this._textAreaState,y=i.TextAreaState.selectedText(f),L={text:y.value,replacePrevCharCnt:b.selectionEnd-b.selectionStart,replaceNextCharCnt:0,positionDelta:0};return[y,L]};this._register(I.addDisposableListener(t.domNode,"compositionupdate",f=>{if(i._debugComposition&&console.log("[compositionupdate]",f),v.isAndroid){const[L,N]=g();this._textAreaState=L,this._onType.fire(N),this._onCompositionUpdate.fire(f);return}const[b,y]=m(f.data||"");this._textAreaState=b,this._onType.fire(y),this._onCompositionUpdate.fire(f)})),this._register(I.addDisposableListener(t.domNode,"compositionend",f=>{if(i._debugComposition&&console.log("[compositionend]",f),!!this._isDoingComposition){if(this._isDoingComposition=!1,v.isAndroid){const[L,N]=g();this._textAreaState=L,this._onType.fire(N),this._onCompositionEnd.fire();return}const[b,y]=m(f.data||"");this._textAreaState=b,this._onType.fire(y),(v.isChrome||v.isFirefox)&&(this._textAreaState=i.TextAreaState.readFromTextArea(this._textArea)),this._onCompositionEnd.fire()}})),this._register(I.addDisposableListener(t.domNode,"input",()=>{if(this._textArea.setIgnoreSelectionChangeTime("received input event"),!this._isDoingComposition){const[f,b]=h(_.isMacintosh);b.replacePrevCharCnt===0&&b.text.length===1&&C.isHighSurrogate(b.text.charCodeAt(0))||(this._textAreaState=f,this._nextCommand===0?(b.text!==""||b.replacePrevCharCnt!==0)&&this._onType.fire(b):((b.text!==""||b.replacePrevCharCnt!==0)&&this._firePaste(b.text,null),this._nextCommand=0))}})),this._register(I.addDisposableListener(t.domNode,"cut",f=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(f),this._asyncTriggerCut.schedule()})),this._register(I.addDisposableListener(t.domNode,"copy",f=>{this._ensureClipboardGetsEditorSelection(f)})),this._register(I.addDisposableListener(t.domNode,"paste",f=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),d.canUseTextData(f)){const[b,y]=d.getTextData(f);b!==""&&this._firePaste(b,y)}else this._textArea.getSelectionStart()!==this._textArea.getSelectionEnd()&&this._setAndWriteTextAreaState("paste",i.TextAreaState.EMPTY),this._nextCommand=1})),this._register(I.addDisposableListener(t.domNode,"focus",()=>{const f=this._hasFocus;this._setHasFocus(!0),v.isSafari&&!f&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(I.addDisposableListener(t.domNode,"blur",()=>{this._isDoingComposition&&(this._isDoingComposition=!1,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(I.addDisposableListener(t.domNode,a.Tap,()=>{v.isAndroid&&this._isDoingComposition&&(this._isDoingComposition=!1,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let s=0;return I.addDisposableListener(document,"selectionchange",t=>{if(!!this._hasFocus&&!this._isDoingComposition&&!!v.isChrome){const o=Date.now(),h=o-s;if(s=o,!(h<5)){const g=o-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),!(g<100)&&!(!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)){const m=this._textArea.getValue();if(this._textAreaState.value===m){const f=this._textArea.getSelectionStart(),b=this._textArea.getSelectionEnd();if(!(this._textAreaState.selectionStart===f&&this._textAreaState.selectionEnd===b)){const y=this._textAreaState.deduceEditorPosition(f),L=this._host.deduceModelPosition(y[0],y[1],y[2]),N=this._textAreaState.deduceEditorPosition(b),M=this._host.deduceModelPosition(N[0],N[1],N[2]),D=new u.Selection(L.lineNumber,L.column,M.lineNumber,M.column);this._onSelectionChangeRequest.fire(D)}}}}}})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){const s=I.getShadowRoot(this.textArea.domNode);s?this._setHasFocus(s.activeElement===this.textArea.domNode):I.isInDOM(this.textArea.domNode)?this._setHasFocus(document.activeElement===this.textArea.domNode):this._setHasFocus(!1)}_setHasFocus(s){this._hasFocus!==s&&(this._hasFocus=s,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(s,t){this._hasFocus||(t=t.collapseSelection()),t.writeToTextArea(s,this._textArea,this._hasFocus),this._textAreaState=t}writeScreenReaderContent(s){this._isDoingComposition||this._setAndWriteTextAreaState(s,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(s){const t=this._host.getDataToCopy(d.canUseTextData(s)),o={version:1,isFromEmptySelection:t.isFromEmptySelection,multicursorText:t.multicursorText,mode:t.mode};if(l.INSTANCE.set(v.isFirefox?t.text.replace(/\r\n/g,`
`):t.text,o),!d.canUseTextData(s)){this._setAndWriteTextAreaState("copy or cut",i.TextAreaState.selectedText(t.text));return}d.setTextData(s,t.text,t.html,o)}_firePaste(s,t){t||(t=l.INSTANCE.get(s)),this._onPaste.fire({text:s,metadata:t})}}e.TextAreaInput=c;class d{static canUseTextData(s){return!!(s.clipboardData||window.clipboardData)}static getTextData(s){if(s.clipboardData){s.preventDefault();const t=s.clipboardData.getData("text/plain");let o=null;const h=s.clipboardData.getData("vscode-editor-data");if(typeof h=="string")try{o=JSON.parse(h),o.version!==1&&(o=null)}catch(g){}return[t,o]}if(window.clipboardData)return s.preventDefault(),[window.clipboardData.getData("Text"),null];throw new Error("ClipboardEventUtils.getTextData: Cannot use text data!")}static setTextData(s,t,o,h){if(s.clipboardData){s.clipboardData.setData("text/plain",t),typeof o=="string"&&s.clipboardData.setData("text/html",o),s.clipboardData.setData("vscode-editor-data",JSON.stringify(h)),s.preventDefault();return}if(window.clipboardData){window.clipboardData.setData("Text",t),s.preventDefault();return}throw new Error("ClipboardEventUtils.setTextData: Cannot use text data!")}}class r extends S.Disposable{constructor(s){super();this._actual=s,this._ignoreSelectionChangeTime=0}setIgnoreSelectionChangeTime(s){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.domNode.value}setValue(s,t){const o=this._actual.domNode;o.value!==t&&(this.setIgnoreSelectionChangeTime("setValue"),o.value=t)}getSelectionStart(){return this._actual.domNode.selectionDirection==="backward"?this._actual.domNode.selectionEnd:this._actual.domNode.selectionStart}getSelectionEnd(){return this._actual.domNode.selectionDirection==="backward"?this._actual.domNode.selectionStart:this._actual.domNode.selectionEnd}setSelectionRange(s,t,o){const h=this._actual.domNode;let g=null;const m=I.getShadowRoot(h);m?g=m.activeElement:g=document.activeElement;const f=g===h,b=h.selectionStart,y=h.selectionEnd;if(f&&b===t&&y===o){v.isFirefox&&window.parent!==window&&h.focus();return}if(f){this.setIgnoreSelectionChangeTime("setSelectionRange"),h.setSelectionRange(t,o),v.isFirefox&&window.parent!==window&&h.focus();return}try{const L=I.saveParentsScrollTop(h);this.setIgnoreSelectionChangeTime("setSelectionRange"),h.focus(),h.setSelectionRange(t,o),I.restoreParentsScrollTop(h,L)}catch(L){}}}}),define(J[92],ee([0,1,21]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceCommandThatPreservesSelection=e.ReplaceCommandWithOffsetCursorState=e.ReplaceCommandWithoutChangingPosition=e.ReplaceCommandThatSelectsText=e.ReplaceCommand=void 0;class I{constructor(i,p,u=!1){this._range=i,this._text=p,this.insertsAutoWhitespace=u}getEditOperations(i,p){p.addTrackedEditOperation(this._range,this._text)}computeCursorState(i,p){let a=p.getInverseEditOperations()[0].range;return new v.Selection(a.endLineNumber,a.endColumn,a.endLineNumber,a.endColumn)}}e.ReplaceCommand=I;class k{constructor(i,p){this._range=i,this._text=p}getEditOperations(i,p){p.addTrackedEditOperation(this._range,this._text)}computeCursorState(i,p){const a=p.getInverseEditOperations()[0].range;return new v.Selection(a.startLineNumber,a.startColumn,a.endLineNumber,a.endColumn)}}e.ReplaceCommandThatSelectsText=k;class w{constructor(i,p,u=!1){this._range=i,this._text=p,this.insertsAutoWhitespace=u}getEditOperations(i,p){p.addTrackedEditOperation(this._range,this._text)}computeCursorState(i,p){let a=p.getInverseEditOperations()[0].range;return new v.Selection(a.startLineNumber,a.startColumn,a.startLineNumber,a.startColumn)}}e.ReplaceCommandWithoutChangingPosition=w;class S{constructor(i,p,u,a,l=!1){this._range=i,this._text=p,this._columnDeltaOffset=a,this._lineNumberDeltaOffset=u,this.insertsAutoWhitespace=l}getEditOperations(i,p){p.addTrackedEditOperation(this._range,this._text)}computeCursorState(i,p){let a=p.getInverseEditOperations()[0].range;return new v.Selection(a.endLineNumber+this._lineNumberDeltaOffset,a.endColumn+this._columnDeltaOffset,a.endLineNumber+this._lineNumberDeltaOffset,a.endColumn+this._columnDeltaOffset)}}e.ReplaceCommandWithOffsetCursorState=S;class _{constructor(i,p,u,a=!1){this._range=i,this._text=p,this._initialSelection=u,this._forceMoveMarkers=a,this._selectionId=null}getEditOperations(i,p){p.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=p.trackSelection(this._initialSelection)}computeCursorState(i,p){return p.getTrackedSelection(this._selectionId)}}e.ReplaceCommandThatPreservesSelection=_}),define(J[368],ee([0,1,3,21]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SurroundSelectionCommand=void 0;class k{constructor(S,_,C){this._range=S,this._charBeforeSelection=_,this._charAfterSelection=C}getEditOperations(S,_){_.addTrackedEditOperation(new v.Range(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),_.addTrackedEditOperation(new v.Range(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(S,_){let C=_.getInverseEditOperations(),i=C[0].range,p=C[1].range;return new I.Selection(i.endLineNumber,i.endColumn,p.endLineNumber,p.endColumn-this._charAfterSelection.length)}}e.SurroundSelectionCommand=k}),define(J[93],ee([0,1,8,17,101]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decodeUTF16LE=e.createStringBuilder=e.hasTextDecoder=e.getPlatformTextDecoder=void 0;let w;function S(){return w||(w=new TextDecoder("UTF-16LE")),w}let _;function C(){return _||(_=new TextDecoder("UTF-16BE")),_}let i;function p(){return i||(i=I.isLittleEndian()?S():C()),i}e.getPlatformTextDecoder=p,e.hasTextDecoder=typeof TextDecoder!="undefined",e.hasTextDecoder?(e.createStringBuilder=d=>new l(d),e.decodeUTF16LE=u):(e.createStringBuilder=d=>new c,e.decodeUTF16LE=a);function u(d,r,n){const s=new Uint16Array(d.buffer,r,n);return n>0&&(s[0]===65279||s[0]===65534)?a(d,r,n):S().decode(s)}function a(d,r,n){let s=[],t=0;for(let o=0;o<n;o++){const h=k.readUInt16LE(d,r);r+=2,s[t++]=String.fromCharCode(h)}return s.join("")}class l{constructor(r){this._capacity=r|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const r=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return p().decode(r)}_flushBuffer(){const r=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[r]:this._completedStrings[this._completedStrings.length]=r}write1(r){const n=this._capacity-this._bufferLength;n<=1&&(n===0||v.isHighSurrogate(r))&&this._flushBuffer(),this._buffer[this._bufferLength++]=r}appendASCII(r){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=r}appendASCIIString(r){const n=r.length;if(this._bufferLength+n>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=r;return}for(let s=0;s<n;s++)this._buffer[this._bufferLength++]=r.charCodeAt(s)}}class c{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(r){this._pieces[this._piecesLen++]=String.fromCharCode(r)}appendASCII(r){this._pieces[this._piecesLen++]=String.fromCharCode(r)}appendASCIIString(r){this._pieces[this._piecesLen++]=r}}}),define(J[165],ee([0,1,30,93]),function($,e,v,I){"use strict";var k;Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleLinesCollection=e.RenderedLinesCollection=void 0;class w{constructor(i){this._createLine=i,this._set(1,[])}flush(){this._set(1,[])}_set(i,p){this._lines=p,this._rendLineNumberStart=i}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(i){const p=i-this._rendLineNumberStart;if(p<0||p>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[p]}onLinesDeleted(i,p){if(this.getCount()===0)return null;const u=this.getStartLineNumber(),a=this.getEndLineNumber();if(p<u){const r=p-i+1;return this._rendLineNumberStart-=r,null}if(i>a)return null;let l=0,c=0;for(let r=u;r<=a;r++){const n=r-this._rendLineNumberStart;i<=r&&r<=p&&(c===0?(l=n,c=1):c++)}if(i<u){let r=0;p<u?r=p-i+1:r=u-i,this._rendLineNumberStart-=r}return this._lines.splice(l,c)}onLinesChanged(i,p){if(this.getCount()===0)return!1;const u=this.getStartLineNumber(),a=this.getEndLineNumber();let l=!1;for(let c=i;c<=p;c++)c>=u&&c<=a&&(this._lines[c-this._rendLineNumberStart].onContentChanged(),l=!0);return l}onLinesInserted(i,p){if(this.getCount()===0)return null;const u=p-i+1,a=this.getStartLineNumber(),l=this.getEndLineNumber();if(i<=a)return this._rendLineNumberStart+=u,null;if(i>l)return null;if(u+i>l)return this._lines.splice(i-this._rendLineNumberStart,l-i+1);const c=[];for(let t=0;t<u;t++)c[t]=this._createLine();const d=i-this._rendLineNumberStart,r=this._lines.slice(0,d),n=this._lines.slice(d,this._lines.length-u),s=this._lines.slice(this._lines.length-u,this._lines.length);return this._lines=r.concat(c).concat(n),s}onTokensChanged(i){if(this.getCount()===0)return!1;const p=this.getStartLineNumber(),u=this.getEndLineNumber();let a=!1;for(let l=0,c=i.length;l<c;l++){const d=i[l];if(!(d.toLineNumber<p||d.fromLineNumber>u)){const r=Math.max(p,d.fromLineNumber),n=Math.min(u,d.toLineNumber);for(let s=r;s<=n;s++){const t=s-this._rendLineNumberStart;this._lines[t].onTokensChanged(),a=!0}}}return a}}e.RenderedLinesCollection=w;class S{constructor(i){this._host=i,this.domNode=this._createDomNode(),this._linesCollection=new w(()=>this._host.createVisibleLine())}_createDomNode(){const i=(0,v.createFastDomNode)(document.createElement("div"));return i.setClassName("view-layer"),i.setPosition("absolute"),i.domNode.setAttribute("role","presentation"),i.domNode.setAttribute("aria-hidden","true"),i}onConfigurationChanged(i){return!!i.hasChanged(127)}onFlushed(i){return this._linesCollection.flush(),!0}onLinesChanged(i){return this._linesCollection.onLinesChanged(i.fromLineNumber,i.toLineNumber)}onLinesDeleted(i){const p=this._linesCollection.onLinesDeleted(i.fromLineNumber,i.toLineNumber);if(p)for(let u=0,a=p.length;u<a;u++){const l=p[u].getDomNode();l&&this.domNode.domNode.removeChild(l)}return!0}onLinesInserted(i){const p=this._linesCollection.onLinesInserted(i.fromLineNumber,i.toLineNumber);if(p)for(let u=0,a=p.length;u<a;u++){const l=p[u].getDomNode();l&&this.domNode.domNode.removeChild(l)}return!0}onScrollChanged(i){return i.scrollTopChanged}onTokensChanged(i){return this._linesCollection.onTokensChanged(i.ranges)}onZonesChanged(i){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(i){return this._linesCollection.getLine(i)}renderLines(i){const p=this._linesCollection._get(),u=new _(this.domNode.domNode,this._host,i),a={rendLineNumberStart:p.rendLineNumberStart,lines:p.lines,linesLength:p.lines.length},l=u.render(a,i.startLineNumber,i.endLineNumber,i.relativeVerticalOffset);this._linesCollection._set(l.rendLineNumberStart,l.lines)}}e.VisibleLinesCollection=S;class _{constructor(i,p,u){this.domNode=i,this.host=p,this.viewportData=u}render(i,p,u,a){const l={rendLineNumberStart:i.rendLineNumberStart,lines:i.lines.slice(0),linesLength:i.linesLength};if(l.rendLineNumberStart+l.linesLength-1<p||u<l.rendLineNumberStart){l.rendLineNumberStart=p,l.linesLength=u-p+1,l.lines=[];for(let c=p;c<=u;c++)l.lines[c-p]=this.host.createVisibleLine();return this._finishRendering(l,!0,a),l}if(this._renderUntouchedLines(l,Math.max(p-l.rendLineNumberStart,0),Math.min(u-l.rendLineNumberStart,l.linesLength-1),a,p),l.rendLineNumberStart>p){const c=p,d=Math.min(u,l.rendLineNumberStart-1);c<=d&&(this._insertLinesBefore(l,c,d,a,p),l.linesLength+=d-c+1)}else if(l.rendLineNumberStart<p){const c=Math.min(l.linesLength,p-l.rendLineNumberStart);c>0&&(this._removeLinesBefore(l,c),l.linesLength-=c)}if(l.rendLineNumberStart=p,l.rendLineNumberStart+l.linesLength-1<u){const c=l.rendLineNumberStart+l.linesLength,d=u;c<=d&&(this._insertLinesAfter(l,c,d,a,p),l.linesLength+=d-c+1)}else if(l.rendLineNumberStart+l.linesLength-1>u){const c=Math.max(0,u-l.rendLineNumberStart+1),r=l.linesLength-1-c+1;r>0&&(this._removeLinesAfter(l,r),l.linesLength-=r)}return this._finishRendering(l,!1,a),l}_renderUntouchedLines(i,p,u,a,l){const c=i.rendLineNumberStart,d=i.lines;for(let r=p;r<=u;r++){const n=c+r;d[r].layoutLine(n,a[n-l])}}_insertLinesBefore(i,p,u,a,l){const c=[];let d=0;for(let r=p;r<=u;r++)c[d++]=this.host.createVisibleLine();i.lines=c.concat(i.lines)}_removeLinesBefore(i,p){for(let u=0;u<p;u++){const a=i.lines[u].getDomNode();a&&this.domNode.removeChild(a)}i.lines.splice(0,p)}_insertLinesAfter(i,p,u,a,l){const c=[];let d=0;for(let r=p;r<=u;r++)c[d++]=this.host.createVisibleLine();i.lines=i.lines.concat(c)}_removeLinesAfter(i,p){const u=i.linesLength-p;for(let a=0;a<p;a++){const l=i.lines[u+a].getDomNode();l&&this.domNode.removeChild(l)}i.lines.splice(u,p)}_finishRenderingNewLines(i,p,u,a){_._ttPolicy&&(u=_._ttPolicy.createHTML(u));const l=this.domNode.lastChild;p||!l?this.domNode.innerHTML=u:l.insertAdjacentHTML("afterend",u);let c=this.domNode.lastChild;for(let d=i.linesLength-1;d>=0;d--){const r=i.lines[d];a[d]&&(r.setDomNode(c),c=c.previousSibling)}}_finishRenderingInvalidLines(i,p,u){const a=document.createElement("div");_._ttPolicy&&(p=_._ttPolicy.createHTML(p)),a.innerHTML=p;for(let l=0;l<i.linesLength;l++){const c=i.lines[l];if(u[l]){const d=a.firstChild,r=c.getDomNode();r.parentNode.replaceChild(d,r),c.setDomNode(d)}}}_finishRendering(i,p,u){const a=_._sb,l=i.linesLength,c=i.lines,d=i.rendLineNumberStart,r=[];{a.reset();let n=!1;for(let s=0;s<l;s++){const t=c[s];r[s]=!1,!t.getDomNode()&&(!t.renderLine(s+d,u[s],this.viewportData,a)||(r[s]=!0,n=!0))}n&&this._finishRenderingNewLines(i,p,a.build(),r)}{a.reset();let n=!1;const s=[];for(let t=0;t<l;t++){const o=c[t];s[t]=!1,!r[t]&&(!o.renderLine(t+d,u[t],this.viewportData,a)||(s[t]=!0,n=!0))}n&&this._finishRenderingInvalidLines(i,a.build(),s)}}}_._ttPolicy=(k=window.trustedTypes)===null||k===void 0?void 0:k.createPolicy("editorViewLayer",{createHTML:C=>C}),_._sb=(0,I.createStringBuilder)(1e5)}),define(J[128],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationResult2=e.TokenizationResult=e.Token=void 0;class v{constructor(S,_,C){this.offset=S|0,this.type=_,this.language=C}toString(){return"("+this.offset+", "+this.type+")"}}e.Token=v;class I{constructor(S,_){this.tokens=S,this.endState=_}}e.TokenizationResult=I;class k{constructor(S,_){this.tokens=S,this.endState=_}}e.TokenizationResult2=k}),define(J[369],ee([0,1,153,8]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffComputer=void 0;const k=3;function w(d,r,n,s){return new v.LcsDiff(d,r,n).ComputeDiff(s)}class S{constructor(r){const n=[],s=[];for(let t=0,o=r.length;t<o;t++)n[t]=a(r[t],1),s[t]=l(r[t],1);this.lines=r,this._startColumns=n,this._endColumns=s}getElements(){const r=[];for(let n=0,s=this.lines.length;n<s;n++)r[n]=this.lines[n].substring(this._startColumns[n]-1,this._endColumns[n]-1);return r}getStartLineNumber(r){return r+1}getEndLineNumber(r){return r+1}createCharSequence(r,n,s){const t=[],o=[],h=[];let g=0;for(let m=n;m<=s;m++){const f=this.lines[m],b=r?this._startColumns[m]:1,y=r?this._endColumns[m]:f.length+1;for(let L=b;L<y;L++)t[g]=f.charCodeAt(L-1),o[g]=m+1,h[g]=L,g++}return new _(t,o,h)}}class _{constructor(r,n,s){this._charCodes=r,this._lineNumbers=n,this._columns=s}getElements(){return this._charCodes}getStartLineNumber(r){return this._lineNumbers[r]}getStartColumn(r){return this._columns[r]}getEndLineNumber(r){return this._lineNumbers[r]}getEndColumn(r){return this._columns[r]+1}}class C{constructor(r,n,s,t,o,h,g,m){this.originalStartLineNumber=r,this.originalStartColumn=n,this.originalEndLineNumber=s,this.originalEndColumn=t,this.modifiedStartLineNumber=o,this.modifiedStartColumn=h,this.modifiedEndLineNumber=g,this.modifiedEndColumn=m}static createFromDiffChange(r,n,s){let t,o,h,g,m,f,b,y;return r.originalLength===0?(t=0,o=0,h=0,g=0):(t=n.getStartLineNumber(r.originalStart),o=n.getStartColumn(r.originalStart),h=n.getEndLineNumber(r.originalStart+r.originalLength-1),g=n.getEndColumn(r.originalStart+r.originalLength-1)),r.modifiedLength===0?(m=0,f=0,b=0,y=0):(m=s.getStartLineNumber(r.modifiedStart),f=s.getStartColumn(r.modifiedStart),b=s.getEndLineNumber(r.modifiedStart+r.modifiedLength-1),y=s.getEndColumn(r.modifiedStart+r.modifiedLength-1)),new C(t,o,h,g,m,f,b,y)}}function i(d){if(d.length<=1)return d;const r=[d[0]];let n=r[0];for(let s=1,t=d.length;s<t;s++){const o=d[s],h=o.originalStart-(n.originalStart+n.originalLength),g=o.modifiedStart-(n.modifiedStart+n.modifiedLength);Math.min(h,g)<k?(n.originalLength=o.originalStart+o.originalLength-n.originalStart,n.modifiedLength=o.modifiedStart+o.modifiedLength-n.modifiedStart):(r.push(o),n=o)}return r}class p{constructor(r,n,s,t,o){this.originalStartLineNumber=r,this.originalEndLineNumber=n,this.modifiedStartLineNumber=s,this.modifiedEndLineNumber=t,this.charChanges=o}static createFromDiffResult(r,n,s,t,o,h,g){let m,f,b,y,L;if(n.originalLength===0?(m=s.getStartLineNumber(n.originalStart)-1,f=0):(m=s.getStartLineNumber(n.originalStart),f=s.getEndLineNumber(n.originalStart+n.originalLength-1)),n.modifiedLength===0?(b=t.getStartLineNumber(n.modifiedStart)-1,y=0):(b=t.getStartLineNumber(n.modifiedStart),y=t.getEndLineNumber(n.modifiedStart+n.modifiedLength-1)),h&&n.originalLength>0&&n.originalLength<20&&n.modifiedLength>0&&n.modifiedLength<20&&o()){const N=s.createCharSequence(r,n.originalStart,n.originalStart+n.originalLength-1),M=t.createCharSequence(r,n.modifiedStart,n.modifiedStart+n.modifiedLength-1);let D=w(N,M,o,!0).changes;g&&(D=i(D)),L=[];for(let R=0,P=D.length;R<P;R++)L.push(C.createFromDiffChange(D[R],N,M))}return new p(m,f,b,y,L)}}class u{constructor(r,n,s){this.shouldComputeCharChanges=s.shouldComputeCharChanges,this.shouldPostProcessCharChanges=s.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=s.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=s.shouldMakePrettyDiff,this.originalLines=r,this.modifiedLines=n,this.original=new S(r),this.modified=new S(n),this.continueLineDiff=c(s.maxComputationTime),this.continueCharDiff=c(s.maxComputationTime===0?0:Math.min(s.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const r=w(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),n=r.changes,s=r.quitEarly;if(this.shouldIgnoreTrimWhitespace){const g=[];for(let m=0,f=n.length;m<f;m++)g.push(p.createFromDiffResult(this.shouldIgnoreTrimWhitespace,n[m],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:s,changes:g}}const t=[];let o=0,h=0;for(let g=-1,m=n.length;g<m;g++){const f=g+1<m?n[g+1]:null,b=f?f.originalStart:this.originalLines.length,y=f?f.modifiedStart:this.modifiedLines.length;for(;o<b&&h<y;){const L=this.originalLines[o],N=this.modifiedLines[h];if(L!==N){{let M=a(L,1),D=a(N,1);for(;M>1&&D>1;){const R=L.charCodeAt(M-2),P=N.charCodeAt(D-2);if(R!==P)break;M--,D--}(M>1||D>1)&&this._pushTrimWhitespaceCharChange(t,o+1,1,M,h+1,1,D)}{let M=l(L,1),D=l(N,1);const R=L.length+1,P=N.length+1;for(;M<R&&D<P;){const O=L.charCodeAt(M-1),W=L.charCodeAt(D-1);if(O!==W)break;M++,D++}(M<R||D<P)&&this._pushTrimWhitespaceCharChange(t,o+1,M,R,h+1,D,P)}}o++,h++}f&&(t.push(p.createFromDiffResult(this.shouldIgnoreTrimWhitespace,f,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),o+=f.originalLength,h+=f.modifiedLength)}return{quitEarly:s,changes:t}}_pushTrimWhitespaceCharChange(r,n,s,t,o,h,g){if(!this._mergeTrimWhitespaceCharChange(r,n,s,t,o,h,g)){let m;this.shouldComputeCharChanges&&(m=[new C(n,s,n,t,o,h,o,g)]),r.push(new p(n,n,o,o,m))}}_mergeTrimWhitespaceCharChange(r,n,s,t,o,h,g){const m=r.length;if(m===0)return!1;const f=r[m-1];return f.originalEndLineNumber===0||f.modifiedEndLineNumber===0?!1:f.originalEndLineNumber+1===n&&f.modifiedEndLineNumber+1===o?(f.originalEndLineNumber=n,f.modifiedEndLineNumber=o,this.shouldComputeCharChanges&&f.charChanges&&f.charChanges.push(new C(n,s,n,t,o,h,o,g)),!0):!1}}e.DiffComputer=u;function a(d,r){const n=I.firstNonWhitespaceIndex(d);return n===-1?r:n+1}function l(d,r){const n=I.lastNonWhitespaceIndex(d);return n===-1?r:n+2}function c(d){if(d===0)return()=>!0;const r=Date.now();return()=>Date.now()-r<d}}),define(J[218],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalEditorAction=void 0;class v{constructor(k,w,S,_,C,i){this.id=k,this.label=w,this.alias=S,this._precondition=_,this._run=C,this._contextKeyService=i}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}e.InternalEditorAction=v}),define(J[107],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorType=e.isThemeColor=void 0;function v(I){return I&&typeof I.id=="string"}e.isThemeColor=v,e.EditorType={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}}),define(J[108],ee([0,1,107]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeEditor=e.isDiffEditor=e.isCodeEditor=void 0;function I(S){return S&&typeof S.getEditorType=="function"?S.getEditorType()===v.EditorType.ICodeEditor:!1}e.isCodeEditor=I;function k(S){return S&&typeof S.getEditorType=="function"?S.getEditorType()===v.EditorType.IDiffEditor:!1}e.isDiffEditor=k;function w(S){return I(S)?S:k(S)?S.getModifiedEditor():null}e.getCodeEditor=w}),define(J[53],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ApplyEditsResult=e.ValidAnnotatedEditOperation=e.FindMatch=e.TextModelResolvedOptions=e.MinimapPosition=e.OverviewRulerLane=void 0;var v;(function(C){C[C.Left=1]="Left",C[C.Center=2]="Center",C[C.Right=4]="Right",C[C.Full=7]="Full"})(v=e.OverviewRulerLane||(e.OverviewRulerLane={}));var I;(function(C){C[C.Inline=1]="Inline",C[C.Gutter=2]="Gutter"})(I=e.MinimapPosition||(e.MinimapPosition={}));class k{constructor(i){this.tabSize=Math.max(1,i.tabSize|0),this.indentSize=i.tabSize|0,this.insertSpaces=Boolean(i.insertSpaces),this.defaultEOL=i.defaultEOL|0,this.trimAutoWhitespace=Boolean(i.trimAutoWhitespace)}equals(i){return this.tabSize===i.tabSize&&this.indentSize===i.indentSize&&this.insertSpaces===i.insertSpaces&&this.defaultEOL===i.defaultEOL&&this.trimAutoWhitespace===i.trimAutoWhitespace}createChangeEvent(i){return{tabSize:this.tabSize!==i.tabSize,indentSize:this.indentSize!==i.indentSize,insertSpaces:this.insertSpaces!==i.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==i.trimAutoWhitespace}}}e.TextModelResolvedOptions=k;class w{constructor(i,p){this.range=i,this.matches=p}}e.FindMatch=w;class S{constructor(i,p,u,a,l,c){this.identifier=i,this.range=p,this.text=u,this.forceMoveMarkers=a,this.isAutoWhitespaceEdit=l,this._isTracked=c}}e.ValidAnnotatedEditOperation=S;class _{constructor(i,p,u){this.reverseEdits=i,this.changes=p,this.trimAutoWhitespaceLineNumbers=u}}e.ApplyEditsResult=_}),define(J[370],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.guessIndentation=void 0;class v{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function I(w,S,_,C,i){i.spacesDiff=0,i.looksLikeAlignment=!1;let p;for(p=0;p<S&&p<C;p++){let n=w.charCodeAt(p),s=_.charCodeAt(p);if(n!==s)break}let u=0,a=0;for(let n=p;n<S;n++)w.charCodeAt(n)===32?u++:a++;let l=0,c=0;for(let n=p;n<C;n++)_.charCodeAt(n)===32?l++:c++;if(!(u>0&&a>0)&&!(l>0&&c>0)){let d=Math.abs(a-c),r=Math.abs(u-l);if(d===0){i.spacesDiff=r,r>0&&0<=l-1&&l-1<w.length&&l<_.length&&_.charCodeAt(l)!==32&&w.charCodeAt(l-1)===32&&w.charCodeAt(w.length-1)===44&&(i.looksLikeAlignment=!0);return}if(r%d==0){i.spacesDiff=r/d;return}}}function k(w,S,_){const C=Math.min(w.getLineCount(),1e4);let i=0,p=0,u="",a=0;const l=[2,4,6,8,3,5,7],c=8;let d=[0,0,0,0,0,0,0,0,0],r=new v;for(let t=1;t<=C;t++){let o=w.getLineLength(t),h=w.getLineContent(t);const g=o<=65536;let m=!1,f=0,b=0,y=0;for(let N=0,M=o;N<M;N++){let D=g?h.charCodeAt(N):w.getLineCharCode(t,N);if(D===9)y++;else if(D===32)b++;else{m=!0,f=N;break}}if(!!m&&(y>0?i++:b>1&&p++,I(u,a,h,f,r),!(r.looksLikeAlignment&&!(_&&S===r.spacesDiff)))){let L=r.spacesDiff;L<=c&&d[L]++,u=h,a=f}}let n=_;i!==p&&(n=i<p);let s=S;if(n){let t=n?0:.1*C;l.forEach(o=>{let h=d[o];h>t&&(t=h,s=o)}),s===4&&d[4]>0&&d[2]>0&&d[2]>=d[4]/2&&(s=2)}return{insertSpaces:n,tabSize:s}}e.guessIndentation=k}),define(J[371],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.intervalCompare=e.recomputeMaxEnd=e.nodeAcceptEdit=e.IntervalTree=e.SENTINEL=e.IntervalNode=e.getNodeIsInOverviewRuler=e.getNodeColor=void 0;function v(E){return(E.metadata&1)>>>0}e.getNodeColor=v;function I(E,A){E.metadata=E.metadata&254|A<<0}function k(E){return(E.metadata&2)>>>1==1}function w(E,A){E.metadata=E.metadata&253|(A?1:0)<<1}function S(E){return(E.metadata&4)>>>2==1}function _(E,A){E.metadata=E.metadata&251|(A?1:0)<<2}function C(E){return(E.metadata&8)>>>3==1}e.getNodeIsInOverviewRuler=C;function i(E,A){E.metadata=E.metadata&247|(A?1:0)<<3}function p(E){return(E.metadata&48)>>>4}function u(E,A){E.metadata=E.metadata&207|A<<4}function a(E){return(E.metadata&64)>>>6==1}function l(E,A){E.metadata=E.metadata&191|(A?1:0)<<6}class c{constructor(A,B,H){this.metadata=0,this.parent=this,this.left=this,this.right=this,I(this,1),this.start=B,this.end=H,this.delta=0,this.maxEnd=H,this.id=A,this.ownerId=0,this.options=null,_(this,!1),u(this,1),i(this,!1),l(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=B,this.cachedAbsoluteEnd=H,this.range=null,w(this,!1)}reset(A,B,H,K){this.start=B,this.end=H,this.maxEnd=H,this.cachedVersionId=A,this.cachedAbsoluteStart=B,this.cachedAbsoluteEnd=H,this.range=K}setOptions(A){this.options=A;let B=this.options.className;_(this,B==="squiggly-error"||B==="squiggly-warning"||B==="squiggly-info"),u(this,this.options.stickiness),i(this,!!(this.options.overviewRuler&&this.options.overviewRuler.color)),l(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(A,B,H){this.cachedVersionId!==H&&(this.range=null),this.cachedVersionId=H,this.cachedAbsoluteStart=A,this.cachedAbsoluteEnd=B}detach(){this.parent=null,this.left=null,this.right=null}}e.IntervalNode=c,e.SENTINEL=new c(null,0,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,I(e.SENTINEL,0);class d{constructor(){this.root=e.SENTINEL,this.requestNormalizeDelta=!1}intervalSearch(A,B,H,K,q){return this.root===e.SENTINEL?[]:f(this,A,B,H,K,q)}search(A,B,H){return this.root===e.SENTINEL?[]:m(this,A,B,H)}collectNodesFromOwner(A){return h(this,A)}collectNodesPostOrder(){return g(this)}insert(A){b(this,A),this._normalizeDeltaIfNecessary()}delete(A){L(this,A),this._normalizeDeltaIfNecessary()}resolveNode(A,B){const H=A;let K=0;for(;A!==this.root;)A===A.parent.right&&(K+=A.parent.delta),A=A.parent;const q=H.start+K,Y=H.end+K;H.setCachedOffsets(q,Y,B)}acceptReplace(A,B,H,K){const q=t(this,A,A+B);for(let Y=0,te=q.length;Y<te;Y++){const ie=q[Y];L(this,ie)}this._normalizeDeltaIfNecessary(),o(this,A,A+B,H),this._normalizeDeltaIfNecessary();for(let Y=0,te=q.length;Y<te;Y++){const ie=q[Y];ie.start=ie.cachedAbsoluteStart,ie.end=ie.cachedAbsoluteEnd,s(ie,A,A+B,H,K),ie.maxEnd=ie.end,b(this,ie)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){!this.requestNormalizeDelta||(this.requestNormalizeDelta=!1,r(this))}}e.IntervalTree=d;function r(E){let A=E.root,B=0;for(;A!==e.SENTINEL;){if(A.left!==e.SENTINEL&&!k(A.left)){A=A.left;continue}if(A.right!==e.SENTINEL&&!k(A.right)){B+=A.delta,A=A.right;continue}A.start=B+A.start,A.end=B+A.end,A.delta=0,O(A),w(A,!0),w(A.left,!1),w(A.right,!1),A===A.parent.right&&(B-=A.parent.delta),A=A.parent}w(E.root,!1)}function n(E,A,B,H){return E<B?!0:E>B||H===1?!1:H===2?!0:A}function s(E,A,B,H,K){const q=p(E),Y=q===0||q===2,te=q===1||q===2,ie=B-A,ae=H,le=Math.min(ie,ae),Z=E.start;let T=!1;const x=E.end;let z=!1;A<=Z&&x<=B&&a(E)&&(E.start=A,T=!0,E.end=A,z=!0);{const U=K?1:ie>0?2:0;!T&&n(Z,Y,A,U)&&(T=!0),!z&&n(x,te,A,U)&&(z=!0)}if(le>0&&!K){const U=ie>ae?2:0;!T&&n(Z,Y,A+le,U)&&(T=!0),!z&&n(x,te,A+le,U)&&(z=!0)}{const U=K?1:0;!T&&n(Z,Y,B,U)&&(E.start=A+ae,T=!0),!z&&n(x,te,B,U)&&(E.end=A+ae,z=!0)}const V=ae-ie;T||(E.start=Math.max(0,Z+V)),z||(E.end=Math.max(0,x+V)),E.start>E.end&&(E.end=E.start)}e.nodeAcceptEdit=s;function t(E,A,B){let H=E.root,K=0,q=0,Y=0,te=0,ie=[],ae=0;for(;H!==e.SENTINEL;){if(k(H)){w(H.left,!1),w(H.right,!1),H===H.parent.right&&(K-=H.parent.delta),H=H.parent;continue}if(!k(H.left)){if(q=K+H.maxEnd,q<A){w(H,!0);continue}if(H.left!==e.SENTINEL){H=H.left;continue}}if(Y=K+H.start,Y>B){w(H,!0);continue}if(te=K+H.end,te>=A&&(H.setCachedOffsets(Y,te,0),ie[ae++]=H),w(H,!0),H.right!==e.SENTINEL&&!k(H.right)){K+=H.delta,H=H.right;continue}}return w(E.root,!1),ie}function o(E,A,B,H){let K=E.root,q=0,Y=0,te=0;const ie=H-(B-A);for(;K!==e.SENTINEL;){if(k(K)){w(K.left,!1),w(K.right,!1),K===K.parent.right&&(q-=K.parent.delta),O(K),K=K.parent;continue}if(!k(K.left)){if(Y=q+K.maxEnd,Y<A){w(K,!0);continue}if(K.left!==e.SENTINEL){K=K.left;continue}}if(te=q+K.start,te>B){K.start+=ie,K.end+=ie,K.delta+=ie,(K.delta<-1073741824||K.delta>1073741824)&&(E.requestNormalizeDelta=!0),w(K,!0);continue}if(w(K,!0),K.right!==e.SENTINEL&&!k(K.right)){q+=K.delta,K=K.right;continue}}w(E.root,!1)}function h(E,A){let B=E.root,H=[],K=0;for(;B!==e.SENTINEL;){if(k(B)){w(B.left,!1),w(B.right,!1),B=B.parent;continue}if(B.left!==e.SENTINEL&&!k(B.left)){B=B.left;continue}if(B.ownerId===A&&(H[K++]=B),w(B,!0),B.right!==e.SENTINEL&&!k(B.right)){B=B.right;continue}}return w(E.root,!1),H}function g(E){let A=E.root,B=[],H=0;for(;A!==e.SENTINEL;){if(k(A)){w(A.left,!1),w(A.right,!1),A=A.parent;continue}if(A.left!==e.SENTINEL&&!k(A.left)){A=A.left;continue}if(A.right!==e.SENTINEL&&!k(A.right)){A=A.right;continue}B[H++]=A,w(A,!0)}return w(E.root,!1),B}function m(E,A,B,H){let K=E.root,q=0,Y=0,te=0,ie=[],ae=0;for(;K!==e.SENTINEL;){if(k(K)){w(K.left,!1),w(K.right,!1),K===K.parent.right&&(q-=K.parent.delta),K=K.parent;continue}if(K.left!==e.SENTINEL&&!k(K.left)){K=K.left;continue}Y=q+K.start,te=q+K.end,K.setCachedOffsets(Y,te,H);let le=!0;if(A&&K.ownerId&&K.ownerId!==A&&(le=!1),B&&S(K)&&(le=!1),le&&(ie[ae++]=K),w(K,!0),K.right!==e.SENTINEL&&!k(K.right)){q+=K.delta,K=K.right;continue}}return w(E.root,!1),ie}function f(E,A,B,H,K,q){let Y=E.root,te=0,ie=0,ae=0,le=0,Z=[],T=0;for(;Y!==e.SENTINEL;){if(k(Y)){w(Y.left,!1),w(Y.right,!1),Y===Y.parent.right&&(te-=Y.parent.delta),Y=Y.parent;continue}if(!k(Y.left)){if(ie=te+Y.maxEnd,ie<A){w(Y,!0);continue}if(Y.left!==e.SENTINEL){Y=Y.left;continue}}if(ae=te+Y.start,ae>B){w(Y,!0);continue}if(le=te+Y.end,le>=A){Y.setCachedOffsets(ae,le,q);let x=!0;H&&Y.ownerId&&Y.ownerId!==H&&(x=!1),K&&S(Y)&&(x=!1),x&&(Z[T++]=Y)}if(w(Y,!0),Y.right!==e.SENTINEL&&!k(Y.right)){te+=Y.delta,Y=Y.right;continue}}return w(E.root,!1),Z}function b(E,A){if(E.root===e.SENTINEL)return A.parent=e.SENTINEL,A.left=e.SENTINEL,A.right=e.SENTINEL,I(A,0),E.root=A,E.root;y(E,A),W(A.parent);let B=A;for(;B!==E.root&&v(B.parent)===1;)if(B.parent===B.parent.parent.left){const H=B.parent.parent.right;v(H)===1?(I(B.parent,0),I(H,0),I(B.parent.parent,1),B=B.parent.parent):(B===B.parent.right&&(B=B.parent,D(E,B)),I(B.parent,0),I(B.parent.parent,1),R(E,B.parent.parent))}else{const H=B.parent.parent.left;v(H)===1?(I(B.parent,0),I(H,0),I(B.parent.parent,1),B=B.parent.parent):(B===B.parent.left&&(B=B.parent,R(E,B)),I(B.parent,0),I(B.parent.parent,1),D(E,B.parent.parent))}return I(E.root,0),A}function y(E,A){let B=0,H=E.root;const K=A.start,q=A.end;for(;;)if(F(K,q,H.start+B,H.end+B)<0)if(H.left===e.SENTINEL){A.start-=B,A.end-=B,A.maxEnd-=B,H.left=A;break}else H=H.left;else if(H.right===e.SENTINEL){A.start-=B+H.delta,A.end-=B+H.delta,A.maxEnd-=B+H.delta,H.right=A;break}else B+=H.delta,H=H.right;A.parent=H,A.left=e.SENTINEL,A.right=e.SENTINEL,I(A,1)}function L(E,A){let B,H;if(A.left===e.SENTINEL?(B=A.right,H=A,B.delta+=A.delta,(B.delta<-1073741824||B.delta>1073741824)&&(E.requestNormalizeDelta=!0),B.start+=A.delta,B.end+=A.delta):A.right===e.SENTINEL?(B=A.left,H=A):(H=N(A.right),B=H.right,B.start+=H.delta,B.end+=H.delta,B.delta+=H.delta,(B.delta<-1073741824||B.delta>1073741824)&&(E.requestNormalizeDelta=!0),H.start+=A.delta,H.end+=A.delta,H.delta=A.delta,(H.delta<-1073741824||H.delta>1073741824)&&(E.requestNormalizeDelta=!0)),H===E.root){E.root=B,I(B,0),A.detach(),M(),O(B),E.root.parent=e.SENTINEL;return}let K=v(H)===1;if(H===H.parent.left?H.parent.left=B:H.parent.right=B,H===A?B.parent=H.parent:(H.parent===A?B.parent=H:B.parent=H.parent,H.left=A.left,H.right=A.right,H.parent=A.parent,I(H,v(A)),A===E.root?E.root=H:A===A.parent.left?A.parent.left=H:A.parent.right=H,H.left!==e.SENTINEL&&(H.left.parent=H),H.right!==e.SENTINEL&&(H.right.parent=H)),A.detach(),K){W(B.parent),H!==A&&(W(H),W(H.parent)),M();return}W(B),W(B.parent),H!==A&&(W(H),W(H.parent));let q;for(;B!==E.root&&v(B)===0;)B===B.parent.left?(q=B.parent.right,v(q)===1&&(I(q,0),I(B.parent,1),D(E,B.parent),q=B.parent.right),v(q.left)===0&&v(q.right)===0?(I(q,1),B=B.parent):(v(q.right)===0&&(I(q.left,0),I(q,1),R(E,q),q=B.parent.right),I(q,v(B.parent)),I(B.parent,0),I(q.right,0),D(E,B.parent),B=E.root)):(q=B.parent.left,v(q)===1&&(I(q,0),I(B.parent,1),R(E,B.parent),q=B.parent.left),v(q.left)===0&&v(q.right)===0?(I(q,1),B=B.parent):(v(q.left)===0&&(I(q.right,0),I(q,1),D(E,q),q=B.parent.left),I(q,v(B.parent)),I(B.parent,0),I(q.left,0),R(E,B.parent),B=E.root));I(B,0),M()}function N(E){for(;E.left!==e.SENTINEL;)E=E.left;return E}function M(){e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.delta=0,e.SENTINEL.start=0,e.SENTINEL.end=0}function D(E,A){const B=A.right;B.delta+=A.delta,(B.delta<-1073741824||B.delta>1073741824)&&(E.requestNormalizeDelta=!0),B.start+=A.delta,B.end+=A.delta,A.right=B.left,B.left!==e.SENTINEL&&(B.left.parent=A),B.parent=A.parent,A.parent===e.SENTINEL?E.root=B:A===A.parent.left?A.parent.left=B:A.parent.right=B,B.left=A,A.parent=B,O(A),O(B)}function R(E,A){const B=A.left;A.delta-=B.delta,(A.delta<-1073741824||A.delta>1073741824)&&(E.requestNormalizeDelta=!0),A.start-=B.delta,A.end-=B.delta,A.left=B.right,B.right!==e.SENTINEL&&(B.right.parent=A),B.parent=A.parent,A.parent===e.SENTINEL?E.root=B:A===A.parent.right?A.parent.right=B:A.parent.left=B,B.right=A,A.parent=B,O(A),O(B)}function P(E){let A=E.end;if(E.left!==e.SENTINEL){const B=E.left.maxEnd;B>A&&(A=B)}if(E.right!==e.SENTINEL){const B=E.right.maxEnd+E.delta;B>A&&(A=B)}return A}function O(E){E.maxEnd=P(E)}e.recomputeMaxEnd=O;function W(E){for(;E!==e.SENTINEL;){const A=P(E);if(E.maxEnd===A)return;E.maxEnd=A,E=E.parent}}function F(E,A,B,H){return E===B?A-H:E-B}e.intervalCompare=F}),define(J[372],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.recomputeTreeMetadata=e.updateTreeMetadata=e.fixInsert=e.rbDelete=e.rightRotate=e.leftRotate=e.resetSentinel=e.calculateLF=e.calculateSize=e.righttest=e.leftest=e.SENTINEL=e.TreeNode=void 0;class v{constructor(d,r){this.piece=d,this.color=r,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==e.SENTINEL)return I(this.right);let d=this;for(;d.parent!==e.SENTINEL&&d.parent.left!==d;)d=d.parent;return d.parent===e.SENTINEL?e.SENTINEL:d.parent}prev(){if(this.left!==e.SENTINEL)return k(this.left);let d=this;for(;d.parent!==e.SENTINEL&&d.parent.right!==d;)d=d.parent;return d.parent===e.SENTINEL?e.SENTINEL:d.parent}detach(){this.parent=null,this.left=null,this.right=null}}e.TreeNode=v,e.SENTINEL=new v(null,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,e.SENTINEL.color=0;function I(c){for(;c.left!==e.SENTINEL;)c=c.left;return c}e.leftest=I;function k(c){for(;c.right!==e.SENTINEL;)c=c.right;return c}e.righttest=k;function w(c){return c===e.SENTINEL?0:c.size_left+c.piece.length+w(c.right)}e.calculateSize=w;function S(c){return c===e.SENTINEL?0:c.lf_left+c.piece.lineFeedCnt+S(c.right)}e.calculateLF=S;function _(){e.SENTINEL.parent=e.SENTINEL}e.resetSentinel=_;function C(c,d){let r=d.right;r.size_left+=d.size_left+(d.piece?d.piece.length:0),r.lf_left+=d.lf_left+(d.piece?d.piece.lineFeedCnt:0),d.right=r.left,r.left!==e.SENTINEL&&(r.left.parent=d),r.parent=d.parent,d.parent===e.SENTINEL?c.root=r:d.parent.left===d?d.parent.left=r:d.parent.right=r,r.left=d,d.parent=r}e.leftRotate=C;function i(c,d){let r=d.left;d.left=r.right,r.right!==e.SENTINEL&&(r.right.parent=d),r.parent=d.parent,d.size_left-=r.size_left+(r.piece?r.piece.length:0),d.lf_left-=r.lf_left+(r.piece?r.piece.lineFeedCnt:0),d.parent===e.SENTINEL?c.root=r:d===d.parent.right?d.parent.right=r:d.parent.left=r,r.right=d,d.parent=r}e.rightRotate=i;function p(c,d){let r,n;if(d.left===e.SENTINEL?(n=d,r=n.right):d.right===e.SENTINEL?(n=d,r=n.left):(n=I(d.right),r=n.right),n===c.root){c.root=r,r.color=0,d.detach(),_(),c.root.parent=e.SENTINEL;return}let s=n.color===1;if(n===n.parent.left?n.parent.left=r:n.parent.right=r,n===d?(r.parent=n.parent,l(c,r)):(n.parent===d?r.parent=n:r.parent=n.parent,l(c,r),n.left=d.left,n.right=d.right,n.parent=d.parent,n.color=d.color,d===c.root?c.root=n:d===d.parent.left?d.parent.left=n:d.parent.right=n,n.left!==e.SENTINEL&&(n.left.parent=n),n.right!==e.SENTINEL&&(n.right.parent=n),n.size_left=d.size_left,n.lf_left=d.lf_left,l(c,n)),d.detach(),r.parent.left===r){let o=w(r),h=S(r);if(o!==r.parent.size_left||h!==r.parent.lf_left){let g=o-r.parent.size_left,m=h-r.parent.lf_left;r.parent.size_left=o,r.parent.lf_left=h,a(c,r.parent,g,m)}}if(l(c,r.parent),s){_();return}let t;for(;r!==c.root&&r.color===0;)r===r.parent.left?(t=r.parent.right,t.color===1&&(t.color=0,r.parent.color=1,C(c,r.parent),t=r.parent.right),t.left.color===0&&t.right.color===0?(t.color=1,r=r.parent):(t.right.color===0&&(t.left.color=0,t.color=1,i(c,t),t=r.parent.right),t.color=r.parent.color,r.parent.color=0,t.right.color=0,C(c,r.parent),r=c.root)):(t=r.parent.left,t.color===1&&(t.color=0,r.parent.color=1,i(c,r.parent),t=r.parent.left),t.left.color===0&&t.right.color===0?(t.color=1,r=r.parent):(t.left.color===0&&(t.right.color=0,t.color=1,C(c,t),t=r.parent.left),t.color=r.parent.color,r.parent.color=0,t.left.color=0,i(c,r.parent),r=c.root));r.color=0,_()}e.rbDelete=p;function u(c,d){for(l(c,d);d!==c.root&&d.parent.color===1;)if(d.parent===d.parent.parent.left){const r=d.parent.parent.right;r.color===1?(d.parent.color=0,r.color=0,d.parent.parent.color=1,d=d.parent.parent):(d===d.parent.right&&(d=d.parent,C(c,d)),d.parent.color=0,d.parent.parent.color=1,i(c,d.parent.parent))}else{const r=d.parent.parent.left;r.color===1?(d.parent.color=0,r.color=0,d.parent.parent.color=1,d=d.parent.parent):(d===d.parent.left&&(d=d.parent,i(c,d)),d.parent.color=0,d.parent.parent.color=1,C(c,d.parent.parent))}c.root.color=0}e.fixInsert=u;function a(c,d,r,n){for(;d!==c.root&&d!==e.SENTINEL;)d.parent.left===d&&(d.parent.size_left+=r,d.parent.lf_left+=n),d=d.parent}e.updateTreeMetadata=a;function l(c,d){let r=0,n=0;if(d!==c.root){if(r===0){for(;d!==c.root&&d===d.parent.right;)d=d.parent;if(d===c.root)return;d=d.parent,r=w(d.left)-d.size_left,n=S(d.left)-d.lf_left,d.size_left+=r,d.lf_left+=n}for(;d!==c.root&&(r!==0||n!==0);)d.parent.left===d&&(d.parent.size_left+=r,d.parent.lf_left+=n),d=d.parent}}e.recomputeTreeMetadata=l}),define(J[219],ee([0,1,101,93]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compressConsecutiveTextChanges=e.TextChange=void 0;function k(C){return C.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class w{constructor(i,p,u,a){this.oldPosition=i,this.oldText=p,this.newPosition=u,this.newText=a}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${k(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${k(this.oldText)}")`:`(replace@${this.oldPosition} "${k(this.oldText)}" with "${k(this.newText)}")`}static _writeStringSize(i){return 4+2*i.length}static _writeString(i,p,u){const a=p.length;v.writeUInt32BE(i,a,u),u+=4;for(let l=0;l<a;l++)v.writeUInt16LE(i,p.charCodeAt(l),u),u+=2;return u}static _readString(i,p){const u=v.readUInt32BE(i,p);return p+=4,(0,I.decodeUTF16LE)(i,p,u)}writeSize(){return 4+4+w._writeStringSize(this.oldText)+w._writeStringSize(this.newText)}write(i,p){return v.writeUInt32BE(i,this.oldPosition,p),p+=4,v.writeUInt32BE(i,this.newPosition,p),p+=4,p=w._writeString(i,this.oldText,p),p=w._writeString(i,this.newText,p),p}static read(i,p,u){const a=v.readUInt32BE(i,p);p+=4;const l=v.readUInt32BE(i,p);p+=4;const c=w._readString(i,p);p+=w._writeStringSize(c);const d=w._readString(i,p);return p+=w._writeStringSize(d),u.push(new w(a,c,l,d)),p}}e.TextChange=w;function S(C,i){return C===null||C.length===0?i:new _(C,i).compress()}e.compressConsecutiveTextChanges=S;class _{constructor(i,p){this._prevEdits=i,this._currEdits=p,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let i=0,p=0,u=this._getPrev(i),a=this._getCurr(p);for(;i<this._prevLen||p<this._currLen;){if(u===null){this._acceptCurr(a),a=this._getCurr(++p);continue}if(a===null){this._acceptPrev(u),u=this._getPrev(++i);continue}if(a.oldEnd<=u.newPosition){this._acceptCurr(a),a=this._getCurr(++p);continue}if(u.newEnd<=a.oldPosition){this._acceptPrev(u),u=this._getPrev(++i);continue}if(a.oldPosition<u.newPosition){const[n,s]=_._splitCurr(a,u.newPosition-a.oldPosition);this._acceptCurr(n),a=s;continue}if(u.newPosition<a.oldPosition){const[n,s]=_._splitPrev(u,a.oldPosition-u.newPosition);this._acceptPrev(n),u=s;continue}let d,r;if(a.oldEnd===u.newEnd)d=u,r=a,u=this._getPrev(++i),a=this._getCurr(++p);else if(a.oldEnd<u.newEnd){const[n,s]=_._splitPrev(u,a.oldLength);d=n,r=a,u=s,a=this._getCurr(++p)}else{const[n,s]=_._splitCurr(a,u.newLength);d=u,r=n,u=this._getPrev(++i),a=s}this._result[this._resultLen++]=new w(d.oldPosition,d.oldText,r.newPosition,r.newText),this._prevDeltaOffset+=d.newLength-d.oldLength,this._currDeltaOffset+=r.newLength-r.oldLength}const l=_._merge(this._result);return _._removeNoOps(l)}_acceptCurr(i){this._result[this._resultLen++]=_._rebaseCurr(this._prevDeltaOffset,i),this._currDeltaOffset+=i.newLength-i.oldLength}_getCurr(i){return i<this._currLen?this._currEdits[i]:null}_acceptPrev(i){this._result[this._resultLen++]=_._rebasePrev(this._currDeltaOffset,i),this._prevDeltaOffset+=i.newLength-i.oldLength}_getPrev(i){return i<this._prevLen?this._prevEdits[i]:null}static _rebaseCurr(i,p){return new w(p.oldPosition-i,p.oldText,p.newPosition,p.newText)}static _rebasePrev(i,p){return new w(p.oldPosition,p.oldText,p.newPosition+i,p.newText)}static _splitPrev(i,p){const u=i.newText.substr(0,p),a=i.newText.substr(p);return[new w(i.oldPosition,i.oldText,i.newPosition,u),new w(i.oldEnd,"",i.newPosition+p,a)]}static _splitCurr(i,p){const u=i.oldText.substr(0,p),a=i.oldText.substr(p);return[new w(i.oldPosition,u,i.newPosition,i.newText),new w(i.oldPosition+p,a,i.newEnd,"")]}static _merge(i){if(i.length===0)return i;let p=[],u=0,a=i[0];for(let l=1;l<i.length;l++){const c=i[l];a.oldEnd===c.oldPosition?a=new w(a.oldPosition,a.oldText+c.oldText,a.newPosition,a.newText+c.newText):(p[u++]=a,a=c)}return p[u++]=a,p}static _removeNoOps(i){if(i.length===0)return i;let p=[],u=0;for(let a=0;a<i.length;a++){const l=i[a];l.oldText!==l.newText&&(p[u++]=l)}return p}}}),define(J[373],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalModelContentChangeEvent=e.ModelRawContentChangedEvent=e.ModelRawEOLChanged=e.ModelRawLinesInserted=e.ModelRawLinesDeleted=e.ModelRawLineChanged=e.ModelRawFlush=void 0;class v{constructor(){this.changeType=1}}e.ModelRawFlush=v;class I{constructor(p,u){this.changeType=2,this.lineNumber=p,this.detail=u}}e.ModelRawLineChanged=I;class k{constructor(p,u){this.changeType=3,this.fromLineNumber=p,this.toLineNumber=u}}e.ModelRawLinesDeleted=k;class w{constructor(p,u,a){this.changeType=4,this.fromLineNumber=p,this.toLineNumber=u,this.detail=a}}e.ModelRawLinesInserted=w;class S{constructor(){this.changeType=5}}e.ModelRawEOLChanged=S;class _{constructor(p,u,a,l){this.changes=p,this.versionId=u,this.isUndoing=a,this.isRedoing=l,this.resultingSelection=null}containsEvent(p){for(let u=0,a=this.changes.length;u<a;u++)if(this.changes[u].changeType===p)return!0;return!1}static merge(p,u){const a=[].concat(p.changes).concat(u.changes),l=u.versionId,c=p.isUndoing||u.isUndoing,d=p.isRedoing||u.isRedoing;return new _(a,l,c,d)}}e.ModelRawContentChangedEvent=_;class C{constructor(p,u){this.rawContentChangedEvent=p,this.contentChangedEvent=u}merge(p){const u=_.merge(this.rawContentChangedEvent,p.rawContentChangedEvent),a=C._mergeChangeEvents(this.contentChangedEvent,p.contentChangedEvent);return new C(u,a)}static _mergeChangeEvents(p,u){const a=[].concat(p.changes).concat(u.changes),l=u.eol,c=u.versionId,d=p.isUndoing||u.isUndoing,r=p.isRedoing||u.isRedoing,n=p.isFlush||u.isFlush;return{changes:a,eol:l,versionId:c,isUndoing:d,isRedoing:r,isFlush:n}}}e.InternalModelContentChangeEvent=C}),define(J[166],ee([0,1,8,106,14,3,53]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Searcher=e.isValidMatch=e.TextModelSearch=e.createFindMatch=e.SearchData=e.isMultilineRegexSource=e.SearchParams=void 0;const _=999;class C{constructor(t,o,h,g){this.searchString=t,this.isRegex=o,this.matchCase=h,this.wordSeparators=g}parseSearchRequest(){if(this.searchString==="")return null;let t;this.isRegex?t=i(this.searchString):t=this.searchString.indexOf(`
`)>=0;let o=null;try{o=v.createRegExp(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:t,global:!0,unicode:!0})}catch(g){return null}if(!o)return null;let h=!this.isRegex&&!t;return h&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(h=this.matchCase),new p(o,this.wordSeparators?(0,I.getMapForWordSeparators)(this.wordSeparators):null,h?this.searchString:null)}}e.SearchParams=C;function i(s){if(!s||s.length===0)return!1;for(let t=0,o=s.length;t<o;t++)if(s.charCodeAt(t)===92){if(t++,t>=o)break;const g=s.charCodeAt(t);if(g===110||g===114||g===87||g===119)return!0}return!1}e.isMultilineRegexSource=i;class p{constructor(t,o,h){this.regex=t,this.wordSeparators=o,this.simpleSearch=h}}e.SearchData=p;function u(s,t,o){if(!o)return new S.FindMatch(s,null);let h=[];for(let g=0,m=t.length;g<m;g++)h[g]=t[g];return new S.FindMatch(s,h)}e.createFindMatch=u;class a{constructor(t){let o=[],h=0;for(let g=0,m=t.length;g<m;g++)t.charCodeAt(g)===10&&(o[h++]=g);this._lineFeedsOffsets=o}findLineFeedCountBeforeOffset(t){const o=this._lineFeedsOffsets;let h=0,g=o.length-1;if(g===-1||t<=o[0])return 0;for(;h<g;){const m=h+((g-h)/2>>0);o[m]>=t?g=m-1:o[m+1]>=t?(h=m,g=m):h=m+1}return h+1}}class l{static findMatches(t,o,h,g,m){const f=o.parseSearchRequest();return f?f.regex.multiline?this._doFindMatchesMultiline(t,h,new n(f.wordSeparators,f.regex),g,m):this._doFindMatchesLineByLine(t,h,f,g,m):[]}static _getMultilineMatchRange(t,o,h,g,m,f){let b,y=0;g?(y=g.findLineFeedCountBeforeOffset(m),b=o+m+y):b=o+m;let L;if(g){let R=g.findLineFeedCountBeforeOffset(m+f.length)-y;L=b+f.length+R}else L=b+f.length;const N=t.getPositionAt(b),M=t.getPositionAt(L);return new w.Range(N.lineNumber,N.column,M.lineNumber,M.column)}static _doFindMatchesMultiline(t,o,h,g,m){const f=t.getOffsetAt(o.getStartPosition()),b=t.getValueInRange(o,1),y=t.getEOL()===`\r
`?new a(b):null,L=[];let N=0,M;for(h.reset(0);M=h.next(b);)if(L[N++]=u(this._getMultilineMatchRange(t,f,b,y,M.index,M[0]),M,g),N>=m)return L;return L}static _doFindMatchesLineByLine(t,o,h,g,m){const f=[];let b=0;if(o.startLineNumber===o.endLineNumber){const L=t.getLineContent(o.startLineNumber).substring(o.startColumn-1,o.endColumn-1);return b=this._findMatchesInLine(h,L,o.startLineNumber,o.startColumn-1,b,f,g,m),f}const y=t.getLineContent(o.startLineNumber).substring(o.startColumn-1);b=this._findMatchesInLine(h,y,o.startLineNumber,o.startColumn-1,b,f,g,m);for(let L=o.startLineNumber+1;L<o.endLineNumber&&b<m;L++)b=this._findMatchesInLine(h,t.getLineContent(L),L,0,b,f,g,m);if(b<m){const L=t.getLineContent(o.endLineNumber).substring(0,o.endColumn-1);b=this._findMatchesInLine(h,L,o.endLineNumber,0,b,f,g,m)}return f}static _findMatchesInLine(t,o,h,g,m,f,b,y){const L=t.wordSeparators;if(!b&&t.simpleSearch){const D=t.simpleSearch,R=D.length,P=o.length;let O=-R;for(;(O=o.indexOf(D,O+R))!==-1;)if((!L||r(L,o,P,O,R))&&(f[m++]=new S.FindMatch(new w.Range(h,O+1+g,h,O+1+R+g),null),m>=y))return m;return m}const N=new n(t.wordSeparators,t.regex);let M;N.reset(0);do if(M=N.next(o),M&&(f[m++]=u(new w.Range(h,M.index+1+g,h,M.index+1+M[0].length+g),M,b),m>=y))return m;while(M);return m}static findNextMatch(t,o,h,g){const m=o.parseSearchRequest();if(!m)return null;const f=new n(m.wordSeparators,m.regex);return m.regex.multiline?this._doFindNextMatchMultiline(t,h,f,g):this._doFindNextMatchLineByLine(t,h,f,g)}static _doFindNextMatchMultiline(t,o,h,g){const m=new k.Position(o.lineNumber,1),f=t.getOffsetAt(m),b=t.getLineCount(),y=t.getValueInRange(new w.Range(m.lineNumber,m.column,b,t.getLineMaxColumn(b)),1),L=t.getEOL()===`\r
`?new a(y):null;h.reset(o.column-1);let N=h.next(y);return N?u(this._getMultilineMatchRange(t,f,y,L,N.index,N[0]),N,g):o.lineNumber!==1||o.column!==1?this._doFindNextMatchMultiline(t,new k.Position(1,1),h,g):null}static _doFindNextMatchLineByLine(t,o,h,g){const m=t.getLineCount(),f=o.lineNumber,b=t.getLineContent(f),y=this._findFirstMatchInLine(h,b,f,o.column,g);if(y)return y;for(let L=1;L<=m;L++){const N=(f+L-1)%m,M=t.getLineContent(N+1),D=this._findFirstMatchInLine(h,M,N+1,1,g);if(D)return D}return null}static _findFirstMatchInLine(t,o,h,g,m){t.reset(g-1);const f=t.next(o);return f?u(new w.Range(h,f.index+1,h,f.index+1+f[0].length),f,m):null}static findPreviousMatch(t,o,h,g){const m=o.parseSearchRequest();if(!m)return null;const f=new n(m.wordSeparators,m.regex);return m.regex.multiline?this._doFindPreviousMatchMultiline(t,h,f,g):this._doFindPreviousMatchLineByLine(t,h,f,g)}static _doFindPreviousMatchMultiline(t,o,h,g){const m=this._doFindMatchesMultiline(t,new w.Range(1,1,o.lineNumber,o.column),h,g,10*_);if(m.length>0)return m[m.length-1];const f=t.getLineCount();return o.lineNumber!==f||o.column!==t.getLineMaxColumn(f)?this._doFindPreviousMatchMultiline(t,new k.Position(f,t.getLineMaxColumn(f)),h,g):null}static _doFindPreviousMatchLineByLine(t,o,h,g){const m=t.getLineCount(),f=o.lineNumber,b=t.getLineContent(f).substring(0,o.column-1),y=this._findLastMatchInLine(h,b,f,g);if(y)return y;for(let L=1;L<=m;L++){const N=(m+f-L-1)%m,M=t.getLineContent(N+1),D=this._findLastMatchInLine(h,M,N+1,g);if(D)return D}return null}static _findLastMatchInLine(t,o,h,g){let m=null,f;for(t.reset(0);f=t.next(o);)m=u(new w.Range(h,f.index+1,h,f.index+1+f[0].length),f,g);return m}}e.TextModelSearch=l;function c(s,t,o,h,g){if(h===0)return!0;const m=t.charCodeAt(h-1);if(s.get(m)!==0||m===13||m===10)return!0;if(g>0){const f=t.charCodeAt(h);if(s.get(f)!==0)return!0}return!1}function d(s,t,o,h,g){if(h+g===o)return!0;const m=t.charCodeAt(h+g);if(s.get(m)!==0||m===13||m===10)return!0;if(g>0){const f=t.charCodeAt(h+g-1);if(s.get(f)!==0)return!0}return!1}function r(s,t,o,h,g){return c(s,t,o,h,g)&&d(s,t,o,h,g)}e.isValidMatch=r;class n{constructor(t,o){this._wordSeparators=t,this._searchRegex=o,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(t){this._searchRegex.lastIndex=t,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(t){const o=t.length;let h;do{if(this._prevMatchStartIndex+this._prevMatchLength===o||(h=this._searchRegex.exec(t),!h))return null;const g=h.index,m=h[0].length;if(g===this._prevMatchStartIndex&&m===this._prevMatchLength){if(m===0){v.getNextCodePoint(t,o,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=g,this._prevMatchLength=m,!this._wordSeparators||r(this._wordSeparators,t,o,g,m))return h}while(h);return null}}e.Searcher=n}),define(J[220],ee([0,1,14,3,53,372,166]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeBase=e.StringBuffer=e.Piece=e.createLineStarts=e.createLineStartsFast=e.LineStarts=e.createUintArray=e.AverageBufferSize=void 0,e.AverageBufferSize=65535;function _(r){let n;return r[r.length-1]<65536?n=new Uint16Array(r.length):n=new Uint32Array(r.length),n.set(r,0),n}e.createUintArray=_;class C{constructor(n,s,t,o,h){this.lineStarts=n,this.cr=s,this.lf=t,this.crlf=o,this.isBasicASCII=h}}e.LineStarts=C;function i(r,n=!0){let s=[0],t=1;for(let o=0,h=r.length;o<h;o++){const g=r.charCodeAt(o);g===13?o+1<h&&r.charCodeAt(o+1)===10?(s[t++]=o+2,o++):s[t++]=o+1:g===10&&(s[t++]=o+1)}return n?_(s):s}e.createLineStartsFast=i;function p(r,n){r.length=0,r[0]=0;let s=1,t=0,o=0,h=0,g=!0;for(let f=0,b=n.length;f<b;f++){const y=n.charCodeAt(f);y===13?f+1<b&&n.charCodeAt(f+1)===10?(h++,r[s++]=f+2,f++):(t++,r[s++]=f+1):y===10?(o++,r[s++]=f+1):g&&y!==9&&(y<32||y>126)&&(g=!1)}const m=new C(_(r),t,o,h,g);return r.length=0,m}e.createLineStarts=p;class u{constructor(n,s,t,o,h){this.bufferIndex=n,this.start=s,this.end=t,this.lineFeedCnt=o,this.length=h}}e.Piece=u;class a{constructor(n,s){this.buffer=n,this.lineStarts=s}}e.StringBuffer=a;class l{constructor(n,s){this._pieces=[],this._tree=n,this._BOM=s,this._index=0,n.root!==w.SENTINEL&&n.iterate(n.root,t=>(t!==w.SENTINEL&&this._pieces.push(t.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class c{constructor(n){this._limit=n,this._cache=[]}get(n){for(let s=this._cache.length-1;s>=0;s--){let t=this._cache[s];if(t.nodeStartOffset<=n&&t.nodeStartOffset+t.node.piece.length>=n)return t}return null}get2(n){for(let s=this._cache.length-1;s>=0;s--){let t=this._cache[s];if(t.nodeStartLineNumber&&t.nodeStartLineNumber<n&&t.nodeStartLineNumber+t.node.piece.lineFeedCnt>=n)return t}return null}set(n){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(n)}validate(n){let s=!1,t=this._cache;for(let o=0;o<t.length;o++){let h=t[o];if(h.node.parent===null||h.nodeStartOffset>=n){t[o]=null,s=!0;continue}}if(s){let o=[];for(const h of t)h!==null&&o.push(h);this._cache=o}}}class d{constructor(n,s,t){this.create(n,s,t)}create(n,s,t){this._buffers=[new a("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=w.SENTINEL,this._lineCnt=1,this._length=0,this._EOL=s,this._EOLLength=s.length,this._EOLNormalized=t;let o=null;for(let h=0,g=n.length;h<g;h++)if(n[h].buffer.length>0){n[h].lineStarts||(n[h].lineStarts=i(n[h].buffer));let m=new u(h+1,{line:0,column:0},{line:n[h].lineStarts.length-1,column:n[h].buffer.length-n[h].lineStarts[n[h].lineStarts.length-1]},n[h].lineStarts.length-1,n[h].buffer.length);this._buffers.push(n[h]),o=this.rbInsertRight(o,m)}this._searchCache=new c(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(n){let s=e.AverageBufferSize,t=s-Math.floor(s/3),o=t*2,h="",g=0,m=[];if(this.iterate(this.root,f=>{let b=this.getNodeContent(f),y=b.length;if(g<=t||g+y<o)return h+=b,g+=y,!0;let L=h.replace(/\r\n|\r|\n/g,n);return m.push(new a(L,i(L))),h=b,g=y,!0}),g>0){let f=h.replace(/\r\n|\r|\n/g,n);m.push(new a(f,i(f)))}this.create(m,n,!0)}getEOL(){return this._EOL}setEOL(n){this._EOL=n,this._EOLLength=this._EOL.length,this.normalizeEOL(n)}createSnapshot(n){return new l(this,n)}getOffsetAt(n,s){let t=0,o=this.root;for(;o!==w.SENTINEL;)if(o.left!==w.SENTINEL&&o.lf_left+1>=n)o=o.left;else{if(o.lf_left+o.piece.lineFeedCnt+1>=n)return t+=o.size_left,t+=this.getAccumulatedValue(o,n-o.lf_left-2)+s-1;n-=o.lf_left+o.piece.lineFeedCnt,t+=o.size_left+o.piece.length,o=o.right}return t}getPositionAt(n){n=Math.floor(n),n=Math.max(0,n);let s=this.root,t=0,o=n;for(;s!==w.SENTINEL;)if(s.size_left!==0&&s.size_left>=n)s=s.left;else if(s.size_left+s.piece.length>=n){let h=this.getIndexOf(s,n-s.size_left);if(t+=s.lf_left+h.index,h.index===0){let g=this.getOffsetAt(t+1,1),m=o-g;return new v.Position(t+1,m+1)}return new v.Position(t+1,h.remainder+1)}else if(n-=s.size_left+s.piece.length,t+=s.lf_left+s.piece.lineFeedCnt,s.right===w.SENTINEL){let h=this.getOffsetAt(t+1,1),g=o-n-h;return new v.Position(t+1,g+1)}else s=s.right;return new v.Position(1,1)}getValueInRange(n,s){if(n.startLineNumber===n.endLineNumber&&n.startColumn===n.endColumn)return"";let t=this.nodeAt2(n.startLineNumber,n.startColumn),o=this.nodeAt2(n.endLineNumber,n.endColumn),h=this.getValueInRange2(t,o);return s?s!==this._EOL||!this._EOLNormalized?h.replace(/\r\n|\r|\n/g,s):s===this.getEOL()&&this._EOLNormalized?h:h.replace(/\r\n|\r|\n/g,s):h}getValueInRange2(n,s){if(n.node===s.node){let m=n.node,f=this._buffers[m.piece.bufferIndex].buffer,b=this.offsetInBuffer(m.piece.bufferIndex,m.piece.start);return f.substring(b+n.remainder,b+s.remainder)}let t=n.node,o=this._buffers[t.piece.bufferIndex].buffer,h=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start),g=o.substring(h+n.remainder,h+t.piece.length);for(t=t.next();t!==w.SENTINEL;){let m=this._buffers[t.piece.bufferIndex].buffer,f=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);if(t===s.node){g+=m.substring(f,f+s.remainder);break}else g+=m.substr(f,t.piece.length);t=t.next()}return g}getLinesContent(){let n=[],s=0,t="",o=!1;return this.iterate(this.root,h=>{if(h===w.SENTINEL)return!0;const g=h.piece;let m=g.length;if(m===0)return!0;const f=this._buffers[g.bufferIndex].buffer,b=this._buffers[g.bufferIndex].lineStarts,y=g.start.line,L=g.end.line;let N=b[y]+g.start.column;if(o&&(f.charCodeAt(N)===10&&(N++,m--),n[s++]=t,t="",o=!1,m===0))return!0;if(y===L)return!this._EOLNormalized&&f.charCodeAt(N+m-1)===13?(o=!0,t+=f.substr(N,m-1)):t+=f.substr(N,m),!0;t+=this._EOLNormalized?f.substring(N,Math.max(N,b[y+1]-this._EOLLength)):f.substring(N,b[y+1]).replace(/(\r\n|\r|\n)$/,""),n[s++]=t;for(let M=y+1;M<L;M++)t=this._EOLNormalized?f.substring(b[M],b[M+1]-this._EOLLength):f.substring(b[M],b[M+1]).replace(/(\r\n|\r|\n)$/,""),n[s++]=t;return!this._EOLNormalized&&f.charCodeAt(b[L]+g.end.column-1)===13?(o=!0,g.end.column===0?s--:t=f.substr(b[L],g.end.column-1)):t=f.substr(b[L],g.end.column),!0}),o&&(n[s++]=t,t=""),n[s++]=t,n}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(n){return this._lastVisitedLine.lineNumber===n?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=n,n===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(n):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(n,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(n).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(n){if(n.remainder===n.node.piece.length){let s=n.node.next();if(!s)return 0;let t=this._buffers[s.piece.bufferIndex],o=this.offsetInBuffer(s.piece.bufferIndex,s.piece.start);return t.buffer.charCodeAt(o)}else{let s=this._buffers[n.node.piece.bufferIndex],o=this.offsetInBuffer(n.node.piece.bufferIndex,n.node.piece.start)+n.remainder;return s.buffer.charCodeAt(o)}}getLineCharCode(n,s){let t=this.nodeAt2(n,s+1);return this._getCharCode(t)}getLineLength(n){if(n===this.getLineCount()){let s=this.getOffsetAt(n,1);return this.getLength()-s}return this.getOffsetAt(n+1,1)-this.getOffsetAt(n,1)-this._EOLLength}findMatchesInNode(n,s,t,o,h,g,m,f,b,y,L){let N=this._buffers[n.piece.bufferIndex],M=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start),D=this.offsetInBuffer(n.piece.bufferIndex,h),R=this.offsetInBuffer(n.piece.bufferIndex,g),P,O={line:0,column:0},W,F;s._wordSeparators?(W=N.buffer.substring(D,R),F=E=>E+D,s.reset(0)):(W=N.buffer,F=E=>E,s.reset(D));do if(P=s.next(W),P){if(F(P.index)>=R)return y;this.positionInBuffer(n,F(P.index)-M,O);let E=this.getLineFeedCnt(n.piece.bufferIndex,h,O),A=O.line===h.line?O.column-h.column+o:O.column+1,B=A+P[0].length;if(L[y++]=(0,S.createFindMatch)(new I.Range(t+E,A,t+E,B),P,f),F(P.index)+P[0].length>=R||y>=b)return y}while(P);return y}findMatchesLineByLine(n,s,t,o){const h=[];let g=0;const m=new S.Searcher(s.wordSeparators,s.regex);let f=this.nodeAt2(n.startLineNumber,n.startColumn);if(f===null)return[];let b=this.nodeAt2(n.endLineNumber,n.endColumn);if(b===null)return[];let y=this.positionInBuffer(f.node,f.remainder),L=this.positionInBuffer(b.node,b.remainder);if(f.node===b.node)return this.findMatchesInNode(f.node,m,n.startLineNumber,n.startColumn,y,L,s,t,o,g,h),h;let N=n.startLineNumber,M=f.node;for(;M!==b.node;){let R=this.getLineFeedCnt(M.piece.bufferIndex,y,M.piece.end);if(R>=1){let O=this._buffers[M.piece.bufferIndex].lineStarts,W=this.offsetInBuffer(M.piece.bufferIndex,M.piece.start),F=O[y.line+R],E=N===n.startLineNumber?n.startColumn:1;if(g=this.findMatchesInNode(M,m,N,E,y,this.positionInBuffer(M,F-W),s,t,o,g,h),g>=o)return h;N+=R}let P=N===n.startLineNumber?n.startColumn-1:0;if(N===n.endLineNumber){const O=this.getLineContent(N).substring(P,n.endColumn-1);return g=this._findMatchesInLine(s,m,O,n.endLineNumber,P,g,h,t,o),h}if(g=this._findMatchesInLine(s,m,this.getLineContent(N).substr(P),N,P,g,h,t,o),g>=o)return h;N++,f=this.nodeAt2(N,1),M=f.node,y=this.positionInBuffer(f.node,f.remainder)}if(N===n.endLineNumber){let R=N===n.startLineNumber?n.startColumn-1:0;const P=this.getLineContent(N).substring(R,n.endColumn-1);return g=this._findMatchesInLine(s,m,P,n.endLineNumber,R,g,h,t,o),h}let D=N===n.startLineNumber?n.startColumn:1;return g=this.findMatchesInNode(b.node,m,N,D,y,L,s,t,o,g,h),h}_findMatchesInLine(n,s,t,o,h,g,m,f,b){const y=n.wordSeparators;if(!f&&n.simpleSearch){const N=n.simpleSearch,M=N.length,D=t.length;let R=-M;for(;(R=t.indexOf(N,R+M))!==-1;)if((!y||(0,S.isValidMatch)(y,t,D,R,M))&&(m[g++]=new k.FindMatch(new I.Range(o,R+1+h,o,R+1+M+h),null),g>=b))return g;return g}let L;s.reset(0);do if(L=s.next(t),L&&(m[g++]=(0,S.createFindMatch)(new I.Range(o,L.index+1+h,o,L.index+1+L[0].length+h),L,f),g>=b))return g;while(L);return g}insert(n,s,t=!1){if(this._EOLNormalized=this._EOLNormalized&&t,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==w.SENTINEL){let{node:o,remainder:h,nodeStartOffset:g}=this.nodeAt(n),m=o.piece,f=m.bufferIndex,b=this.positionInBuffer(o,h);if(o.piece.bufferIndex===0&&m.end.line===this._lastChangeBufferPos.line&&m.end.column===this._lastChangeBufferPos.column&&g+m.length===n&&s.length<e.AverageBufferSize){this.appendToNode(o,s),this.computeBufferMetadata();return}if(g===n)this.insertContentToNodeLeft(s,o),this._searchCache.validate(n);else if(g+o.piece.length>n){let y=[],L=new u(m.bufferIndex,b,m.end,this.getLineFeedCnt(m.bufferIndex,b,m.end),this.offsetInBuffer(f,m.end)-this.offsetInBuffer(f,b));if(this.shouldCheckCRLF()&&this.endWithCR(s)&&this.nodeCharCodeAt(o,h)===10){let R={line:L.start.line+1,column:0};L=new u(L.bufferIndex,R,L.end,this.getLineFeedCnt(L.bufferIndex,R,L.end),L.length-1),s+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(s))if(this.nodeCharCodeAt(o,h-1)===13){let R=this.positionInBuffer(o,h-1);this.deleteNodeTail(o,R),s="\r"+s,o.piece.length===0&&y.push(o)}else this.deleteNodeTail(o,b);else this.deleteNodeTail(o,b);let N=this.createNewPieces(s);L.length>0&&this.rbInsertRight(o,L);let M=o;for(let D=0;D<N.length;D++)M=this.rbInsertRight(M,N[D]);this.deleteNodes(y)}else this.insertContentToNodeRight(s,o)}else{let o=this.createNewPieces(s),h=this.rbInsertLeft(null,o[0]);for(let g=1;g<o.length;g++)h=this.rbInsertRight(h,o[g])}this.computeBufferMetadata()}delete(n,s){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",!(s<=0||this.root===w.SENTINEL)){let t=this.nodeAt(n),o=this.nodeAt(n+s),h=t.node,g=o.node;if(h===g){let N=this.positionInBuffer(h,t.remainder),M=this.positionInBuffer(h,o.remainder);if(t.nodeStartOffset===n){if(s===h.piece.length){let D=h.next();(0,w.rbDelete)(this,h),this.validateCRLFWithPrevNode(D),this.computeBufferMetadata();return}this.deleteNodeHead(h,M),this._searchCache.validate(n),this.validateCRLFWithPrevNode(h),this.computeBufferMetadata();return}if(t.nodeStartOffset+h.piece.length===n+s){this.deleteNodeTail(h,N),this.validateCRLFWithNextNode(h),this.computeBufferMetadata();return}this.shrinkNode(h,N,M),this.computeBufferMetadata();return}let m=[],f=this.positionInBuffer(h,t.remainder);this.deleteNodeTail(h,f),this._searchCache.validate(n),h.piece.length===0&&m.push(h);let b=this.positionInBuffer(g,o.remainder);this.deleteNodeHead(g,b),g.piece.length===0&&m.push(g);let y=h.next();for(let N=y;N!==w.SENTINEL&&N!==g;N=N.next())m.push(N);let L=h.piece.length===0?h.prev():h;this.deleteNodes(m),this.validateCRLFWithNextNode(L),this.computeBufferMetadata()}}insertContentToNodeLeft(n,s){let t=[];if(this.shouldCheckCRLF()&&this.endWithCR(n)&&this.startWithLF(s)){let g=s.piece,m={line:g.start.line+1,column:0},f=new u(g.bufferIndex,m,g.end,this.getLineFeedCnt(g.bufferIndex,m,g.end),g.length-1);s.piece=f,n+=`
`,(0,w.updateTreeMetadata)(this,s,-1,-1),s.piece.length===0&&t.push(s)}let o=this.createNewPieces(n),h=this.rbInsertLeft(s,o[o.length-1]);for(let g=o.length-2;g>=0;g--)h=this.rbInsertLeft(h,o[g]);this.validateCRLFWithPrevNode(h),this.deleteNodes(t)}insertContentToNodeRight(n,s){this.adjustCarriageReturnFromNext(n,s)&&(n+=`
`);let t=this.createNewPieces(n),o=this.rbInsertRight(s,t[0]),h=o;for(let g=1;g<t.length;g++)h=this.rbInsertRight(h,t[g]);this.validateCRLFWithPrevNode(o)}positionInBuffer(n,s,t){let o=n.piece,h=n.piece.bufferIndex,g=this._buffers[h].lineStarts,f=g[o.start.line]+o.start.column+s,b=o.start.line,y=o.end.line,L=0,N=0,M=0;for(;b<=y&&(L=b+(y-b)/2|0,M=g[L],L!==y);)if(N=g[L+1],f<M)y=L-1;else if(f>=N)b=L+1;else break;return t?(t.line=L,t.column=f-M,null):{line:L,column:f-M}}getLineFeedCnt(n,s,t){if(t.column===0)return t.line-s.line;let o=this._buffers[n].lineStarts;if(t.line===o.length-1)return t.line-s.line;let h=o[t.line+1],g=o[t.line]+t.column;if(h>g+1)return t.line-s.line;let m=g-1;return this._buffers[n].buffer.charCodeAt(m)===13?t.line-s.line+1:t.line-s.line}offsetInBuffer(n,s){return this._buffers[n].lineStarts[s.line]+s.column}deleteNodes(n){for(let s=0;s<n.length;s++)(0,w.rbDelete)(this,n[s])}createNewPieces(n){if(n.length>e.AverageBufferSize){let y=[];for(;n.length>e.AverageBufferSize;){const N=n.charCodeAt(e.AverageBufferSize-1);let M;N===13||N>=55296&&N<=56319?(M=n.substring(0,e.AverageBufferSize-1),n=n.substring(e.AverageBufferSize-1)):(M=n.substring(0,e.AverageBufferSize),n=n.substring(e.AverageBufferSize));let D=i(M);y.push(new u(this._buffers.length,{line:0,column:0},{line:D.length-1,column:M.length-D[D.length-1]},D.length-1,M.length)),this._buffers.push(new a(M,D))}let L=i(n);return y.push(new u(this._buffers.length,{line:0,column:0},{line:L.length-1,column:n.length-L[L.length-1]},L.length-1,n.length)),this._buffers.push(new a(n,L)),y}let s=this._buffers[0].buffer.length;const t=i(n,!1);let o=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===s&&s!==0&&this.startWithLF(n)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},o=this._lastChangeBufferPos;for(let y=0;y<t.length;y++)t[y]+=s+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(t.slice(1)),this._buffers[0].buffer+="_"+n,s+=1}else{if(s!==0)for(let y=0;y<t.length;y++)t[y]+=s;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(t.slice(1)),this._buffers[0].buffer+=n}const h=this._buffers[0].buffer.length;let g=this._buffers[0].lineStarts.length-1,m=h-this._buffers[0].lineStarts[g],f={line:g,column:m},b=new u(0,o,f,this.getLineFeedCnt(0,o,f),h-s);return this._lastChangeBufferPos=f,[b]}getLineRawContent(n,s=0){let t=this.root,o="",h=this._searchCache.get2(n);if(h){t=h.node;let g=this.getAccumulatedValue(t,n-h.nodeStartLineNumber-1),m=this._buffers[t.piece.bufferIndex].buffer,f=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);if(h.nodeStartLineNumber+t.piece.lineFeedCnt===n)o=m.substring(f+g,f+t.piece.length);else{let b=this.getAccumulatedValue(t,n-h.nodeStartLineNumber);return m.substring(f+g,f+b-s)}}else{let g=0;const m=n;for(;t!==w.SENTINEL;)if(t.left!==w.SENTINEL&&t.lf_left>=n-1)t=t.left;else if(t.lf_left+t.piece.lineFeedCnt>n-1){let f=this.getAccumulatedValue(t,n-t.lf_left-2),b=this.getAccumulatedValue(t,n-t.lf_left-1),y=this._buffers[t.piece.bufferIndex].buffer,L=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);return g+=t.size_left,this._searchCache.set({node:t,nodeStartOffset:g,nodeStartLineNumber:m-(n-1-t.lf_left)}),y.substring(L+f,L+b-s)}else if(t.lf_left+t.piece.lineFeedCnt===n-1){let f=this.getAccumulatedValue(t,n-t.lf_left-2),b=this._buffers[t.piece.bufferIndex].buffer,y=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);o=b.substring(y+f,y+t.piece.length);break}else n-=t.lf_left+t.piece.lineFeedCnt,g+=t.size_left+t.piece.length,t=t.right}for(t=t.next();t!==w.SENTINEL;){let g=this._buffers[t.piece.bufferIndex].buffer;if(t.piece.lineFeedCnt>0){let m=this.getAccumulatedValue(t,0),f=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);return o+=g.substring(f,f+m-s),o}else{let m=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);o+=g.substr(m,t.piece.length)}t=t.next()}return o}computeBufferMetadata(){let n=this.root,s=1,t=0;for(;n!==w.SENTINEL;)s+=n.lf_left+n.piece.lineFeedCnt,t+=n.size_left+n.piece.length,n=n.right;this._lineCnt=s,this._length=t,this._searchCache.validate(this._length)}getIndexOf(n,s){let t=n.piece,o=this.positionInBuffer(n,s),h=o.line-t.start.line;if(this.offsetInBuffer(t.bufferIndex,t.end)-this.offsetInBuffer(t.bufferIndex,t.start)===s){let g=this.getLineFeedCnt(n.piece.bufferIndex,t.start,o);if(g!==h)return{index:g,remainder:0}}return{index:h,remainder:o.column}}getAccumulatedValue(n,s){if(s<0)return 0;let t=n.piece,o=this._buffers[t.bufferIndex].lineStarts,h=t.start.line+s+1;return h>t.end.line?o[t.end.line]+t.end.column-o[t.start.line]-t.start.column:o[h]-o[t.start.line]-t.start.column}deleteNodeTail(n,s){const t=n.piece,o=t.lineFeedCnt,h=this.offsetInBuffer(t.bufferIndex,t.end),g=s,m=this.offsetInBuffer(t.bufferIndex,g),f=this.getLineFeedCnt(t.bufferIndex,t.start,g),b=f-o,y=m-h,L=t.length+y;n.piece=new u(t.bufferIndex,t.start,g,f,L),(0,w.updateTreeMetadata)(this,n,y,b)}deleteNodeHead(n,s){const t=n.piece,o=t.lineFeedCnt,h=this.offsetInBuffer(t.bufferIndex,t.start),g=s,m=this.getLineFeedCnt(t.bufferIndex,g,t.end),f=this.offsetInBuffer(t.bufferIndex,g),b=m-o,y=h-f,L=t.length+y;n.piece=new u(t.bufferIndex,g,t.end,m,L),(0,w.updateTreeMetadata)(this,n,y,b)}shrinkNode(n,s,t){const o=n.piece,h=o.start,g=o.end,m=o.length,f=o.lineFeedCnt,b=s,y=this.getLineFeedCnt(o.bufferIndex,o.start,b),L=this.offsetInBuffer(o.bufferIndex,s)-this.offsetInBuffer(o.bufferIndex,h);n.piece=new u(o.bufferIndex,o.start,b,y,L),(0,w.updateTreeMetadata)(this,n,L-m,y-f);let N=new u(o.bufferIndex,t,g,this.getLineFeedCnt(o.bufferIndex,t,g),this.offsetInBuffer(o.bufferIndex,g)-this.offsetInBuffer(o.bufferIndex,t)),M=this.rbInsertRight(n,N);this.validateCRLFWithPrevNode(M)}appendToNode(n,s){this.adjustCarriageReturnFromNext(s,n)&&(s+=`
`);const t=this.shouldCheckCRLF()&&this.startWithLF(s)&&this.endWithCR(n),o=this._buffers[0].buffer.length;this._buffers[0].buffer+=s;const h=i(s,!1);for(let M=0;M<h.length;M++)h[M]+=o;if(t){let M=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:o-M}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(h.slice(1));const g=this._buffers[0].lineStarts.length-1,m=this._buffers[0].buffer.length-this._buffers[0].lineStarts[g],f={line:g,column:m},b=n.piece.length+s.length,y=n.piece.lineFeedCnt,L=this.getLineFeedCnt(0,n.piece.start,f),N=L-y;n.piece=new u(n.piece.bufferIndex,n.piece.start,f,L,b),this._lastChangeBufferPos=f,(0,w.updateTreeMetadata)(this,n,s.length,N)}nodeAt(n){let s=this.root,t=this._searchCache.get(n);if(t)return{node:t.node,nodeStartOffset:t.nodeStartOffset,remainder:n-t.nodeStartOffset};let o=0;for(;s!==w.SENTINEL;)if(s.size_left>n)s=s.left;else if(s.size_left+s.piece.length>=n){o+=s.size_left;let h={node:s,remainder:n-s.size_left,nodeStartOffset:o};return this._searchCache.set(h),h}else n-=s.size_left+s.piece.length,o+=s.size_left+s.piece.length,s=s.right;return null}nodeAt2(n,s){let t=this.root,o=0;for(;t!==w.SENTINEL;)if(t.left!==w.SENTINEL&&t.lf_left>=n-1)t=t.left;else if(t.lf_left+t.piece.lineFeedCnt>n-1){let h=this.getAccumulatedValue(t,n-t.lf_left-2),g=this.getAccumulatedValue(t,n-t.lf_left-1);return o+=t.size_left,{node:t,remainder:Math.min(h+s-1,g),nodeStartOffset:o}}else if(t.lf_left+t.piece.lineFeedCnt===n-1){let h=this.getAccumulatedValue(t,n-t.lf_left-2);if(h+s-1<=t.piece.length)return{node:t,remainder:h+s-1,nodeStartOffset:o};s-=t.piece.length-h;break}else n-=t.lf_left+t.piece.lineFeedCnt,o+=t.size_left+t.piece.length,t=t.right;for(t=t.next();t!==w.SENTINEL;){if(t.piece.lineFeedCnt>0){let h=this.getAccumulatedValue(t,0),g=this.offsetOfNode(t);return{node:t,remainder:Math.min(s-1,h),nodeStartOffset:g}}else if(t.piece.length>=s-1){let h=this.offsetOfNode(t);return{node:t,remainder:s-1,nodeStartOffset:h}}else s-=t.piece.length;t=t.next()}return null}nodeCharCodeAt(n,s){if(n.piece.lineFeedCnt<1)return-1;let t=this._buffers[n.piece.bufferIndex],o=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start)+s;return t.buffer.charCodeAt(o)}offsetOfNode(n){if(!n)return 0;let s=n.size_left;for(;n!==this.root;)n.parent.right===n&&(s+=n.parent.size_left+n.parent.piece.length),n=n.parent;return s}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(n){if(typeof n=="string")return n.charCodeAt(0)===10;if(n===w.SENTINEL||n.piece.lineFeedCnt===0)return!1;let s=n.piece,t=this._buffers[s.bufferIndex].lineStarts,o=s.start.line,h=t[o]+s.start.column;return o===t.length-1||t[o+1]>h+1?!1:this._buffers[s.bufferIndex].buffer.charCodeAt(h)===10}endWithCR(n){return typeof n=="string"?n.charCodeAt(n.length-1)===13:n===w.SENTINEL||n.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(n,n.piece.length-1)===13}validateCRLFWithPrevNode(n){if(this.shouldCheckCRLF()&&this.startWithLF(n)){let s=n.prev();this.endWithCR(s)&&this.fixCRLF(s,n)}}validateCRLFWithNextNode(n){if(this.shouldCheckCRLF()&&this.endWithCR(n)){let s=n.next();this.startWithLF(s)&&this.fixCRLF(n,s)}}fixCRLF(n,s){let t=[],o=this._buffers[n.piece.bufferIndex].lineStarts,h;n.piece.end.column===0?h={line:n.piece.end.line-1,column:o[n.piece.end.line]-o[n.piece.end.line-1]-1}:h={line:n.piece.end.line,column:n.piece.end.column-1};const g=n.piece.length-1,m=n.piece.lineFeedCnt-1;n.piece=new u(n.piece.bufferIndex,n.piece.start,h,m,g),(0,w.updateTreeMetadata)(this,n,-1,-1),n.piece.length===0&&t.push(n);let f={line:s.piece.start.line+1,column:0};const b=s.piece.length-1,y=this.getLineFeedCnt(s.piece.bufferIndex,f,s.piece.end);s.piece=new u(s.piece.bufferIndex,f,s.piece.end,y,b),(0,w.updateTreeMetadata)(this,s,-1,-1),s.piece.length===0&&t.push(s);let L=this.createNewPieces(`\r
`);this.rbInsertRight(n,L[0]);for(let N=0;N<t.length;N++)(0,w.rbDelete)(this,t[N])}adjustCarriageReturnFromNext(n,s){if(this.shouldCheckCRLF()&&this.endWithCR(n)){let t=s.next();if(this.startWithLF(t)){if(n+=`
`,t.piece.length===1)(0,w.rbDelete)(this,t);else{const o=t.piece,h={line:o.start.line+1,column:0},g=o.length-1,m=this.getLineFeedCnt(o.bufferIndex,h,o.end);t.piece=new u(o.bufferIndex,h,o.end,m,g),(0,w.updateTreeMetadata)(this,t,-1,-1)}return!0}}return!1}iterate(n,s){if(n===w.SENTINEL)return s(w.SENTINEL);let t=this.iterate(n.left,s);return t&&s(n)&&this.iterate(n.right,s)}getNodeContent(n){if(n===w.SENTINEL)return"";let s=this._buffers[n.piece.bufferIndex],t,o=n.piece,h=this.offsetInBuffer(o.bufferIndex,o.start),g=this.offsetInBuffer(o.bufferIndex,o.end);return t=s.buffer.substring(h,g),t}getPieceContent(n){let s=this._buffers[n.bufferIndex],t=this.offsetInBuffer(n.bufferIndex,n.start),o=this.offsetInBuffer(n.bufferIndex,n.end);return s.buffer.substring(t,o)}rbInsertRight(n,s){let t=new w.TreeNode(s,1);if(t.left=w.SENTINEL,t.right=w.SENTINEL,t.parent=w.SENTINEL,t.size_left=0,t.lf_left=0,this.root===w.SENTINEL)this.root=t,t.color=0;else if(n.right===w.SENTINEL)n.right=t,t.parent=n;else{let h=(0,w.leftest)(n.right);h.left=t,t.parent=h}return(0,w.fixInsert)(this,t),t}rbInsertLeft(n,s){let t=new w.TreeNode(s,1);if(t.left=w.SENTINEL,t.right=w.SENTINEL,t.parent=w.SENTINEL,t.size_left=0,t.lf_left=0,this.root===w.SENTINEL)this.root=t,t.color=0;else if(n.left===w.SENTINEL)n.left=t,t.parent=n;else{let o=(0,w.righttest)(n.left);o.right=t,t.parent=o}return(0,w.fixInsert)(this,t),t}}e.PieceTreeBase=d}),define(J[129],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getWordAtText=e.ensureValidWordDefinition=e.DEFAULT_WORD_REGEXP=e.USUAL_WORD_SEPARATORS=void 0,e.USUAL_WORD_SEPARATORS="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function v(_=""){let C="(-?\\d*\\.\\d\\w*)|([^";for(const i of e.USUAL_WORD_SEPARATORS)_.indexOf(i)>=0||(C+="\\"+i);return C+="\\s]+)",new RegExp(C,"g")}e.DEFAULT_WORD_REGEXP=v();function I(_){let C=e.DEFAULT_WORD_REGEXP;if(_&&_ instanceof RegExp)if(_.global)C=_;else{let i="g";_.ignoreCase&&(i+="i"),_.multiline&&(i+="m"),_.unicode&&(i+="u"),C=new RegExp(_.source,i)}return C.lastIndex=0,C}e.ensureValidWordDefinition=I;const k={maxLen:1e3,windowSize:15,timeBudget:150};function w(_,C,i,p,u=k){if(i.length>u.maxLen){let r=_-u.maxLen/2;return r<0?r=0:p+=r,i=i.substring(r,_+u.maxLen/2),w(_,C,i,p,u)}const a=Date.now(),l=_-1-p;let c=-1,d=null;for(let r=1;!(Date.now()-a>=u.timeBudget);r++){const n=l-u.windowSize*r;C.lastIndex=Math.max(0,n);const s=S(C,i,l,c);if(!s&&d||(d=s,n<=0))break;c=n}if(d){let r={word:d[0],startColumn:p+1+d.index,endColumn:p+1+d.index+d[0].length};return C.lastIndex=0,r}return null}e.getWordAtText=w;function S(_,C,i,p){let u;for(;u=_.exec(C);){const a=u.index||0;if(a<=i&&_.lastIndex>=i)return u;if(p>0&&a>p)return null}return null}}),define(J[374],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FrankensteinMode=void 0;class v{constructor(k){this._languageIdentifier=k}getId(){return this._languageIdentifier.language}}e.FrankensteinMode=v}),define(J[109],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoClosingPairs=e.StandardAutoClosingPairConditional=e.IndentAction=void 0;var v;(function(S){S[S.None=0]="None",S[S.Indent=1]="Indent",S[S.IndentOutdent=2]="IndentOutdent",S[S.Outdent=3]="Outdent"})(v=e.IndentAction||(e.IndentAction={}));class I{constructor(_){if(this.open=_.open,this.close=_.close,this._standardTokenMask=0,Array.isArray(_.notIn))for(let C=0,i=_.notIn.length;C<i;C++)switch(_.notIn[C]){case"string":this._standardTokenMask|=2;break;case"comment":this._standardTokenMask|=1;break;case"regex":this._standardTokenMask|=4;break}}isOK(_){return(this._standardTokenMask&_)==0}}e.StandardAutoClosingPairConditional=I;class k{constructor(_){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const C of _)w(this.autoClosingPairsOpenByStart,C.open.charAt(0),C),w(this.autoClosingPairsOpenByEnd,C.open.charAt(C.open.length-1),C),w(this.autoClosingPairsCloseByStart,C.close.charAt(0),C),w(this.autoClosingPairsCloseByEnd,C.close.charAt(C.close.length-1),C),C.close.length===1&&C.open.length===1&&w(this.autoClosingPairsCloseSingleChar,C.close,C)}}e.AutoClosingPairs=k;function w(S,_,C){S.has(_)?S.get(_).push(C):S.set(_,[C])}}),define(J[375],ee([0,1,199,73]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.score=void 0;function k(w,S,_,C){if(Array.isArray(w)){let i=0;for(const p of w){const u=k(p,S,_,C);if(u===10)return u;u>i&&(i=u)}return i}else{if(typeof w=="string")return C?w==="*"?5:w===_?10:0:0;if(w){const{language:i,pattern:p,scheme:u,hasAccessToAllModels:a}=w;if(!C&&!a)return 0;let l=0;if(u)if(u===S.scheme)l=10;else if(u==="*")l=5;else return 0;if(i)if(i===_)l=10;else if(i==="*")l=Math.max(l,5);else return 0;if(p){let c;if(typeof p=="string"?c=p:c=Object.assign(Object.assign({},p),{base:(0,I.normalize)(p.base)}),c===S.fsPath||(0,v.match)(c,S.fsPath))l=10;else return 0}return l}else return 0}}e.score=k}),define(J[376],ee([0,1,91]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeLinks=e.LinkComputer=e.StateMachine=e.Uint8Matrix=void 0;class I{constructor(a,l,c){const d=new Uint8Array(a*l);for(let r=0,n=a*l;r<n;r++)d[r]=c;this._data=d,this.rows=a,this.cols=l}get(a,l){return this._data[a*this.cols+l]}set(a,l,c){this._data[a*this.cols+l]=c}}e.Uint8Matrix=I;class k{constructor(a){let l=0,c=0;for(let r=0,n=a.length;r<n;r++){let[s,t,o]=a[r];t>l&&(l=t),s>c&&(c=s),o>c&&(c=o)}l++,c++;let d=new I(c,l,0);for(let r=0,n=a.length;r<n;r++){let[s,t,o]=a[r];d.set(s,t,o)}this._states=d,this._maxCharCode=l}nextState(a,l){return l<0||l>=this._maxCharCode?0:this._states.get(a,l)}}e.StateMachine=k;let w=null;function S(){return w===null&&(w=new k([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),w}let _=null;function C(){if(_===null){_=new v.CharacterClassifier(0);const u=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u3011\u300F\u300D\u300B\u3009\u201D\u2019\uFF40\uFF5E\u2026`;for(let l=0;l<u.length;l++)_.set(u.charCodeAt(l),1);const a=".,;";for(let l=0;l<a.length;l++)_.set(a.charCodeAt(l),2)}return _}class i{static _createLink(a,l,c,d,r){let n=r-1;do{const s=l.charCodeAt(n);if(a.get(s)!==2)break;n--}while(n>d);if(d>0){const s=l.charCodeAt(d-1),t=l.charCodeAt(n);(s===40&&t===41||s===91&&t===93||s===123&&t===125)&&n--}return{range:{startLineNumber:c,startColumn:d+1,endLineNumber:c,endColumn:n+2},url:l.substring(d,n+1)}}static computeLinks(a,l=S()){const c=C();let d=[];for(let r=1,n=a.getLineCount();r<=n;r++){const s=a.getLineContent(r),t=s.length;let o=0,h=0,g=0,m=1,f=!1,b=!1,y=!1,L=!1;for(;o<t;){let N=!1;const M=s.charCodeAt(o);if(m===13){let D;switch(M){case 40:f=!0,D=0;break;case 41:D=f?0:1;break;case 91:y=!0,b=!0,D=0;break;case 93:y=!1,D=b?0:1;break;case 123:L=!0,D=0;break;case 125:D=L?0:1;break;case 39:D=g===34||g===96?0:1;break;case 34:D=g===39||g===96?0:1;break;case 96:D=g===39||g===34?0:1;break;case 42:D=g===42?1:0;break;case 124:D=g===124?1:0;break;case 32:D=y?0:1;break;default:D=c.get(M)}D===1&&(d.push(i._createLink(c,s,r,h,o)),N=!0)}else if(m===12){let D;M===91?(b=!0,D=0):D=c.get(M),D===1?N=!0:m=13}else m=l.nextState(m,M),m===0&&(N=!0);N&&(m=1,f=!1,b=!1,L=!1,h=o+1,g=M),o++}m===13&&d.push(i._createLink(c,s,r,h,t))}return d}}e.LinkComputer=i;function p(u){return!u||typeof u.getLineCount!="function"||typeof u.getLineContent!="function"?[]:i.computeLinks(u)}e.computeLinks=p}),define(J[167],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ignoreBracketsInToken=e.ScopedLineTokens=e.createScopedLineTokens=void 0;function v(w,S){let _=w.getCount(),C=w.findTokenIndexAtOffset(S),i=w.getLanguageId(C),p=C;for(;p+1<_&&w.getLanguageId(p+1)===i;)p++;let u=C;for(;u>0&&w.getLanguageId(u-1)===i;)u--;return new I(w,i,u,p+1,w.getStartOffset(u),w.getEndOffset(p))}e.createScopedLineTokens=v;class I{constructor(S,_,C,i,p,u){this._actual=S,this.languageId=_,this._firstTokenIndex=C,this._lastTokenIndex=i,this.firstCharOffset=p,this._lastCharOffset=u}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(S){return this._actual.getLineContent().substring(0,this.firstCharOffset+S)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(S){return this._actual.findTokenIndexAtOffset(S+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(S){return this._actual.getStandardTokenType(S+this._firstTokenIndex)}}e.ScopedLineTokens=I;function k(w){return(w&7)!=0}e.ignoreBracketsInToken=k}),define(J[377],ee([0,1,109]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterPairSupport=void 0;class I{constructor(w){if(w.autoClosingPairs?this._autoClosingPairs=w.autoClosingPairs.map(S=>new v.StandardAutoClosingPairConditional(S)):w.brackets?this._autoClosingPairs=w.brackets.map(S=>new v.StandardAutoClosingPairConditional({open:S[0],close:S[1]})):this._autoClosingPairs=[],w.__electricCharacterSupport&&w.__electricCharacterSupport.docComment){const S=w.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new v.StandardAutoClosingPairConditional({open:S.open,close:S.close||""}))}this._autoCloseBefore=typeof w.autoCloseBefore=="string"?w.autoCloseBefore:I.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=w.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}static shouldAutoClosePair(w,S,_){if(S.getTokenCount()===0)return!0;const C=S.findTokenIndexAtOffset(_-2),i=S.getStandardTokenType(C);return w.isOK(i)}getSurroundingPairs(){return this._surroundingPairs}}e.CharacterPairSupport=I,I.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=`;:.,=}])> 
	`}),define(J[378],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentRulesSupport=void 0;function v(k){return k.global&&(k.lastIndex=0),!0}class I{constructor(w){this._indentationRules=w}shouldIncrease(w){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&v(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(w))}shouldDecrease(w){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&v(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(w))}shouldIndentNextLine(w){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&v(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(w))}shouldIgnore(w){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&v(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(w))}getIndentMetadata(w){let S=0;return this.shouldIncrease(w)&&(S+=1),this.shouldDecrease(w)&&(S+=2),this.shouldIndentNextLine(w)&&(S+=4),this.shouldIgnore(w)&&(S+=8),S}}e.IndentRulesSupport=I}),define(J[379],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BasicInplaceReplace=void 0;class v{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(k,w,S,_,C){if(k&&w){let i=this.doNavigateValueSet(w,C);if(i)return{range:k,value:i}}if(S&&_){let i=this.doNavigateValueSet(_,C);if(i)return{range:S,value:i}}return null}doNavigateValueSet(k,w){let S=this.numberReplace(k,w);return S!==null?S:this.textReplace(k,w)}numberReplace(k,w){let S=Math.pow(10,k.length-(k.lastIndexOf(".")+1)),_=Number(k),C=parseFloat(k);return!isNaN(_)&&!isNaN(C)&&_===C?_===0&&!w?null:(_=Math.floor(_*S),_+=w?S:-S,String(_/S)):null}textReplace(k,w){return this.valueSetsReplace(this._defaultValueSet,k,w)}valueSetsReplace(k,w,S){let _=null;for(let C=0,i=k.length;_===null&&C<i;C++)_=this.valueSetReplace(k[C],w,S);return _}valueSetReplace(k,w,S){let _=k.indexOf(w);return _>=0?(_+=S?1:-1,_<0?_=k.length-1:_%=k.length,k[_]):null}}e.BasicInplaceReplace=v,v.INSTANCE=new v}),define(J[380],ee([0,1,11,8,109]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OnEnterSupport=void 0;class w{constructor(_){_=_||{},_.brackets=_.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],_.brackets.forEach(C=>{const i=w._createOpenBracketRegExp(C[0]),p=w._createCloseBracketRegExp(C[1]);i&&p&&this._brackets.push({open:C[0],openRegExp:i,close:C[1],closeRegExp:p})}),this._regExpRules=_.onEnterRules||[]}onEnter(_,C,i,p){if(_>=3)for(let u=0,a=this._regExpRules.length;u<a;u++){let l=this._regExpRules[u];if([{reg:l.beforeText,text:i},{reg:l.afterText,text:p},{reg:l.previousLineText,text:C}].every(d=>d.reg?d.reg.test(d.text):!0))return l.action}if(_>=2&&i.length>0&&p.length>0)for(let u=0,a=this._brackets.length;u<a;u++){let l=this._brackets[u];if(l.openRegExp.test(i)&&l.closeRegExp.test(p))return{indentAction:k.IndentAction.IndentOutdent}}if(_>=2&&i.length>0){for(let u=0,a=this._brackets.length;u<a;u++)if(this._brackets[u].openRegExp.test(i))return{indentAction:k.IndentAction.Indent}}return null}static _createOpenBracketRegExp(_){let C=I.escapeRegExpCharacters(_);return/\B/.test(C.charAt(0))||(C="\\b"+C),C+="\\s*$",w._safeRegExp(C)}static _createCloseBracketRegExp(_){let C=I.escapeRegExpCharacters(_);return/\B/.test(C.charAt(C.length-1))||(C=C+"\\b"),C="^\\s*"+C,w._safeRegExp(C)}static _safeRegExp(_){try{return new RegExp(_)}catch(C){return(0,v.onUnexpectedError)(C),null}}}e.OnEnterSupport=w}),define(J[168],ee([0,1,8,93,3]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketsUtils=e.RichEditBrackets=e.RichEditBracket=void 0;class w{constructor(o,h,g,m,f,b){this.languageIdentifier=o,this.index=h,this.open=g,this.close=m,this.forwardRegex=f,this.reversedRegex=b,this._openSet=w._toSet(this.open),this._closeSet=w._toSet(this.close)}isOpen(o){return this._openSet.has(o)}isClose(o){return this._closeSet.has(o)}static _toSet(o){const h=new Set;for(const g of o)h.add(g);return h}}e.RichEditBracket=w;function S(t){const o=t.length;t=t.map(b=>[b[0].toLowerCase(),b[1].toLowerCase()]);const h=[];for(let b=0;b<o;b++)h[b]=b;const g=(b,y)=>{const[L,N]=b,[M,D]=y;return L===M||L===D||N===M||N===D},m=(b,y)=>{const L=Math.min(b,y),N=Math.max(b,y);for(let M=0;M<o;M++)h[M]===N&&(h[M]=L)};for(let b=0;b<o;b++){const y=t[b];for(let L=b+1;L<o;L++){const N=t[L];g(y,N)&&m(h[b],h[L])}}const f=[];for(let b=0;b<o;b++){let y=[],L=[];for(let N=0;N<o;N++)if(h[N]===b){const[M,D]=t[N];y.push(M),L.push(D)}y.length>0&&f.push({open:y,close:L})}return f}class _{constructor(o,h){const g=S(h);this.brackets=g.map((m,f)=>new w(o,f,m.open,m.close,u(m.open,m.close,g,f),a(m.open,m.close,g,f))),this.forwardRegex=l(this.brackets),this.reversedRegex=c(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const m of this.brackets){for(const f of m.open)this.textIsBracket[f]=m,this.textIsOpenBracket[f]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,f.length);for(const f of m.close)this.textIsBracket[f]=m,this.textIsOpenBracket[f]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,f.length)}}}e.RichEditBrackets=_;function C(t,o,h,g){for(let m=0,f=o.length;m<f;m++)if(m!==h){const b=o[m];for(const y of b.open)y.indexOf(t)>=0&&g.push(y);for(const y of b.close)y.indexOf(t)>=0&&g.push(y)}}function i(t,o){return t.length-o.length}function p(t){if(t.length<=1)return t;const o=[],h=new Set;for(const g of t)h.has(g)||(o.push(g),h.add(g));return o}function u(t,o,h,g){let m=[];m=m.concat(t),m=m.concat(o);for(let f=0,b=m.length;f<b;f++)C(m[f],h,g,m);return m=p(m),m.sort(i),m.reverse(),r(m)}function a(t,o,h,g){let m=[];m=m.concat(t),m=m.concat(o);for(let f=0,b=m.length;f<b;f++)C(m[f],h,g,m);return m=p(m),m.sort(i),m.reverse(),r(m.map(n))}function l(t){let o=[];for(const h of t){for(const g of h.open)o.push(g);for(const g of h.close)o.push(g)}return o=p(o),r(o)}function c(t){let o=[];for(const h of t){for(const g of h.open)o.push(g);for(const g of h.close)o.push(g)}return o=p(o),r(o.map(n))}function d(t){const o=/^[\w ]+$/.test(t);return t=v.escapeRegExpCharacters(t),o?`\\b${t}\\b`:t}function r(t){let o=`(${t.map(d).join(")|(")})`;return v.createRegExp(o,!0)}const n=function(){function t(g){if(I.hasTextDecoder){const m=new Uint16Array(g.length);let f=0;for(let b=g.length-1;b>=0;b--)m[f++]=g.charCodeAt(b);return I.getPlatformTextDecoder().decode(m)}else{let m=[],f=0;for(let b=g.length-1;b>=0;b--)m[f++]=g.charAt(b);return m.join("")}}let o=null,h=null;return function(m){return o!==m&&(o=m,h=t(o)),h}}();class s{static _findPrevBracketInText(o,h,g,m){let f=g.match(o);if(!f)return null;let b=g.length-(f.index||0),y=f[0].length,L=m+b;return new k.Range(h,L-y+1,h,L+1)}static findPrevBracketInRange(o,h,g,m,f){const y=n(g).substring(g.length-f,g.length-m);return this._findPrevBracketInText(o,h,y,m)}static findNextBracketInText(o,h,g,m){let f=g.match(o);if(!f)return null;let b=f.index||0,y=f[0].length;if(y===0)return null;let L=m+b;return new k.Range(h,L+1,h,L+1+y)}static findNextBracketInRange(o,h,g,m,f){const b=g.substring(m,f);return this.findNextBracketInText(o,h,b,m)}}e.BracketsUtils=s}),define(J[381],ee([0,1,167,168]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketElectricCharacterSupport=void 0;class k{constructor(S){this._richEditBrackets=S}getElectricCharacters(){let S=[];if(this._richEditBrackets)for(const _ of this._richEditBrackets.brackets)for(const C of _.close){const i=C.charAt(C.length-1);S.push(i)}return S=S.filter((_,C,i)=>i.indexOf(_)===C),S}onElectricCharacter(S,_,C){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const i=_.findTokenIndexAtOffset(C-1);if((0,v.ignoreBracketsInToken)(_.getStandardTokenType(i)))return null;const p=this._richEditBrackets.reversedRegex,u=_.getLineContent().substring(0,C-1)+S,a=I.BracketsUtils.findPrevBracketInRange(p,1,u,0,u.length);if(!a)return null;const l=u.substring(a.startColumn-1,a.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[l])return null;const d=_.getActualLineContentBefore(a.startColumn-1);return/^\s*$/.test(d)?{matchOpenBracket:l}:null}}e.BracketElectricCharacterSupport=k}),define(J[42],ee([0,1,6,2,8,129,109,167,377,381,378,380,168]),function($,e,v,I,k,w,S,_,C,i,p,u,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageConfigurationRegistry=e.LanguageConfigurationRegistryImpl=e.LanguageConfigurationChangeEvent=e.RichEditSupport=void 0;class l{constructor(t,o){this._languageIdentifier=t,this._brackets=null,this._electricCharacter=null,this._conf=o,this._onEnterSupport=this._conf.brackets||this._conf.indentationRules||this._conf.onEnterRules?new u.OnEnterSupport(this._conf):null,this.comments=l._handleComments(this._conf),this.characterPair=new C.CharacterPairSupport(this._conf),this.wordDefinition=this._conf.wordPattern||w.DEFAULT_WORD_REGEXP,this.indentationRules=this._conf.indentationRules,this._conf.indentationRules?this.indentRulesSupport=new p.IndentRulesSupport(this._conf.indentationRules):this.indentRulesSupport=null,this.foldingRules=this._conf.folding||{}}get brackets(){return!this._brackets&&this._conf.brackets&&(this._brackets=new a.RichEditBrackets(this._languageIdentifier,this._conf.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new i.BracketElectricCharacterSupport(this.brackets)),this._electricCharacter}onEnter(t,o,h,g){return this._onEnterSupport?this._onEnterSupport.onEnter(t,o,h,g):null}static _handleComments(t){let o=t.comments;if(!o)return null;let h={};if(o.lineComment&&(h.lineCommentToken=o.lineComment),o.blockComment){let[g,m]=o.blockComment;h.blockCommentStartToken=g,h.blockCommentEndToken=m}return h}}e.RichEditSupport=l;class c{constructor(t){this.languageIdentifier=t}}e.LanguageConfigurationChangeEvent=c;class d{constructor(t,o,h){this.configuration=t,this.priority=o,this.order=h}static cmp(t,o){return t.priority===o.priority?t.order-o.order:t.priority-o.priority}}class r{constructor(t){this.languageIdentifier=t,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(t,o){const h=new d(t,o,++this._order);return this._entries.push(h),this._resolved=null,(0,I.toDisposable)(()=>{for(let g=0;g<this._entries.length;g++)if(this._entries[g]===h){this._entries.splice(g,1),this._resolved=null;break}})}getRichEditSupport(){if(!this._resolved){const t=this._resolve();t&&(this._resolved=new l(this.languageIdentifier,t))}return this._resolved}_resolve(){if(this._entries.length===0)return null;this._entries.sort(d.cmp);const t={};for(const o of this._entries){const h=o.configuration;t.comments=h.comments||t.comments,t.brackets=h.brackets||t.brackets,t.wordPattern=h.wordPattern||t.wordPattern,t.indentationRules=h.indentationRules||t.indentationRules,t.onEnterRules=h.onEnterRules||t.onEnterRules,t.autoClosingPairs=h.autoClosingPairs||t.autoClosingPairs,t.surroundingPairs=h.surroundingPairs||t.surroundingPairs,t.autoCloseBefore=h.autoCloseBefore||t.autoCloseBefore,t.folding=h.folding||t.folding,t.__electricCharacterSupport=h.__electricCharacterSupport||t.__electricCharacterSupport}return t}}class n{constructor(){this._entries2=new Map,this._onDidChange=new v.Emitter,this.onDidChange=this._onDidChange.event}register(t,o,h=0){let g=this._entries2.get(t.id);g||(g=new r(t),this._entries2.set(t.id,g));const m=g.register(o,h);return this._onDidChange.fire(new c(t)),(0,I.toDisposable)(()=>{m.dispose(),this._onDidChange.fire(new c(t))})}_getRichEditSupport(t){const o=this._entries2.get(t);return o?o.getRichEditSupport():null}getIndentationRules(t){const o=this._getRichEditSupport(t);return o&&o.indentationRules||null}_getElectricCharacterSupport(t){let o=this._getRichEditSupport(t);return o&&o.electricCharacter||null}getElectricCharacters(t){let o=this._getElectricCharacterSupport(t);return o?o.getElectricCharacters():[]}onElectricCharacter(t,o,h){let g=(0,_.createScopedLineTokens)(o,h-1),m=this._getElectricCharacterSupport(g.languageId);return m?m.onElectricCharacter(t,g,h-g.firstCharOffset):null}getComments(t){let o=this._getRichEditSupport(t);return o&&o.comments||null}_getCharacterPairSupport(t){let o=this._getRichEditSupport(t);return o&&o.characterPair||null}getAutoClosingPairs(t){const o=this._getCharacterPairSupport(t);return new S.AutoClosingPairs(o?o.getAutoClosingPairs():[])}getAutoCloseBeforeSet(t){let o=this._getCharacterPairSupport(t);return o?o.getAutoCloseBeforeSet():C.CharacterPairSupport.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED}getSurroundingPairs(t){let o=this._getCharacterPairSupport(t);return o?o.getSurroundingPairs():[]}shouldAutoClosePair(t,o,h){const g=(0,_.createScopedLineTokens)(o,h-1);return C.CharacterPairSupport.shouldAutoClosePair(t,g,h-g.firstCharOffset)}getWordDefinition(t){let o=this._getRichEditSupport(t);return o?(0,w.ensureValidWordDefinition)(o.wordDefinition||null):(0,w.ensureValidWordDefinition)(null)}getFoldingRules(t){let o=this._getRichEditSupport(t);return o?o.foldingRules:{}}getIndentRulesSupport(t){let o=this._getRichEditSupport(t);return o&&o.indentRulesSupport||null}getPrecedingValidLine(t,o,h){let g=t.getLanguageIdAtPosition(o,0);if(o>1){let m,f=-1;for(m=o-1;m>=1;m--){if(t.getLanguageIdAtPosition(m,0)!==g)return f;let b=t.getLineContent(m);if(h.shouldIgnore(b)||/^\s+$/.test(b)||b===""){f=m;continue}return m}}return-1}getInheritIndentForLine(t,o,h,g=!0){if(t<4)return null;const m=this.getIndentRulesSupport(o.getLanguageIdentifier().id);if(!m)return null;if(h<=1)return{indentation:"",action:null};const f=this.getPrecedingValidLine(o,h,m);if(f<0)return null;if(f<1)return{indentation:"",action:null};const b=o.getLineContent(f);if(m.shouldIncrease(b)||m.shouldIndentNextLine(b))return{indentation:k.getLeadingWhitespace(b),action:S.IndentAction.Indent,line:f};if(m.shouldDecrease(b))return{indentation:k.getLeadingWhitespace(b),action:null,line:f};{if(f===1)return{indentation:k.getLeadingWhitespace(o.getLineContent(f)),action:null,line:f};const y=f-1,L=m.getIndentMetadata(o.getLineContent(y));if(!(L&(1|2))&&L&4){let N=0;for(let M=y-1;M>0;M--)if(!m.shouldIndentNextLine(o.getLineContent(M))){N=M;break}return{indentation:k.getLeadingWhitespace(o.getLineContent(N+1)),action:null,line:N+1}}if(g)return{indentation:k.getLeadingWhitespace(o.getLineContent(f)),action:null,line:f};for(let N=f;N>0;N--){const M=o.getLineContent(N);if(m.shouldIncrease(M))return{indentation:k.getLeadingWhitespace(M),action:S.IndentAction.Indent,line:N};if(m.shouldIndentNextLine(M)){let D=0;for(let R=N-1;R>0;R--)if(!m.shouldIndentNextLine(o.getLineContent(N))){D=R;break}return{indentation:k.getLeadingWhitespace(o.getLineContent(D+1)),action:null,line:D+1}}else if(m.shouldDecrease(M))return{indentation:k.getLeadingWhitespace(M),action:null,line:N}}return{indentation:k.getLeadingWhitespace(o.getLineContent(1)),action:null,line:1}}}getGoodIndentForLine(t,o,h,g,m){if(t<4)return null;const f=this._getRichEditSupport(h);if(!f)return null;const b=this.getIndentRulesSupport(h);if(!b)return null;const y=this.getInheritIndentForLine(t,o,g),L=o.getLineContent(g);if(y){const N=y.line;if(N!==void 0){const M=f.onEnter(t,"",o.getLineContent(N),"");if(M){let D=k.getLeadingWhitespace(o.getLineContent(N));return M.removeText&&(D=D.substring(0,D.length-M.removeText)),M.indentAction===S.IndentAction.Indent||M.indentAction===S.IndentAction.IndentOutdent?D=m.shiftIndent(D):M.indentAction===S.IndentAction.Outdent&&(D=m.unshiftIndent(D)),b.shouldDecrease(L)&&(D=m.unshiftIndent(D)),M.appendText&&(D+=M.appendText),k.getLeadingWhitespace(D)}}return b.shouldDecrease(L)?y.action===S.IndentAction.Indent?y.indentation:m.unshiftIndent(y.indentation):y.action===S.IndentAction.Indent?m.shiftIndent(y.indentation):y.indentation}return null}getIndentForEnter(t,o,h,g){if(t<4)return null;o.forceTokenization(h.startLineNumber);const m=o.getLineTokens(h.startLineNumber),f=(0,_.createScopedLineTokens)(m,h.startColumn-1),b=f.getLineContent();let y=!1,L;f.firstCharOffset>0&&m.getLanguageId(0)!==f.languageId?(y=!0,L=b.substr(0,h.startColumn-1-f.firstCharOffset)):L=m.getLineContent().substring(0,h.startColumn-1);let N;h.isEmpty()?N=b.substr(h.startColumn-1-f.firstCharOffset):N=this.getScopedLineTokens(o,h.endLineNumber,h.endColumn).getLineContent().substr(h.endColumn-1-f.firstCharOffset);const M=this.getIndentRulesSupport(f.languageId);if(!M)return null;const D=L,R=k.getLeadingWhitespace(L),P={getLineTokens:E=>o.getLineTokens(E),getLanguageIdentifier:()=>o.getLanguageIdentifier(),getLanguageIdAtPosition:(E,A)=>o.getLanguageIdAtPosition(E,A),getLineContent:E=>E===h.startLineNumber?D:o.getLineContent(E)},O=k.getLeadingWhitespace(m.getLineContent()),W=this.getInheritIndentForLine(t,P,h.startLineNumber+1);if(!W){const E=y?O:R;return{beforeEnter:E,afterEnter:E}}let F=y?O:W.indentation;return W.action===S.IndentAction.Indent&&(F=g.shiftIndent(F)),M.shouldDecrease(N)&&(F=g.unshiftIndent(F)),{beforeEnter:y?O:R,afterEnter:F}}getIndentActionForType(t,o,h,g,m){if(t<4)return null;const f=this.getScopedLineTokens(o,h.startLineNumber,h.startColumn);if(f.firstCharOffset)return null;const b=this.getIndentRulesSupport(f.languageId);if(!b)return null;const y=f.getLineContent(),L=y.substr(0,h.startColumn-1-f.firstCharOffset);let N;if(h.isEmpty()?N=y.substr(h.startColumn-1-f.firstCharOffset):N=this.getScopedLineTokens(o,h.endLineNumber,h.endColumn).getLineContent().substr(h.endColumn-1-f.firstCharOffset),!b.shouldDecrease(L+N)&&b.shouldDecrease(L+g+N)){const M=this.getInheritIndentForLine(t,o,h.startLineNumber,!1);if(!M)return null;let D=M.indentation;return M.action!==S.IndentAction.Indent&&(D=m.unshiftIndent(D)),D}return null}getIndentMetadata(t,o){const h=this.getIndentRulesSupport(t.getLanguageIdentifier().id);return!h||o<1||o>t.getLineCount()?null:h.getIndentMetadata(t.getLineContent(o))}getEnterAction(t,o,h){const g=this.getScopedLineTokens(o,h.startLineNumber,h.startColumn),m=this._getRichEditSupport(g.languageId);if(!m)return null;const f=g.getLineContent(),b=f.substr(0,h.startColumn-1-g.firstCharOffset);let y;h.isEmpty()?y=f.substr(h.startColumn-1-g.firstCharOffset):y=this.getScopedLineTokens(o,h.endLineNumber,h.endColumn).getLineContent().substr(h.endColumn-1-g.firstCharOffset);let L="";if(h.startLineNumber>1&&g.firstCharOffset===0){const O=this.getScopedLineTokens(o,h.startLineNumber-1);O.languageId===g.languageId&&(L=O.getLineContent())}const N=m.onEnter(t,L,b,y);if(!N)return null;const M=N.indentAction;let D=N.appendText;const R=N.removeText||0;D?M===S.IndentAction.Indent&&(D="	"+D):M===S.IndentAction.Indent||M===S.IndentAction.IndentOutdent?D="	":D="";let P=this.getIndentationAtPosition(o,h.startLineNumber,h.startColumn);return R&&(P=P.substring(0,P.length-R)),{indentAction:M,appendText:D,removeText:R,indentation:P}}getIndentationAtPosition(t,o,h){const g=t.getLineContent(o);let m=k.getLeadingWhitespace(g);return m.length>h-1&&(m=m.substring(0,h-1)),m}getScopedLineTokens(t,o,h){t.forceTokenization(o);const g=t.getLineTokens(o),m=typeof h=="undefined"?t.getLineMaxColumn(o)-1:h-1;return(0,_.createScopedLineTokens)(g,m)}getBracketsSupport(t){const o=this._getRichEditSupport(t);return o&&o.brackets||null}}e.LanguageConfigurationRegistryImpl=n,e.LanguageConfigurationRegistry=new n}),define(J[382],ee([0,1,29]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateTokensCSSForColorMap=e.ThemeTrieElement=e.ThemeTrieElementRule=e.strcmp=e.toStandardTokenType=e.TokenTheme=e.ColorMap=e.parseTokenTheme=e.ParsedTokenThemeRule=void 0;class I{constructor(r,n,s,t,o){this.token=r,this.index=n,this.fontStyle=s,this.foreground=t,this.background=o}}e.ParsedTokenThemeRule=I;function k(d){if(!d||!Array.isArray(d))return[];let r=[],n=0;for(let s=0,t=d.length;s<t;s++){let o=d[s],h=-1;if(typeof o.fontStyle=="string"){h=0;let f=o.fontStyle.split(" ");for(let b=0,y=f.length;b<y;b++)switch(f[b]){case"italic":h=h|1;break;case"bold":h=h|2;break;case"underline":h=h|4;break}}let g=null;typeof o.foreground=="string"&&(g=o.foreground);let m=null;typeof o.background=="string"&&(m=o.background),r[n++]=new I(o.token||"",s,h,g,m)}return r}e.parseTokenTheme=k;function w(d,r){d.sort((b,y)=>{let L=u(b.token,y.token);return L!==0?L:b.index-y.index});let n=0,s="000000",t="ffffff";for(;d.length>=1&&d[0].token==="";){let b=d.shift();b.fontStyle!==-1&&(n=b.fontStyle),b.foreground!==null&&(s=b.foreground),b.background!==null&&(t=b.background)}let o=new _;for(let b of r)o.getId(b);let h=o.getId(s),g=o.getId(t),m=new a(n,h,g),f=new l(m);for(let b=0,y=d.length;b<y;b++){let L=d[b];f.insert(L.token,L.fontStyle,o.getId(L.foreground),o.getId(L.background))}return new C(o,f)}const S=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class _{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(r){if(r===null)return 0;const n=r.match(S);if(!n)throw new Error("Illegal value for token color: "+r);r=n[1].toUpperCase();let s=this._color2id.get(r);return s||(s=++this._lastColorId,this._color2id.set(r,s),this._id2color[s]=v.Color.fromHex("#"+r),s)}getColorMap(){return this._id2color.slice(0)}}e.ColorMap=_;class C{constructor(r,n){this._colorMap=r,this._root=n,this._cache=new Map}static createFromRawTokenTheme(r,n){return this.createFromParsedTokenTheme(k(r),n)}static createFromParsedTokenTheme(r,n){return w(r,n)}getColorMap(){return this._colorMap.getColorMap()}_match(r){return this._root.match(r)}match(r,n){let s=this._cache.get(n);if(typeof s=="undefined"){let t=this._match(n),o=p(n);s=(t.metadata|o<<8)>>>0,this._cache.set(n,s)}return(s|r<<0)>>>0}}e.TokenTheme=C;const i=/\b(comment|string|regex|regexp)\b/;function p(d){let r=d.match(i);if(!r)return 0;switch(r[1]){case"comment":return 1;case"string":return 2;case"regex":return 4;case"regexp":return 4}throw new Error("Unexpected match for standard token type!")}e.toStandardTokenType=p;function u(d,r){return d<r?-1:d>r?1:0}e.strcmp=u;class a{constructor(r,n,s){this._fontStyle=r,this._foreground=n,this._background=s,this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}clone(){return new a(this._fontStyle,this._foreground,this._background)}acceptOverwrite(r,n,s){r!==-1&&(this._fontStyle=r),n!==0&&(this._foreground=n),s!==0&&(this._background=s),this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}}e.ThemeTrieElementRule=a;class l{constructor(r){this._mainRule=r,this._children=new Map}match(r){if(r==="")return this._mainRule;let n=r.indexOf("."),s,t;n===-1?(s=r,t=""):(s=r.substring(0,n),t=r.substring(n+1));let o=this._children.get(s);return typeof o!="undefined"?o.match(t):this._mainRule}insert(r,n,s,t){if(r===""){this._mainRule.acceptOverwrite(n,s,t);return}let o=r.indexOf("."),h,g;o===-1?(h=r,g=""):(h=r.substring(0,o),g=r.substring(o+1));let m=this._children.get(h);typeof m=="undefined"&&(m=new l(this._mainRule.clone()),this._children.set(h,m)),m.insert(g,n,s,t)}}e.ThemeTrieElement=l;function c(d){let r=[];for(let n=1,s=d.length;n<s;n++){let t=d[n];r[n]=`.mtk${n} { color: ${t}; }`}return r.push(".mtki { font-style: italic; }"),r.push(".mtkb { font-weight: bold; }"),r.push(".mtku { text-decoration: underline; text-underline-position: under; }"),r.join(`
`)}e.generateTokensCSSForColorMap=c}),define(J[383],ee([0,1,6,2]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistryImpl=void 0;class k{constructor(){this._map=new Map,this._promises=new Map,this._onDidChange=new v.Emitter,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(S){this._onDidChange.fire({changedLanguages:S,changedColorMap:!1})}register(S,_){return this._map.set(S,_),this.fire([S]),(0,I.toDisposable)(()=>{this._map.get(S)===_&&(this._map.delete(S),this.fire([S]))})}registerPromise(S,_){let C=null,i=!1;return this._promises.set(S,_.then(p=>{this._promises.delete(S),!(i||!p)&&(C=this.register(S,p))})),(0,I.toDisposable)(()=>{i=!0,C&&C.dispose()})}getPromise(S){const _=this.get(S);if(_)return Promise.resolve(_);const C=this._promises.get(S);return C?C.then(i=>this.get(S)):null}get(S){return this._map.get(S)||null}setColorMap(S){this._colorMap=S,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}e.TokenizationRegistryImpl=k}),define(J[384],ee([0,1,101,17]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encodeSemanticTokensDto=void 0;function k(C){for(let i=0,p=C.length;i<p;i+=4){const u=C[i+0],a=C[i+1],l=C[i+2],c=C[i+3];C[i+0]=c,C[i+1]=l,C[i+2]=a,C[i+3]=u}}function w(C){const i=new Uint8Array(C.buffer,C.byteOffset,C.length*4);return I.isLittleEndian()||k(i),v.VSBuffer.wrap(i)}function S(C){const i=new Uint32Array(_(C));let p=0;if(i[p++]=C.id,C.type==="full")i[p++]=1,i[p++]=C.data.length,i.set(C.data,p),p+=C.data.length;else{i[p++]=2,i[p++]=C.deltas.length;for(const u of C.deltas)i[p++]=u.start,i[p++]=u.deleteCount,u.data?(i[p++]=u.data.length,i.set(u.data,p),p+=u.data.length):i[p++]=0}return w(i)}e.encodeSemanticTokensDto=S;function _(C){let i=0;if(i+=1+1,C.type==="full")i+=1+C.data.length;else{i+=1,i+=(1+1+1)*C.deltas.length;for(const p of C.deltas)p.data&&(i+=p.data.length)}return i}}),define(J[169],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WrappingIndent=e.TrackedRangeStickiness=e.TextEditorCursorStyle=e.TextEditorCursorBlinkingStyle=e.SymbolTag=e.SymbolKind=e.SignatureHelpTriggerKind=e.SelectionDirection=e.ScrollbarVisibility=e.ScrollType=e.RenderMinimap=e.RenderLineNumbersType=e.OverviewRulerLane=e.OverlayWidgetPositionPreference=e.MouseTargetType=e.MinimapPosition=e.MarkerTag=e.MarkerSeverity=e.KeyCode=e.InlineHintKind=e.IndentAction=e.EndOfLineSequence=e.EndOfLinePreference=e.EditorOption=e.EditorAutoIndentStrategy=e.DocumentHighlightKind=e.DefaultEndOfLine=e.CursorChangeReason=e.ContentWidgetPositionPreference=e.CompletionTriggerKind=e.CompletionItemTag=e.CompletionItemKind=e.CompletionItemInsertTextRule=e.AccessibilitySupport=void 0;var v;(function(E){E[E.Unknown=0]="Unknown",E[E.Disabled=1]="Disabled",E[E.Enabled=2]="Enabled"})(v=e.AccessibilitySupport||(e.AccessibilitySupport={}));var I;(function(E){E[E.KeepWhitespace=1]="KeepWhitespace",E[E.InsertAsSnippet=4]="InsertAsSnippet"})(I=e.CompletionItemInsertTextRule||(e.CompletionItemInsertTextRule={}));var k;(function(E){E[E.Method=0]="Method",E[E.Function=1]="Function",E[E.Constructor=2]="Constructor",E[E.Field=3]="Field",E[E.Variable=4]="Variable",E[E.Class=5]="Class",E[E.Struct=6]="Struct",E[E.Interface=7]="Interface",E[E.Module=8]="Module",E[E.Property=9]="Property",E[E.Event=10]="Event",E[E.Operator=11]="Operator",E[E.Unit=12]="Unit",E[E.Value=13]="Value",E[E.Constant=14]="Constant",E[E.Enum=15]="Enum",E[E.EnumMember=16]="EnumMember",E[E.Keyword=17]="Keyword",E[E.Text=18]="Text",E[E.Color=19]="Color",E[E.File=20]="File",E[E.Reference=21]="Reference",E[E.Customcolor=22]="Customcolor",E[E.Folder=23]="Folder",E[E.TypeParameter=24]="TypeParameter",E[E.User=25]="User",E[E.Issue=26]="Issue",E[E.Snippet=27]="Snippet"})(k=e.CompletionItemKind||(e.CompletionItemKind={}));var w;(function(E){E[E.Deprecated=1]="Deprecated"})(w=e.CompletionItemTag||(e.CompletionItemTag={}));var S;(function(E){E[E.Invoke=0]="Invoke",E[E.TriggerCharacter=1]="TriggerCharacter",E[E.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(S=e.CompletionTriggerKind||(e.CompletionTriggerKind={}));var _;(function(E){E[E.EXACT=0]="EXACT",E[E.ABOVE=1]="ABOVE",E[E.BELOW=2]="BELOW"})(_=e.ContentWidgetPositionPreference||(e.ContentWidgetPositionPreference={}));var C;(function(E){E[E.NotSet=0]="NotSet",E[E.ContentFlush=1]="ContentFlush",E[E.RecoverFromMarkers=2]="RecoverFromMarkers",E[E.Explicit=3]="Explicit",E[E.Paste=4]="Paste",E[E.Undo=5]="Undo",E[E.Redo=6]="Redo"})(C=e.CursorChangeReason||(e.CursorChangeReason={}));var i;(function(E){E[E.LF=1]="LF",E[E.CRLF=2]="CRLF"})(i=e.DefaultEndOfLine||(e.DefaultEndOfLine={}));var p;(function(E){E[E.Text=0]="Text",E[E.Read=1]="Read",E[E.Write=2]="Write"})(p=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var u;(function(E){E[E.None=0]="None",E[E.Keep=1]="Keep",E[E.Brackets=2]="Brackets",E[E.Advanced=3]="Advanced",E[E.Full=4]="Full"})(u=e.EditorAutoIndentStrategy||(e.EditorAutoIndentStrategy={}));var a;(function(E){E[E.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",E[E.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",E[E.accessibilitySupport=2]="accessibilitySupport",E[E.accessibilityPageSize=3]="accessibilityPageSize",E[E.ariaLabel=4]="ariaLabel",E[E.autoClosingBrackets=5]="autoClosingBrackets",E[E.autoClosingDelete=6]="autoClosingDelete",E[E.autoClosingOvertype=7]="autoClosingOvertype",E[E.autoClosingQuotes=8]="autoClosingQuotes",E[E.autoIndent=9]="autoIndent",E[E.automaticLayout=10]="automaticLayout",E[E.autoSurround=11]="autoSurround",E[E.codeLens=12]="codeLens",E[E.codeLensFontFamily=13]="codeLensFontFamily",E[E.codeLensFontSize=14]="codeLensFontSize",E[E.colorDecorators=15]="colorDecorators",E[E.columnSelection=16]="columnSelection",E[E.comments=17]="comments",E[E.contextmenu=18]="contextmenu",E[E.copyWithSyntaxHighlighting=19]="copyWithSyntaxHighlighting",E[E.cursorBlinking=20]="cursorBlinking",E[E.cursorSmoothCaretAnimation=21]="cursorSmoothCaretAnimation",E[E.cursorStyle=22]="cursorStyle",E[E.cursorSurroundingLines=23]="cursorSurroundingLines",E[E.cursorSurroundingLinesStyle=24]="cursorSurroundingLinesStyle",E[E.cursorWidth=25]="cursorWidth",E[E.disableLayerHinting=26]="disableLayerHinting",E[E.disableMonospaceOptimizations=27]="disableMonospaceOptimizations",E[E.domReadOnly=28]="domReadOnly",E[E.dragAndDrop=29]="dragAndDrop",E[E.emptySelectionClipboard=30]="emptySelectionClipboard",E[E.extraEditorClassName=31]="extraEditorClassName",E[E.fastScrollSensitivity=32]="fastScrollSensitivity",E[E.find=33]="find",E[E.fixedOverflowWidgets=34]="fixedOverflowWidgets",E[E.folding=35]="folding",E[E.foldingStrategy=36]="foldingStrategy",E[E.foldingHighlight=37]="foldingHighlight",E[E.unfoldOnClickAfterEndOfLine=38]="unfoldOnClickAfterEndOfLine",E[E.fontFamily=39]="fontFamily",E[E.fontInfo=40]="fontInfo",E[E.fontLigatures=41]="fontLigatures",E[E.fontSize=42]="fontSize",E[E.fontWeight=43]="fontWeight",E[E.formatOnPaste=44]="formatOnPaste",E[E.formatOnType=45]="formatOnType",E[E.glyphMargin=46]="glyphMargin",E[E.gotoLocation=47]="gotoLocation",E[E.hideCursorInOverviewRuler=48]="hideCursorInOverviewRuler",E[E.highlightActiveIndentGuide=49]="highlightActiveIndentGuide",E[E.hover=50]="hover",E[E.inDiffEditor=51]="inDiffEditor",E[E.letterSpacing=52]="letterSpacing",E[E.lightbulb=53]="lightbulb",E[E.lineDecorationsWidth=54]="lineDecorationsWidth",E[E.lineHeight=55]="lineHeight",E[E.lineNumbers=56]="lineNumbers",E[E.lineNumbersMinChars=57]="lineNumbersMinChars",E[E.linkedEditing=58]="linkedEditing",E[E.links=59]="links",E[E.matchBrackets=60]="matchBrackets",E[E.minimap=61]="minimap",E[E.mouseStyle=62]="mouseStyle",E[E.mouseWheelScrollSensitivity=63]="mouseWheelScrollSensitivity",E[E.mouseWheelZoom=64]="mouseWheelZoom",E[E.multiCursorMergeOverlapping=65]="multiCursorMergeOverlapping",E[E.multiCursorModifier=66]="multiCursorModifier",E[E.multiCursorPaste=67]="multiCursorPaste",E[E.occurrencesHighlight=68]="occurrencesHighlight",E[E.overviewRulerBorder=69]="overviewRulerBorder",E[E.overviewRulerLanes=70]="overviewRulerLanes",E[E.padding=71]="padding",E[E.parameterHints=72]="parameterHints",E[E.peekWidgetDefaultFocus=73]="peekWidgetDefaultFocus",E[E.definitionLinkOpensInPeek=74]="definitionLinkOpensInPeek",E[E.quickSuggestions=75]="quickSuggestions",E[E.quickSuggestionsDelay=76]="quickSuggestionsDelay",E[E.readOnly=77]="readOnly",E[E.renameOnType=78]="renameOnType",E[E.renderControlCharacters=79]="renderControlCharacters",E[E.renderIndentGuides=80]="renderIndentGuides",E[E.renderFinalNewline=81]="renderFinalNewline",E[E.renderLineHighlight=82]="renderLineHighlight",E[E.renderLineHighlightOnlyWhenFocus=83]="renderLineHighlightOnlyWhenFocus",E[E.renderValidationDecorations=84]="renderValidationDecorations",E[E.renderWhitespace=85]="renderWhitespace",E[E.revealHorizontalRightPadding=86]="revealHorizontalRightPadding",E[E.roundedSelection=87]="roundedSelection",E[E.rulers=88]="rulers",E[E.scrollbar=89]="scrollbar",E[E.scrollBeyondLastColumn=90]="scrollBeyondLastColumn",E[E.scrollBeyondLastLine=91]="scrollBeyondLastLine",E[E.scrollPredominantAxis=92]="scrollPredominantAxis",E[E.selectionClipboard=93]="selectionClipboard",E[E.selectionHighlight=94]="selectionHighlight",E[E.selectOnLineNumbers=95]="selectOnLineNumbers",E[E.showFoldingControls=96]="showFoldingControls",E[E.showUnused=97]="showUnused",E[E.snippetSuggestions=98]="snippetSuggestions",E[E.smartSelect=99]="smartSelect",E[E.smoothScrolling=100]="smoothScrolling",E[E.stickyTabStops=101]="stickyTabStops",E[E.stopRenderingLineAfter=102]="stopRenderingLineAfter",E[E.suggest=103]="suggest",E[E.suggestFontSize=104]="suggestFontSize",E[E.suggestLineHeight=105]="suggestLineHeight",E[E.suggestOnTriggerCharacters=106]="suggestOnTriggerCharacters",E[E.suggestSelection=107]="suggestSelection",E[E.tabCompletion=108]="tabCompletion",E[E.tabIndex=109]="tabIndex",E[E.unusualLineTerminators=110]="unusualLineTerminators",E[E.useShadowDOM=111]="useShadowDOM",E[E.useTabStops=112]="useTabStops",E[E.wordSeparators=113]="wordSeparators",E[E.wordWrap=114]="wordWrap",E[E.wordWrapBreakAfterCharacters=115]="wordWrapBreakAfterCharacters",E[E.wordWrapBreakBeforeCharacters=116]="wordWrapBreakBeforeCharacters",E[E.wordWrapColumn=117]="wordWrapColumn",E[E.wordWrapOverride1=118]="wordWrapOverride1",E[E.wordWrapOverride2=119]="wordWrapOverride2",E[E.wrappingIndent=120]="wrappingIndent",E[E.wrappingStrategy=121]="wrappingStrategy",E[E.showDeprecated=122]="showDeprecated",E[E.inlineHints=123]="inlineHints",E[E.editorClassName=124]="editorClassName",E[E.pixelRatio=125]="pixelRatio",E[E.tabFocusMode=126]="tabFocusMode",E[E.layoutInfo=127]="layoutInfo",E[E.wrappingInfo=128]="wrappingInfo"})(a=e.EditorOption||(e.EditorOption={}));var l;(function(E){E[E.TextDefined=0]="TextDefined",E[E.LF=1]="LF",E[E.CRLF=2]="CRLF"})(l=e.EndOfLinePreference||(e.EndOfLinePreference={}));var c;(function(E){E[E.LF=0]="LF",E[E.CRLF=1]="CRLF"})(c=e.EndOfLineSequence||(e.EndOfLineSequence={}));var d;(function(E){E[E.None=0]="None",E[E.Indent=1]="Indent",E[E.IndentOutdent=2]="IndentOutdent",E[E.Outdent=3]="Outdent"})(d=e.IndentAction||(e.IndentAction={}));var r;(function(E){E[E.Other=0]="Other",E[E.Type=1]="Type",E[E.Parameter=2]="Parameter"})(r=e.InlineHintKind||(e.InlineHintKind={}));var n;(function(E){E[E.DependsOnKbLayout=-1]="DependsOnKbLayout",E[E.Unknown=0]="Unknown",E[E.Backspace=1]="Backspace",E[E.Tab=2]="Tab",E[E.Enter=3]="Enter",E[E.Shift=4]="Shift",E[E.Ctrl=5]="Ctrl",E[E.Alt=6]="Alt",E[E.PauseBreak=7]="PauseBreak",E[E.CapsLock=8]="CapsLock",E[E.Escape=9]="Escape",E[E.Space=10]="Space",E[E.PageUp=11]="PageUp",E[E.PageDown=12]="PageDown",E[E.End=13]="End",E[E.Home=14]="Home",E[E.LeftArrow=15]="LeftArrow",E[E.UpArrow=16]="UpArrow",E[E.RightArrow=17]="RightArrow",E[E.DownArrow=18]="DownArrow",E[E.Insert=19]="Insert",E[E.Delete=20]="Delete",E[E.KEY_0=21]="KEY_0",E[E.KEY_1=22]="KEY_1",E[E.KEY_2=23]="KEY_2",E[E.KEY_3=24]="KEY_3",E[E.KEY_4=25]="KEY_4",E[E.KEY_5=26]="KEY_5",E[E.KEY_6=27]="KEY_6",E[E.KEY_7=28]="KEY_7",E[E.KEY_8=29]="KEY_8",E[E.KEY_9=30]="KEY_9",E[E.KEY_A=31]="KEY_A",E[E.KEY_B=32]="KEY_B",E[E.KEY_C=33]="KEY_C",E[E.KEY_D=34]="KEY_D",E[E.KEY_E=35]="KEY_E",E[E.KEY_F=36]="KEY_F",E[E.KEY_G=37]="KEY_G",E[E.KEY_H=38]="KEY_H",E[E.KEY_I=39]="KEY_I",E[E.KEY_J=40]="KEY_J",E[E.KEY_K=41]="KEY_K",E[E.KEY_L=42]="KEY_L",E[E.KEY_M=43]="KEY_M",E[E.KEY_N=44]="KEY_N",E[E.KEY_O=45]="KEY_O",E[E.KEY_P=46]="KEY_P",E[E.KEY_Q=47]="KEY_Q",E[E.KEY_R=48]="KEY_R",E[E.KEY_S=49]="KEY_S",E[E.KEY_T=50]="KEY_T",E[E.KEY_U=51]="KEY_U",E[E.KEY_V=52]="KEY_V",E[E.KEY_W=53]="KEY_W",E[E.KEY_X=54]="KEY_X",E[E.KEY_Y=55]="KEY_Y",E[E.KEY_Z=56]="KEY_Z",E[E.Meta=57]="Meta",E[E.ContextMenu=58]="ContextMenu",E[E.F1=59]="F1",E[E.F2=60]="F2",E[E.F3=61]="F3",E[E.F4=62]="F4",E[E.F5=63]="F5",E[E.F6=64]="F6",E[E.F7=65]="F7",E[E.F8=66]="F8",E[E.F9=67]="F9",E[E.F10=68]="F10",E[E.F11=69]="F11",E[E.F12=70]="F12",E[E.F13=71]="F13",E[E.F14=72]="F14",E[E.F15=73]="F15",E[E.F16=74]="F16",E[E.F17=75]="F17",E[E.F18=76]="F18",E[E.F19=77]="F19",E[E.NumLock=78]="NumLock",E[E.ScrollLock=79]="ScrollLock",E[E.US_SEMICOLON=80]="US_SEMICOLON",E[E.US_EQUAL=81]="US_EQUAL",E[E.US_COMMA=82]="US_COMMA",E[E.US_MINUS=83]="US_MINUS",E[E.US_DOT=84]="US_DOT",E[E.US_SLASH=85]="US_SLASH",E[E.US_BACKTICK=86]="US_BACKTICK",E[E.US_OPEN_SQUARE_BRACKET=87]="US_OPEN_SQUARE_BRACKET",E[E.US_BACKSLASH=88]="US_BACKSLASH",E[E.US_CLOSE_SQUARE_BRACKET=89]="US_CLOSE_SQUARE_BRACKET",E[E.US_QUOTE=90]="US_QUOTE",E[E.OEM_8=91]="OEM_8",E[E.OEM_102=92]="OEM_102",E[E.NUMPAD_0=93]="NUMPAD_0",E[E.NUMPAD_1=94]="NUMPAD_1",E[E.NUMPAD_2=95]="NUMPAD_2",E[E.NUMPAD_3=96]="NUMPAD_3",E[E.NUMPAD_4=97]="NUMPAD_4",E[E.NUMPAD_5=98]="NUMPAD_5",E[E.NUMPAD_6=99]="NUMPAD_6",E[E.NUMPAD_7=100]="NUMPAD_7",E[E.NUMPAD_8=101]="NUMPAD_8",E[E.NUMPAD_9=102]="NUMPAD_9",E[E.NUMPAD_MULTIPLY=103]="NUMPAD_MULTIPLY",E[E.NUMPAD_ADD=104]="NUMPAD_ADD",E[E.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",E[E.NUMPAD_SUBTRACT=106]="NUMPAD_SUBTRACT",E[E.NUMPAD_DECIMAL=107]="NUMPAD_DECIMAL",E[E.NUMPAD_DIVIDE=108]="NUMPAD_DIVIDE",E[E.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",E[E.ABNT_C1=110]="ABNT_C1",E[E.ABNT_C2=111]="ABNT_C2",E[E.MAX_VALUE=112]="MAX_VALUE"})(n=e.KeyCode||(e.KeyCode={}));var s;(function(E){E[E.Hint=1]="Hint",E[E.Info=2]="Info",E[E.Warning=4]="Warning",E[E.Error=8]="Error"})(s=e.MarkerSeverity||(e.MarkerSeverity={}));var t;(function(E){E[E.Unnecessary=1]="Unnecessary",E[E.Deprecated=2]="Deprecated"})(t=e.MarkerTag||(e.MarkerTag={}));var o;(function(E){E[E.Inline=1]="Inline",E[E.Gutter=2]="Gutter"})(o=e.MinimapPosition||(e.MinimapPosition={}));var h;(function(E){E[E.UNKNOWN=0]="UNKNOWN",E[E.TEXTAREA=1]="TEXTAREA",E[E.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",E[E.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",E[E.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",E[E.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",E[E.CONTENT_TEXT=6]="CONTENT_TEXT",E[E.CONTENT_EMPTY=7]="CONTENT_EMPTY",E[E.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",E[E.CONTENT_WIDGET=9]="CONTENT_WIDGET",E[E.OVERVIEW_RULER=10]="OVERVIEW_RULER",E[E.SCROLLBAR=11]="SCROLLBAR",E[E.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",E[E.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(h=e.MouseTargetType||(e.MouseTargetType={}));var g;(function(E){E[E.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",E[E.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",E[E.TOP_CENTER=2]="TOP_CENTER"})(g=e.OverlayWidgetPositionPreference||(e.OverlayWidgetPositionPreference={}));var m;(function(E){E[E.Left=1]="Left",E[E.Center=2]="Center",E[E.Right=4]="Right",E[E.Full=7]="Full"})(m=e.OverviewRulerLane||(e.OverviewRulerLane={}));var f;(function(E){E[E.Off=0]="Off",E[E.On=1]="On",E[E.Relative=2]="Relative",E[E.Interval=3]="Interval",E[E.Custom=4]="Custom"})(f=e.RenderLineNumbersType||(e.RenderLineNumbersType={}));var b;(function(E){E[E.None=0]="None",E[E.Text=1]="Text",E[E.Blocks=2]="Blocks"})(b=e.RenderMinimap||(e.RenderMinimap={}));var y;(function(E){E[E.Smooth=0]="Smooth",E[E.Immediate=1]="Immediate"})(y=e.ScrollType||(e.ScrollType={}));var L;(function(E){E[E.Auto=1]="Auto",E[E.Hidden=2]="Hidden",E[E.Visible=3]="Visible"})(L=e.ScrollbarVisibility||(e.ScrollbarVisibility={}));var N;(function(E){E[E.LTR=0]="LTR",E[E.RTL=1]="RTL"})(N=e.SelectionDirection||(e.SelectionDirection={}));var M;(function(E){E[E.Invoke=1]="Invoke",E[E.TriggerCharacter=2]="TriggerCharacter",E[E.ContentChange=3]="ContentChange"})(M=e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={}));var D;(function(E){E[E.File=0]="File",E[E.Module=1]="Module",E[E.Namespace=2]="Namespace",E[E.Package=3]="Package",E[E.Class=4]="Class",E[E.Method=5]="Method",E[E.Property=6]="Property",E[E.Field=7]="Field",E[E.Constructor=8]="Constructor",E[E.Enum=9]="Enum",E[E.Interface=10]="Interface",E[E.Function=11]="Function",E[E.Variable=12]="Variable",E[E.Constant=13]="Constant",E[E.String=14]="String",E[E.Number=15]="Number",E[E.Boolean=16]="Boolean",E[E.Array=17]="Array",E[E.Object=18]="Object",E[E.Key=19]="Key",E[E.Null=20]="Null",E[E.EnumMember=21]="EnumMember",E[E.Struct=22]="Struct",E[E.Event=23]="Event",E[E.Operator=24]="Operator",E[E.TypeParameter=25]="TypeParameter"})(D=e.SymbolKind||(e.SymbolKind={}));var R;(function(E){E[E.Deprecated=1]="Deprecated"})(R=e.SymbolTag||(e.SymbolTag={}));var P;(function(E){E[E.Hidden=0]="Hidden",E[E.Blink=1]="Blink",E[E.Smooth=2]="Smooth",E[E.Phase=3]="Phase",E[E.Expand=4]="Expand",E[E.Solid=5]="Solid"})(P=e.TextEditorCursorBlinkingStyle||(e.TextEditorCursorBlinkingStyle={}));var O;(function(E){E[E.Line=1]="Line",E[E.Block=2]="Block",E[E.Underline=3]="Underline",E[E.LineThin=4]="LineThin",E[E.BlockOutline=5]="BlockOutline",E[E.UnderlineThin=6]="UnderlineThin"})(O=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));var W;(function(E){E[E.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",E[E.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",E[E.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",E[E.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(W=e.TrackedRangeStickiness||(e.TrackedRangeStickiness={}));var F;(function(E){E[E.None=0]="None",E[E.Same=1]="Same",E[E.Indent=2]="Indent",E[E.DeepIndent=3]="DeepIndent"})(F=e.WrappingIndent||(e.WrappingIndent={}))}),define(J[221],ee([0,1,23,6,39,24,14,3,21,128,169]),function($,e,v,I,k,w,S,_,C,i,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoBaseAPI=e.KeyMod=void 0;class u{static chord(c,d){return(0,k.KeyChord)(c,d)}}e.KeyMod=u,u.CtrlCmd=2048,u.Shift=1024,u.Alt=512,u.WinCtrl=256;function a(){return{editor:void 0,languages:void 0,CancellationTokenSource:v.CancellationTokenSource,Emitter:I.Emitter,KeyCode:p.KeyCode,KeyMod:u,Position:S.Position,Range:_.Range,Selection:C.Selection,SelectionDirection:p.SelectionDirection,MarkerSeverity:p.MarkerSeverity,MarkerTag:p.MarkerTag,Uri:w.URI,Token:i.Token}}e.createMonacoBaseAPI=a}),define(J[222],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewZoneManager=e.OverviewRulerZone=e.ColorZone=void 0;class v{constructor(S,_,C){this.from=S|0,this.to=_|0,this.colorId=C|0}static compare(S,_){return S.colorId===_.colorId?S.from===_.from?S.to-_.to:S.from-_.from:S.colorId-_.colorId}}e.ColorZone=v;class I{constructor(S,_,C){this.startLineNumber=S,this.endLineNumber=_,this.color=C,this._colorZone=null}static compare(S,_){return S.color===_.color?S.startLineNumber===_.startLineNumber?S.endLineNumber-_.endLineNumber:S.startLineNumber-_.startLineNumber:S.color<_.color?-1:1}setColorZone(S){this._colorZone=S}getColorZones(){return this._colorZone}}e.OverviewRulerZone=I;class k{constructor(S){this._getVerticalOffsetForLine=S,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(S){this._zones=S,this._zones.sort(I.compare)}setLineHeight(S){return this._lineHeight===S?!1:(this._lineHeight=S,this._colorZonesInvalid=!0,!0)}setPixelRatio(S){this._pixelRatio=S,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(S){return this._domWidth===S?!1:(this._domWidth=S,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(S){return this._domHeight===S?!1:(this._domHeight=S,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(S){return this._outerHeight===S?!1:(this._outerHeight=S,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const S=this._colorZonesInvalid,_=Math.floor(this._lineHeight),C=Math.floor(this.getCanvasHeight()),i=Math.floor(this._outerHeight),p=C/i,u=Math.floor(4*this._pixelRatio/2);let a=[];for(let l=0,c=this._zones.length;l<c;l++){const d=this._zones[l];if(!S){const m=d.getColorZones();if(m){a.push(m);continue}}const r=Math.floor(p*this._getVerticalOffsetForLine(d.startLineNumber)),n=Math.floor(p*(this._getVerticalOffsetForLine(d.endLineNumber)+_));let s=Math.floor((r+n)/2),t=n-s;t<u&&(t=u),s-t<0&&(s=t),s+t>C&&(s=C-t);const o=d.color;let h=this._color2Id[o];h||(h=++this._lastAssignedId,this._color2Id[o]=h,this._id2Color[h]=o);const g=new v(s-t,s+t,h);d.setColorZone(g),a.push(g)}return this._colorZonesInvalid=!1,a.sort(v.compare),a}}e.OverviewZoneManager=k}),define(J[110],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleRanges=e.HorizontalPosition=e.HorizontalRange=e.LineVisibleRanges=e.RenderingContext=e.RestrictedRenderingContext=void 0;class v{constructor(i,p){this._viewLayout=i,this.viewportData=p,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const u=this._viewLayout.getCurrentViewport();this.scrollTop=u.top,this.scrollLeft=u.left,this.viewportWidth=u.width,this.viewportHeight=u.height}getScrolledTopFromAbsoluteTop(i){return i-this.scrollTop}getVerticalOffsetForLineNumber(i){return this._viewLayout.getVerticalOffsetForLineNumber(i)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}e.RestrictedRenderingContext=v;class I extends v{constructor(i,p,u){super(i,p);this._viewLines=u}linesVisibleRangesForRange(i,p){return this._viewLines.linesVisibleRangesForRange(i,p)}visibleRangeForPosition(i){return this._viewLines.visibleRangeForPosition(i)}}e.RenderingContext=I;class k{constructor(i,p,u){this.outsideRenderedLine=i,this.lineNumber=p,this.ranges=u}}e.LineVisibleRanges=k;class w{constructor(i,p){this.left=Math.round(i),this.width=Math.round(p)}toString(){return`[${this.left},${this.width}]`}}e.HorizontalRange=w;class S{constructor(i,p){this.outsideRenderedLine=i,this.left=Math.round(p)}}e.HorizontalPosition=S;class _{constructor(i,p){this.outsideRenderedLine=i,this.ranges=p}}e.VisibleRanges=_}),define(J[385],ee([0,1,110]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeUtil=void 0;class I{constructor(S,_){this.left=S,this.width=_}toString(){return`[${this.left},${this.width}]`}static compare(S,_){return S.left-_.left}}class k{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(S,_){S.selectNodeContents(_)}static _readClientRects(S,_,C,i,p){const u=this._createRange();try{return u.setStart(S,_),u.setEnd(C,i),u.getClientRects()}catch(a){return null}finally{this._detachRange(u,p)}}static _mergeAdjacentRanges(S){if(S.length===1)return[new v.HorizontalRange(S[0].left,S[0].width)];S.sort(I.compare);let _=[],C=0,i=S[0].left,p=S[0].width;for(let u=1,a=S.length;u<a;u++){const l=S[u],c=l.left,d=l.width;i+p+.9>=c?p=Math.max(p,c+d-i):(_[C++]=new v.HorizontalRange(i,p),i=c,p=d)}return _[C++]=new v.HorizontalRange(i,p),_}static _createHorizontalRangesFromClientRects(S,_){if(!S||S.length===0)return null;const C=[];for(let i=0,p=S.length;i<p;i++){const u=S[i];C[i]=new I(Math.max(0,u.left-_),u.width)}return this._mergeAdjacentRanges(C)}static readHorizontalRanges(S,_,C,i,p,u,a){const l=0,c=S.children.length-1;if(l>c)return null;if(_=Math.min(c,Math.max(l,_)),i=Math.min(c,Math.max(l,i)),_===i&&C===p&&C===0&&!S.children[_].firstChild){const s=S.children[_].getClientRects();return this._createHorizontalRangesFromClientRects(s,u)}_!==i&&i>0&&p===0&&(i--,p=1073741824);let d=S.children[_].firstChild,r=S.children[i].firstChild;if((!d||!r)&&(!d&&C===0&&_>0&&(d=S.children[_-1].firstChild,C=1073741824),!r&&p===0&&i>0&&(r=S.children[i-1].firstChild,p=1073741824)),!d||!r)return null;C=Math.min(d.textContent.length,Math.max(0,C)),p=Math.min(r.textContent.length,Math.max(0,p));const n=this._readClientRects(d,C,r,p,a);return this._createHorizontalRangesFromClientRects(n,u)}}e.RangeUtil=k}),define(J[386],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContext=e.EditorTheme=void 0;class v{constructor(w){this._theme=w}get type(){return this._theme.type}update(w){this._theme=w}getColor(w){return this._theme.getColor(w)}}e.EditorTheme=v;class I{constructor(w,S,_){this.configuration=w,this.theme=new v(S),this.model=_,this.viewLayout=_.viewLayout}addEventHandler(w){this.model.addViewEventHandler(w)}removeEventHandler(w){this.model.removeViewEventHandler(w)}}e.ViewContext=I}),define(J[170],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZonesChangedEvent=e.ViewTokensColorsChangedEvent=e.ViewTokensChangedEvent=e.ViewThemeChangedEvent=e.ViewScrollChangedEvent=e.ViewRevealRangeRequestEvent=e.ViewLinesInsertedEvent=e.ViewLinesDeletedEvent=e.ViewLinesChangedEvent=e.ViewLineMappingChangedEvent=e.ViewLanguageConfigurationEvent=e.ViewFocusChangedEvent=e.ViewFlushedEvent=e.ViewDecorationsChangedEvent=e.ViewCursorStateChangedEvent=e.ViewConfigurationChangedEvent=e.ViewCompositionEndEvent=e.ViewCompositionStartEvent=void 0;class v{constructor(){this.type=0}}e.ViewCompositionStartEvent=v;class I{constructor(){this.type=1}}e.ViewCompositionEndEvent=I;class k{constructor(h){this.type=2,this._source=h}hasChanged(h){return this._source.hasChanged(h)}}e.ViewConfigurationChangedEvent=k;class w{constructor(h,g){this.type=3,this.selections=h,this.modelSelections=g}}e.ViewCursorStateChangedEvent=w;class S{constructor(h){this.type=4,h?(this.affectsMinimap=h.affectsMinimap,this.affectsOverviewRuler=h.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}e.ViewDecorationsChangedEvent=S;class _{constructor(){this.type=5}}e.ViewFlushedEvent=_;class C{constructor(h){this.type=6,this.isFocused=h}}e.ViewFocusChangedEvent=C;class i{constructor(){this.type=7}}e.ViewLanguageConfigurationEvent=i;class p{constructor(){this.type=8}}e.ViewLineMappingChangedEvent=p;class u{constructor(h,g){this.type=9,this.fromLineNumber=h,this.toLineNumber=g}}e.ViewLinesChangedEvent=u;class a{constructor(h,g){this.type=10,this.fromLineNumber=h,this.toLineNumber=g}}e.ViewLinesDeletedEvent=a;class l{constructor(h,g){this.type=11,this.fromLineNumber=h,this.toLineNumber=g}}e.ViewLinesInsertedEvent=l;class c{constructor(h,g,m,f,b,y){this.type=12,this.source=h,this.range=g,this.selections=m,this.verticalType=f,this.revealHorizontal=b,this.scrollType=y}}e.ViewRevealRangeRequestEvent=c;class d{constructor(h){this.type=13,this.scrollWidth=h.scrollWidth,this.scrollLeft=h.scrollLeft,this.scrollHeight=h.scrollHeight,this.scrollTop=h.scrollTop,this.scrollWidthChanged=h.scrollWidthChanged,this.scrollLeftChanged=h.scrollLeftChanged,this.scrollHeightChanged=h.scrollHeightChanged,this.scrollTopChanged=h.scrollTopChanged}}e.ViewScrollChangedEvent=d;class r{constructor(){this.type=14}}e.ViewThemeChangedEvent=r;class n{constructor(h){this.type=15,this.ranges=h}}e.ViewTokensChangedEvent=n;class s{constructor(){this.type=16}}e.ViewTokensColorsChangedEvent=s;class t{constructor(){this.type=17}}e.ViewZonesChangedEvent=t}),define(J[171],ee([0,1,8]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineDecorationsNormalizer=e.DecorationSegment=e.LineDecoration=void 0;class I{constructor(C,i,p,u){this.startColumn=C,this.endColumn=i,this.className=p,this.type=u}static _equals(C,i){return C.startColumn===i.startColumn&&C.endColumn===i.endColumn&&C.className===i.className&&C.type===i.type}static equalsArr(C,i){const p=C.length,u=i.length;if(p!==u)return!1;for(let a=0;a<p;a++)if(!I._equals(C[a],i[a]))return!1;return!0}static extractWrapped(C,i,p){if(C.length===0)return C;const u=i+1,a=p+1,l=p-i,c=[];let d=0;for(const r of C)r.endColumn<=u||r.startColumn>=a||(c[d++]=new I(Math.max(1,r.startColumn-u+1),Math.min(l+1,r.endColumn-u+1),r.className,r.type));return c}static filter(C,i,p,u){if(C.length===0)return[];let a=[],l=0;for(let c=0,d=C.length;c<d;c++){const r=C[c],n=r.range;if(!(n.endLineNumber<i||n.startLineNumber>i)&&!(n.isEmpty()&&(r.type===0||r.type===3))){const s=n.startLineNumber===i?n.startColumn:p,t=n.endLineNumber===i?n.endColumn:u;a[l++]=new I(s,t,r.inlineClassName,r.type)}}return a}static _typeCompare(C,i){const p=[2,0,1,3];return p[C]-p[i]}static compare(C,i){if(C.startColumn===i.startColumn){if(C.endColumn===i.endColumn){const p=I._typeCompare(C.type,i.type);return p===0?C.className<i.className?-1:C.className>i.className?1:0:p}return C.endColumn-i.endColumn}return C.startColumn-i.startColumn}}e.LineDecoration=I;class k{constructor(C,i,p,u){this.startOffset=C,this.endOffset=i,this.className=p,this.metadata=u}}e.DecorationSegment=k;class w{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(C){let i=0;for(let p=0,u=C.length;p<u;p++)i|=C[p];return i}consumeLowerThan(C,i,p){for(;this.count>0&&this.stopOffsets[0]<C;){let u=0;for(;u+1<this.count&&this.stopOffsets[u]===this.stopOffsets[u+1];)u++;p.push(new k(i,this.stopOffsets[u],this.classNames.join(" "),w._metadata(this.metadata))),i=this.stopOffsets[u]+1,this.stopOffsets.splice(0,u+1),this.classNames.splice(0,u+1),this.metadata.splice(0,u+1),this.count-=u+1}return this.count>0&&i<C&&(p.push(new k(i,C-1,this.classNames.join(" "),w._metadata(this.metadata))),i=C),i}insert(C,i,p){if(this.count===0||this.stopOffsets[this.count-1]<=C)this.stopOffsets.push(C),this.classNames.push(i),this.metadata.push(p);else for(let u=0;u<this.count;u++)if(this.stopOffsets[u]>=C){this.stopOffsets.splice(u,0,C),this.classNames.splice(u,0,i),this.metadata.splice(u,0,p);break}this.count++}}class S{static normalize(C,i){if(i.length===0)return[];let p=[];const u=new w;let a=0;for(let l=0,c=i.length;l<c;l++){const d=i[l];let r=d.startColumn,n=d.endColumn;const s=d.className,t=d.type===1?2:d.type===2?4:0;if(r>1){const g=C.charCodeAt(r-2);v.isHighSurrogate(g)&&r--}if(n>1){const g=C.charCodeAt(n-2);v.isHighSurrogate(g)&&n--}const o=r-1,h=n-2;a=u.consumeLowerThan(o,a,p),u.count===0&&(a=o),u.insert(h,s,t)}return u.consumeLowerThan(1073741824,a,p),p}}e.LineDecorationsNormalizer=S}),define(J[387],ee([0,1,8]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesLayout=e.EditorWhitespace=void 0;class I{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(_){this._hasPending=!0,this._inserts.push(_)}change(_){this._hasPending=!0,this._changes.push(_)}remove(_){this._hasPending=!0,this._removes.push(_)}mustCommit(){return this._hasPending}commit(_){if(!!this._hasPending){const C=this._inserts,i=this._changes,p=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],_._commitPendingChanges(C,i,p)}}}class k{constructor(_,C,i,p,u){this.id=_,this.afterLineNumber=C,this.ordinal=i,this.height=p,this.minWidth=u,this.prefixSum=0}}e.EditorWhitespace=k;class w{constructor(_,C,i,p){this._instanceId=v.singleLetterHash(++w.INSTANCE_COUNT),this._pendingChanges=new I,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=_,this._lineHeight=C,this._paddingTop=i,this._paddingBottom=p}static findInsertionIndex(_,C,i){let p=0,u=_.length;for(;p<u;){const a=p+u>>>1;C===_[a].afterLineNumber?i<_[a].ordinal?u=a:p=a+1:C<_[a].afterLineNumber?u=a:p=a+1}return p}setLineHeight(_){this._checkPendingChanges(),this._lineHeight=_}setPadding(_,C){this._paddingTop=_,this._paddingBottom=C}onFlushed(_){this._checkPendingChanges(),this._lineCount=_}changeWhitespace(_){let C=!1;try{_({insertWhitespace:(p,u,a,l)=>{C=!0,p=p|0,u=u|0,a=a|0,l=l|0;const c=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new k(c,p,u,a,l)),c},changeOneWhitespace:(p,u,a)=>{C=!0,u=u|0,a=a|0,this._pendingChanges.change({id:p,newAfterLineNumber:u,newHeight:a})},removeWhitespace:p=>{C=!0,this._pendingChanges.remove({id:p})}})}finally{this._pendingChanges.commit(this)}return C}_commitPendingChanges(_,C,i){if((_.length>0||i.length>0)&&(this._minWidth=-1),_.length+C.length+i.length<=1){for(const c of _)this._insertWhitespace(c);for(const c of C)this._changeOneWhitespace(c.id,c.newAfterLineNumber,c.newHeight);for(const c of i){const d=this._findWhitespaceIndex(c.id);d!==-1&&this._removeWhitespace(d)}return}const p=new Set;for(const c of i)p.add(c.id);const u=new Map;for(const c of C)u.set(c.id,c);const a=c=>{let d=[];for(const r of c)if(!p.has(r.id)){if(u.has(r.id)){const n=u.get(r.id);r.afterLineNumber=n.newAfterLineNumber,r.height=n.newHeight}d.push(r)}return d},l=a(this._arr).concat(a(_));l.sort((c,d)=>c.afterLineNumber===d.afterLineNumber?c.ordinal-d.ordinal:c.afterLineNumber-d.afterLineNumber),this._arr=l,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(_){const C=w.findInsertionIndex(this._arr,_.afterLineNumber,_.ordinal);this._arr.splice(C,0,_),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,C-1)}_findWhitespaceIndex(_){const C=this._arr;for(let i=0,p=C.length;i<p;i++)if(C[i].id===_)return i;return-1}_changeOneWhitespace(_,C,i){const p=this._findWhitespaceIndex(_);if(p!==-1&&(this._arr[p].height!==i&&(this._arr[p].height=i,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,p-1)),this._arr[p].afterLineNumber!==C)){const u=this._arr[p];this._removeWhitespace(p),u.afterLineNumber=C,this._insertWhitespace(u)}}_removeWhitespace(_){this._arr.splice(_,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,_-1)}onLinesDeleted(_,C){this._checkPendingChanges(),_=_|0,C=C|0,this._lineCount-=C-_+1;for(let i=0,p=this._arr.length;i<p;i++){const u=this._arr[i].afterLineNumber;_<=u&&u<=C?this._arr[i].afterLineNumber=_-1:u>C&&(this._arr[i].afterLineNumber-=C-_+1)}}onLinesInserted(_,C){this._checkPendingChanges(),_=_|0,C=C|0,this._lineCount+=C-_+1;for(let i=0,p=this._arr.length;i<p;i++){const u=this._arr[i].afterLineNumber;_<=u&&(this._arr[i].afterLineNumber+=C-_+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(_){this._checkPendingChanges(),_=_|0;let C=Math.max(0,this._prefixSumValidIndex+1);C===0&&(this._arr[0].prefixSum=this._arr[0].height,C++);for(let i=C;i<=_;i++)this._arr[i].prefixSum=this._arr[i-1].prefixSum+this._arr[i].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,_),this._arr[_].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const _=this._lineHeight*this._lineCount,C=this.getWhitespacesTotalHeight();return _+C+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(_){this._checkPendingChanges(),_=_|0;const C=this._findLastWhitespaceBeforeLineNumber(_);return C===-1?0:this.getWhitespacesAccumulatedHeight(C)}_findLastWhitespaceBeforeLineNumber(_){_=_|0;const C=this._arr;let i=0,p=C.length-1;for(;i<=p;){const a=(p-i|0)/2|0,l=i+a|0;if(C[l].afterLineNumber<_){if(l+1>=C.length||C[l+1].afterLineNumber>=_)return l;i=l+1|0}else p=l-1|0}return-1}_findFirstWhitespaceAfterLineNumber(_){_=_|0;const i=this._findLastWhitespaceBeforeLineNumber(_)+1;return i<this._arr.length?i:-1}getFirstWhitespaceIndexAfterLineNumber(_){return this._checkPendingChanges(),_=_|0,this._findFirstWhitespaceAfterLineNumber(_)}getVerticalOffsetForLineNumber(_){this._checkPendingChanges(),_=_|0;let C;_>1?C=this._lineHeight*(_-1):C=0;const i=this.getWhitespaceAccumulatedHeightBeforeLineNumber(_);return C+i+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let _=0;for(let C=0,i=this._arr.length;C<i;C++)_=Math.max(_,this._arr[C].minWidth);this._minWidth=_}return this._minWidth}isAfterLines(_){this._checkPendingChanges();const C=this.getLinesTotalHeight();return _>C}isInTopPadding(_){return this._paddingTop===0?!1:(this._checkPendingChanges(),_<this._paddingTop)}isInBottomPadding(_){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const C=this.getLinesTotalHeight();return _>=C-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(_){if(this._checkPendingChanges(),_=_|0,_<0)return 1;const C=this._lineCount|0,i=this._lineHeight;let p=1,u=C;for(;p<u;){const a=(p+u)/2|0,l=this.getVerticalOffsetForLineNumber(a)|0;if(_>=l+i)p=a+1;else{if(_>=l)return a;u=a}}return p>C?C:p}getLinesViewportData(_,C){this._checkPendingChanges(),_=_|0,C=C|0;const i=this._lineHeight,p=this.getLineNumberAtOrAfterVerticalOffset(_)|0,u=this.getVerticalOffsetForLineNumber(p)|0;let a=this._lineCount|0,l=this.getFirstWhitespaceIndexAfterLineNumber(p)|0;const c=this.getWhitespacesCount()|0;let d,r;l===-1?(l=c,r=a+1,d=0):(r=this.getAfterLineNumberForWhitespaceIndex(l)|0,d=this.getHeightForWhitespaceIndex(l)|0);let n=u,s=n;const t=5e5;let o=0;u>=t&&(o=Math.floor(u/t)*t,o=Math.floor(o/i)*i,s-=o);const h=[],g=_+(C-_)/2;let m=-1;for(let L=p;L<=a;L++){if(m===-1){const N=n,M=n+i;(N<=g&&g<M||N>g)&&(m=L)}for(n+=i,h[L-p]=s,s+=i;r===L;)s+=d,n+=d,l++,l>=c?r=a+1:(r=this.getAfterLineNumberForWhitespaceIndex(l)|0,d=this.getHeightForWhitespaceIndex(l)|0);if(n>=C){a=L;break}}m===-1&&(m=a);const f=this.getVerticalOffsetForLineNumber(a)|0;let b=p,y=a;return b<y&&u<_&&b++,b<y&&f+i>C&&y--,{bigNumbersDelta:o,startLineNumber:p,endLineNumber:a,relativeVerticalOffset:h,centeredLineNumber:m,completelyVisibleStartLineNumber:b,completelyVisibleEndLineNumber:y}}getVerticalOffsetForWhitespaceIndex(_){this._checkPendingChanges(),_=_|0;const C=this.getAfterLineNumberForWhitespaceIndex(_);let i;C>=1?i=this._lineHeight*C:i=0;let p;return _>0?p=this.getWhitespacesAccumulatedHeight(_-1):p=0,i+p+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(_){this._checkPendingChanges(),_=_|0;let C=0,i=this.getWhitespacesCount()-1;if(i<0)return-1;const p=this.getVerticalOffsetForWhitespaceIndex(i),u=this.getHeightForWhitespaceIndex(i);if(_>=p+u)return-1;for(;C<i;){const a=Math.floor((C+i)/2),l=this.getVerticalOffsetForWhitespaceIndex(a),c=this.getHeightForWhitespaceIndex(a);if(_>=l+c)C=a+1;else{if(_>=l)return a;i=a}}return C}getWhitespaceAtVerticalOffset(_){this._checkPendingChanges(),_=_|0;const C=this.getWhitespaceIndexAtOrAfterVerticallOffset(_);if(C<0||C>=this.getWhitespacesCount())return null;const i=this.getVerticalOffsetForWhitespaceIndex(C);if(i>_)return null;const p=this.getHeightForWhitespaceIndex(C),u=this.getIdForWhitespaceIndex(C),a=this.getAfterLineNumberForWhitespaceIndex(C);return{id:u,afterLineNumber:a,verticalOffset:i,height:p}}getWhitespaceViewportData(_,C){this._checkPendingChanges(),_=_|0,C=C|0;const i=this.getWhitespaceIndexAtOrAfterVerticallOffset(_),p=this.getWhitespacesCount()-1;if(i<0)return[];let u=[];for(let a=i;a<=p;a++){const l=this.getVerticalOffsetForWhitespaceIndex(a),c=this.getHeightForWhitespaceIndex(a);if(l>=C)break;u.push({id:this.getIdForWhitespaceIndex(a),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(a),verticalOffset:l,height:c})}return u}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(_){return this._checkPendingChanges(),_=_|0,this._arr[_].id}getAfterLineNumberForWhitespaceIndex(_){return this._checkPendingChanges(),_=_|0,this._arr[_].afterLineNumber}getHeightForWhitespaceIndex(_){return this._checkPendingChanges(),_=_|0,this._arr[_].height}}e.LinesLayout=w,w.INSTANCE_COUNT=0}),define(J[130],ee([0,1,8,93,171]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderViewLine2=e.RenderLineOutput2=e.renderViewLine=e.RenderLineOutput=e.CharacterMapping=e.RenderLineInput=e.LineRange=void 0;class w{constructor(h,g,m){this.endIndex=h,this.type=g,this.metadata=m}isWhitespace(){return!!(this.metadata&1)}}class S{constructor(h,g){this.startOffset=h,this.endOffset=g}equals(h){return this.startOffset===h.startOffset&&this.endOffset===h.endOffset}}e.LineRange=S;class _{constructor(h,g,m,f,b,y,L,N,M,D,R,P,O,W,F,E,A,B,H){this.useMonospaceOptimizations=h,this.canUseHalfwidthRightwardsArrow=g,this.lineContent=m,this.continuesWithWrappedLine=f,this.isBasicASCII=b,this.containsRTL=y,this.fauxIndentLength=L,this.lineTokens=N,this.lineDecorations=M.sort(k.LineDecoration.compare),this.tabSize=D,this.startVisibleColumn=R,this.spaceWidth=P,this.stopRenderingLineAfter=F,this.renderWhitespace=E==="all"?4:E==="boundary"?1:E==="selection"?2:E==="trailing"?3:0,this.renderControlCharacters=A,this.fontLigatures=B,this.selectionsOnLine=H&&H.sort((Y,te)=>Y.startOffset<te.startOffset?-1:1);const K=Math.abs(W-P),q=Math.abs(O-P);K<q?(this.renderSpaceWidth=W,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=O,this.renderSpaceCharCode=183)}sameSelection(h){if(this.selectionsOnLine===null)return h===null;if(h===null||h.length!==this.selectionsOnLine.length)return!1;for(let g=0;g<this.selectionsOnLine.length;g++)if(!this.selectionsOnLine[g].equals(h[g]))return!1;return!0}equals(h){return this.useMonospaceOptimizations===h.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===h.canUseHalfwidthRightwardsArrow&&this.lineContent===h.lineContent&&this.continuesWithWrappedLine===h.continuesWithWrappedLine&&this.isBasicASCII===h.isBasicASCII&&this.containsRTL===h.containsRTL&&this.fauxIndentLength===h.fauxIndentLength&&this.tabSize===h.tabSize&&this.startVisibleColumn===h.startVisibleColumn&&this.spaceWidth===h.spaceWidth&&this.renderSpaceWidth===h.renderSpaceWidth&&this.renderSpaceCharCode===h.renderSpaceCharCode&&this.stopRenderingLineAfter===h.stopRenderingLineAfter&&this.renderWhitespace===h.renderWhitespace&&this.renderControlCharacters===h.renderControlCharacters&&this.fontLigatures===h.fontLigatures&&k.LineDecoration.equalsArr(this.lineDecorations,h.lineDecorations)&&this.lineTokens.equals(h.lineTokens)&&this.sameSelection(h.selectionsOnLine)}}e.RenderLineInput=_;class C{constructor(h,g){this.length=h,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}static getPartIndex(h){return(h&4294901760)>>>16}static getCharIndex(h){return(h&65535)>>>0}setPartData(h,g,m,f){let b=(g<<16|m<<0)>>>0;this._data[h]=b,this._absoluteOffsets[h]=f+m}getAbsoluteOffsets(){return this._absoluteOffsets}charOffsetToPartData(h){return this.length===0?0:h<0?this._data[0]:h>=this.length?this._data[this.length-1]:this._data[h]}partDataToCharOffset(h,g,m){if(this.length===0)return 0;let f=(h<<16|m<<0)>>>0,b=0,y=this.length-1;for(;b+1<y;){let F=b+y>>>1,E=this._data[F];if(E===f)return F;E>f?y=F:b=F}if(b===y)return b;let L=this._data[b],N=this._data[y];if(L===f)return b;if(N===f)return y;let M=C.getPartIndex(L),D=C.getCharIndex(L),R=C.getPartIndex(N),P;M!==R?P=g:P=C.getCharIndex(N);let O=m-D,W=P-m;return O<=W?b:y}}e.CharacterMapping=C;class i{constructor(h,g,m){this.characterMapping=h,this.containsRTL=g,this.containsForeignElements=m}}e.RenderLineOutput=i;function p(o,h){if(o.lineContent.length===0){if(o.lineDecorations.length>0){h.appendASCIIString("<span>");let g=0,m=0,f=0;for(const y of o.lineDecorations)(y.type===1||y.type===2)&&(h.appendASCIIString('<span class="'),h.appendASCIIString(y.className),h.appendASCIIString('"></span>'),y.type===1&&(f|=1,g++),y.type===2&&(f|=2,m++));h.appendASCIIString("</span>");const b=new C(1,g+m);return b.setPartData(0,g,0,0),new i(b,!1,f)}return h.appendASCIIString("<span><span></span></span>"),new i(new C(0,0),!1,0)}return t(c(o),h)}e.renderViewLine=p;class u{constructor(h,g,m,f){this.characterMapping=h,this.html=g,this.containsRTL=m,this.containsForeignElements=f}}e.RenderLineOutput2=u;function a(o){let h=(0,I.createStringBuilder)(1e4),g=p(o,h);return new u(g.characterMapping,h.build(),g.containsRTL,g.containsForeignElements)}e.renderViewLine2=a;class l{constructor(h,g,m,f,b,y,L,N,M,D,R,P,O,W,F){this.fontIsMonospace=h,this.canUseHalfwidthRightwardsArrow=g,this.lineContent=m,this.len=f,this.isOverflowing=b,this.parts=y,this.containsForeignElements=L,this.fauxIndentLength=N,this.tabSize=M,this.startVisibleColumn=D,this.containsRTL=R,this.spaceWidth=P,this.renderSpaceCharCode=O,this.renderWhitespace=W,this.renderControlCharacters=F}}function c(o){const h=o.lineContent;let g,m;o.stopRenderingLineAfter!==-1&&o.stopRenderingLineAfter<h.length?(g=!0,m=o.stopRenderingLineAfter):(g=!1,m=h.length);let f=d(o.lineTokens,o.fauxIndentLength,m);(o.renderWhitespace===4||o.renderWhitespace===1||o.renderWhitespace===2&&!!o.selectionsOnLine||o.renderWhitespace===3)&&(f=n(o,h,m,f));let b=0;if(o.lineDecorations.length>0){for(let y=0,L=o.lineDecorations.length;y<L;y++){const N=o.lineDecorations[y];N.type===3||N.type===1?b|=1:N.type===2&&(b|=2)}f=s(h,m,f,o.lineDecorations)}return o.containsRTL||(f=r(h,f,!o.isBasicASCII||o.fontLigatures)),new l(o.useMonospaceOptimizations,o.canUseHalfwidthRightwardsArrow,h,m,g,f,b,o.fauxIndentLength,o.tabSize,o.startVisibleColumn,o.containsRTL,o.spaceWidth,o.renderSpaceCharCode,o.renderWhitespace,o.renderControlCharacters)}function d(o,h,g){let m=[],f=0;h>0&&(m[f++]=new w(h,"",0));for(let b=0,y=o.getCount();b<y;b++){const L=o.getEndOffset(b);if(!(L<=h)){const N=o.getClassName(b);if(L>=g){m[f++]=new w(g,N,0);break}m[f++]=new w(L,N,0)}}return m}function r(o,h,g){let m=0,f=[],b=0;if(g)for(let y=0,L=h.length;y<L;y++){const N=h[y],M=N.endIndex;if(m+50<M){const D=N.type,R=N.metadata;let P=-1,O=m;for(let W=m;W<M;W++)o.charCodeAt(W)===32&&(P=W),P!==-1&&W-O>=50&&(f[b++]=new w(P+1,D,R),O=P+1,P=-1);O!==M&&(f[b++]=new w(M,D,R))}else f[b++]=N;m=M}else for(let y=0,L=h.length;y<L;y++){const N=h[y],M=N.endIndex;let D=M-m;if(D>50){const R=N.type,P=N.metadata,O=Math.ceil(D/50);for(let W=1;W<O;W++){let F=m+W*50;f[b++]=new w(F,R,P)}f[b++]=new w(M,R,P)}else f[b++]=N;m=M}return f}function n(o,h,g,m){const f=o.continuesWithWrappedLine,b=o.fauxIndentLength,y=o.tabSize,L=o.startVisibleColumn,N=o.useMonospaceOptimizations,M=o.selectionsOnLine,D=o.renderWhitespace===1,R=o.renderWhitespace===3,P=o.renderSpaceWidth!==o.spaceWidth;let O=[],W=0,F=0,E=m[F].type,A=m[F].endIndex;const B=m.length;let H=!1,K=v.firstNonWhitespaceIndex(h),q;K===-1?(H=!0,K=g,q=g):q=v.lastNonWhitespaceIndex(h);let Y=!1,te=0,ie=M&&M[te],ae=L%y;for(let Z=b;Z<g;Z++){const T=h.charCodeAt(Z);ie&&Z>=ie.endOffset&&(te++,ie=M&&M[te]);let x;if(Z<K||Z>q)x=!0;else if(T===9)x=!0;else if(T===32)if(D)if(Y)x=!0;else{const z=Z+1<g?h.charCodeAt(Z+1):0;x=z===32||z===9}else x=!0;else x=!1;if(x&&M&&(x=!!ie&&ie.startOffset<=Z&&ie.endOffset>Z),x&&R&&(x=H||Z>q),Y){if(!x||!N&&ae>=y){if(P){const z=W>0?O[W-1].endIndex:b;for(let V=z+1;V<=Z;V++)O[W++]=new w(V,"mtkw",1)}else O[W++]=new w(Z,"mtkw",1);ae=ae%y}}else(Z===A||x&&Z>b)&&(O[W++]=new w(Z,E,0),ae=ae%y);for(T===9?ae=y:v.isFullWidthCharacter(T)?ae+=2:ae++,Y=x;Z===A;)F++,F<B&&(E=m[F].type,A=m[F].endIndex)}let le=!1;if(Y)if(f&&D){let Z=g>0?h.charCodeAt(g-1):0,T=g>1?h.charCodeAt(g-2):0;Z===32&&T!==32&&T!==9||(le=!0)}else le=!0;if(le)if(P){const Z=W>0?O[W-1].endIndex:b;for(let T=Z+1;T<=g;T++)O[W++]=new w(T,"mtkw",1)}else O[W++]=new w(g,"mtkw",1);else O[W++]=new w(g,E,0);return O}function s(o,h,g,m){m.sort(k.LineDecoration.compare);const f=k.LineDecorationsNormalizer.normalize(o,m),b=f.length;let y=0,L=[],N=0,M=0;for(let R=0,P=g.length;R<P;R++){const O=g[R],W=O.endIndex,F=O.type,E=O.metadata;for(;y<b&&f[y].startOffset<W;){const A=f[y];if(A.startOffset>M&&(M=A.startOffset,L[N++]=new w(M,F,E)),A.endOffset+1<=W)M=A.endOffset+1,L[N++]=new w(M,F+" "+A.className,E|A.metadata),y++;else{M=W,L[N++]=new w(M,F+" "+A.className,E|A.metadata);break}}W>M&&(M=W,L[N++]=new w(M,F,E))}const D=g[g.length-1].endIndex;if(y<b&&f[y].startOffset===D){let R=[],P=0;for(;y<b&&f[y].startOffset===D;)R.push(f[y].className),P|=f[y].metadata,y++;L[N++]=new w(M,R.join(" "),P)}return L}function t(o,h){const g=o.fontIsMonospace,m=o.canUseHalfwidthRightwardsArrow,f=o.containsForeignElements,b=o.lineContent,y=o.len,L=o.isOverflowing,N=o.parts,M=o.fauxIndentLength,D=o.tabSize,R=o.startVisibleColumn,P=o.containsRTL,O=o.spaceWidth,W=o.renderSpaceCharCode,F=o.renderWhitespace,E=o.renderControlCharacters,A=new C(y+1,N.length);let B=0,H=R,K=0,q=0,Y=0,te=0;P?h.appendASCIIString('<span dir="ltr">'):h.appendASCIIString("<span>");for(let ie=0,ae=N.length;ie<ae;ie++){te+=Y;const le=N[ie],Z=le.endIndex,T=le.type,x=F!==0&&le.isWhitespace(),z=x&&!g&&(T==="mtkw"||!f),V=B===Z&&le.metadata===4;if(K=0,h.appendASCIIString('<span class="'),h.appendASCIIString(z?"mtkz":T),h.appendASCII(34),x){let U=0;{let Q=B,se=H;for(;Q<Z;Q++){const G=(b.charCodeAt(Q)===9?D-se%D:1)|0;U+=G,Q>=M&&(se+=G)}}for(z&&(h.appendASCIIString(' style="width:'),h.appendASCIIString(String(O*U)),h.appendASCIIString('px"')),h.appendASCII(62);B<Z;B++){A.setPartData(B,ie-q,K,te),q=0;const Q=b.charCodeAt(B);let se;if(Q===9){se=D-H%D|0,!m||se>1?h.write1(8594):h.write1(65515);for(let oe=2;oe<=se;oe++)h.write1(160)}else se=1,h.write1(W);K+=se,B>=M&&(H+=se)}Y=U}else{let U=0;for(h.appendASCII(62);B<Z;B++){A.setPartData(B,ie-q,K,te),q=0;const Q=b.charCodeAt(B);let se=1,oe=1;switch(Q){case 9:se=D-H%D,oe=se;for(let G=1;G<=se;G++)h.write1(160);break;case 32:h.write1(160);break;case 60:h.appendASCIIString("&lt;");break;case 62:h.appendASCIIString("&gt;");break;case 38:h.appendASCIIString("&amp;");break;case 0:E?h.write1(9216):h.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:h.write1(65533);break;default:v.isFullWidthCharacter(Q)&&oe++,E&&Q<32?h.write1(9216+Q):E&&Q===127?h.write1(9249):h.write1(Q)}K+=se,U+=se,B>=M&&(H+=oe)}Y=U}V?q++:q=0,h.appendASCIIString("</span>")}return A.setPartData(y,N.length-1,K,te),L&&h.appendASCIIString("<span>&hellip;</span>"),h.appendASCIIString("</span>"),new i(A,P,f)}}),define(J[388],ee([0,1,3]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportData=void 0;class I{constructor(w,S,_,C){this.selections=w,this.startLineNumber=S.startLineNumber|0,this.endLineNumber=S.endLineNumber|0,this.relativeVerticalOffset=S.relativeVerticalOffset,this.bigNumbersDelta=S.bigNumbersDelta|0,this.whitespaceViewportData=_,this._model=C,this.visibleRange=new v.Range(S.startLineNumber,this._model.getLineMinColumn(S.startLineNumber),S.endLineNumber,this._model.getLineMaxColumn(S.endLineNumber))}getViewLineRenderingData(w){return this._model.getViewLineRenderingData(this.visibleRange,w)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}e.ViewportData=I}),define(J[223],ee([0,1,123]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PrefixSumComputer=e.PrefixSumIndexOfResult=void 0;class I{constructor(S,_){this.index=S,this.remainder=_}}e.PrefixSumIndexOfResult=I;class k{constructor(S){this.values=S,this.prefixSum=new Uint32Array(S.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(S,_){S=(0,v.toUint32)(S);const C=this.values,i=this.prefixSum,p=_.length;return p===0?!1:(this.values=new Uint32Array(C.length+p),this.values.set(C.subarray(0,S),0),this.values.set(C.subarray(S),S+p),this.values.set(_,S),S-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=S-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}changeValue(S,_){return S=(0,v.toUint32)(S),_=(0,v.toUint32)(_),this.values[S]===_?!1:(this.values[S]=_,S-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=S-1),!0)}removeValues(S,_){S=(0,v.toUint32)(S),_=(0,v.toUint32)(_);const C=this.values,i=this.prefixSum;if(S>=C.length)return!1;let p=C.length-S;return _>=p&&(_=p),_===0?!1:(this.values=new Uint32Array(C.length-_),this.values.set(C.subarray(0,S),0),this.values.set(C.subarray(S+_),S),this.prefixSum=new Uint32Array(this.values.length),S-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=S-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalValue(){return this.values.length===0?0:this._getAccumulatedValue(this.values.length-1)}getAccumulatedValue(S){return S<0?0:(S=(0,v.toUint32)(S),this._getAccumulatedValue(S))}_getAccumulatedValue(S){if(S<=this.prefixSumValidIndex[0])return this.prefixSum[S];let _=this.prefixSumValidIndex[0]+1;_===0&&(this.prefixSum[0]=this.values[0],_++),S>=this.values.length&&(S=this.values.length-1);for(let C=_;C<=S;C++)this.prefixSum[C]=this.prefixSum[C-1]+this.values[C];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],S),this.prefixSum[S]}getIndexOf(S){S=Math.floor(S),this.getTotalValue();let _=0,C=this.values.length-1,i=0,p=0,u=0;for(;_<=C;)if(i=_+(C-_)/2|0,p=this.prefixSum[i],u=p-this.values[i],S<u)C=i-1;else if(S>=p)_=i+1;else break;return new I(i,S-u)}}e.PrefixSumComputer=k}),define(J[389],ee([0,1,8,14,223]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MirrorTextModel=void 0;class w{constructor(_,C,i,p){this._uri=_,this._lines=C,this._eol=i,this._versionId=p,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(_){_.eol&&_.eol!==this._eol&&(this._eol=_.eol,this._lineStarts=null);const C=_.changes;for(const i of C)this._acceptDeleteRange(i.range),this._acceptInsertText(new I.Position(i.range.startLineNumber,i.range.startColumn),i.text);this._versionId=_.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const _=this._eol.length,C=this._lines.length,i=new Uint32Array(C);for(let p=0;p<C;p++)i[p]=this._lines[p].length+_;this._lineStarts=new k.PrefixSumComputer(i)}}_setLineText(_,C){this._lines[_]=C,this._lineStarts&&this._lineStarts.changeValue(_,this._lines[_].length+this._eol.length)}_acceptDeleteRange(_){if(_.startLineNumber===_.endLineNumber){if(_.startColumn===_.endColumn)return;this._setLineText(_.startLineNumber-1,this._lines[_.startLineNumber-1].substring(0,_.startColumn-1)+this._lines[_.startLineNumber-1].substring(_.endColumn-1));return}this._setLineText(_.startLineNumber-1,this._lines[_.startLineNumber-1].substring(0,_.startColumn-1)+this._lines[_.endLineNumber-1].substring(_.endColumn-1)),this._lines.splice(_.startLineNumber,_.endLineNumber-_.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(_.startLineNumber,_.endLineNumber-_.startLineNumber)}_acceptInsertText(_,C){if(C.length!==0){let i=(0,v.splitLines)(C);if(i.length===1){this._setLineText(_.lineNumber-1,this._lines[_.lineNumber-1].substring(0,_.column-1)+i[0]+this._lines[_.lineNumber-1].substring(_.column-1));return}i[i.length-1]+=this._lines[_.lineNumber-1].substring(_.column-1),this._setLineText(_.lineNumber-1,this._lines[_.lineNumber-1].substring(0,_.column-1)+i[0]);let p=new Uint32Array(i.length-1);for(let u=1;u<i.length;u++)this._lines.splice(_.lineNumber+u-1,0,i[u]),p[u-1]=i[u].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(_.lineNumber,p)}}}e.MirrorTextModel=w}),define(J[390],ee([0,1,153,17,24,14,3,369,389,129,376,379,221,20,81]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.EditorSimpleWorker=void 0;class d extends C.MirrorTextModel{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(t){return this._lines[t-1]}getWordAtPosition(t,o){let h=(0,i.getWordAtText)(t.column,(0,i.ensureValidWordDefinition)(o),this._lines[t.lineNumber-1],0);return h?new S.Range(t.lineNumber,h.startColumn,t.lineNumber,h.endColumn):null}words(t){const o=this._lines,h=this._wordenize.bind(this);let g=0,m="",f=0,b=[];return{*[Symbol.iterator](){for(;;)if(f<b.length){const y=m.substring(b[f].start,b[f].end);f+=1,yield y}else if(g<o.length)m=o[g],b=h(m,t),f=0,g+=1;else break}}}getLineWords(t,o){let h=this._lines[t-1],g=this._wordenize(h,o),m=[];for(const f of g)m.push({word:h.substring(f.start,f.end),startColumn:f.start+1,endColumn:f.end+1});return m}_wordenize(t,o){const h=[];let g;for(o.lastIndex=0;(g=o.exec(t))&&g[0].length!==0;)h.push({start:g.index,end:g.index+g[0].length});return h}getValueInRange(t){if(t=this._validateRange(t),t.startLineNumber===t.endLineNumber)return this._lines[t.startLineNumber-1].substring(t.startColumn-1,t.endColumn-1);let o=this._eol,h=t.startLineNumber-1,g=t.endLineNumber-1,m=[];m.push(this._lines[h].substring(t.startColumn-1));for(let f=h+1;f<g;f++)m.push(this._lines[f]);return m.push(this._lines[g].substring(0,t.endColumn-1)),m.join(o)}offsetAt(t){return t=this._validatePosition(t),this._ensureLineStarts(),this._lineStarts.getAccumulatedValue(t.lineNumber-2)+(t.column-1)}positionAt(t){t=Math.floor(t),t=Math.max(0,t),this._ensureLineStarts();let o=this._lineStarts.getIndexOf(t),h=this._lines[o.index].length;return{lineNumber:1+o.index,column:1+Math.min(o.remainder,h)}}_validateRange(t){const o=this._validatePosition({lineNumber:t.startLineNumber,column:t.startColumn}),h=this._validatePosition({lineNumber:t.endLineNumber,column:t.endColumn});return o.lineNumber!==t.startLineNumber||o.column!==t.startColumn||h.lineNumber!==t.endLineNumber||h.column!==t.endColumn?{startLineNumber:o.lineNumber,startColumn:o.column,endLineNumber:h.lineNumber,endColumn:h.column}:t}_validatePosition(t){if(!w.Position.isIPosition(t))throw new Error("bad position");let{lineNumber:o,column:h}=t,g=!1;if(o<1)o=1,h=1,g=!0;else if(o>this._lines.length)o=this._lines.length,h=this._lines[o-1].length+1,g=!0;else{let m=this._lines[o-1].length+1;h<1?(h=1,g=!0):h>m&&(h=m,g=!0)}return g?{lineNumber:o,column:h}:t}}class r{constructor(t,o){this._host=t,this._models=Object.create(null),this._foreignModuleFactory=o,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(t){return this._models[t]}_getModels(){let t=[];return Object.keys(this._models).forEach(o=>t.push(this._models[o])),t}acceptNewModel(t){this._models[t.url]=new d(k.URI.parse(t.url),t.lines,t.EOL,t.versionId)}acceptModelChanged(t,o){!this._models[t]||this._models[t].onEvents(o)}acceptRemovedModel(t){!this._models[t]||delete this._models[t]}computeDiff(t,o,h,g){return Ie(this,void 0,void 0,function*(){const m=this._getModel(t),f=this._getModel(o);if(!m||!f)return null;const b=m.getLinesContent(),y=f.getLinesContent(),N=new _.DiffComputer(b,y,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:h,shouldMakePrettyDiff:!0,maxComputationTime:g}).computeDiff(),M=N.changes.length>0?!1:this._modelsAreIdentical(m,f);return{quitEarly:N.quitEarly,identical:M,changes:N.changes}})}_modelsAreIdentical(t,o){const h=t.getLineCount(),g=o.getLineCount();if(h!==g)return!1;for(let m=1;m<=h;m++){const f=t.getLineContent(m),b=o.getLineContent(m);if(f!==b)return!1}return!0}computeMoreMinimalEdits(t,o){return Ie(this,void 0,void 0,function*(){const h=this._getModel(t);if(!h)return o;const g=[];let m;o=o.slice(0).sort((f,b)=>{if(f.range&&b.range)return S.Range.compareRangesUsingStarts(f.range,b.range);let y=f.range?0:1,L=b.range?0:1;return y-L});for(let{range:f,text:b,eol:y}of o)if(typeof y=="number"&&(m=y),!(S.Range.isEmpty(f)&&!b)){const L=h.getValueInRange(f);if(b=b.replace(/\r\n|\n|\r/g,h.eol),L!==b){if(Math.max(b.length,L.length)>r._diffLimit){g.push({range:f,text:b});continue}const N=(0,v.stringDiff)(L,b,!1),M=h.offsetAt(S.Range.lift(f).getStartPosition());for(const D of N){const R=h.positionAt(M+D.originalStart),P=h.positionAt(M+D.originalStart+D.originalLength),O={text:b.substr(D.modifiedStart,D.modifiedLength),range:{startLineNumber:R.lineNumber,startColumn:R.column,endLineNumber:P.lineNumber,endColumn:P.column}};h.getValueInRange(O.range)!==O.text&&g.push(O)}}}return typeof m=="number"&&g.push({eol:m,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),g})}computeLinks(t){return Ie(this,void 0,void 0,function*(){let o=this._getModel(t);return o?(0,p.computeLinks)(o):null})}textualSuggest(t,o,h,g){return Ie(this,void 0,void 0,function*(){const m=new c.StopWatch(!0),f=new RegExp(h,g),b=new Set;e:for(let y of t){const L=this._getModel(y);if(!!L){for(let N of L.words(f))if(!(N===o||!isNaN(Number(N)))&&(b.add(N),b.size>r._suggestionsLimit))break e}}return{words:Array.from(b),duration:m.elapsed()}})}computeWordRanges(t,o,h,g){return Ie(this,void 0,void 0,function*(){let m=this._getModel(t);if(!m)return Object.create(null);const f=new RegExp(h,g),b=Object.create(null);for(let y=o.startLineNumber;y<o.endLineNumber;y++){let L=m.getLineWords(y,f);for(const N of L)if(!!isNaN(Number(N.word))){let M=b[N.word];M||(M=[],b[N.word]=M),M.push({startLineNumber:y,startColumn:N.startColumn,endLineNumber:y,endColumn:N.endColumn})}}return b})}navigateValueSet(t,o,h,g,m){return Ie(this,void 0,void 0,function*(){let f=this._getModel(t);if(!f)return null;let b=new RegExp(g,m);o.startColumn===o.endColumn&&(o={startLineNumber:o.startLineNumber,startColumn:o.startColumn,endLineNumber:o.endLineNumber,endColumn:o.endColumn+1});let y=f.getValueInRange(o),L=f.getWordAtPosition({lineNumber:o.startLineNumber,column:o.startColumn},b);if(!L)return null;let N=f.getValueInRange(L);return u.BasicInplaceReplace.INSTANCE.navigateValueSet(o,y,L,N,h)})}loadForeignModule(t,o,h){const g=(b,y)=>this._host.fhr(b,y);let f={host:l.createProxyObject(h,g),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(f,o),Promise.resolve(l.getAllMethodNames(this._foreignModule))):new Promise((b,y)=>{$([t],L=>{this._foreignModule=L.create(f,o),b(l.getAllMethodNames(this._foreignModule))},y)})}fmr(t,o){if(!this._foreignModule||typeof this._foreignModule[t]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+t));try{return Promise.resolve(this._foreignModule[t].apply(this._foreignModule,o))}catch(h){return Promise.reject(h)}}}e.EditorSimpleWorker=r,r._diffLimit=1e5,r._suggestionsLimit=1e4;function n(s){return new r(s,null)}e.create=n,typeof importScripts=="function"&&(I.globals.monaco=(0,a.createMonacoBaseAPI)())}),define(J[111],ee([0,1,2]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewEventHandler=void 0;class I extends v.Disposable{constructor(){super();this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(w){return!1}onCompositionEnd(w){return!1}onConfigurationChanged(w){return!1}onCursorStateChanged(w){return!1}onDecorationsChanged(w){return!1}onFlushed(w){return!1}onFocusChanged(w){return!1}onLanguageConfigurationChanged(w){return!1}onLineMappingChanged(w){return!1}onLinesChanged(w){return!1}onLinesDeleted(w){return!1}onLinesInserted(w){return!1}onRevealRangeRequest(w){return!1}onScrollChanged(w){return!1}onThemeChanged(w){return!1}onTokensChanged(w){return!1}onTokensColorsChanged(w){return!1}onZonesChanged(w){return!1}handleEvents(w){let S=!1;for(let _=0,C=w.length;_<C;_++){let i=w[_];switch(i.type){case 0:this.onCompositionStart(i)&&(S=!0);break;case 1:this.onCompositionEnd(i)&&(S=!0);break;case 2:this.onConfigurationChanged(i)&&(S=!0);break;case 3:this.onCursorStateChanged(i)&&(S=!0);break;case 4:this.onDecorationsChanged(i)&&(S=!0);break;case 5:this.onFlushed(i)&&(S=!0);break;case 6:this.onFocusChanged(i)&&(S=!0);break;case 7:this.onLanguageConfigurationChanged(i)&&(S=!0);break;case 8:this.onLineMappingChanged(i)&&(S=!0);break;case 9:this.onLinesChanged(i)&&(S=!0);break;case 10:this.onLinesDeleted(i)&&(S=!0);break;case 11:this.onLinesInserted(i)&&(S=!0);break;case 12:this.onRevealRangeRequest(i)&&(S=!0);break;case 13:this.onScrollChanged(i)&&(S=!0);break;case 15:this.onTokensChanged(i)&&(S=!0);break;case 14:this.onThemeChanged(i)&&(S=!0);break;case 16:this.onTokensColorsChanged(i)&&(S=!0);break;case 17:this.onZonesChanged(i)&&(S=!0);break;default:console.info("View received unknown event: "),console.info(i)}}S&&(this._shouldRender=!0)}}e.ViewEventHandler=I}),define(J[94],ee([0,1,111]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicViewOverlay=void 0;class I extends v.ViewEventHandler{}e.DynamicViewOverlay=I}),define(J[46],ee([0,1,30,111]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PartFingerprints=e.ViewPart=void 0;class k extends I.ViewEventHandler{constructor(_){super();this._context=_,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}e.ViewPart=k;class w{static write(_,C){_ instanceof v.FastDomNode,_.setAttribute("data-mprt",String(C))}static read(_){const C=_.getAttribute("data-mprt");return C===null?0:parseInt(C,10)}static collect(_,C){let i=[],p=0;for(;_&&_!==document.body&&_!==C;)_.nodeType===_.ELEMENT_NODE&&(i[p++]=this.read(_)),_=_.parentElement;const u=new Uint8Array(p);for(let a=0;a<p;a++)u[a]=i[p-a-1];return u}}e.PartFingerprints=w}),define(J[391],ee([0,1,7,30,46]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContentWidgets=void 0;class w{constructor(p,u){this.top=p,this.left=u}}class S extends k.ViewPart{constructor(p,u){super(p);this._viewDomNode=u,this._widgets={},this.domNode=(0,I.createFastDomNode)(document.createElement("div")),k.PartFingerprints.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,I.createFastDomNode)(document.createElement("div")),k.PartFingerprints.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(p){const u=Object.keys(this._widgets);for(const a of u)this._widgets[a].onConfigurationChanged(p);return!0}onDecorationsChanged(p){return!0}onFlushed(p){return!0}onLineMappingChanged(p){const u=Object.keys(this._widgets);for(const a of u)this._widgets[a].onLineMappingChanged(p);return!0}onLinesChanged(p){return!0}onLinesDeleted(p){return!0}onLinesInserted(p){return!0}onScrollChanged(p){return!0}onZonesChanged(p){return!0}addWidget(p){const u=new _(this._context,this._viewDomNode,p);this._widgets[u.id]=u,u.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(u.domNode):this.domNode.appendChild(u.domNode),this.setShouldRender()}setWidgetPosition(p,u,a){this._widgets[p.getId()].setPosition(u,a),this.setShouldRender()}removeWidget(p){const u=p.getId();if(this._widgets.hasOwnProperty(u)){const a=this._widgets[u];delete this._widgets[u];const l=a.domNode.domNode;l.parentNode.removeChild(l),l.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(p){return this._widgets.hasOwnProperty(p)?this._widgets[p].suppressMouseDown:!1}onBeforeRender(p){const u=Object.keys(this._widgets);for(const a of u)this._widgets[a].onBeforeRender(p)}prepareRender(p){const u=Object.keys(this._widgets);for(const a of u)this._widgets[a].prepareRender(p)}render(p){const u=Object.keys(this._widgets);for(const a of u)this._widgets[a].render(p)}}e.ViewContentWidgets=S;class _{constructor(p,u,a){this._context=p,this._viewDomNode=u,this._actual=a,this.domNode=(0,I.createFastDomNode)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const l=this._context.configuration.options,c=l.get(127);this._fixedOverflowWidgets=l.get(34),this._contentWidth=c.contentWidth,this._contentLeft=c.contentLeft,this._lineHeight=l.get(55),this._range=null,this._viewRange=null,this._preference=[],this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(p){const u=this._context.configuration.options;if(this._lineHeight=u.get(55),p.hasChanged(127)){const a=u.get(127);this._contentLeft=a.contentLeft,this._contentWidth=a.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(p){this._setPosition(this._range)}_setPosition(p){if(this._range=p,this._viewRange=null,this._range){const u=this._context.model.validateModelRange(this._range);(this._context.model.coordinatesConverter.modelPositionIsVisible(u.getStartPosition())||this._context.model.coordinatesConverter.modelPositionIsVisible(u.getEndPosition()))&&(this._viewRange=this._context.model.coordinatesConverter.convertModelRangeToViewRange(u))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:this._contentWidth}setPosition(p,u){this._setPosition(p),this._preference=u,this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1}_layoutBoxInViewport(p,u,a,l,c){const d=p.top,r=d,n=u.top+this._lineHeight,s=c.viewportHeight-n,t=d-l,o=r>=l,h=n,g=s>=l;let m=p.left,f=u.left;return m+a>c.scrollLeft+c.viewportWidth&&(m=c.scrollLeft+c.viewportWidth-a),f+a>c.scrollLeft+c.viewportWidth&&(f=c.scrollLeft+c.viewportWidth-a),m<c.scrollLeft&&(m=c.scrollLeft),f<c.scrollLeft&&(f=c.scrollLeft),{fitsAbove:o,aboveTop:t,aboveLeft:m,fitsBelow:g,belowTop:h,belowLeft:f}}_layoutHorizontalSegmentInPage(p,u,a,l){const c=Math.max(0,u.left-l),d=Math.min(u.left+u.width+l,p.width);let r=u.left+a-v.StandardWindow.scrollX;if(r+l>d){const n=r-(d-l);r-=n,a-=n}if(r<c){const n=r-c;r-=n,a-=n}return[a,r]}_layoutBoxInPage(p,u,a,l,c){const d=p.top-l,r=u.top+this._lineHeight,n=v.getDomNodePagePosition(this._viewDomNode.domNode),s=n.top+d-v.StandardWindow.scrollY,t=n.top+r-v.StandardWindow.scrollY,o=v.getClientArea(document.body),[h,g]=this._layoutHorizontalSegmentInPage(o,n,p.left-c.scrollLeft+this._contentLeft,a),[m,f]=this._layoutHorizontalSegmentInPage(o,n,u.left-c.scrollLeft+this._contentLeft,a),b=22,y=22,L=s>=b,N=t+l<=o.height-y;return this._fixedOverflowWidgets?{fitsAbove:L,aboveTop:Math.max(s,b),aboveLeft:g,fitsBelow:N,belowTop:t,belowLeft:f}:{fitsAbove:L,aboveTop:d,aboveLeft:h,fitsBelow:N,belowTop:r,belowLeft:m}}_prepareRenderWidgetAtExactPositionOverflowing(p){return new w(p.top,p.left+this._contentLeft)}_getTopAndBottomLeft(p){if(!this._viewRange)return[null,null];const u=p.linesVisibleRangesForRange(this._viewRange,!1);if(!u||u.length===0)return[null,null];let a=u[0],l=u[0];for(const o of u)o.lineNumber<a.lineNumber&&(a=o),o.lineNumber>l.lineNumber&&(l=o);let c=1073741824;for(const o of a.ranges)o.left<c&&(c=o.left);let d=1073741824;for(const o of l.ranges)o.left<d&&(d=o.left);const r=p.getVerticalOffsetForLineNumber(a.lineNumber)-p.scrollTop,n=new w(r,c),s=p.getVerticalOffsetForLineNumber(l.lineNumber)-p.scrollTop,t=new w(s,d);return[n,t]}_prepareRenderWidget(p){const[u,a]=this._getTopAndBottomLeft(p);if(!u||!a)return null;if(this._cachedDomNodeClientWidth===-1||this._cachedDomNodeClientHeight===-1){let c=null;if(typeof this._actual.beforeRender=="function"&&(c=C(this._actual.beforeRender,this._actual)),c)this._cachedDomNodeClientWidth=c.width,this._cachedDomNodeClientHeight=c.height;else{const d=this.domNode.domNode;this._cachedDomNodeClientWidth=d.clientWidth,this._cachedDomNodeClientHeight=d.clientHeight}}let l;if(this.allowEditorOverflow?l=this._layoutBoxInPage(u,a,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,p):l=this._layoutBoxInViewport(u,a,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,p),this._preference)for(let c=1;c<=2;c++)for(const d of this._preference)if(d===1){if(!l)return null;if(c===2||l.fitsAbove)return{coordinate:new w(l.aboveTop,l.aboveLeft),position:1}}else if(d===2){if(!l)return null;if(c===2||l.fitsBelow)return{coordinate:new w(l.belowTop,l.belowLeft),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(u),position:0}:{coordinate:u,position:0};return null}onBeforeRender(p){!this._viewRange||!this._preference||this._viewRange.endLineNumber<p.startLineNumber||this._viewRange.startLineNumber>p.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(p){this._renderData=this._prepareRenderWidget(p)}render(p){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&C(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+p.scrollTop-p.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&C(this._actual.afterRender,this._actual,this._renderData.position)}}function C(i,p,...u){try{return i.call(p,...u)}catch(a){return null}}}),define(J[392],ee([0,1,94,3,110,320]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverlay=void 0;class w extends v.DynamicViewOverlay{constructor(_){super();this._context=_;const C=this._context.configuration.options;this._lineHeight=C.get(55),this._typicalHalfwidthCharacterWidth=C.get(40).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(_){const C=this._context.configuration.options;return this._lineHeight=C.get(55),this._typicalHalfwidthCharacterWidth=C.get(40).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(_){return!0}onFlushed(_){return!0}onLinesChanged(_){return!0}onLinesDeleted(_){return!0}onLinesInserted(_){return!0}onScrollChanged(_){return _.scrollTopChanged||_.scrollWidthChanged}onZonesChanged(_){return!0}prepareRender(_){const C=_.getDecorationsInViewport();let i=[],p=0;for(let c=0,d=C.length;c<d;c++){const r=C[c];r.options.className&&(i[p++]=r)}i=i.sort((c,d)=>{if(c.options.zIndex<d.options.zIndex)return-1;if(c.options.zIndex>d.options.zIndex)return 1;const r=c.options.className,n=d.options.className;return r<n?-1:r>n?1:I.Range.compareRangesUsingStarts(c.range,d.range)});const u=_.visibleRange.startLineNumber,a=_.visibleRange.endLineNumber,l=[];for(let c=u;c<=a;c++){const d=c-u;l[d]=""}this._renderWholeLineDecorations(_,i,l),this._renderNormalDecorations(_,i,l),this._renderResult=l}_renderWholeLineDecorations(_,C,i){const p=String(this._lineHeight),u=_.visibleRange.startLineNumber,a=_.visibleRange.endLineNumber;for(let l=0,c=C.length;l<c;l++){const d=C[l];if(!!d.options.isWholeLine){const r='<div class="cdr '+d.options.className+'" style="left:0;width:100%;height:'+p+'px;"></div>',n=Math.max(d.range.startLineNumber,u),s=Math.min(d.range.endLineNumber,a);for(let t=n;t<=s;t++){const o=t-u;i[o]+=r}}}}_renderNormalDecorations(_,C,i){const p=String(this._lineHeight),u=_.visibleRange.startLineNumber;let a=null,l=!1,c=null;for(let d=0,r=C.length;d<r;d++){const n=C[d];if(!n.options.isWholeLine){const s=n.options.className,t=Boolean(n.options.showIfCollapsed);let o=n.range;if(t&&o.endColumn===1&&o.endLineNumber!==o.startLineNumber&&(o=new I.Range(o.startLineNumber,o.startColumn,o.endLineNumber-1,this._context.model.getLineMaxColumn(o.endLineNumber-1))),a===s&&l===t&&I.Range.areIntersectingOrTouching(c,o)){c=I.Range.plusRange(c,o);continue}a!==null&&this._renderNormalDecoration(_,c,a,l,p,u,i),a=s,l=t,c=o}}a!==null&&this._renderNormalDecoration(_,c,a,l,p,u,i)}_renderNormalDecoration(_,C,i,p,u,a,l){const c=_.linesVisibleRangesForRange(C,i==="findMatch");if(!!c)for(let d=0,r=c.length;d<r;d++){const n=c[d];if(!n.outsideRenderedLine){const s=n.lineNumber-a;if(p&&n.ranges.length===1){const t=n.ranges[0];t.width===0&&(n.ranges[0]=new k.HorizontalRange(t.left,this._typicalHalfwidthCharacterWidth))}for(let t=0,o=n.ranges.length;t<o;t++){const h=n.ranges[t],g='<div class="cdr '+i+'" style="left:'+String(h.left)+"px;width:"+String(h.width)+"px;height:"+u+'px;"></div>';l[s]+=g}}}}render(_,C){if(!this._renderResult)return"";const i=C-_;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}e.DecorationsOverlay=w}),define(J[172],ee([0,1,94,321]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlyphMarginOverlay=e.DedupOverlay=e.DecorationToRender=void 0;class I{constructor(_,C,i){this.startLineNumber=+_,this.endLineNumber=+C,this.className=String(i)}}e.DecorationToRender=I;class k extends v.DynamicViewOverlay{_render(_,C,i){const p=[];for(let l=_;l<=C;l++){const c=l-_;p[c]=[]}if(i.length===0)return p;i.sort((l,c)=>l.className===c.className?l.startLineNumber===c.startLineNumber?l.endLineNumber-c.endLineNumber:l.startLineNumber-c.startLineNumber:l.className<c.className?-1:1);let u=null,a=0;for(let l=0,c=i.length;l<c;l++){const d=i[l],r=d.className;let n=Math.max(d.startLineNumber,_)-_;const s=Math.min(d.endLineNumber,C)-_;u===r?(n=Math.max(a+1,n),a=Math.max(a,s)):(u=r,a=s);for(let t=n;t<=a;t++)p[t].push(u)}return p}}e.DedupOverlay=k;class w extends k{constructor(_){super();this._context=_;const C=this._context.configuration.options,i=C.get(127);this._lineHeight=C.get(55),this._glyphMargin=C.get(46),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(_){const C=this._context.configuration.options,i=C.get(127);return this._lineHeight=C.get(55),this._glyphMargin=C.get(46),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,!0}onDecorationsChanged(_){return!0}onFlushed(_){return!0}onLinesChanged(_){return!0}onLinesDeleted(_){return!0}onLinesInserted(_){return!0}onScrollChanged(_){return _.scrollTopChanged}onZonesChanged(_){return!0}_getDecorations(_){const C=_.getDecorationsInViewport();let i=[],p=0;for(let u=0,a=C.length;u<a;u++){const l=C[u],c=l.options.glyphMarginClassName;c&&(i[p++]=new I(l.range.startLineNumber,l.range.endLineNumber,c))}return i}prepareRender(_){if(!this._glyphMargin){this._renderResult=null;return}const C=_.visibleRange.startLineNumber,i=_.visibleRange.endLineNumber,p=this._render(C,i,this._getDecorations(_)),u=this._lineHeight.toString(),a=this._glyphMarginLeft.toString(),l=this._glyphMarginWidth.toString(),c='" style="left:'+a+"px;width:"+l+"px;height:"+u+'px;"></div>',d=[];for(let r=C;r<=i;r++){const n=r-C,s=p[n];s.length===0?d[n]="":d[n]='<div class="cgmr codicon '+s.join(" ")+c}this._renderResult=d}render(_,C){if(!this._renderResult)return"";const i=C-_;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}e.GlyphMarginOverlay=w}),define(J[393],ee([0,1,172,325]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesDecorationsOverlay=void 0;class I extends v.DedupOverlay{constructor(w){super();this._context=w;const _=this._context.configuration.options.get(127);this._decorationsLeft=_.decorationsLeft,this._decorationsWidth=_.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(w){const _=this._context.configuration.options.get(127);return this._decorationsLeft=_.decorationsLeft,this._decorationsWidth=_.decorationsWidth,!0}onDecorationsChanged(w){return!0}onFlushed(w){return!0}onLinesChanged(w){return!0}onLinesDeleted(w){return!0}onLinesInserted(w){return!0}onScrollChanged(w){return w.scrollTopChanged}onZonesChanged(w){return!0}_getDecorations(w){const S=w.getDecorationsInViewport();let _=[],C=0;for(let i=0,p=S.length;i<p;i++){const u=S[i],a=u.options.linesDecorationsClassName;a&&(_[C++]=new v.DecorationToRender(u.range.startLineNumber,u.range.endLineNumber,a));const l=u.options.firstLineDecorationClassName;l&&(_[C++]=new v.DecorationToRender(u.range.startLineNumber,u.range.startLineNumber,l))}return _}prepareRender(w){const S=w.visibleRange.startLineNumber,_=w.visibleRange.endLineNumber,C=this._render(S,_,this._getDecorations(w)),i=this._decorationsLeft.toString(),p=this._decorationsWidth.toString(),u='" style="left:'+i+"px;width:"+p+'px;"></div>',a=[];for(let l=S;l<=_;l++){const c=l-S,d=C[c];let r="";for(let n=0,s=d.length;n<s;n++)r+='<div class="cldr '+d[n]+u;a[c]=r}this._renderResult=a}render(w,S){return this._renderResult?this._renderResult[S-w]:""}}e.LinesDecorationsOverlay=I}),define(J[224],ee([0,1,30,46]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Margin=void 0;class k extends I.ViewPart{constructor(S){super(S);const _=this._context.configuration.options,C=_.get(127);this._canUseLayerHinting=!_.get(26),this._contentLeft=C.contentLeft,this._glyphMarginLeft=C.glyphMarginLeft,this._glyphMarginWidth=C.glyphMarginWidth,this._domNode=(0,v.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(k.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,v.createFastDomNode)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(k.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(S){const _=this._context.configuration.options,C=_.get(127);return this._canUseLayerHinting=!_.get(26),this._contentLeft=C.contentLeft,this._glyphMarginLeft=C.glyphMarginLeft,this._glyphMarginWidth=C.glyphMarginWidth,!0}onScrollChanged(S){return super.onScrollChanged(S)||S.scrollTopChanged}prepareRender(S){}render(S){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const _=S.scrollTop-S.bigNumbersDelta;this._domNode.setTop(-_);const C=Math.min(S.scrollHeight,1e6);this._domNode.setHeight(C),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(C)}}e.Margin=k,k.CLASS_NAME="glyph-margin",k.OUTER_CLASS_NAME="margin"}),define(J[394],ee([0,1,172,326]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewLineDecorationsOverlay=void 0;class I extends v.DedupOverlay{constructor(w){super();this._context=w,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(w){return!0}onDecorationsChanged(w){return!0}onFlushed(w){return!0}onLinesChanged(w){return!0}onLinesDeleted(w){return!0}onLinesInserted(w){return!0}onScrollChanged(w){return w.scrollTopChanged}onZonesChanged(w){return!0}_getDecorations(w){const S=w.getDecorationsInViewport();let _=[],C=0;for(let i=0,p=S.length;i<p;i++){const u=S[i],a=u.options.marginClassName;a&&(_[C++]=new v.DecorationToRender(u.range.startLineNumber,u.range.endLineNumber,a))}return _}prepareRender(w){const S=w.visibleRange.startLineNumber,_=w.visibleRange.endLineNumber,C=this._render(S,_,this._getDecorations(w)),i=[];for(let p=S;p<=_;p++){const u=p-S,a=C[u];let l="";for(let c=0,d=a.length;c<d;c++)l+='<div class="cmdr '+a[c]+'" style=""></div>';i[u]=l}this._renderResult=i}render(w,S){return this._renderResult?this._renderResult[S-w]:""}}e.MarginViewLineDecorationsOverlay=I}),define(J[395],ee([0,1,30,46,328]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewOverlayWidgets=void 0;class k extends I.ViewPart{constructor(S){super(S);const C=this._context.configuration.options.get(127);this._widgets={},this._verticalScrollbarWidth=C.verticalScrollbarWidth,this._minimapWidth=C.minimap.minimapWidth,this._horizontalScrollbarHeight=C.horizontalScrollbarHeight,this._editorHeight=C.height,this._editorWidth=C.width,this._domNode=(0,v.createFastDomNode)(document.createElement("div")),I.PartFingerprints.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(S){const C=this._context.configuration.options.get(127);return this._verticalScrollbarWidth=C.verticalScrollbarWidth,this._minimapWidth=C.minimap.minimapWidth,this._horizontalScrollbarHeight=C.horizontalScrollbarHeight,this._editorHeight=C.height,this._editorWidth=C.width,!0}addWidget(S){const _=(0,v.createFastDomNode)(S.getDomNode());this._widgets[S.getId()]={widget:S,preference:null,domNode:_},_.setPosition("absolute"),_.setAttribute("widgetId",S.getId()),this._domNode.appendChild(_),this.setShouldRender()}setWidgetPosition(S,_){const C=this._widgets[S.getId()];return C.preference===_?!1:(C.preference=_,this.setShouldRender(),!0)}removeWidget(S){const _=S.getId();if(this._widgets.hasOwnProperty(_)){const i=this._widgets[_].domNode.domNode;delete this._widgets[_],i.parentNode.removeChild(i),this.setShouldRender()}}_renderWidget(S){const _=S.domNode;if(S.preference===null){_.unsetTop();return}if(S.preference===0)_.setTop(0),_.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(S.preference===1){const C=_.domNode.clientHeight;_.setTop(this._editorHeight-C-2*this._horizontalScrollbarHeight),_.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else S.preference===2&&(_.setTop(0),_.domNode.style.right="50%")}prepareRender(S){}render(S){this._domNode.setWidth(this._editorWidth);const _=Object.keys(this._widgets);for(let C=0,i=_.length;C<i;C++){const p=_[C];this._renderWidget(this._widgets[p])}}}e.ViewOverlayWidgets=k}),define(J[396],ee([0,1,30,222,111]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRuler=void 0;class w extends k.ViewEventHandler{constructor(_,C){super();this._context=_;const i=this._context.configuration.options;this._domNode=(0,v.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName(C),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new I.OverviewZoneManager(p=>this._context.viewLayout.getVerticalOffsetForLineNumber(p)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(i.get(55)),this._zoneManager.setPixelRatio(i.get(125)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(_){const C=this._context.configuration.options;return _.hasChanged(55)&&(this._zoneManager.setLineHeight(C.get(55)),this._render()),_.hasChanged(125)&&(this._zoneManager.setPixelRatio(C.get(125)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(_){return this._render(),!0}onScrollChanged(_){return _.scrollHeightChanged&&(this._zoneManager.setOuterHeight(_.scrollHeight),this._render()),!0}onZonesChanged(_){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(_){this._domNode.setTop(_.top),this._domNode.setRight(_.right);let C=!1;C=this._zoneManager.setDOMWidth(_.width)||C,C=this._zoneManager.setDOMHeight(_.height)||C,C&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(_){this._zoneManager.setZones(_),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const _=this._zoneManager.getCanvasWidth(),C=this._zoneManager.getCanvasHeight(),i=this._zoneManager.resolveColorZones(),p=this._zoneManager.getId2Color(),u=this._domNode.domNode.getContext("2d");return u.clearRect(0,0,_,C),i.length>0&&this._renderOneLane(u,i,p,_),!0}_renderOneLane(_,C,i,p){let u=0,a=0,l=0;for(const c of C){const d=c.colorId,r=c.from,n=c.to;d!==u?(_.fillRect(0,a,p,l-a),u=d,_.fillStyle=i[u],a=r,l=n):l>=r?l=Math.max(l,n):(_.fillRect(0,a,p,l-a),a=r,l=n)}_.fillRect(0,a,p,l-a)}}e.OverviewRuler=w}),define(J[397],ee([0,1,30,11,46,14]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZones=void 0;const S=()=>{throw new Error("Invalid change accessor")};class _ extends k.ViewPart{constructor(p){super(p);const u=this._context.configuration.options,a=u.get(127);this._lineHeight=u.get(55),this._contentWidth=a.contentWidth,this._contentLeft=a.contentLeft,this.domNode=(0,v.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,v.createFastDomNode)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const p=this._context.viewLayout.getWhitespaces(),u=new Map;for(const l of p)u.set(l.id,l);let a=!1;return this._context.model.changeWhitespace(l=>{const c=Object.keys(this._zones);for(let d=0,r=c.length;d<r;d++){const n=c[d],s=this._zones[n],t=this._computeWhitespaceProps(s.delegate),o=u.get(n);o&&(o.afterLineNumber!==t.afterViewLineNumber||o.height!==t.heightInPx)&&(l.changeOneWhitespace(n,t.afterViewLineNumber,t.heightInPx),this._safeCallOnComputedHeight(s.delegate,t.heightInPx),a=!0)}}),a}onConfigurationChanged(p){const u=this._context.configuration.options,a=u.get(127);return this._lineHeight=u.get(55),this._contentWidth=a.contentWidth,this._contentLeft=a.contentLeft,p.hasChanged(55)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(p){return this._recomputeWhitespacesProps()}onLinesDeleted(p){return!0}onScrollChanged(p){return p.scrollTopChanged||p.scrollWidthChanged}onZonesChanged(p){return!0}onLinesInserted(p){return!0}_getZoneOrdinal(p){return typeof p.afterColumn!="undefined"?p.afterColumn:1e4}_computeWhitespaceProps(p){if(p.afterLineNumber===0)return{afterViewLineNumber:0,heightInPx:this._heightInPixels(p),minWidthInPx:this._minWidthInPixels(p)};let u;if(typeof p.afterColumn!="undefined")u=this._context.model.validateModelPosition({lineNumber:p.afterLineNumber,column:p.afterColumn});else{const d=this._context.model.validateModelPosition({lineNumber:p.afterLineNumber,column:1}).lineNumber;u=new w.Position(d,this._context.model.getModelLineMaxColumn(d))}let a;u.column===this._context.model.getModelLineMaxColumn(u.lineNumber)?a=this._context.model.validateModelPosition({lineNumber:u.lineNumber+1,column:1}):a=this._context.model.validateModelPosition({lineNumber:u.lineNumber,column:u.column+1});const l=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(u),c=this._context.model.coordinatesConverter.modelPositionIsVisible(a);return{afterViewLineNumber:l.lineNumber,heightInPx:c?this._heightInPixels(p):0,minWidthInPx:this._minWidthInPixels(p)}}changeViewZones(p){let u=!1;return this._context.model.changeWhitespace(a=>{const l={addZone:c=>(u=!0,this._addZone(a,c)),removeZone:c=>{!c||(u=this._removeZone(a,c)||u)},layoutZone:c=>{!c||(u=this._layoutZone(a,c)||u)}};C(p,l),l.addZone=S,l.removeZone=S,l.layoutZone=S}),u}_addZone(p,u){const a=this._computeWhitespaceProps(u),c={whitespaceId:p.insertWhitespace(a.afterViewLineNumber,this._getZoneOrdinal(u),a.heightInPx,a.minWidthInPx),delegate:u,isVisible:!1,domNode:(0,v.createFastDomNode)(u.domNode),marginDomNode:u.marginDomNode?(0,v.createFastDomNode)(u.marginDomNode):null};return this._safeCallOnComputedHeight(c.delegate,a.heightInPx),c.domNode.setPosition("absolute"),c.domNode.domNode.style.width="100%",c.domNode.setDisplay("none"),c.domNode.setAttribute("monaco-view-zone",c.whitespaceId),this.domNode.appendChild(c.domNode),c.marginDomNode&&(c.marginDomNode.setPosition("absolute"),c.marginDomNode.domNode.style.width="100%",c.marginDomNode.setDisplay("none"),c.marginDomNode.setAttribute("monaco-view-zone",c.whitespaceId),this.marginDomNode.appendChild(c.marginDomNode)),this._zones[c.whitespaceId]=c,this.setShouldRender(),c.whitespaceId}_removeZone(p,u){if(this._zones.hasOwnProperty(u)){const a=this._zones[u];return delete this._zones[u],p.removeWhitespace(a.whitespaceId),a.domNode.removeAttribute("monaco-visible-view-zone"),a.domNode.removeAttribute("monaco-view-zone"),a.domNode.domNode.parentNode.removeChild(a.domNode.domNode),a.marginDomNode&&(a.marginDomNode.removeAttribute("monaco-visible-view-zone"),a.marginDomNode.removeAttribute("monaco-view-zone"),a.marginDomNode.domNode.parentNode.removeChild(a.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(p,u){if(this._zones.hasOwnProperty(u)){const a=this._zones[u],l=this._computeWhitespaceProps(a.delegate);return p.changeOneWhitespace(a.whitespaceId,l.afterViewLineNumber,l.heightInPx),this._safeCallOnComputedHeight(a.delegate,l.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(p){if(this._zones.hasOwnProperty(p)){const u=this._zones[p];return Boolean(u.delegate.suppressMouseDown)}return!1}_heightInPixels(p){return typeof p.heightInPx=="number"?p.heightInPx:typeof p.heightInLines=="number"?this._lineHeight*p.heightInLines:this._lineHeight}_minWidthInPixels(p){return typeof p.minWidthInPx=="number"?p.minWidthInPx:0}_safeCallOnComputedHeight(p,u){if(typeof p.onComputedHeight=="function")try{p.onComputedHeight(u)}catch(a){(0,I.onUnexpectedError)(a)}}_safeCallOnDomNodeTop(p,u){if(typeof p.onDomNodeTop=="function")try{p.onDomNodeTop(u)}catch(a){(0,I.onUnexpectedError)(a)}}prepareRender(p){}render(p){const u=p.viewportData.whitespaceViewportData,a={};let l=!1;for(let d=0,r=u.length;d<r;d++)a[u[d].id]=u[d],l=!0;const c=Object.keys(this._zones);for(let d=0,r=c.length;d<r;d++){const n=c[d],s=this._zones[n];let t=0,o=0,h="none";a.hasOwnProperty(n)?(t=a[n].verticalOffset-p.bigNumbersDelta,o=a[n].height,h="block",s.isVisible||(s.domNode.setAttribute("monaco-visible-view-zone","true"),s.isVisible=!0),this._safeCallOnDomNodeTop(s.delegate,p.getScrolledTopFromAbsoluteTop(a[n].verticalOffset))):(s.isVisible&&(s.domNode.removeAttribute("monaco-visible-view-zone"),s.isVisible=!1),this._safeCallOnDomNodeTop(s.delegate,p.getScrolledTopFromAbsoluteTop(-1e6))),s.domNode.setTop(t),s.domNode.setHeight(o),s.domNode.setDisplay(h),s.marginDomNode&&(s.marginDomNode.setTop(t),s.marginDomNode.setHeight(o),s.marginDomNode.setDisplay(h))}l&&(this.domNode.setWidth(Math.max(p.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}e.ViewZones=_;function C(i,p){try{return i(p)}catch(u){(0,I.onUnexpectedError)(u)}}}),define(J[63],ee([0,1,8]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModelDecoration=e.InlineDecoration=e.ViewLineRenderingData=e.ViewLineData=e.MinimapLinesRenderingData=e.LineBreakData=e.OutputPosition=e.Viewport=void 0;class I{constructor(a,l,c,d){this.top=a|0,this.left=l|0,this.width=c|0,this.height=d|0}}e.Viewport=I;class k{constructor(a,l){this.outputLineIndex=a,this.outputOffset=l}}e.OutputPosition=k;class w{constructor(a,l,c){this.breakOffsets=a,this.breakOffsetsVisibleColumn=l,this.wrappedTextIndentLength=c}static getInputOffsetOfOutputPosition(a,l,c){return l===0?c:a[l-1]+c}static getOutputPositionOfInputOffset(a,l){let c=0,d=a.length-1,r=0,n=0;for(;c<=d;){r=c+(d-c)/2|0;const s=a[r];if(n=r>0?a[r-1]:0,l<n)d=r-1;else if(l>=s)c=r+1;else break}return new k(r,l-n)}}e.LineBreakData=w;class S{constructor(a,l){this.tabSize=a,this.data=l}}e.MinimapLinesRenderingData=S;class _{constructor(a,l,c,d,r,n){this.content=a,this.continuesWithWrappedLine=l,this.minColumn=c,this.maxColumn=d,this.startVisibleColumn=r,this.tokens=n}}e.ViewLineData=_;class C{constructor(a,l,c,d,r,n,s,t,o,h){this.minColumn=a,this.maxColumn=l,this.content=c,this.continuesWithWrappedLine=d,this.isBasicASCII=C.isBasicASCII(c,n),this.containsRTL=C.containsRTL(c,this.isBasicASCII,r),this.tokens=s,this.inlineDecorations=t,this.tabSize=o,this.startVisibleColumn=h}static isBasicASCII(a,l){return l?v.isBasicASCII(a):!0}static containsRTL(a,l,c){return!l&&c?v.containsRTL(a):!1}}e.ViewLineRenderingData=C;class i{constructor(a,l,c){this.range=a,this.inlineClassName=l,this.type=c}}e.InlineDecoration=i;class p{constructor(a,l){this.range=a,this.options=l}}e.ViewModelDecoration=p}),define(J[398],ee([0,1,8,91,63]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonospaceLineBreaksComputerFactory=void 0;class w extends I.CharacterClassifier{constructor(r,n){super(0);for(let s=0;s<r.length;s++)this.set(r.charCodeAt(s),1);for(let s=0;s<n.length;s++)this.set(n.charCodeAt(s),2)}get(r){return r>=0&&r<256?this._asciiMap[r]:r>=12352&&r<=12543||r>=13312&&r<=19903||r>=19968&&r<=40959?3:this._map.get(r)||this._defaultValue}}let S=[],_=[];class C{constructor(r,n){this.classifier=new w(r,n)}static create(r){return new C(r.get(116),r.get(115))}createLineBreaksComputer(r,n,s,t){n=n|0,s=+s;let o=[],h=[];return{addRequest:(g,m)=>{o.push(g),h.push(m)},finalize:()=>{const g=r.typicalFullwidthCharacterWidth/r.typicalHalfwidthCharacterWidth;let m=[];for(let f=0,b=o.length;f<b;f++){const y=h[f];y?m[f]=i(this.classifier,y,o[f],n,s,g,t):m[f]=p(this.classifier,o[f],n,s,g,t)}return S.length=0,_.length=0,m}}}}e.MonospaceLineBreaksComputerFactory=C;function i(d,r,n,s,t,o,h){if(t===-1)return null;const g=n.length;if(g<=1)return null;const m=r.breakOffsets,f=r.breakOffsetsVisibleColumn,b=c(n,s,t,o,h),y=t-b;let L=S,N=_,M=0,D=0,R=0,P=t;const O=m.length;let W=0;if(W>=0){let F=Math.abs(f[W]-P);for(;W+1<O;){const E=Math.abs(f[W+1]-P);if(E>=F)break;F=E,W++}}for(;W<O;){let F=W<0?0:m[W],E=W<0?0:f[W];D>F&&(F=D,E=R);let A=0,B=0,H=0,K=0;if(E<=P){let Y=E,te=F===0?0:n.charCodeAt(F-1),ie=F===0?0:d.get(te),ae=!0;for(let le=F;le<g;le++){const Z=le,T=n.charCodeAt(le);let x,z;if(v.isHighSurrogate(T)?(le++,x=0,z=2):(x=d.get(T),z=u(T,Y,s,o)),Z>D&&l(te,ie,T,x)&&(A=Z,B=Y),Y+=z,Y>P){Z>D?(H=Z,K=Y-z):(H=le+1,K=Y),Y-B>y&&(A=0),ae=!1;break}te=T,ie=x}if(ae){M>0&&(L[M]=m[m.length-1],N[M]=f[m.length-1],M++);break}}if(A===0){let Y=E,te=n.charCodeAt(F),ie=d.get(te),ae=!1;for(let le=F-1;le>=D;le--){const Z=le+1,T=n.charCodeAt(le);if(T===9){ae=!0;break}let x,z;if(v.isLowSurrogate(T)?(le--,x=0,z=2):(x=d.get(T),z=v.isFullWidthCharacter(T)?o:1),Y<=P){if(H===0&&(H=Z,K=Y),Y<=P-y)break;if(l(T,x,te,ie)){A=Z,B=Y;break}}Y-=z,te=T,ie=x}if(A!==0){const le=y-(K-B);if(le<=s){const Z=n.charCodeAt(H);let T;v.isHighSurrogate(Z)?T=2:T=u(Z,K,s,o),le-T<0&&(A=0)}}if(ae){W--;continue}}if(A===0&&(A=H,B=K),A<=D){const Y=n.charCodeAt(D);v.isHighSurrogate(Y)?(A=D+2,B=R+2):(A=D+1,B=R+u(Y,R,s,o))}for(D=A,L[M]=A,R=B,N[M]=B,M++,P=B+y;W<0||W<O&&f[W]<B;)W++;let q=Math.abs(f[W]-P);for(;W+1<O;){const Y=Math.abs(f[W+1]-P);if(Y>=q)break;q=Y,W++}}return M===0?null:(L.length=M,N.length=M,S=r.breakOffsets,_=r.breakOffsetsVisibleColumn,r.breakOffsets=L,r.breakOffsetsVisibleColumn=N,r.wrappedTextIndentLength=b,r)}function p(d,r,n,s,t,o){if(s===-1)return null;const h=r.length;if(h<=1)return null;const g=c(r,n,s,t,o),m=s-g;let f=[],b=[],y=0,L=0,N=0,M=s,D=r.charCodeAt(0),R=d.get(D),P=u(D,0,n,t),O=1;v.isHighSurrogate(D)&&(P+=1,D=r.charCodeAt(1),R=d.get(D),O++);for(let W=O;W<h;W++){const F=W,E=r.charCodeAt(W);let A,B;v.isHighSurrogate(E)?(W++,A=0,B=2):(A=d.get(E),B=u(E,P,n,t)),l(D,R,E,A)&&(L=F,N=P),P+=B,P>M&&((L===0||P-N>m)&&(L=F,N=P-B),f[y]=L,b[y]=N,y++,M=N+m,L=0),D=E,R=A}return y===0?null:(f[y]=h,b[y]=P,new k.LineBreakData(f,b,g))}function u(d,r,n,s){return d===9?n-r%n:v.isFullWidthCharacter(d)||d<32?s:1}function a(d,r){return r-d%r}function l(d,r,n,s){return n!==32&&(r===2||r===3&&s!==2||s===1||s===3&&r!==1)}function c(d,r,n,s,t){let o=0;if(t!==0){const h=v.firstNonWhitespaceIndex(d);if(h!==-1){for(let m=0;m<h;m++)o+=d.charCodeAt(m)===9?a(o,r):1;const g=t===3?2:t===2?1:0;for(let m=0;m<g;m++)o+=a(o,r);o+s>n&&(o=0)}}return o}}),define(J[173],ee([0,1,6,2]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReadOnlyEditAttemptEvent=e.CursorStateChangedEvent=e.ViewZonesChangedEvent=e.ScrollChangedEvent=e.FocusChangedEvent=e.ContentSizeChangedEvent=e.ViewModelEventsCollector=e.ViewModelEventDispatcher=void 0;class k extends I.Disposable{constructor(){super();this._onEvent=this._register(new v.Emitter),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(l){this._addOutgoingEvent(l),this._emitOugoingEvents()}_addOutgoingEvent(l){for(let c=0,d=this._outgoingEvents.length;c<d;c++)if(this._outgoingEvents[c].kind===l.kind){this._outgoingEvents[c]=this._outgoingEvents[c].merge(l);return}this._outgoingEvents.push(l)}_emitOugoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const l=this._outgoingEvents.shift();l.isNoOp()||this._onEvent.fire(l)}}addViewEventHandler(l){for(let c=0,d=this._eventHandlers.length;c<d;c++)this._eventHandlers[c]===l&&console.warn("Detected duplicate listener in ViewEventDispatcher",l);this._eventHandlers.push(l)}removeViewEventHandler(l){for(let c=0;c<this._eventHandlers.length;c++)if(this._eventHandlers[c]===l){this._eventHandlers.splice(c,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new w),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const l=this._collector.outgoingEvents,c=this._collector.viewEvents;this._collector=null;for(const d of l)this._addOutgoingEvent(d);c.length>0&&this._emitMany(c)}this._emitOugoingEvents()}emitSingleViewEvent(l){try{this.beginEmitViewEvents().emitViewEvent(l)}finally{this.endEmitViewEvents()}}_emitMany(l){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(l):this._viewEventQueue=l,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const l=this._viewEventQueue;this._viewEventQueue=null;const c=this._eventHandlers.slice(0);for(const d of c)d.handleEvents(l)}}}e.ViewModelEventDispatcher=k;class w{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(l){this.viewEvents.push(l)}emitOutgoingEvent(l){this.outgoingEvents.push(l)}}e.ViewModelEventsCollector=w;class S{constructor(l,c,d,r){this.kind=0,this._oldContentWidth=l,this._oldContentHeight=c,this.contentWidth=d,this.contentHeight=r,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}merge(l){return l.kind!==0?this:new S(this._oldContentWidth,this._oldContentHeight,l.contentWidth,l.contentHeight)}}e.ContentSizeChangedEvent=S;class _{constructor(l,c){this.kind=1,this.oldHasFocus=l,this.hasFocus=c}isNoOp(){return this.oldHasFocus===this.hasFocus}merge(l){return l.kind!==1?this:new _(this.oldHasFocus,l.hasFocus)}}e.FocusChangedEvent=_;class C{constructor(l,c,d,r,n,s,t,o){this.kind=2,this._oldScrollWidth=l,this._oldScrollLeft=c,this._oldScrollHeight=d,this._oldScrollTop=r,this.scrollWidth=n,this.scrollLeft=s,this.scrollHeight=t,this.scrollTop=o,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}merge(l){return l.kind!==2?this:new C(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,l.scrollWidth,l.scrollLeft,l.scrollHeight,l.scrollTop)}}e.ScrollChangedEvent=C;class i{constructor(){this.kind=3}isNoOp(){return!1}merge(l){return this}}e.ViewZonesChangedEvent=i;class p{constructor(l,c,d,r,n,s,t){this.kind=5,this.oldSelections=l,this.selections=c,this.oldModelVersionId=d,this.modelVersionId=r,this.source=n,this.reason=s,this.reachedMaxCursorCount=t}static _selectionsAreEqual(l,c){if(!l&&!c)return!0;if(!l||!c)return!1;const d=l.length,r=c.length;if(d!==r)return!1;for(let n=0;n<d;n++)if(!l[n].equalsSelection(c[n]))return!1;return!0}isNoOp(){return p._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}merge(l){return l.kind!==5?this:new p(this.oldSelections,l.selections,this.oldModelVersionId,l.modelVersionId,l.source,l.reason,this.reachedMaxCursorCount||l.reachedMaxCursorCount)}}e.CursorStateChangedEvent=p;class u{constructor(){this.kind=4}isNoOp(){return!1}merge(l){return this}}e.ReadOnlyEditAttemptEvent=u}),define(J[399],ee([0,1,6,2,122,387,63,173]),function($,e,v,I,k,w,S,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLayout=void 0;const C=125;class i{constructor(l,c,d,r){l=l|0,c=c|0,d=d|0,r=r|0,l<0&&(l=0),c<0&&(c=0),d<0&&(d=0),r<0&&(r=0),this.width=l,this.contentWidth=c,this.scrollWidth=Math.max(l,c),this.height=d,this.contentHeight=r,this.scrollHeight=Math.max(d,r)}equals(l){return this.width===l.width&&this.contentWidth===l.contentWidth&&this.height===l.height&&this.contentHeight===l.contentHeight}}class p extends I.Disposable{constructor(l,c){super();this._onDidContentSizeChange=this._register(new v.Emitter),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new i(0,0,0,0),this._scrollable=this._register(new k.Scrollable(l,c)),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(l){this._scrollable.setSmoothScrollDuration(l)}validateScrollPosition(l){return this._scrollable.validateScrollPosition(l)}getScrollDimensions(){return this._dimensions}setScrollDimensions(l){if(!this._dimensions.equals(l)){const c=this._dimensions;this._dimensions=l,this._scrollable.setScrollDimensions({width:l.width,scrollWidth:l.scrollWidth,height:l.height,scrollHeight:l.scrollHeight},!0);const d=c.contentWidth!==l.contentWidth,r=c.contentHeight!==l.contentHeight;(d||r)&&this._onDidContentSizeChange.fire(new _.ContentSizeChangedEvent(c.contentWidth,c.contentHeight,l.contentWidth,l.contentHeight))}}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(l){this._scrollable.setScrollPositionNow(l)}setScrollPositionSmooth(l){this._scrollable.setScrollPositionSmooth(l)}}class u extends I.Disposable{constructor(l,c,d){super();this._configuration=l;const r=this._configuration.options,n=r.get(127),s=r.get(71);this._linesLayout=new w.LinesLayout(c,r.get(55),s.top,s.bottom),this._scrollable=this._register(new p(0,d)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new i(n.contentWidth,0,n.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(100)?C:0)}onConfigurationChanged(l){const c=this._configuration.options;if(l.hasChanged(55)&&this._linesLayout.setLineHeight(c.get(55)),l.hasChanged(71)){const d=c.get(71);this._linesLayout.setPadding(d.top,d.bottom)}if(l.hasChanged(127)){const d=c.get(127),r=d.contentWidth,n=d.height,s=this._scrollable.getScrollDimensions(),t=s.contentWidth;this._scrollable.setScrollDimensions(new i(r,s.contentWidth,n,this._getContentHeight(r,n,t)))}else this._updateHeight();l.hasChanged(100)&&this._configureSmoothScrollDuration()}onFlushed(l){this._linesLayout.onFlushed(l)}onLinesDeleted(l,c){this._linesLayout.onLinesDeleted(l,c)}onLinesInserted(l,c){this._linesLayout.onLinesInserted(l,c)}_getHorizontalScrollbarHeight(l,c){const r=this._configuration.options.get(89);return r.horizontal===2||l>=c?0:r.horizontalScrollbarSize}_getContentHeight(l,c,d){const r=this._configuration.options;let n=this._linesLayout.getLinesTotalHeight();return r.get(91)?n+=Math.max(0,c-r.get(55)-r.get(71).bottom):n+=this._getHorizontalScrollbarHeight(l,d),n}_updateHeight(){const l=this._scrollable.getScrollDimensions(),c=l.width,d=l.height,r=l.contentWidth;this._scrollable.setScrollDimensions(new i(c,l.contentWidth,d,this._getContentHeight(c,d,r)))}getCurrentViewport(){const l=this._scrollable.getScrollDimensions(),c=this._scrollable.getCurrentScrollPosition();return new S.Viewport(c.scrollTop,c.scrollLeft,l.width,l.height)}getFutureViewport(){const l=this._scrollable.getScrollDimensions(),c=this._scrollable.getFutureScrollPosition();return new S.Viewport(c.scrollTop,c.scrollLeft,l.width,l.height)}_computeContentWidth(l){const c=this._configuration.options,d=c.get(128),r=c.get(40);if(d.isViewportWrapping){const n=c.get(127),s=c.get(61);return l>n.contentWidth+r.typicalHalfwidthCharacterWidth&&s.enabled&&s.side==="right"?l+n.verticalScrollbarWidth:l}else{const n=c.get(90)*r.typicalHalfwidthCharacterWidth,s=this._linesLayout.getWhitespaceMinWidth();return Math.max(l+n,s)}}setMaxLineWidth(l){const c=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new i(c.width,this._computeContentWidth(l),c.height,c.contentHeight)),this._updateHeight()}saveState(){const l=this._scrollable.getFutureScrollPosition();let c=l.scrollTop,d=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(c),r=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(d);return{scrollTop:c,scrollTopWithoutViewZones:c-r,scrollLeft:l.scrollLeft}}changeWhitespace(l){const c=this._linesLayout.changeWhitespace(l);return c&&this.onHeightMaybeChanged(),c}getVerticalOffsetForLineNumber(l){return this._linesLayout.getVerticalOffsetForLineNumber(l)}isAfterLines(l){return this._linesLayout.isAfterLines(l)}isInTopPadding(l){return this._linesLayout.isInTopPadding(l)}isInBottomPadding(l){return this._linesLayout.isInBottomPadding(l)}getLineNumberAtVerticalOffset(l){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(l)}getWhitespaceAtVerticalOffset(l){return this._linesLayout.getWhitespaceAtVerticalOffset(l)}getLinesViewportData(){const l=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(l.top,l.top+l.height)}getLinesViewportDataAtScrollTop(l){const c=this._scrollable.getScrollDimensions();return l+c.height>c.scrollHeight&&(l=c.scrollHeight-c.height),l<0&&(l=0),this._linesLayout.getLinesViewportData(l,l+c.height)}getWhitespaceViewportData(){const l=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(l.top,l.top+l.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(l){return this._scrollable.validateScrollPosition(l)}setScrollPosition(l,c){c===1?this._scrollable.setScrollPositionNow(l):this._scrollable.setScrollPositionSmooth(l)}deltaScrollNow(l,c){const d=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:d.scrollLeft+l,scrollTop:d.scrollTop+c})}}e.ViewLayout=u}),define(J[400],ee([0,1,3,21]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveCaretCommand=void 0;class k{constructor(S,_){this._selection=S,this._isMovingLeft=_}getEditOperations(S,_){if(!(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())){const C=this._selection.startLineNumber,i=this._selection.startColumn,p=this._selection.endColumn;if(!(this._isMovingLeft&&i===1)&&!(!this._isMovingLeft&&p===S.getLineMaxColumn(C)))if(this._isMovingLeft){const u=new v.Range(C,i-1,C,i),a=S.getValueInRange(u);_.addEditOperation(u,null),_.addEditOperation(new v.Range(C,p,C,p),a)}else{const u=new v.Range(C,p,C,p+1),a=S.getValueInRange(u);_.addEditOperation(u,null),_.addEditOperation(new v.Range(C,i,C,i),a)}}}computeCursorState(S,_){return this._isMovingLeft?new I.Selection(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new I.Selection(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}e.MoveCaretCommand=k}),define(J[131],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionCommandArgs=e.filtersAction=e.mayIncludeActionsOfKind=e.CodeActionKind=void 0;class v{constructor(C){this.value=C}equals(C){return this.value===C.value}contains(C){return this.equals(C)||this.value===""||C.value.startsWith(this.value+v.sep)}intersects(C){return this.contains(C)||C.contains(this)}append(C){return new v(this.value+v.sep+C)}}e.CodeActionKind=v,v.sep=".",v.None=new v("@@none@@"),v.Empty=new v(""),v.QuickFix=new v("quickfix"),v.Refactor=new v("refactor"),v.Source=new v("source"),v.SourceOrganizeImports=v.Source.append("organizeImports"),v.SourceFixAll=v.Source.append("fixAll");function I(_,C){return!(_.include&&!_.include.intersects(C)||_.excludes&&_.excludes.some(i=>w(C,i,_.include))||!_.includeSourceActions&&v.Source.contains(C))}e.mayIncludeActionsOfKind=I;function k(_,C){const i=C.kind?new v(C.kind):void 0;return!(_.include&&(!i||!_.include.contains(i))||_.excludes&&i&&_.excludes.some(p=>w(i,p,_.include))||!_.includeSourceActions&&i&&v.Source.contains(i)||_.onlyIncludePreferredActions&&!C.isPreferred)}e.filtersAction=k;function w(_,C,i){return!(!C.contains(_)||i&&C.contains(i))}class S{constructor(C,i,p){this.kind=C,this.apply=i,this.preferred=p}static fromUser(C,i){return!C||typeof C!="object"?new S(i.kind,i.apply,!1):new S(S.getKindFromUser(C,i.kind),S.getApplyFromUser(C,i.apply),S.getPreferredUser(C))}static getApplyFromUser(C,i){switch(typeof C.apply=="string"?C.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return i}}static getKindFromUser(C,i){return typeof C.kind=="string"?new v(C.kind):i}static getPreferredUser(C){return typeof C.preferred=="boolean"?C.preferred:!1}}e.CodeActionCommandArgs=S}),define(J[401],ee([0,1,6]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerModel=void 0;class I{constructor(w,S,_){this.presentationIndex=_,this._onColorFlushed=new v.Emitter,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new v.Emitter,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new v.Emitter,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=w,this._color=w,this._colorPresentations=S}get color(){return this._color}set color(w){this._color.equals(w)||(this._color=w,this._onDidChangeColor.fire(w))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(w){this._colorPresentations=w,this.presentationIndex>w.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(w,S){for(let _=0;_<this.colorPresentations.length;_++)if(S.toLowerCase()===this.colorPresentations[_].label){this.presentationIndex=_,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}}e.ColorPickerModel=I}),define(J[225],ee([0,1,62,14,3,21,42]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlockCommentCommand=void 0;class _{constructor(i,p){this._selection=i,this._insertSpace=p,this._usedEndToken=null}static _haystackHasNeedleAtOffset(i,p,u){if(u<0)return!1;const a=p.length,l=i.length;if(u+a>l)return!1;for(let c=0;c<a;c++){const d=i.charCodeAt(u+c),r=p.charCodeAt(c);if(d!==r&&!(d>=65&&d<=90&&d+32===r)&&!(r>=65&&r<=90&&r+32===d))return!1}return!0}_createOperationsForBlockComment(i,p,u,a,l,c){const d=i.startLineNumber,r=i.startColumn,n=i.endLineNumber,s=i.endColumn,t=l.getLineContent(d),o=l.getLineContent(n);let h=t.lastIndexOf(p,r-1+p.length),g=o.indexOf(u,s-1-u.length);if(h!==-1&&g!==-1)if(d===n)t.substring(h+p.length,g).indexOf(u)>=0&&(h=-1,g=-1);else{const f=t.substring(h+p.length),b=o.substring(0,g);(f.indexOf(u)>=0||b.indexOf(u)>=0)&&(h=-1,g=-1)}let m;h!==-1&&g!==-1?(a&&h+p.length<t.length&&t.charCodeAt(h+p.length)===32&&(p=p+" "),a&&g>0&&o.charCodeAt(g-1)===32&&(u=" "+u,g-=1),m=_._createRemoveBlockCommentOperations(new k.Range(d,h+p.length+1,n,g+1),p,u)):(m=_._createAddBlockCommentOperations(i,p,u,this._insertSpace),this._usedEndToken=m.length===1?u:null);for(const f of m)c.addTrackedEditOperation(f.range,f.text)}static _createRemoveBlockCommentOperations(i,p,u){let a=[];return k.Range.isEmpty(i)?a.push(v.EditOperation.delete(new k.Range(i.startLineNumber,i.startColumn-p.length,i.endLineNumber,i.endColumn+u.length))):(a.push(v.EditOperation.delete(new k.Range(i.startLineNumber,i.startColumn-p.length,i.startLineNumber,i.startColumn))),a.push(v.EditOperation.delete(new k.Range(i.endLineNumber,i.endColumn,i.endLineNumber,i.endColumn+u.length)))),a}static _createAddBlockCommentOperations(i,p,u,a){let l=[];return k.Range.isEmpty(i)?l.push(v.EditOperation.replace(new k.Range(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn),p+"  "+u)):(l.push(v.EditOperation.insert(new I.Position(i.startLineNumber,i.startColumn),p+(a?" ":""))),l.push(v.EditOperation.insert(new I.Position(i.endLineNumber,i.endColumn),(a?" ":"")+u))),l}getEditOperations(i,p){const u=this._selection.startLineNumber,a=this._selection.startColumn;i.tokenizeIfCheap(u);const l=i.getLanguageIdAtPosition(u,a),c=S.LanguageConfigurationRegistry.getComments(l);!c||!c.blockCommentStartToken||!c.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,c.blockCommentStartToken,c.blockCommentEndToken,this._insertSpace,i,p)}computeCursorState(i,p){const u=p.getInverseEditOperations();if(u.length===2){const a=u[0],l=u[1];return new w.Selection(a.range.endLineNumber,a.range.endColumn,l.range.startLineNumber,l.range.startColumn)}else{const a=u[0].range,l=this._usedEndToken?-this._usedEndToken.length-1:0;return new w.Selection(a.endLineNumber,a.endColumn+l,a.endLineNumber,a.endColumn+l)}}}e.BlockCommentCommand=_}),define(J[402],ee([0,1,8,62,14,3,21,42,225]),function($,e,v,I,k,w,S,_,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineCommentCommand=void 0;class i{constructor(u,a,l,c,d,r){this._selection=u,this._tabSize=a,this._type=l,this._insertSpace=c,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=d,this._ignoreFirstLine=r||!1}static _gatherPreflightCommentStrings(u,a,l){u.tokenizeIfCheap(a);const c=u.getLanguageIdAtPosition(a,1),d=_.LanguageConfigurationRegistry.getComments(c),r=d?d.lineCommentToken:null;if(!r)return null;let n=[];for(let s=0,t=l-a+1;s<t;s++)n[s]={ignore:!1,commentStr:r,commentStrOffset:0,commentStrLength:r.length};return n}static _analyzeLines(u,a,l,c,d,r,n){let s=!0,t;u===0?t=!0:u===1?t=!1:t=!0;for(let o=0,h=c.length;o<h;o++){const g=c[o],m=d+o;if(m===d&&n){g.ignore=!0;continue}const f=l.getLineContent(m),b=v.firstNonWhitespaceIndex(f);if(b===-1){g.ignore=r,g.commentStrOffset=f.length;continue}if(s=!1,g.ignore=!1,g.commentStrOffset=b,t&&!C.BlockCommentCommand._haystackHasNeedleAtOffset(f,g.commentStr,b)&&(u===0?t=!1:u===1||(g.ignore=!0)),t&&a){const y=b+g.commentStrLength;y<f.length&&f.charCodeAt(y)===32&&(g.commentStrLength+=1)}}if(u===0&&s){t=!1;for(let o=0,h=c.length;o<h;o++)c[o].ignore=!1}return{supported:!0,shouldRemoveComments:t,lines:c}}static _gatherPreflightData(u,a,l,c,d,r,n){const s=i._gatherPreflightCommentStrings(l,c,d);return s===null?{supported:!1}:i._analyzeLines(u,a,l,s,c,r,n)}_executeLineComments(u,a,l,c){let d;l.shouldRemoveComments?d=i._createRemoveLineCommentsOperations(l.lines,c.startLineNumber):(i._normalizeInsertionPoint(u,l.lines,c.startLineNumber,this._tabSize),d=this._createAddLineCommentsOperations(l.lines,c.startLineNumber));const r=new k.Position(c.positionLineNumber,c.positionColumn);for(let n=0,s=d.length;n<s;n++)a.addEditOperation(d[n].range,d[n].text),w.Range.isEmpty(d[n].range)&&w.Range.getStartPosition(d[n].range).equals(r)&&u.getLineContent(r.lineNumber).length+1===r.column&&(this._deltaColumn=(d[n].text||"").length);this._selectionId=a.trackSelection(c)}_attemptRemoveBlockComment(u,a,l,c){let d=a.startLineNumber,r=a.endLineNumber,n=c.length+Math.max(u.getLineFirstNonWhitespaceColumn(a.startLineNumber),a.startColumn),s=u.getLineContent(d).lastIndexOf(l,n-1),t=u.getLineContent(r).indexOf(c,a.endColumn-1-l.length);return s!==-1&&t===-1&&(t=u.getLineContent(d).indexOf(c,s+l.length),r=d),s===-1&&t!==-1&&(s=u.getLineContent(r).lastIndexOf(l,t),d=r),a.isEmpty()&&(s===-1||t===-1)&&(s=u.getLineContent(d).indexOf(l),s!==-1&&(t=u.getLineContent(d).indexOf(c,s+l.length))),s!==-1&&u.getLineContent(d).charCodeAt(s+l.length)===32&&(l+=" "),t!==-1&&u.getLineContent(r).charCodeAt(t-1)===32&&(c=" "+c,t-=1),s!==-1&&t!==-1?C.BlockCommentCommand._createRemoveBlockCommentOperations(new w.Range(d,s+l.length+1,r,t+1),l,c):null}_executeBlockComment(u,a,l){u.tokenizeIfCheap(l.startLineNumber);let c=u.getLanguageIdAtPosition(l.startLineNumber,1),d=_.LanguageConfigurationRegistry.getComments(c);if(!(!d||!d.blockCommentStartToken||!d.blockCommentEndToken)){const r=d.blockCommentStartToken,n=d.blockCommentEndToken;let s=this._attemptRemoveBlockComment(u,l,r,n);if(!s){if(l.isEmpty()){const t=u.getLineContent(l.startLineNumber);let o=v.firstNonWhitespaceIndex(t);o===-1&&(o=t.length),s=C.BlockCommentCommand._createAddBlockCommentOperations(new w.Range(l.startLineNumber,o+1,l.startLineNumber,t.length+1),r,n,this._insertSpace)}else s=C.BlockCommentCommand._createAddBlockCommentOperations(new w.Range(l.startLineNumber,u.getLineFirstNonWhitespaceColumn(l.startLineNumber),l.endLineNumber,u.getLineMaxColumn(l.endLineNumber)),r,n,this._insertSpace);s.length===1&&(this._deltaColumn=r.length+1)}this._selectionId=a.trackSelection(l);for(const t of s)a.addEditOperation(t.range,t.text)}}getEditOperations(u,a){let l=this._selection;if(this._moveEndPositionDown=!1,l.startLineNumber===l.endLineNumber&&this._ignoreFirstLine){a.addEditOperation(new w.Range(l.startLineNumber,u.getLineMaxColumn(l.startLineNumber),l.startLineNumber+1,1),l.startLineNumber===u.getLineCount()?"":`
`),this._selectionId=a.trackSelection(l);return}l.startLineNumber<l.endLineNumber&&l.endColumn===1&&(this._moveEndPositionDown=!0,l=l.setEndPosition(l.endLineNumber-1,u.getLineMaxColumn(l.endLineNumber-1)));const c=i._gatherPreflightData(this._type,this._insertSpace,u,l.startLineNumber,l.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine);return c.supported?this._executeLineComments(u,a,c,l):this._executeBlockComment(u,a,l)}computeCursorState(u,a){let l=a.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(l=l.setEndPosition(l.endLineNumber+1,1)),new S.Selection(l.selectionStartLineNumber,l.selectionStartColumn+this._deltaColumn,l.positionLineNumber,l.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(u,a){let l=[];for(let c=0,d=u.length;c<d;c++){const r=u[c];r.ignore||l.push(I.EditOperation.delete(new w.Range(a+c,r.commentStrOffset+1,a+c,r.commentStrOffset+r.commentStrLength+1)))}return l}_createAddLineCommentsOperations(u,a){let l=[];const c=this._insertSpace?" ":"";for(let d=0,r=u.length;d<r;d++){const n=u[d];n.ignore||l.push(I.EditOperation.insert(new k.Position(a+d,n.commentStrOffset+1),n.commentStr+c))}return l}static nextVisibleColumn(u,a,l,c){return l?u+(a-u%a):u+c}static _normalizeInsertionPoint(u,a,l,c){let d=1073741824,r,n;for(let s=0,t=a.length;s<t;s++)if(!a[s].ignore){const o=u.getLineContent(l+s);let h=0;for(let g=0,m=a[s].commentStrOffset;h<d&&g<m;g++)h=i.nextVisibleColumn(h,c,o.charCodeAt(g)===9,1);h<d&&(d=h)}d=Math.floor(d/c)*c;for(let s=0,t=a.length;s<t;s++)if(!a[s].ignore){const o=u.getLineContent(l+s);let h=0;for(r=0,n=a[s].commentStrOffset;h<d&&r<n;r++)h=i.nextVisibleColumn(h,c,o.charCodeAt(r)===9,1);h>d?a[s].commentStrOffset=r-1:a[s].commentStrOffset=r}}}e.LineCommentCommand=i}),define(J[403],ee([0,1,21,3]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropCommand=void 0;class k{constructor(S,_,C){this.selection=S,this.targetPosition=_,this.copy=C,this.targetSelection=null}getEditOperations(S,_){let C=S.getValueInRange(this.selection);if(this.copy||_.addEditOperation(this.selection,null),_.addEditOperation(new I.Range(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),C),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new v.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new v.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new v.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new v.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new v.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(S,_){return this.targetSelection}}e.DragAndDropCommand=k}),define(J[404],ee([0,1,3]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceAllCommand=void 0;class I{constructor(w,S,_){this._editorSelection=w,this._ranges=S,this._replaceStrings=_,this._trackedEditorSelectionId=null}getEditOperations(w,S){if(this._ranges.length>0){let _=[];for(let p=0;p<this._ranges.length;p++)_.push({range:this._ranges[p],text:this._replaceStrings[p]});_.sort((p,u)=>v.Range.compareRangesUsingStarts(p.range,u.range));let C=[],i=_[0];for(let p=1;p<_.length;p++)i.range.endLineNumber===_[p].range.startLineNumber&&i.range.endColumn===_[p].range.startColumn?(i.range=i.range.plusRange(_[p].range),i.text=i.text+_[p].text):(C.push(i),i=_[p]);C.push(i);for(const p of C)S.addEditOperation(p.range,p.text)}this._trackedEditorSelectionId=S.trackSelection(this._editorSelection)}computeCursorState(w,S){return S.getTrackedSelection(this._trackedEditorSelectionId)}}e.ReplaceAllCommand=I}),define(J[405],ee([0,1,286]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseReplaceString=e.ReplacePiece=e.ReplacePattern=void 0;class I{constructor(p){this.staticValue=p,this.kind=0}}class k{constructor(p){this.pieces=p,this.kind=1}}class w{constructor(p){!p||p.length===0?this._state=new I(""):p.length===1&&p[0].staticValue!==null?this._state=new I(p[0].staticValue):this._state=new k(p)}static fromStaticValue(p){return new w([S.staticValue(p)])}get hasReplacementPatterns(){return this._state.kind===1}buildReplaceString(p,u){if(this._state.kind===0)return u?(0,v.buildReplaceStringWithCasePreserved)(p,this._state.staticValue):this._state.staticValue;let a="";for(let l=0,c=this._state.pieces.length;l<c;l++){let d=this._state.pieces[l];if(d.staticValue!==null){a+=d.staticValue;continue}let r=w._substitute(d.matchIndex,p);if(d.caseOps!==null&&d.caseOps.length>0){let n=[],s=d.caseOps.length,t=0;for(let o=0,h=r.length;o<h;o++){if(t>=s){n.push(r.slice(o));break}switch(d.caseOps[t]){case"U":n.push(r[o].toUpperCase());break;case"u":n.push(r[o].toUpperCase()),t++;break;case"L":n.push(r[o].toLowerCase());break;case"l":n.push(r[o].toLowerCase()),t++;break;default:n.push(r[o])}}r=n.join("")}a+=r}return a}static _substitute(p,u){if(u===null)return"";if(p===0)return u[0];let a="";for(;p>0;){if(p<u.length)return(u[p]||"")+a;a=String(p%10)+a,p=Math.floor(p/10)}return"$"+a}}e.ReplacePattern=w;class S{constructor(p,u,a){this.staticValue=p,this.matchIndex=u,!a||a.length===0?this.caseOps=null:this.caseOps=a.slice(0)}static staticValue(p){return new S(p,-1,null)}static caseOps(p,u){return new S(null,p,u)}}e.ReplacePiece=S;class _{constructor(p){this._source=p,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(p){this._emitStatic(this._source.substring(this._lastCharIndex,p)),this._lastCharIndex=p}emitStatic(p,u){this._emitStatic(p),this._lastCharIndex=u}_emitStatic(p){p.length!==0&&(this._currentStaticPiece+=p)}emitMatchIndex(p,u,a){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=S.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=S.caseOps(p,a),this._lastCharIndex=u}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=S.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new w(this._result)}}function C(i){if(!i||i.length===0)return new w(null);let p=[],u=new _(i);for(let a=0,l=i.length;a<l;a++){let c=i.charCodeAt(a);if(c===92){if(a++,a>=l)break;let d=i.charCodeAt(a);switch(d){case 92:u.emitUnchanged(a-1),u.emitStatic("\\",a+1);break;case 110:u.emitUnchanged(a-1),u.emitStatic(`
`,a+1);break;case 116:u.emitUnchanged(a-1),u.emitStatic("	",a+1);break;case 117:case 85:case 108:case 76:u.emitUnchanged(a-1),u.emitStatic("",a+1),p.push(String.fromCharCode(d));break}continue}if(c===36){if(a++,a>=l)break;let d=i.charCodeAt(a);if(d===36){u.emitUnchanged(a-1),u.emitStatic("$",a+1);continue}if(d===48||d===38){u.emitUnchanged(a-1),u.emitMatchIndex(0,a+1,p),p.length=0;continue}if(49<=d&&d<=57){let r=d-48;if(a+1<l){let n=i.charCodeAt(a+1);if(48<=n&&n<=57){a++,r=r*10+(n-48),u.emitUnchanged(a-2),u.emitMatchIndex(r,a+1,p),p.length=0;continue}}u.emitUnchanged(a-1),u.emitMatchIndex(r,a+1,p),p.length=0;continue}}}return u.finalize()}e.parseReplaceString=C}),define(J[174],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingRegion=e.FoldingRegions=e.MAX_LINE_NUMBER=e.MAX_FOLDING_REGIONS=void 0,e.MAX_FOLDING_REGIONS=65535,e.MAX_LINE_NUMBER=16777215;const v=4278190080;class I{constructor(S,_,C){if(S.length!==_.length||S.length>e.MAX_FOLDING_REGIONS)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=S,this._endIndexes=_,this._collapseStates=new Uint32Array(Math.ceil(S.length/32)),this._types=C,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let S=[],_=(C,i)=>{let p=S[S.length-1];return this.getStartLineNumber(p)<=C&&this.getEndLineNumber(p)>=i};for(let C=0,i=this._startIndexes.length;C<i;C++){let p=this._startIndexes[C],u=this._endIndexes[C];if(p>e.MAX_LINE_NUMBER||u>e.MAX_LINE_NUMBER)throw new Error("startLineNumber or endLineNumber must not exceed "+e.MAX_LINE_NUMBER);for(;S.length>0&&!_(p,u);)S.pop();let a=S.length>0?S[S.length-1]:-1;S.push(C),this._startIndexes[C]=p+((a&255)<<24),this._endIndexes[C]=u+((a&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(S){return this._startIndexes[S]&e.MAX_LINE_NUMBER}getEndLineNumber(S){return this._endIndexes[S]&e.MAX_LINE_NUMBER}getType(S){return this._types?this._types[S]:void 0}hasTypes(){return!!this._types}isCollapsed(S){let _=S/32|0,C=S%32;return(this._collapseStates[_]&1<<C)!=0}setCollapsed(S,_){let C=S/32|0,i=S%32,p=this._collapseStates[C];_?this._collapseStates[C]=p|1<<i:this._collapseStates[C]=p&~(1<<i)}toRegion(S){return new k(this,S)}getParentIndex(S){this.ensureParentIndices();let _=((this._startIndexes[S]&v)>>>24)+((this._endIndexes[S]&v)>>>16);return _===e.MAX_FOLDING_REGIONS?-1:_}contains(S,_){return this.getStartLineNumber(S)<=_&&this.getEndLineNumber(S)>=_}findIndex(S){let _=0,C=this._startIndexes.length;if(C===0)return-1;for(;_<C;){let i=Math.floor((_+C)/2);S<this.getStartLineNumber(i)?C=i:_=i+1}return _-1}findRange(S){let _=this.findIndex(S);if(_>=0){if(this.getEndLineNumber(_)>=S)return _;for(_=this.getParentIndex(_);_!==-1;){if(this.contains(_,S))return _;_=this.getParentIndex(_)}}return-1}toString(){let S=[];for(let _=0;_<this.length;_++)S[_]=`[${this.isCollapsed(_)?"+":"-"}] ${this.getStartLineNumber(_)}/${this.getEndLineNumber(_)}`;return S.join(", ")}}e.FoldingRegions=I;class k{constructor(S,_){this.ranges=S,this.index=_}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(S){return S.startLineNumber<=this.startLineNumber&&S.endLineNumber>=this.endLineNumber}containsLine(S){return this.startLineNumber<=S&&S<=this.endLineNumber}}e.FoldingRegion=k}),define(J[406],ee([0,1,6,174]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setCollapseStateForType=e.setCollapseStateForMatchingLines=e.setCollapseStateForRest=e.setCollapseStateAtLevel=e.setCollapseStateUp=e.setCollapseStateLevelsUp=e.setCollapseStateLevelsDown=e.toggleCollapseState=e.FoldingModel=void 0;class k{constructor(c,d){this._updateEventEmitter=new v.Emitter,this.onDidChange=this._updateEventEmitter.event,this._textModel=c,this._decorationProvider=d,this._regions=new I.FoldingRegions(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}get regions(){return this._regions}get textModel(){return this._textModel}get isInitialized(){return this._isInitialized}toggleCollapseState(c){if(!!c.length){c=c.sort((r,n)=>r.regionIndex-n.regionIndex);const d={};this._decorationProvider.changeDecorations(r=>{let n=0,s=-1,t=-1;const o=h=>{for(;n<h;){const g=this._regions.getEndLineNumber(n),m=this._regions.isCollapsed(n);g<=s&&r.changeDecorationOptions(this._editorDecorationIds[n],this._decorationProvider.getDecorationOption(m,g<=t)),m&&g>t&&(t=g),n++}};for(let h of c){let g=h.regionIndex,m=this._editorDecorationIds[g];if(m&&!d[m]){d[m]=!0,o(g);let f=!this._regions.isCollapsed(g);this._regions.setCollapsed(g,f),s=Math.max(s,this._regions.getEndLineNumber(g))}}o(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:c})}}update(c,d=[]){let r=[],n=(f,b)=>{for(let y of d)if(f<y&&y<=b)return!0;return!1},s=-1,t=(f,b)=>{const y=c.getStartLineNumber(f),L=c.getEndLineNumber(f);b&&n(y,L)&&(b=!1),c.setCollapsed(f,b);const N=this._textModel.getLineMaxColumn(y),M={startLineNumber:y,startColumn:Math.max(N-1,1),endLineNumber:y,endColumn:N};r.push({range:M,options:this._decorationProvider.getDecorationOption(b,L<=s)}),b&&L>s&&(s=L)},o=0,h=()=>{for(;o<this._regions.length;){let f=this._regions.isCollapsed(o);if(o++,f)return o-1}return-1},g=0,m=h();for(;m!==-1&&g<c.length;){let f=this._textModel.getDecorationRange(this._editorDecorationIds[m]);if(f){let b=f.startLineNumber;if(f.startColumn===Math.max(f.endColumn-1,1)&&this._textModel.getLineMaxColumn(b)===f.endColumn)for(;g<c.length;){let y=c.getStartLineNumber(g);if(b>=y)t(g,b===y),g++;else break}}m=h()}for(;g<c.length;)t(g,!1),g++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,r),this._regions=c,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})}getMemento(){let c=[];for(let d=0;d<this._regions.length;d++)if(this._regions.isCollapsed(d)){let r=this._textModel.getDecorationRange(this._editorDecorationIds[d]);if(r){let n=r.startLineNumber,s=r.endLineNumber+this._regions.getEndLineNumber(d)-this._regions.getStartLineNumber(d);c.push({startLineNumber:n,endLineNumber:s})}}if(c.length>0)return c}applyMemento(c){if(!!Array.isArray(c)){let d=[];for(let r of c){let n=this.getRegionAtLine(r.startLineNumber);n&&!n.isCollapsed&&d.push(n)}this.toggleCollapseState(d)}}dispose(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])}getAllRegionsAtLine(c,d){let r=[];if(this._regions){let n=this._regions.findRange(c),s=1;for(;n>=0;){let t=this._regions.toRegion(n);(!d||d(t,s))&&r.push(t),s++,n=t.parentIndex}}return r}getRegionAtLine(c){if(this._regions){let d=this._regions.findRange(c);if(d>=0)return this._regions.toRegion(d)}return null}getRegionsInside(c,d){let r=[],n=c?c.regionIndex+1:0,s=c?c.endLineNumber:Number.MAX_VALUE;if(d&&d.length===2){const t=[];for(let o=n,h=this._regions.length;o<h;o++){let g=this._regions.toRegion(o);if(this._regions.getStartLineNumber(o)<s){for(;t.length>0&&!g.containedBy(t[t.length-1]);)t.pop();t.push(g),d(g,t.length)&&r.push(g)}else break}}else for(let t=n,o=this._regions.length;t<o;t++){let h=this._regions.toRegion(t);if(this._regions.getStartLineNumber(t)<s)(!d||d(h))&&r.push(h);else break}return r}}e.FoldingModel=k;function w(l,c,d){let r=[];for(let n of d){let s=l.getRegionAtLine(n);if(s){const t=!s.isCollapsed;if(r.push(s),c>1){let o=l.getRegionsInside(s,(h,g)=>h.isCollapsed!==t&&g<c);r.push(...o)}}}l.toggleCollapseState(r)}e.toggleCollapseState=w;function S(l,c,d=Number.MAX_VALUE,r){let n=[];if(r&&r.length>0)for(let s of r){let t=l.getRegionAtLine(s);if(t&&(t.isCollapsed!==c&&n.push(t),d>1)){let o=l.getRegionsInside(t,(h,g)=>h.isCollapsed!==c&&g<d);n.push(...o)}}else{let s=l.getRegionsInside(null,(t,o)=>t.isCollapsed!==c&&o<d);n.push(...s)}l.toggleCollapseState(n)}e.setCollapseStateLevelsDown=S;function _(l,c,d,r){let n=[];for(let s of r){let t=l.getAllRegionsAtLine(s,(o,h)=>o.isCollapsed!==c&&h<=d);n.push(...t)}l.toggleCollapseState(n)}e.setCollapseStateLevelsUp=_;function C(l,c,d){let r=[];for(let n of d){let s=l.getAllRegionsAtLine(n,t=>t.isCollapsed!==c);s.length>0&&r.push(s[0])}l.toggleCollapseState(r)}e.setCollapseStateUp=C;function i(l,c,d,r){let n=(t,o)=>o===c&&t.isCollapsed!==d&&!r.some(h=>t.containsLine(h)),s=l.getRegionsInside(null,n);l.toggleCollapseState(s)}e.setCollapseStateAtLevel=i;function p(l,c,d){let r=[];for(let t of d)r.push(l.getAllRegionsAtLine(t,void 0)[0]);let n=t=>r.every(o=>!o.containedBy(t)&&!t.containedBy(o))&&t.isCollapsed!==c,s=l.getRegionsInside(null,n);l.toggleCollapseState(s)}e.setCollapseStateForRest=p;function u(l,c,d){let r=l.textModel,n=l.regions,s=[];for(let t=n.length-1;t>=0;t--)if(d!==n.isCollapsed(t)){let o=n.getStartLineNumber(t);c.test(r.getLineContent(o))&&s.push(n.toRegion(t))}l.toggleCollapseState(s)}e.setCollapseStateForMatchingLines=u;function a(l,c,d){let r=l.regions,n=[];for(let s=r.length-1;s>=0;s--)d!==r.isCollapsed(s)&&c===r.getType(s)&&n.push(r.toRegion(s));l.toggleCollapseState(n)}e.setCollapseStateForType=a}),define(J[407],ee([0,1,6,3,19]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HiddenRangeModel=void 0;class w{constructor(i){this._updateEventEmitter=new v.Emitter,this._foldingModel=i,this._foldingModelListener=i.onDidChange(p=>this.updateHiddenRanges()),this._hiddenRanges=[],i.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}updateHiddenRanges(){let i=!1,p=[],u=0,a=0,l=Number.MAX_VALUE,c=-1,d=this._foldingModel.regions;for(;u<d.length;u++)if(!!d.isCollapsed(u)){let r=d.getStartLineNumber(u)+1,n=d.getEndLineNumber(u);l<=r&&n<=c||(!i&&a<this._hiddenRanges.length&&this._hiddenRanges[a].startLineNumber===r&&this._hiddenRanges[a].endLineNumber===n?(p.push(this._hiddenRanges[a]),a++):(i=!0,p.push(new I.Range(r,1,n,1))),l=r,c=n)}(i||a<this._hiddenRanges.length)&&this.applyHiddenRanges(p)}applyMemento(i){if(!Array.isArray(i)||i.length===0)return!1;let p=[];for(let u of i){if(!u.startLineNumber||!u.endLineNumber)return!1;p.push(new I.Range(u.startLineNumber+1,1,u.endLineNumber,1))}return this.applyHiddenRanges(p),!0}getMemento(){return this._hiddenRanges.map(i=>({startLineNumber:i.startLineNumber-1,endLineNumber:i.endLineNumber}))}applyHiddenRanges(i){this._hiddenRanges=i,this._updateEventEmitter.fire(i)}hasRanges(){return this._hiddenRanges.length>0}isHidden(i){return _(this._hiddenRanges,i)!==null}adjustSelections(i){let p=!1,u=this._foldingModel.textModel,a=null,l=c=>((!a||!S(c,a))&&(a=_(this._hiddenRanges,c)),a?a.startLineNumber-1:null);for(let c=0,d=i.length;c<d;c++){let r=i[c],n=l(r.startLineNumber);n&&(r=r.setStartPosition(n,u.getLineMaxColumn(n)),p=!0);let s=l(r.endLineNumber);s&&(r=r.setEndPosition(s,u.getLineMaxColumn(s)),p=!0),i[c]=r}return p}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}e.HiddenRangeModel=w;function S(C,i){return C>=i.startLineNumber&&C<=i.endLineNumber}function _(C,i){let p=(0,k.findFirstInSorted)(C,u=>i<u.startLineNumber)-1;return p>=0&&C[p].endLineNumber>=i?C[p]:null}}),define(J[226],ee([0,1,11,174,2]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sanitizeRanges=e.RangesCollector=e.SyntaxRangeProvider=e.ID_SYNTAX_PROVIDER=void 0;const w=5e3,S={};e.ID_SYNTAX_PROVIDER="syntax";class _{constructor(a,l,c,d=w){this.editorModel=a,this.providers=l,this.limit=d,this.id=e.ID_SYNTAX_PROVIDER;for(const r of l)typeof r.onDidChange=="function"&&(this.disposables||(this.disposables=new k.DisposableStore),this.disposables.add(r.onDidChange(c)))}compute(a){return C(this.providers,this.editorModel,a).then(l=>l?p(l,this.limit):null)}dispose(){var a;(a=this.disposables)===null||a===void 0||a.dispose()}}e.SyntaxRangeProvider=_;function C(u,a,l){let c=null,d=u.map((r,n)=>Promise.resolve(r.provideFoldingRanges(a,S,l)).then(s=>{if(!l.isCancellationRequested&&Array.isArray(s)){Array.isArray(c)||(c=[]);let t=a.getLineCount();for(let o of s)o.start>0&&o.end>o.start&&o.end<=t&&c.push({start:o.start,end:o.end,rank:n,kind:o.kind})}},v.onUnexpectedExternalError));return Promise.all(d).then(r=>c)}class i{constructor(a){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=a}add(a,l,c,d){if(!(a>I.MAX_LINE_NUMBER||l>I.MAX_LINE_NUMBER)){let r=this._length;this._startIndexes[r]=a,this._endIndexes[r]=l,this._nestingLevels[r]=d,this._types[r]=c,this._length++,d<30&&(this._nestingLevelCounts[d]=(this._nestingLevelCounts[d]||0)+1)}}toIndentRanges(){if(this._length<=this._foldingRangesLimit){let a=new Uint32Array(this._length),l=new Uint32Array(this._length);for(let c=0;c<this._length;c++)a[c]=this._startIndexes[c],l[c]=this._endIndexes[c];return new I.FoldingRegions(a,l,this._types)}else{let a=0,l=this._nestingLevelCounts.length;for(let n=0;n<this._nestingLevelCounts.length;n++){let s=this._nestingLevelCounts[n];if(s){if(s+a>this._foldingRangesLimit){l=n;break}a+=s}}let c=new Uint32Array(this._foldingRangesLimit),d=new Uint32Array(this._foldingRangesLimit),r=[];for(let n=0,s=0;n<this._length;n++){let t=this._nestingLevels[n];(t<l||t===l&&a++<this._foldingRangesLimit)&&(c[s]=this._startIndexes[n],d[s]=this._endIndexes[n],r[s]=this._types[n],s++)}return new I.FoldingRegions(c,d,r)}}}e.RangesCollector=i;function p(u,a){let l=u.sort((n,s)=>{let t=n.start-s.start;return t===0&&(t=n.rank-s.rank),t}),c=new i(a),d,r=[];for(let n of l)if(!d)d=n,c.add(n.start,n.end,n.kind&&n.kind.value,r.length);else if(n.start>d.start)if(n.end<=d.end)r.push(d),d=n,c.add(n.start,n.end,n.kind&&n.kind.value,r.length);else{if(n.start>d.end){do d=r.pop();while(d&&n.start>d.end);d&&r.push(d),d=n}c.add(n.start,n.end,n.kind&&n.kind.value,r.length)}return c.toIndentRanges()}e.sanitizeRanges=p}),define(J[408],ee([0,1,226]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InitializingRangeProvider=e.ID_INIT_PROVIDER=void 0,e.ID_INIT_PROVIDER="init";class I{constructor(w,S,_,C){if(this.editorModel=w,this.id=e.ID_INIT_PROVIDER,S.length){let i=p=>({range:{startLineNumber:p.startLineNumber,startColumn:0,endLineNumber:p.endLineNumber,endColumn:w.getLineLength(p.endLineNumber)},options:{stickiness:1}});this.decorationIds=w.deltaDecorations([],S.map(i)),this.timeout=setTimeout(_,C)}}dispose(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),typeof this.timeout=="number"&&(clearTimeout(this.timeout),this.timeout=void 0)}compute(w){let S=[];if(this.decorationIds)for(let _ of this.decorationIds){let C=this.editorModel.getDecorationRange(_);C&&S.push({start:C.startLineNumber,end:C.endLineNumber,rank:1})}return Promise.resolve((0,v.sanitizeRanges)(S,Number.MAX_VALUE))}}e.InitializingRangeProvider=I}),define(J[227],ee([0,1,62,3]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormattingEdit=void 0;class k{static _handleEolEdits(S,_){let C,i=[];for(let p of _)typeof p.eol=="number"&&(C=p.eol),p.range&&typeof p.text=="string"&&i.push(p);return typeof C=="number"&&S.hasModel()&&S.getModel().pushEOL(C),i}static _isFullModelReplaceEdit(S,_){if(!S.hasModel())return!1;const C=S.getModel(),i=C.validateRange(_.range);return C.getFullModelRange().equalsRange(i)}static execute(S,_,C){C&&S.pushUndoStop();const i=k._handleEolEdits(S,_);i.length===1&&k._isFullModelReplaceEdit(S,i[0])?S.executeEdits("formatEditsCommand",i.map(p=>v.EditOperation.replace(I.Range.lift(p.range),p.text))):S.executeEdits("formatEditsCommand",i.map(p=>v.EditOperation.replaceMove(I.Range.lift(p.range),p.text))),C&&S.pushUndoStop()}}e.FormattingEdit=k}),define(J[228],ee([0,1,2,6,17]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClickLinkGesture=e.ClickLinkOptions=e.ClickLinkKeyboardEvent=e.ClickLinkMouseEvent=void 0;function w(u,a){return!!u[a]}class S{constructor(a,l){this.target=a.target,this.hasTriggerModifier=w(a.event,l.triggerModifier),this.hasSideBySideModifier=w(a.event,l.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=a.event.detail<=1}}e.ClickLinkMouseEvent=S;class _{constructor(a,l){this.keyCodeIsTriggerKey=a.keyCode===l.triggerKey,this.keyCodeIsSideBySideKey=a.keyCode===l.triggerSideBySideKey,this.hasTriggerModifier=w(a,l.triggerModifier)}}e.ClickLinkKeyboardEvent=_;class C{constructor(a,l,c,d){this.triggerKey=a,this.triggerModifier=l,this.triggerSideBySideKey=c,this.triggerSideBySideModifier=d}equals(a){return this.triggerKey===a.triggerKey&&this.triggerModifier===a.triggerModifier&&this.triggerSideBySideKey===a.triggerSideBySideKey&&this.triggerSideBySideModifier===a.triggerSideBySideModifier}}e.ClickLinkOptions=C;function i(u){return u==="altKey"?k.isMacintosh?new C(57,"metaKey",6,"altKey"):new C(5,"ctrlKey",6,"altKey"):k.isMacintosh?new C(6,"altKey",57,"metaKey"):new C(6,"altKey",5,"ctrlKey")}class p extends v.Disposable{constructor(a){super();this._onMouseMoveOrRelevantKeyDown=this._register(new I.Emitter),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new I.Emitter),this.onExecute=this._onExecute.event,this._onCancel=this._register(new I.Emitter),this.onCancel=this._onCancel.event,this._editor=a,this._opts=i(this._editor.getOption(66)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(l=>{if(l.hasChanged(66)){const c=i(this._editor.getOption(66));if(this._opts.equals(c))return;this._opts=c,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(l=>this._onEditorMouseMove(new S(l,this._opts)))),this._register(this._editor.onMouseDown(l=>this._onEditorMouseDown(new S(l,this._opts)))),this._register(this._editor.onMouseUp(l=>this._onEditorMouseUp(new S(l,this._opts)))),this._register(this._editor.onKeyDown(l=>this._onEditorKeyDown(new _(l,this._opts)))),this._register(this._editor.onKeyUp(l=>this._onEditorKeyUp(new _(l,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(l=>this._onDidChangeCursorSelection(l))),this._register(this._editor.onDidChangeModel(l=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(l=>{(l.scrollTopChanged||l.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(a){a.selection&&a.selection.startColumn!==a.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(a){this._lastMouseMoveEvent=a,this._onMouseMoveOrRelevantKeyDown.fire([a,null])}_onEditorMouseDown(a){this._hasTriggerKeyOnMouseDown=a.hasTriggerModifier,this._lineNumberOnMouseDown=a.target.position?a.target.position.lineNumber:0}_onEditorMouseUp(a){const l=a.target.position?a.target.position.lineNumber:0;this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===l&&this._onExecute.fire(a)}_onEditorKeyDown(a){this._lastMouseMoveEvent&&(a.keyCodeIsTriggerKey||a.keyCodeIsSideBySideKey&&a.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,a]):a.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(a){a.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}e.ClickLinkGesture=p}),define(J[229],ee([0,1,15,11]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverOperation=void 0;class k{constructor(S,_,C,i,p){this._computer=S,this._state=0,this._hoverTime=p,this._firstWaitScheduler=new v.RunOnceScheduler(()=>this._triggerAsyncComputation(),0),this._secondWaitScheduler=new v.RunOnceScheduler(()=>this._triggerSyncComputation(),0),this._loadingMessageScheduler=new v.RunOnceScheduler(()=>this._showLoadingMessage(),0),this._asyncComputationPromise=null,this._asyncComputationPromiseDone=!1,this._completeCallback=_,this._errorCallback=C,this._progressCallback=i}setHoverTime(S){this._hoverTime=S}_firstWaitTime(){return this._hoverTime/2}_secondWaitTime(){return this._hoverTime/2}_loadingMessageTime(){return 3*this._hoverTime}_triggerAsyncComputation(){this._state=2,this._secondWaitScheduler.schedule(this._secondWaitTime()),this._computer.computeAsync?(this._asyncComputationPromiseDone=!1,this._asyncComputationPromise=(0,v.createCancelablePromise)(S=>this._computer.computeAsync(S)),this._asyncComputationPromise.then(S=>{this._asyncComputationPromiseDone=!0,this._withAsyncResult(S)},S=>this._onError(S))):this._asyncComputationPromiseDone=!0}_triggerSyncComputation(){this._computer.computeSync&&this._computer.onResult(this._computer.computeSync(),!0),this._asyncComputationPromiseDone?(this._state=0,this._onComplete(this._computer.getResult())):(this._state=3,this._onProgress(this._computer.getResult()))}_showLoadingMessage(){this._state===3&&this._onProgress(this._computer.getResultWithLoadingMessage())}_withAsyncResult(S){S&&this._computer.onResult(S,!1),this._state===3&&(this._state=0,this._onComplete(this._computer.getResult()))}_onComplete(S){this._completeCallback(S)}_onError(S){this._errorCallback?this._errorCallback(S):(0,I.onUnexpectedError)(S)}_onProgress(S){this._progressCallback(S)}start(S){if(S===0)this._state===0&&(this._state=1,this._firstWaitScheduler.schedule(this._firstWaitTime()),this._loadingMessageScheduler.schedule(this._loadingMessageTime()));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._loadingMessageScheduler.cancel(),this._state===1&&this._firstWaitScheduler.cancel(),this._state===2&&(this._secondWaitScheduler.cancel(),this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null)),this._state===3&&this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null),this._state=0}}e.HoverOperation=k}),define(J[409],ee([0,1,52]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlyphHoverWidget=void 0;class I extends v.Widget{constructor(w,S){super();this._id=w,this._editor=S,this._isVisible=!1,this._domNode=document.createElement("div"),this._domNode.className="monaco-hover hidden",this._domNode.setAttribute("aria-hidden","true"),this._domNode.setAttribute("role","tooltip"),this._showAtLineNumber=-1,this._register(this._editor.onDidChangeConfiguration(_=>{_.hasChanged(40)&&this.updateFont()})),this._editor.addOverlayWidget(this)}get isVisible(){return this._isVisible}set isVisible(w){this._isVisible=w,this._domNode.classList.toggle("hidden",!this._isVisible)}getId(){return this._id}getDomNode(){return this._domNode}showAt(w){this._showAtLineNumber=w,this.isVisible||(this.isVisible=!0);const S=this._editor.getLayoutInfo(),_=this._editor.getTopForLineNumber(this._showAtLineNumber),C=this._editor.getScrollTop(),i=this._editor.getOption(55),p=this._domNode.clientHeight,u=_-C-(p-i)/2;this._domNode.style.left=`${S.glyphMarginLeft+S.glyphMarginWidth}px`,this._domNode.style.top=`${Math.max(Math.round(u),0)}px`}hide(){!this.isVisible||(this.isVisible=!1)}getPosition(){return null}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}updateFont(){const w=Array.prototype.slice.call(this._domNode.getElementsByTagName("code")),S=Array.prototype.slice.call(this._domNode.getElementsByClassName("code"));[...w,...S].forEach(_=>this._editor.applyFontInfo(_))}updateContents(w){this._domNode.textContent="",this._domNode.appendChild(w),this.updateFont()}}e.GlyphHoverWidget=I}),define(J[410],ee([0,1,21]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InPlaceReplaceCommand=void 0;class I{constructor(w,S,_){this._editRange=w,this._originalSelection=S,this._text=_}getEditOperations(w,S){S.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(w,S){const C=S.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new v.Selection(C.endLineNumber,Math.min(this._originalSelection.positionColumn,C.endColumn),C.endLineNumber,Math.min(this._originalSelection.positionColumn,C.endColumn)):new v.Selection(C.endLineNumber,C.endColumn-this._text.length,C.endLineNumber,C.endColumn)}}e.InPlaceReplaceCommand=I}),define(J[230],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateIndent=e.getSpaceCnt=void 0;function v(k,w){let S=0;for(let _=0;_<k.length;_++)k.charAt(_)==="	"?S+=w:S++;return S}e.getSpaceCnt=v;function I(k,w,S){k=k<0?0:k;let _="";if(!S){let C=Math.floor(k/w);k=k%w;for(let i=0;i<C;i++)_+="	"}for(let C=0;C<k;C++)_+=" ";return _}e.generateIndent=I}),define(J[411],ee([0,1,3,21]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CopyLinesCommand=void 0;class k{constructor(S,_,C){this._selection=S,this._isCopyingDown=_,this._noop=C||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(S,_){let C=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,C.startLineNumber<C.endLineNumber&&C.endColumn===1&&(this._endLineNumberDelta=1,C=C.setEndPosition(C.endLineNumber-1,S.getLineMaxColumn(C.endLineNumber-1)));let i=[];for(let u=C.startLineNumber;u<=C.endLineNumber;u++)i.push(S.getLineContent(u));const p=i.join(`
`);p===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?_.addEditOperation(new v.Range(C.endLineNumber,S.getLineMaxColumn(C.endLineNumber),C.endLineNumber+1,1),C.endLineNumber===S.getLineCount()?"":`
`):this._isCopyingDown?_.addEditOperation(new v.Range(C.startLineNumber,1,C.startLineNumber,1),p+`
`):_.addEditOperation(new v.Range(C.endLineNumber,S.getLineMaxColumn(C.endLineNumber),C.endLineNumber,S.getLineMaxColumn(C.endLineNumber)),`
`+p),this._selectionId=_.trackSelection(C),this._selectionDirection=this._selection.getDirection()}computeCursorState(S,_){let C=_.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let i=C.startLineNumber,p=C.startColumn,u=C.endLineNumber,a=C.endColumn;this._startLineNumberDelta!==0&&(i=i+this._startLineNumberDelta,p=1),this._endLineNumberDelta!==0&&(u=u+this._endLineNumberDelta,a=1),C=I.Selection.createWithDirection(i,p,u,a,this._selectionDirection)}return C}}e.CopyLinesCommand=k}),define(J[412],ee([0,1,62,3]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SortLinesCommand=void 0;class k{constructor(C,i){this.selection=C,this.descending=i,this.selectionId=null}static getCollator(){return k._COLLATOR||(k._COLLATOR=new Intl.Collator),k._COLLATOR}getEditOperations(C,i){let p=S(C,this.selection,this.descending);p&&i.addEditOperation(p.range,p.text),this.selectionId=i.trackSelection(this.selection)}computeCursorState(C,i){return i.getTrackedSelection(this.selectionId)}static canRun(C,i,p){if(C===null)return!1;let u=w(C,i,p);if(!u)return!1;for(let a=0,l=u.before.length;a<l;a++)if(u.before[a]!==u.after[a])return!0;return!1}}e.SortLinesCommand=k,k._COLLATOR=null;function w(_,C,i){let p=C.startLineNumber,u=C.endLineNumber;if(C.endColumn===1&&u--,p>=u)return null;let a=[];for(let c=p;c<=u;c++)a.push(_.getLineContent(c));let l=a.slice(0);return l.sort(k.getCollator().compare),i===!0&&(l=l.reverse()),{startLineNumber:p,endLineNumber:u,before:a,after:l}}function S(_,C,i){let p=w(_,C,i);return p?v.EditOperation.replace(new I.Range(p.startLineNumber,1,p.endLineNumber,_.getLineMaxColumn(p.endLineNumber)),p.after.join(`
`)):null}}),define(J[231],ee([0,1,14,3,72]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketSelectionRangeProvider=void 0;class w{provideSelectionRanges(_,C){return Ie(this,void 0,void 0,function*(){const i=[];for(const p of C){const u=[];i.push(u);const a=new Map;yield new Promise(l=>w._bracketsRightYield(l,0,_,p,a)),yield new Promise(l=>w._bracketsLeftYield(l,0,_,p,a,u))}return i})}static _bracketsRightYield(_,C,i,p,u){const a=new Map,l=Date.now();for(;;){if(C>=w._maxRounds){_();break}if(!p){_();break}let c=i.findNextBracket(p);if(!c){_();break}if(Date.now()-l>w._maxDuration){setTimeout(()=>w._bracketsRightYield(_,C+1,i,p,u));break}const r=c.close[0];if(c.isOpen){let n=a.has(r)?a.get(r):0;a.set(r,n+1)}else{let n=a.has(r)?a.get(r):0;if(n-=1,a.set(r,Math.max(0,n)),n<0){let s=u.get(r);s||(s=new k.LinkedList,u.set(r,s)),s.push(c.range)}}p=c.range.getEndPosition()}}static _bracketsLeftYield(_,C,i,p,u,a){const l=new Map,c=Date.now();for(;;){if(C>=w._maxRounds&&u.size===0){_();break}if(!p){_();break}let d=i.findPrevBracket(p);if(!d){_();break}if(Date.now()-c>w._maxDuration){setTimeout(()=>w._bracketsLeftYield(_,C+1,i,p,u,a));break}const n=d.close[0];if(d.isOpen){let s=l.has(n)?l.get(n):0;if(s-=1,l.set(n,Math.max(0,s)),s<0){let t=u.get(n);if(t){let o=t.shift();t.size===0&&u.delete(n);const h=I.Range.fromPositions(d.range.getEndPosition(),o.getStartPosition()),g=I.Range.fromPositions(d.range.getStartPosition(),o.getEndPosition());a.push({range:h}),a.push({range:g}),w._addBracketLeading(i,g,a)}}}else{let s=l.has(n)?l.get(n):0;l.set(n,s+1)}p=d.range.getStartPosition()}}static _addBracketLeading(_,C,i){if(C.startLineNumber!==C.endLineNumber){const p=C.startLineNumber,u=_.getLineFirstNonWhitespaceColumn(p);u!==0&&u!==C.startColumn&&(i.push({range:I.Range.fromPositions(new v.Position(p,u),C.getEndPosition())}),i.push({range:I.Range.fromPositions(new v.Position(p,1),C.getEndPosition())}));const a=p-1;if(a>0){const l=_.getLineFirstNonWhitespaceColumn(a);l===C.startColumn&&l!==_.getLineLastNonWhitespaceColumn(a)&&(i.push({range:I.Range.fromPositions(new v.Position(a,l),C.getEndPosition())}),i.push({range:I.Range.fromPositions(new v.Position(a,1),C.getEndPosition())}))}}}}e.BracketSelectionRangeProvider=w,w._maxDuration=30,w._maxRounds=2}),define(J[413],ee([0,1,3,8]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordSelectionRangeProvider=void 0;class k{provideSelectionRanges(S,_){const C=[];for(const i of _){const p=[];C.push(p),this._addInWordRanges(p,S,i),this._addWordRanges(p,S,i),this._addWhitespaceLine(p,S,i),p.push({range:S.getFullModelRange()})}return C}_addInWordRanges(S,_,C){const i=_.getWordAtPosition(C);if(!!i){let{word:p,startColumn:u}=i,a=C.column-u,l=a,c=a,d=0;for(;l>=0;l--){let r=p.charCodeAt(l);if(l!==a&&(r===95||r===45))break;if((0,I.isLowerAsciiLetter)(r)&&(0,I.isUpperAsciiLetter)(d))break;d=r}for(l+=1;c<p.length;c++){let r=p.charCodeAt(c);if((0,I.isUpperAsciiLetter)(r)&&(0,I.isLowerAsciiLetter)(d))break;if(r===95||r===45)break;d=r}l<c&&S.push({range:new v.Range(C.lineNumber,u+l,C.lineNumber,u+c)})}}_addWordRanges(S,_,C){const i=_.getWordAtPosition(C);i&&S.push({range:new v.Range(C.lineNumber,i.startColumn,C.lineNumber,i.endColumn)})}_addWhitespaceLine(S,_,C){_.getLineLength(C.lineNumber)>0&&_.getLineFirstNonWhitespaceColumn(C.lineNumber)===0&&_.getLineLastNonWhitespaceColumn(C.lineNumber)===0&&S.push({range:new v.Range(C.lineNumber,1,C.lineNumber,_.getLineMaxColumn(C.lineNumber))})}}e.WordSelectionRangeProvider=k}),define(J[132],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetParser=e.TextmateSnippet=e.Variable=e.FormatString=e.Transform=e.Choice=e.Placeholder=e.TransformableMarker=e.Text=e.Marker=e.Scanner=void 0;class v{constructor(){this.value="",this.pos=0}static isDigitCharacter(d){return d>=48&&d<=57}static isVariableCharacter(d){return d===95||d>=97&&d<=122||d>=65&&d<=90}text(d){this.value=d,this.pos=0}tokenText(d){return this.value.substr(d.pos,d.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};let d=this.pos,r=0,n=this.value.charCodeAt(d),s;if(s=v._table[n],typeof s=="number")return this.pos+=1,{type:s,pos:d,len:1};if(v.isDigitCharacter(n)){s=8;do r+=1,n=this.value.charCodeAt(d+r);while(v.isDigitCharacter(n));return this.pos+=r,{type:s,pos:d,len:r}}if(v.isVariableCharacter(n)){s=9;do n=this.value.charCodeAt(d+ ++r);while(v.isVariableCharacter(n)||v.isDigitCharacter(n));return this.pos+=r,{type:s,pos:d,len:r}}s=10;do r+=1,n=this.value.charCodeAt(d+r);while(!isNaN(n)&&typeof v._table[n]=="undefined"&&!v.isDigitCharacter(n)&&!v.isVariableCharacter(n));return this.pos+=r,{type:s,pos:d,len:r}}}e.Scanner=v,v._table={[36]:0,[58]:1,[44]:2,[123]:3,[125]:4,[92]:5,[47]:6,[124]:7,[43]:11,[45]:12,[63]:13};class I{constructor(){this._children=[]}appendChild(d){return d instanceof k&&this._children[this._children.length-1]instanceof k?this._children[this._children.length-1].value+=d.value:(d.parent=this,this._children.push(d)),this}replace(d,r){const{parent:n}=d,s=n.children.indexOf(d),t=n.children.slice(0);t.splice(s,1,...r),n._children=t,function o(h,g){for(const m of h)m.parent=g,o(m.children,m)}(r,n)}get children(){return this._children}get snippet(){let d=this;for(;;){if(!d)return;if(d instanceof a)return d;d=d.parent}}toString(){return this.children.reduce((d,r)=>d+r.toString(),"")}len(){return 0}}e.Marker=I;class k extends I{constructor(d){super();this.value=d}toString(){return this.value}len(){return this.value.length}clone(){return new k(this.value)}}e.Text=k;class w extends I{}e.TransformableMarker=w;class S extends w{constructor(d){super();this.index=d}static compareByIndex(d,r){return d.index===r.index?0:d.isFinalTabstop?1:r.isFinalTabstop||d.index<r.index?-1:d.index>r.index?1:0}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof _?this._children[0]:void 0}clone(){let d=new S(this.index);return this.transform&&(d.transform=this.transform.clone()),d._children=this.children.map(r=>r.clone()),d}}e.Placeholder=S;class _ extends I{constructor(){super(...arguments);this.options=[]}appendChild(d){return d instanceof k&&(d.parent=this,this.options.push(d)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){let d=new _;return this.options.forEach(d.appendChild,d),d}}e.Choice=_;class C extends I{constructor(){super(...arguments);this.regexp=new RegExp("")}resolve(d){const r=this;let n=!1,s=d.replace(this.regexp,function(){return n=!0,r._replace(Array.prototype.slice.call(arguments,0,-2))});return!n&&this._children.some(t=>t instanceof i&&Boolean(t.elseValue))&&(s=this._replace([])),s}_replace(d){let r="";for(const n of this._children)if(n instanceof i){let s=d[n.index]||"";s=n.resolve(s),r+=s}else r+=n.toString();return r}toString(){return""}clone(){let d=new C;return d.regexp=new RegExp(this.regexp.source,""+(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),d._children=this.children.map(r=>r.clone()),d}}e.Transform=C;class i extends I{constructor(d,r,n,s){super();this.index=d,this.shorthandName=r,this.ifValue=n,this.elseValue=s}resolve(d){return this.shorthandName==="upcase"?d?d.toLocaleUpperCase():"":this.shorthandName==="downcase"?d?d.toLocaleLowerCase():"":this.shorthandName==="capitalize"?d?d[0].toLocaleUpperCase()+d.substr(1):"":this.shorthandName==="pascalcase"?d?this._toPascalCase(d):"":Boolean(d)&&typeof this.ifValue=="string"?this.ifValue:!Boolean(d)&&typeof this.elseValue=="string"?this.elseValue:d||""}_toPascalCase(d){const r=d.match(/[a-z]+/gi);return r?r.map(function(n){return n.charAt(0).toUpperCase()+n.substr(1).toLowerCase()}).join(""):d}clone(){return new i(this.index,this.shorthandName,this.ifValue,this.elseValue)}}e.FormatString=i;class p extends w{constructor(d){super();this.name=d}resolve(d){let r=d.resolve(this);return this.transform&&(r=this.transform.resolve(r||"")),r!==void 0?(this._children=[new k(r)],!0):!1}clone(){const d=new p(this.name);return this.transform&&(d.transform=this.transform.clone()),d._children=this.children.map(r=>r.clone()),d}}e.Variable=p;function u(c,d){const r=[...c];for(;r.length>0;){const n=r.shift();if(!d(n))break;r.unshift(...n.children)}}class a extends I{get placeholderInfo(){if(!this._placeholders){let d=[],r;this.walk(function(n){return n instanceof S&&(d.push(n),r=!r||r.index<n.index?n:r),!0}),this._placeholders={all:d,last:r}}return this._placeholders}get placeholders(){const{all:d}=this.placeholderInfo;return d}offset(d){let r=0,n=!1;return this.walk(s=>s===d?(n=!0,!1):(r+=s.len(),!0)),n?r:-1}fullLen(d){let r=0;return u([d],n=>(r+=n.len(),!0)),r}enclosingPlaceholders(d){let r=[],{parent:n}=d;for(;n;)n instanceof S&&r.push(n),n=n.parent;return r}resolveVariables(d){return this.walk(r=>(r instanceof p&&r.resolve(d)&&(this._placeholders=void 0),!0)),this}appendChild(d){return this._placeholders=void 0,super.appendChild(d)}replace(d,r){return this._placeholders=void 0,super.replace(d,r)}clone(){let d=new a;return this._children=this.children.map(r=>r.clone()),d}walk(d){u(this.children,d)}}e.TextmateSnippet=a;class l{constructor(){this._scanner=new v,this._token={type:14,pos:0,len:0}}static escape(d){return d.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(d){return/\${?CLIPBOARD/.test(d)}parse(d,r,n){this._scanner.text(d),this._token=this._scanner.next();const s=new a;for(;this._parse(s););const t=new Map,o=[];let h=0;s.walk(g=>(g instanceof S&&(h+=1,g.isFinalTabstop?t.set(0,void 0):!t.has(g.index)&&g.children.length>0?t.set(g.index,g.children):o.push(g)),!0));for(const g of o){const m=t.get(g.index);if(m){const f=new S(g.index);f.transform=g.transform;for(const b of m)f.appendChild(b.clone());s.replace(g,[f])}}return n||(n=h>0&&r),!t.has(0)&&n&&s.appendChild(new S(0)),s}_accept(d,r){if(d===void 0||this._token.type===d){let n=r?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),n}return!1}_backTo(d){return this._scanner.pos=d.pos+d.len,this._token=d,!1}_until(d){const r=this._token;for(;this._token.type!==d;){if(this._token.type===14)return!1;if(this._token.type===5){const s=this._scanner.next();if(s.type!==0&&s.type!==4&&s.type!==5)return!1}this._token=this._scanner.next()}const n=this._scanner.value.substring(r.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),n}_parse(d){return this._parseEscaped(d)||this._parseTabstopOrVariableName(d)||this._parseComplexPlaceholder(d)||this._parseComplexVariable(d)||this._parseAnything(d)}_parseEscaped(d){let r;return(r=this._accept(5,!0))?(r=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||r,d.appendChild(new k(r)),!0):!1}_parseTabstopOrVariableName(d){let r;const n=this._token;return this._accept(0)&&(r=this._accept(9,!0)||this._accept(8,!0))?(d.appendChild(/^\d+$/.test(r)?new S(Number(r)):new p(r)),!0):this._backTo(n)}_parseComplexPlaceholder(d){let r;const n=this._token;if(!(this._accept(0)&&this._accept(3)&&(r=this._accept(8,!0))))return this._backTo(n);const t=new S(Number(r));if(this._accept(1))for(;;){if(this._accept(4))return d.appendChild(t),!0;if(!this._parse(t))return d.appendChild(new k("${"+r+":")),t.children.forEach(d.appendChild,d),!0}else if(t.index>0&&this._accept(7)){const o=new _;for(;;){if(this._parseChoiceElement(o)){if(this._accept(2))continue;if(this._accept(7)&&(t.appendChild(o),this._accept(4)))return d.appendChild(t),!0}return this._backTo(n),!1}}else return this._accept(6)?this._parseTransform(t)?(d.appendChild(t),!0):(this._backTo(n),!1):this._accept(4)?(d.appendChild(t),!0):this._backTo(n)}_parseChoiceElement(d){const r=this._token,n=[];for(;!(this._token.type===2||this._token.type===7);){let s;if((s=this._accept(5,!0))?s=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||s:s=this._accept(void 0,!0),!s)return this._backTo(r),!1;n.push(s)}return n.length===0?(this._backTo(r),!1):(d.appendChild(new k(n.join(""))),!0)}_parseComplexVariable(d){let r;const n=this._token;if(!(this._accept(0)&&this._accept(3)&&(r=this._accept(9,!0))))return this._backTo(n);const t=new p(r);if(this._accept(1))for(;;){if(this._accept(4))return d.appendChild(t),!0;if(!this._parse(t))return d.appendChild(new k("${"+r+":")),t.children.forEach(d.appendChild,d),!0}else return this._accept(6)?this._parseTransform(t)?(d.appendChild(t),!0):(this._backTo(n),!1):this._accept(4)?(d.appendChild(t),!0):this._backTo(n)}_parseTransform(d){let r=new C,n="",s="";for(;!this._accept(6);){let t;if(t=this._accept(5,!0)){t=this._accept(6,!0)||t,n+=t;continue}if(this._token.type!==14){n+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let t;if(t=this._accept(5,!0)){t=this._accept(5,!0)||this._accept(6,!0)||t,r.appendChild(new k(t));continue}if(!(this._parseFormatString(r)||this._parseAnything(r)))return!1}for(;!this._accept(4);){if(this._token.type!==14){s+=this._accept(void 0,!0);continue}return!1}try{r.regexp=new RegExp(n,s)}catch(t){return!1}return d.transform=r,!0}_parseFormatString(d){const r=this._token;if(!this._accept(0))return!1;let n=!1;this._accept(3)&&(n=!0);let s=this._accept(8,!0);if(s)if(n){if(this._accept(4))return d.appendChild(new i(Number(s))),!0;if(!this._accept(1))return this._backTo(r),!1}else return d.appendChild(new i(Number(s))),!0;else return this._backTo(r),!1;if(this._accept(6)){let t=this._accept(9,!0);return!t||!this._accept(4)?(this._backTo(r),!1):(d.appendChild(new i(Number(s),t)),!0)}else if(this._accept(11)){let t=this._until(4);if(t)return d.appendChild(new i(Number(s),void 0,t,void 0)),!0}else if(this._accept(12)){let t=this._until(4);if(t)return d.appendChild(new i(Number(s),void 0,void 0,t)),!0}else if(this._accept(13)){let t=this._until(1);if(t){let o=this._until(4);if(o)return d.appendChild(new i(Number(s),void 0,t,o)),!0}}else{let t=this._until(4);if(t)return d.appendChild(new i(Number(s),void 0,void 0,t)),!0}return this._backTo(r),!1}_parseAnything(d){return this._token.type!==14?(d.appendChild(new k(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}e.SnippetParser=l}),define(J[414],ee([0,1,66,8,19]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompletionModel=e.LineContext=void 0;class w{constructor(C,i){this.leadingLineContent=C,this.characterCountDelta=i}}e.LineContext=w;class S{constructor(C,i,p,u,a,l,c){this.clipboardText=c,this._snippetCompareFn=S._compareCompletionItems,this._items=C,this._column=i,this._wordDistance=u,this._options=a,this._refilterKind=1,this._lineContext=p,l==="top"?this._snippetCompareFn=S._compareCompletionItemsSnippetsUp:l==="bottom"&&(this._snippetCompareFn=S._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(C){(this._lineContext.leadingLineContent!==C.leadingLineContent||this._lineContext.characterCountDelta!==C.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<C.characterCountDelta&&this._filteredItems?2:1,this._lineContext=C)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();const C=new Set;for(let[i,p]of this._providerInfo)p&&C.add(i);return C}adopt(C){let i=[];for(let p=0;p<this._items.length;)C.has(this._items[p].provider)?p++:(i.push(this._items[p]),this._items[p]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,i}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;const C=[],{leadingLineContent:i,characterCountDelta:p}=this._lineContext;let u="",a="";const l=this._refilterKind===1?this._items:this._filteredItems,c=[],d=!this._options.filterGraceful||l.length>2e3?v.fuzzyScore:v.fuzzyScoreGracefulAggressive;for(let r=0;r<l.length;r++){const n=l[r];if(!n.isInvalid){this._providerInfo.set(n.provider,Boolean(n.container.incomplete));const s=n.position.column-n.editStart.column,t=s+p-(n.position.column-this._column);if(u.length!==t&&(u=t===0?"":i.slice(-t),a=u.toLowerCase()),n.word=u,t===0)n.score=v.FuzzyScore.Default;else{let o=0;for(;o<s;){const h=u.charCodeAt(o);if(h===32||h===9)o+=1;else break}if(o>=t)n.score=v.FuzzyScore.Default;else if(typeof n.completion.filterText=="string"){let h=d(u,a,o,n.completion.filterText,n.filterTextLow,0,!1);if(!h)continue;(0,I.compareIgnoreCase)(n.completion.filterText,n.textLabel)===0?n.score=h:(n.score=(0,v.anyScore)(u,a,o,n.textLabel,n.labelLow,0),n.score[0]=h[0])}else{let h=d(u,a,o,n.textLabel,n.labelLow,0,!1);if(!h)continue;n.score=h}}n.idx=r,n.distance=this._wordDistance.distance(n.position,n.completion),c.push(n),C.push(n.textLabel.length)}}this._filteredItems=c.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:C.length?(0,k.quickSelect)(C.length-.85,C,(r,n)=>r-n):0}}static _compareCompletionItems(C,i){return C.score[0]>i.score[0]?-1:C.score[0]<i.score[0]?1:C.distance<i.distance?-1:C.distance>i.distance?1:C.idx<i.idx?-1:C.idx>i.idx?1:0}static _compareCompletionItemsSnippetsDown(C,i){if(C.completion.kind!==i.completion.kind){if(C.completion.kind===27)return 1;if(i.completion.kind===27)return-1}return S._compareCompletionItems(C,i)}static _compareCompletionItemsSnippetsUp(C,i){if(C.completion.kind!==i.completion.kind){if(C.completion.kind===27)return-1;if(i.completion.kind===27)return 1}return S._compareCompletionItems(C,i)}}e.CompletionModel=S}),define(J[232],ee([0,1,6,2,7,104]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizableHTMLElement=void 0;class S{constructor(){this._onDidWillResize=new v.Emitter,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new v.Emitter,this.onDidResize=this._onDidResize.event,this._sashListener=new I.DisposableStore,this._size=new k.Dimension(0,0),this._minSize=new k.Dimension(0,0),this._maxSize=new k.Dimension(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new w.Sash(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new w.Sash(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new w.Sash(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:w.OrthogonalEdge.North}),this._southSash=new w.Sash(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:w.OrthogonalEdge.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let C,i=0,p=0;this._sashListener.add(v.Event.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{C===void 0&&(this._onDidWillResize.fire(),C=this._size,i=0,p=0)})),this._sashListener.add(v.Event.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{C!==void 0&&(C=void 0,i=0,p=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(u=>{C&&(p=u.currentX-u.startX,this.layout(C.height+i,C.width+p),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(u=>{C&&(p=-(u.currentX-u.startX),this.layout(C.height+i,C.width+p),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(u=>{C&&(i=-(u.currentY-u.startY),this.layout(C.height+i,C.width+p),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(u=>{C&&(i=u.currentY-u.startY,this.layout(C.height+i,C.width+p),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(v.Event.any(this._eastSash.onDidReset,this._westSash.onDidReset)(u=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(v.Event.any(this._northSash.onDidReset,this._southSash.onDidReset)(u=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this.domNode.remove()}enableSashes(C,i,p,u){this._northSash.state=C?3:0,this._eastSash.state=i?3:0,this._southSash.state=p?3:0,this._westSash.state=u?3:0}layout(C=this.size.height,i=this.size.width){const{height:p,width:u}=this._minSize,{height:a,width:l}=this._maxSize;C=Math.max(p,Math.min(a,C)),i=Math.max(u,Math.min(l,i));const c=new k.Dimension(i,C);k.Dimension.equals(c,this._size)||(this.domNode.style.height=C+"px",this.domNode.style.width=i+"px",this._size=c,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(C){this._maxSize=C}get maxSize(){return this._maxSize}set minSize(C){this._minSize=C}get minSize(){return this._minSize}set preferredSize(C){this._preferredSize=C}get preferredSize(){return this._preferredSize}}e.ResizableHTMLElement=S}),define(J[415],ee([0,1,19,2,91]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommitCharacterController=void 0;class w{constructor(_,C,i){this._disposables=new I.DisposableStore,this._disposables.add(C.onDidShow(()=>this._onItem(C.getFocusedItem()))),this._disposables.add(C.onDidFocus(this._onItem,this)),this._disposables.add(C.onDidHide(this.reset,this)),this._disposables.add(_.onWillType(p=>{if(this._active&&!C.isFrozen()){const u=p.charCodeAt(p.length-1);this._active.acceptCharacters.has(u)&&_.getOption(0)&&i(this._active.item)}}))}_onItem(_){if(!_||!(0,v.isNonEmptyArray)(_.item.completion.commitCharacters)){this.reset();return}if(!(this._active&&this._active.item.item===_.item)){const C=new k.CharacterSet;for(const i of _.item.completion.commitCharacters)i.length>0&&C.add(i.charCodeAt(0));this._active={acceptCharacters:C,item:_}}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}e.CommitCharacterController=w}),define(J[416],ee([0,1,2]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OvertypingCapturer=void 0;class I{constructor(w,S){this._disposables=new v.DisposableStore,this._lastOvertyped=[],this._empty=!0,this._disposables.add(w.onWillType(()=>{if(!!this._empty&&!!w.hasModel()){const _=w.getSelections(),C=_.length;let i=!1;for(let u=0;u<C;u++)if(!_[u].isEmpty()){i=!0;break}if(!!i){this._lastOvertyped=[];const p=w.getModel();for(let u=0;u<C;u++){const a=_[u];if(p.getValueLengthInRange(a)>I._maxSelectionLength)return;this._lastOvertyped[u]={value:p.getValueInRange(a),multiline:a.startLineNumber!==a.endLineNumber}}this._empty=!1}}})),this._disposables.add(S.onDidCancel(_=>{!this._empty&&!_.retrigger&&(this._empty=!0)}))}getLastOvertypedInfo(w){if(!this._empty&&w>=0&&w<this._lastOvertyped.length)return this._lastOvertyped[w]}dispose(){this._disposables.dispose()}}e.OvertypingCapturer=I,I._maxSelectionLength=51200}),define(J[417],ee([0,1,19,3,231]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordDistance=void 0;class w{static create(_,C){return Ie(this,void 0,void 0,function*(){if(!C.getOption(103).localityBonus||!C.hasModel())return w.None;const i=C.getModel(),p=C.getPosition();if(!_.canComputeWordRanges(i.uri))return w.None;const[u]=yield new k.BracketSelectionRangeProvider().provideSelectionRanges(i,[p]);if(u.length===0)return w.None;const a=yield _.computeWordRanges(i.uri,u[0].range);if(!a)return w.None;const l=i.getWordUntilPosition(p);return delete a[l.word],new class extends w{distance(c,d){if(!p.equals(C.getPosition()))return 0;if(d.kind===17)return 2<<20;let r=typeof d.label=="string"?d.label:d.label.name,n=a[r];if((0,v.isFalsyOrEmpty)(n))return 2<<20;let s=(0,v.binarySearch)(n,I.Range.fromPositions(c),I.Range.compareRangesUsingStarts),t=s>=0?n[s]:n[Math.max(0,~s-1)],o=u.length;for(const h of u){if(!I.Range.containsRange(h.range,t))break;o-=1}return o}}})}}e.WordDistance=w,w.None=new class extends w{distance(){return 0}}}),define(J[233],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stateExists=e.findRules=e.substituteMatches=e.createError=e.log=e.sanitize=e.fixCase=e.empty=e.isIAction=e.isString=e.isFuzzyAction=e.isFuzzyActionArr=void 0;function v(c){return Array.isArray(c)}e.isFuzzyActionArr=v;function I(c){return!v(c)}e.isFuzzyAction=I;function k(c){return typeof c=="string"}e.isString=k;function w(c){return!k(c)}e.isIAction=w;function S(c){return!c}e.empty=S;function _(c,d){return c.ignoreCase&&d?d.toLowerCase():d}e.fixCase=_;function C(c){return c.replace(/[&<>'"_]/g,"-")}e.sanitize=C;function i(c,d){console.log(`${c.languageId}: ${d}`)}e.log=i;function p(c,d){return new Error(`${c.languageId}: ${d}`)}e.createError=p;function u(c,d,r,n,s){const t=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let o=null;return d.replace(t,function(h,g,m,f,b,y,L,N,M){return S(m)?S(f)?!S(b)&&b<n.length?_(c,n[b]):!S(L)&&c&&typeof c[L]=="string"?c[L]:(o===null&&(o=s.split("."),o.unshift(s)),!S(y)&&y<o.length?_(c,o[y]):""):_(c,r):"$"})}e.substituteMatches=u;function a(c,d){let r=d;for(;r&&r.length>0;){const n=c.tokenizer[r];if(n)return n;const s=r.lastIndexOf(".");s<0?r=null:r=r.substr(0,s)}return null}e.findRules=a;function l(c,d){let r=d;for(;r&&r.length>0;){if(c.stateNames[r])return!0;const s=r.lastIndexOf(".");s<0?r=null:r=r.substr(0,s)}return!1}e.stateExists=l}),define(J[418],ee([0,1,233]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compile=void 0;function I(c,d){if(!d||!Array.isArray(d))return!1;for(const r of d)if(!c(r))return!1;return!0}function k(c,d){return typeof c=="boolean"?c:d}function w(c,d){return typeof c=="string"?c:d}function S(c){const d={};for(const r of c)d[r]=!0;return d}function _(c,d=!1){d&&(c=c.map(function(n){return n.toLowerCase()}));const r=S(c);return d?function(n){return r[n.toLowerCase()]!==void 0&&r.hasOwnProperty(n.toLowerCase())}:function(n){return r[n]!==void 0&&r.hasOwnProperty(n)}}function C(c,d){d=d.replace(/@@/g,"");let r=0,n;do n=!1,d=d.replace(/@(\w+)/g,function(t,o){n=!0;let h="";if(typeof c[o]=="string")h=c[o];else if(c[o]&&c[o]instanceof RegExp)h=c[o].source;else throw c[o]===void 0?v.createError(c,"language definition does not contain attribute '"+o+"', used at: "+d):v.createError(c,"attribute reference '"+o+"' must be a string, used at: "+d);return v.empty(h)?"":"(?:"+h+")"}),r++;while(n&&r<5);d=d.replace(/\x01/g,"@");let s=(c.ignoreCase?"i":"")+(c.unicode?"u":"");return new RegExp(d,s)}function i(c,d,r,n){if(n<0)return c;if(n<d.length)return d[n];if(n>=100){n=n-100;let s=r.split(".");if(s.unshift(r),n<s.length)return s[n]}return null}function p(c,d,r,n){let s=-1,t=r,o=r.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);o&&(o[3]&&(s=parseInt(o[3]),o[2]&&(s=s+100)),t=o[4]);let h="~",g=t;!t||t.length===0?(h="!=",g=""):/^\w*$/.test(g)?h="==":(o=t.match(/^(@|!@|~|!~|==|!=)(.*)$/),o&&(h=o[1],g=o[2]));let m;if((h==="~"||h==="!~")&&/^(\w|\|)*$/.test(g)){let f=_(g.split("|"),c.ignoreCase);m=function(b){return h==="~"?f(b):!f(b)}}else if(h==="@"||h==="!@"){let f=c[g];if(!f)throw v.createError(c,"the @ match target '"+g+"' is not defined, in rule: "+d);if(!I(function(y){return typeof y=="string"},f))throw v.createError(c,"the @ match target '"+g+"' must be an array of strings, in rule: "+d);let b=_(f,c.ignoreCase);m=function(y){return h==="@"?b(y):!b(y)}}else if(h==="~"||h==="!~")if(g.indexOf("$")<0){let f=C(c,"^"+g+"$");m=function(b){return h==="~"?f.test(b):!f.test(b)}}else m=function(f,b,y,L){return C(c,"^"+v.substituteMatches(c,g,b,y,L)+"$").test(f)};else if(g.indexOf("$")<0){let f=v.fixCase(c,g);m=function(b){return h==="=="?b===f:b!==f}}else{let f=v.fixCase(c,g);m=function(b,y,L,N,M){let D=v.substituteMatches(c,f,y,L,N);return h==="=="?b===D:b!==D}}return s===-1?{name:r,value:n,test:function(f,b,y,L){return m(f,f,b,y,L)}}:{name:r,value:n,test:function(f,b,y,L){let N=i(f,b,y,s);return m(N||"",f,b,y,L)}}}function u(c,d,r){if(r){if(typeof r=="string")return r;if(r.token||r.token===""){if(typeof r.token!="string")throw v.createError(c,"a 'token' attribute must be of type string, in rule: "+d);{let n={token:r.token};if(r.token.indexOf("$")>=0&&(n.tokenSubst=!0),typeof r.bracket=="string")if(r.bracket==="@open")n.bracket=1;else if(r.bracket==="@close")n.bracket=-1;else throw v.createError(c,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+d);if(r.next){if(typeof r.next!="string")throw v.createError(c,"the next state must be a string value in rule: "+d);{let s=r.next;if(!/^(@pop|@push|@popall)$/.test(s)&&(s[0]==="@"&&(s=s.substr(1)),s.indexOf("$")<0&&!v.stateExists(c,v.substituteMatches(c,s,"",[],""))))throw v.createError(c,"the next state '"+r.next+"' is not defined in rule: "+d);n.next=s}}return typeof r.goBack=="number"&&(n.goBack=r.goBack),typeof r.switchTo=="string"&&(n.switchTo=r.switchTo),typeof r.log=="string"&&(n.log=r.log),typeof r.nextEmbedded=="string"&&(n.nextEmbedded=r.nextEmbedded,c.usesEmbedded=!0),n}}else if(Array.isArray(r)){let n=[];for(let s=0,t=r.length;s<t;s++)n[s]=u(c,d,r[s]);return{group:n}}else if(r.cases){let n=[];for(let t in r.cases)if(r.cases.hasOwnProperty(t)){const o=u(c,d,r.cases[t]);t==="@default"||t==="@"||t===""?n.push({test:void 0,value:o,name:t}):t==="@eos"?n.push({test:function(h,g,m,f){return f},value:o,name:t}):n.push(p(c,d,t,o))}const s=c.defaultToken;return{test:function(t,o,h,g){for(const m of n)if(!m.test||m.test(t,o,h,g))return m.value;return s}}}else throw v.createError(c,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+d)}else return{token:""}}class a{constructor(d){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=d}setRegex(d,r){let n;if(typeof r=="string")n=r;else if(r instanceof RegExp)n=r.source;else throw v.createError(d,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=n.length>0&&n[0]==="^",this.name=this.name+": "+n,this.regex=C(d,"^(?:"+(this.matchOnlyAtLineStart?n.substr(1):n)+")")}setAction(d,r){this.action=u(d,this.name,r)}}function l(c,d){if(!d||typeof d!="object")throw new Error("Monarch: expecting a language definition object");let r={};r.languageId=c,r.includeLF=k(d.includeLF,!1),r.noThrow=!1,r.maxStack=100,r.start=typeof d.start=="string"?d.start:null,r.ignoreCase=k(d.ignoreCase,!1),r.unicode=k(d.unicode,!1),r.tokenPostfix=w(d.tokenPostfix,"."+r.languageId),r.defaultToken=w(d.defaultToken,"source"),r.usesEmbedded=!1;let n=d;n.languageId=c,n.includeLF=r.includeLF,n.ignoreCase=r.ignoreCase,n.unicode=r.unicode,n.noThrow=r.noThrow,n.usesEmbedded=r.usesEmbedded,n.stateNames=d.tokenizer,n.defaultToken=r.defaultToken;function s(o,h,g){for(const m of g){let f=m.include;if(f){if(typeof f!="string")throw v.createError(r,"an 'include' attribute must be a string at: "+o);if(f[0]==="@"&&(f=f.substr(1)),!d.tokenizer[f])throw v.createError(r,"include target '"+f+"' is not defined at: "+o);s(o+"."+f,h,d.tokenizer[f])}else{const b=new a(o);if(Array.isArray(m)&&m.length>=1&&m.length<=3)if(b.setRegex(n,m[0]),m.length>=3)if(typeof m[1]=="string")b.setAction(n,{token:m[1],next:m[2]});else if(typeof m[1]=="object"){const y=m[1];y.next=m[2],b.setAction(n,y)}else throw v.createError(r,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+o);else b.setAction(n,m[1]);else{if(!m.regex)throw v.createError(r,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+o);m.name&&typeof m.name=="string"&&(b.name=m.name),m.matchOnlyAtStart&&(b.matchOnlyAtLineStart=k(m.matchOnlyAtLineStart,!1)),b.setRegex(n,m.regex),b.setAction(n,m.action)}h.push(b)}}}if(!d.tokenizer||typeof d.tokenizer!="object")throw v.createError(r,"a language definition must define the 'tokenizer' attribute as an object");r.tokenizer=[];for(let o in d.tokenizer)if(d.tokenizer.hasOwnProperty(o)){r.start||(r.start=o);const h=d.tokenizer[o];r.tokenizer[o]=new Array,s("tokenizer."+o,r.tokenizer[o],h)}if(r.usesEmbedded=n.usesEmbedded,d.brackets){if(!Array.isArray(d.brackets))throw v.createError(r,"the 'brackets' attribute must be defined as an array")}else d.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];let t=[];for(let o of d.brackets){let h=o;if(h&&Array.isArray(h)&&h.length===3&&(h={token:h[2],open:h[0],close:h[1]}),h.open===h.close)throw v.createError(r,"open and close brackets in a 'brackets' attribute must be different: "+h.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof h.open=="string"&&typeof h.token=="string"&&typeof h.close=="string")t.push({token:h.token+r.tokenPostfix,open:v.fixCase(r,h.open),close:v.fixCase(r,h.close)});else throw v.createError(r,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return r.brackets=t,r.noThrow=!0,r}e.compile=l}),define(J[419],ee([4,5]),function($,e){return $.create("vs/base/browser/ui/actionbar/actionViewItems",e)}),define(J[420],ee([4,5]),function($,e){return $.create("vs/base/browser/ui/findinput/findInput",e)}),define(J[421],ee([4,5]),function($,e){return $.create("vs/base/browser/ui/findinput/findInputCheckboxes",e)}),define(J[234],ee([0,1,160,421,27]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RegexCheckbox=e.WholeWordsCheckbox=e.CaseSensitiveCheckbox=void 0;const w=I.localize(0,null),S=I.localize(1,null),_=I.localize(2,null);class C extends v.Checkbox{constructor(a){super({icon:k.Codicon.caseSensitive,title:w+a.appendTitle,isChecked:a.isChecked,inputActiveOptionBorder:a.inputActiveOptionBorder,inputActiveOptionForeground:a.inputActiveOptionForeground,inputActiveOptionBackground:a.inputActiveOptionBackground})}}e.CaseSensitiveCheckbox=C;class i extends v.Checkbox{constructor(a){super({icon:k.Codicon.wholeWord,title:S+a.appendTitle,isChecked:a.isChecked,inputActiveOptionBorder:a.inputActiveOptionBorder,inputActiveOptionForeground:a.inputActiveOptionForeground,inputActiveOptionBackground:a.inputActiveOptionBackground})}}e.WholeWordsCheckbox=i;class p extends v.Checkbox{constructor(a){super({icon:k.Codicon.regex,title:_+a.appendTitle,isChecked:a.isChecked,inputActiveOptionBorder:a.inputActiveOptionBorder,inputActiveOptionForeground:a.inputActiveOptionForeground,inputActiveOptionBackground:a.inputActiveOptionBackground})}}e.RegexCheckbox=p}),define(J[422],ee([4,5]),function($,e){return $.create("vs/base/browser/ui/findinput/replaceInput",e)}),define(J[423],ee([4,5]),function($,e){return $.create("vs/base/browser/ui/iconLabel/iconLabel",e)}),define(J[175],ee([0,1,7,157,2,121,40,20,55,423,23,305]),function($,e,v,I,k,w,S,_,C,i,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IconLabel=void 0;class u{constructor(n){this._element=n}get element(){return this._element}set textContent(n){this.disposed||n===this._textContent||(this._textContent=n,this._element.textContent=n)}set className(n){this.disposed||n===this._className||(this._className=n,this._element.className=n)}set empty(n){this.disposed||n===this._empty||(this._empty=n,this._element.style.marginLeft=n?"0":"")}dispose(){this.disposed=!0}}class a extends k.Disposable{constructor(n,s){super();this.hoverDelegate=void 0,this.customHovers=new Map,this.domNode=this._register(new u(v.append(n,v.$(".monaco-icon-label")))),this.labelContainer=v.append(this.domNode.element,v.$(".monaco-icon-label-container"));const t=v.append(this.labelContainer,v.$("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new u(v.append(this.labelContainer,v.$("span.monaco-icon-description-container")))),(s==null?void 0:s.supportHighlights)?this.nameNode=new d(t,!!s.supportIcons):this.nameNode=new l(t),(s==null?void 0:s.supportDescriptionHighlights)?this.descriptionNodeFactory=()=>new I.HighlightedLabel(v.append(this.descriptionContainer.element,v.$("span.label-description")),!!s.supportIcons):this.descriptionNodeFactory=()=>this._register(new u(v.append(this.descriptionContainer.element,v.$("span.label-description")))),(s==null?void 0:s.hoverDelegate)&&(this.hoverDelegate=s.hoverDelegate)}setLabel(n,s,t){const o=["monaco-icon-label"];t&&(t.extraClasses&&o.push(...t.extraClasses),t.italic&&o.push("italic"),t.strikethrough&&o.push("strikethrough")),this.domNode.className=o.join(" "),this.setupHover(this.labelContainer,t==null?void 0:t.title),this.nameNode.setLabel(n,t),(s||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof I.HighlightedLabel?(this.descriptionNode.set(s||"",t?t.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,t==null?void 0:t.descriptionTitle)):(this.descriptionNode.textContent=s||"",this.setupHover(this.descriptionNode.element,(t==null?void 0:t.descriptionTitle)||""),this.descriptionNode.empty=!s))}setupHover(n,s){const t=this.customHovers.get(n);if(t&&(t.dispose(),this.customHovers.delete(n)),!s){n.removeAttribute("title");return}return this.hoverDelegate?this.setupCustomHover(this.hoverDelegate,n,s):this.setupNativeHover(n,s)}static adjustXAndShowCustomHover(n,s,t,o){if(n&&o)return s!==void 0&&(n.target.x=s+10),t.showHover(n)}getTooltipForCustom(n){if((0,_.isString)(n))return()=>Ie(this,void 0,void 0,function*(){return n});if((0,_.isFunction)(n.markdown))return n.markdown;{const s=n.markdown;return()=>Ie(this,void 0,void 0,function*(){return s})}}setupCustomHover(n,s,t){s.setAttribute("title",""),s.removeAttribute("title");let o=this.getTooltipForCustom(t),h,g,m=!1,f,b;function y(N){if(!m){f=new p.CancellationTokenSource;function M(W){const F=W.type===v.EventType.MOUSE_DOWN;F&&(b==null||b.dispose(),b=void 0),(F||W.fromElement===s)&&(m=!1,h=void 0,f.dispose(!0),D.dispose(),R.dispose())}const D=(0,C.domEvent)(s,v.EventType.MOUSE_LEAVE,!0)(M.bind(s)),R=(0,C.domEvent)(s,v.EventType.MOUSE_DOWN,!0)(M.bind(s));m=!0;function P(W){g=W.x}const O=(0,C.domEvent)(s,v.EventType.MOUSE_MOVE,!0)(P.bind(s));setTimeout(()=>Ie(this,void 0,void 0,function*(){var W;if(m&&o&&!h){const F={targetElements:[this],dispose:()=>{}};h={text:(0,i.localize)(0,null),target:F,hoverPosition:2},b=a.adjustXAndShowCustomHover(h,g,n,m);const E=(W=yield o(f.token))!==null&&W!==void 0?W:(0,_.isString)(t)?void 0:t.markdownNotSupportedFallback;E?(h={text:E,target:F,hoverPosition:2},b=a.adjustXAndShowCustomHover(h,g,n,m)):b&&(b.dispose(),b=void 0)}O.dispose()}),n.delay)}}const L=this._register((0,C.domEvent)(s,v.EventType.MOUSE_OVER,!0)(y.bind(s)));this.customHovers.set(s,L)}setupNativeHover(n,s){let t="";(0,_.isString)(s)?t=s:(s==null?void 0:s.markdownNotSupportedFallback)&&(t=s.markdownNotSupportedFallback),n.title=t}}e.IconLabel=a;class l{constructor(n){this.container=n,this.label=void 0,this.singleLabel=void 0}setLabel(n,s){if(!(this.label===n&&(0,S.equals)(this.options,s)))if(this.label=n,this.options=s,typeof n=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=v.append(this.container,v.$("a.label-name",{id:s==null?void 0:s.domId}))),this.singleLabel.textContent=n;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let t=0;t<n.length;t++){const o=n[t],h=(s==null?void 0:s.domId)&&`${s==null?void 0:s.domId}_${t}`;v.append(this.container,v.$("a.label-name",{id:h,"data-icon-label-count":n.length,"data-icon-label-index":t,role:"treeitem"},o)),t<n.length-1&&v.append(this.container,v.$("span.label-separator",void 0,(s==null?void 0:s.separator)||"/"))}}}}function c(r,n,s){if(!!s){let t=0;return r.map(o=>{const h={start:t,end:t+o.length},g=s.map(m=>w.Range.intersect(h,m)).filter(m=>!w.Range.isEmpty(m)).map(({start:m,end:f})=>({start:m-t,end:f-t}));return t=h.end+n.length,g})}}class d{constructor(n,s){this.container=n,this.supportIcons=s,this.label=void 0,this.singleLabel=void 0}setLabel(n,s){if(!(this.label===n&&(0,S.equals)(this.options,s)))if(this.label=n,this.options=s,typeof n=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new I.HighlightedLabel(v.append(this.container,v.$("a.label-name",{id:s==null?void 0:s.domId})),this.supportIcons)),this.singleLabel.set(n,s==null?void 0:s.matches,void 0,s==null?void 0:s.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const t=(s==null?void 0:s.separator)||"/",o=c(n,t,s==null?void 0:s.matches);for(let h=0;h<n.length;h++){const g=n[h],m=o?o[h]:void 0,f=(s==null?void 0:s.domId)&&`${s==null?void 0:s.domId}_${h}`,b=v.$("a.label-name",{id:f,"data-icon-label-count":n.length,"data-icon-label-index":h,role:"treeitem"});new I.HighlightedLabel(v.append(this.container,b),this.supportIcons).set(g,m,void 0,s==null?void 0:s.labelEscapeNewLines),h<n.length-1&&v.append(b,v.$("span.label-separator",void 0,t))}}}}}),define(J[424],ee([4,5]),function($,e){return $.create("vs/base/browser/ui/inputbox/inputBox",e)}),define(J[425],ee([4,5]),function($,e){return $.create("vs/base/browser/ui/keybindingLabel/keybindingLabel",e)}),define(J[426],ee([4,5]),function($,e){return $.create("vs/base/browser/ui/menu/menu",e)}),define(J[427],ee([4,5]),function($,e){return $.create("vs/base/browser/ui/tree/abstractTree",e)}),define(J[176],ee([0,1,2,105,7,6,56,98,149,19,161,55,66,154,427,15,17,100,197,198,317]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n,s,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractTree=e.RenderIndentGuides=e.ComposedTreeDelegate=void 0;class o extends p.ElementsDragAndDropData{constructor(A){super(A.elements.map(B=>B.element));this.data=A}}function h(E){return E instanceof p.ElementsDragAndDropData?new o(E):E}class g{constructor(A,B){this.modelProvider=A,this.dnd=B,this.autoExpandDisposable=v.Disposable.None}getDragURI(A){return this.dnd.getDragURI(A.element)}getDragLabel(A,B){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(A.map(H=>H.element),B)}onDragStart(A,B){this.dnd.onDragStart&&this.dnd.onDragStart(h(A),B)}onDragOver(A,B,H,K,q=!0){const Y=this.dnd.onDragOver(h(A),B&&B.element,H,K),te=this.autoExpandNode!==B;if(te&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=B),typeof B=="undefined")return Y;if(te&&typeof Y!="boolean"&&Y.autoExpand&&(this.autoExpandDisposable=(0,d.disposableTimeout)(()=>{const T=this.modelProvider(),x=T.getNodeLocation(B);T.isCollapsed(x)&&T.setCollapsed(x,!1),this.autoExpandNode=void 0},500)),typeof Y=="boolean"||!Y.accept||typeof Y.bubble=="undefined"||Y.feedback){if(!q){const T=typeof Y=="boolean"?Y:Y.accept,x=typeof Y=="boolean"?void 0:Y.effect;return{accept:T,effect:x,feedback:[H]}}return Y}if(Y.bubble===1){const T=this.modelProvider(),x=T.getNodeLocation(B),z=T.getParentNodeLocation(x),V=T.getNode(z),U=z&&T.getListIndex(z);return this.onDragOver(A,V,U,K,!1)}const ie=this.modelProvider(),ae=ie.getNodeLocation(B),le=ie.getListIndex(ae),Z=ie.getListRenderCount(ae);return Object.assign(Object.assign({},Y),{feedback:(0,i.range)(le,le+Z)})}drop(A,B,H,K){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(h(A),B&&B.element,H,K)}onDragEnd(A){this.dnd.onDragEnd&&this.dnd.onDragEnd(A)}}function m(E,A){return A&&Object.assign(Object.assign({},A),{identityProvider:A.identityProvider&&{getId(B){return A.identityProvider.getId(B.element)}},dnd:A.dnd&&new g(E,A.dnd),multipleSelectionController:A.multipleSelectionController&&{isSelectionSingleChangeEvent(B){return A.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},B),{element:B.element}))},isSelectionRangeChangeEvent(B){return A.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},B),{element:B.element}))}},accessibilityProvider:A.accessibilityProvider&&Object.assign(Object.assign({},A.accessibilityProvider),{getSetSize(B){const H=E(),K=H.getNodeLocation(B),q=H.getParentNodeLocation(K);return H.getNode(q).visibleChildrenCount},getPosInSet(B){return B.visibleChildIndex+1},isChecked:A.accessibilityProvider&&A.accessibilityProvider.isChecked?B=>A.accessibilityProvider.isChecked(B.element):void 0,getRole:A.accessibilityProvider&&A.accessibilityProvider.getRole?B=>A.accessibilityProvider.getRole(B.element):()=>"treeitem",getAriaLabel(B){return A.accessibilityProvider.getAriaLabel(B.element)},getWidgetAriaLabel(){return A.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:A.accessibilityProvider&&A.accessibilityProvider.getWidgetRole?()=>A.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:A.accessibilityProvider&&A.accessibilityProvider.getAriaLevel?B=>A.accessibilityProvider.getAriaLevel(B.element):B=>B.depth,getActiveDescendantId:A.accessibilityProvider.getActiveDescendantId&&(B=>A.accessibilityProvider.getActiveDescendantId(B.element))}),keyboardNavigationLabelProvider:A.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},A.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(B){return A.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(B.element)}}),enableKeyboardNavigation:A.simpleKeyboardNavigation})}class f{constructor(A){this.delegate=A}getHeight(A){return this.delegate.getHeight(A.element)}getTemplateId(A){return this.delegate.getTemplateId(A.element)}hasDynamicHeight(A){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(A.element)}setDynamicHeight(A,B){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(A.element,B)}}e.ComposedTreeDelegate=f;var b;(function(E){E.None="none",E.OnHover="onHover",E.Always="always"})(b=e.RenderIndentGuides||(e.RenderIndentGuides={}));class y{constructor(A,B=[]){this._elements=B,this.onDidChange=w.Event.forEach(A,H=>this._elements=H)}get elements(){return this._elements}}class L{constructor(A,B,H,K,q={}){this.renderer=A,this.modelProvider=B,this.activeNodes=K,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=L.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new s.SetMap,this.activeIndentNodes=new Set,this.indentGuidesDisposable=v.Disposable.None,this.disposables=new v.DisposableStore,this.templateId=A.templateId,this.updateOptions(q),w.Event.map(H,Y=>Y.node)(this.onDidChangeNodeTwistieState,this,this.disposables),A.onDidChangeTwistieState&&A.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}updateOptions(A={}){if(typeof A.indent!="undefined"&&(this.indent=(0,n.clamp)(A.indent,0,40)),typeof A.renderIndentGuides!="undefined"){const B=A.renderIndentGuides!==b.None;if(B!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=B,this.indentGuidesDisposable.dispose(),B)){const H=new v.DisposableStore;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,H),this.indentGuidesDisposable=H,this._onDidChangeActiveNodes(this.activeNodes.elements)}}typeof A.hideTwistiesOfChildlessElements!="undefined"&&(this.hideTwistiesOfChildlessElements=A.hideTwistiesOfChildlessElements)}renderTemplate(A){const B=(0,k.append)(A,(0,k.$)(".monaco-tl-row")),H=(0,k.append)(B,(0,k.$)(".monaco-tl-indent")),K=(0,k.append)(B,(0,k.$)(".monaco-tl-twistie")),q=(0,k.append)(B,(0,k.$)(".monaco-tl-contents")),Y=this.renderer.renderTemplate(q);return{container:A,indent:H,twistie:K,indentGuidesDisposable:v.Disposable.None,templateData:Y}}renderElement(A,B,H,K){typeof K=="number"&&(this.renderedNodes.set(A,{templateData:H,height:K}),this.renderedElements.set(A.element,A));const q=L.DefaultIndent+(A.depth-1)*this.indent;H.twistie.style.paddingLeft=`${q}px`,H.indent.style.width=`${q+this.indent-16}px`,this.renderTwistie(A,H),typeof K=="number"&&this.renderIndentGuides(A,H),this.renderer.renderElement(A,B,H.templateData,K)}disposeElement(A,B,H,K){H.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(A,B,H.templateData,K),typeof K=="number"&&(this.renderedNodes.delete(A),this.renderedElements.delete(A.element))}disposeTemplate(A){this.renderer.disposeTemplate(A.templateData)}onDidChangeTwistieState(A){const B=this.renderedElements.get(A);!B||this.onDidChangeNodeTwistieState(B)}onDidChangeNodeTwistieState(A){const B=this.renderedNodes.get(A);!B||(this.renderTwistie(A,B.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(A,B.templateData))}renderTwistie(A,B){B.twistie.classList.remove(...t.treeItemExpandedIcon.classNamesArray);let H=!1;this.renderer.renderTwistie&&(H=this.renderer.renderTwistie(A.element,B.twistie)),A.collapsible&&(!this.hideTwistiesOfChildlessElements||A.visibleChildrenCount>0)?(H||B.twistie.classList.add(...t.treeItemExpandedIcon.classNamesArray),B.twistie.classList.add("collapsible"),B.twistie.classList.toggle("collapsed",A.collapsed)):B.twistie.classList.remove("collapsible","collapsed"),A.collapsible?B.container.setAttribute("aria-expanded",String(!A.collapsed)):B.container.removeAttribute("aria-expanded")}renderIndentGuides(A,B){if((0,k.clearNode)(B.indent),B.indentGuidesDisposable.dispose(),!!this.shouldRenderIndentGuides){const H=new v.DisposableStore,K=this.modelProvider();let q=A;for(;;){const Y=K.getNodeLocation(q),te=K.getParentNodeLocation(Y);if(!te)break;const ie=K.getNode(te),ae=(0,k.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(ie)&&ae.classList.add("active"),B.indent.childElementCount===0?B.indent.appendChild(ae):B.indent.insertBefore(ae,B.indent.firstElementChild),this.renderedIndentGuides.add(ie,ae),H.add((0,v.toDisposable)(()=>this.renderedIndentGuides.delete(ie,ae))),q=ie}B.indentGuidesDisposable=H}}_onDidChangeActiveNodes(A){if(!!this.shouldRenderIndentGuides){const B=new Set,H=this.modelProvider();A.forEach(K=>{const q=H.getNodeLocation(K);try{const Y=H.getParentNodeLocation(q);K.collapsible&&K.children.length>0&&!K.collapsed?B.add(K):Y&&B.add(H.getNode(Y))}catch(Y){}}),this.activeIndentNodes.forEach(K=>{B.has(K)||this.renderedIndentGuides.forEach(K,q=>q.classList.remove("active"))}),B.forEach(K=>{this.activeIndentNodes.has(K)||this.renderedIndentGuides.forEach(K,q=>q.classList.add("active"))}),this.activeIndentNodes=B}}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,v.dispose)(this.disposables)}}L.DefaultIndent=8;class N{constructor(A,B,H){this.tree=A,this.keyboardNavigationLabelProvider=B,this._filter=H,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new v.DisposableStore,A.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}set pattern(A){this._pattern=A,this._lowercasePattern=A.toLowerCase()}filter(A,B){if(this._filter){const q=this._filter.filter(A,B);if(this.tree.options.simpleKeyboardNavigation)return q;let Y;if(typeof q=="boolean"?Y=q?1:0:(0,l.isFilterResult)(q)?Y=(0,l.getVisibleState)(q.visibility):Y=q,Y===0)return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:a.FuzzyScore.Default,visibility:!0};const H=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(A),K=Array.isArray(H)?H:[H];for(const q of K){const Y=q&&q.toString();if(typeof Y=="undefined")return{data:a.FuzzyScore.Default,visibility:!0};const te=(0,a.fuzzyScore)(this._pattern,this._lowercasePattern,0,Y,Y.toLowerCase(),0,!0);if(te)return this._matchCount++,K.length===1?{data:te,visibility:!0}:{data:{label:Y,score:te},visibility:!0}}return this.tree.options.filterOnType?2:{data:a.FuzzyScore.Default,visibility:!0}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,v.dispose)(this.disposables)}}class M{constructor(A,B,H,K,q){this.tree=A,this.view=H,this.filter=K,this.keyboardNavigationDelegate=q,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new w.Emitter,this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new w.Emitter,this.enabledDisposables=new v.DisposableStore,this.disposables=new v.DisposableStore,this.domNode=(0,k.$)(`.monaco-list-type-filter.${this.positionClassName}`),this.domNode.draggable=!0,(0,u.domEvent)(this.domNode,"dragstart")(this.onDragStart,this,this.disposables),this.messageDomNode=(0,k.append)(H.getHTMLElement(),(0,k.$)(".monaco-list-type-filter-message")),this.labelDomNode=(0,k.append)(this.domNode,(0,k.$)("span.label"));const Y=(0,k.append)(this.domNode,(0,k.$)(".controls"));this._filterOnType=!!A.options.filterOnType,this.filterOnTypeDomNode=(0,k.append)(Y,(0,k.$)("input.filter")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitleAndIcon(),(0,u.domEvent)(this.filterOnTypeDomNode,"input")(this.onDidChangeFilterOnType,this,this.disposables),this.clearDomNode=(0,k.append)(Y,(0,k.$)("button.clear"+t.treeFilterClearIcon.cssSelector)),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=(0,c.localize)(0,null),this.keyboardNavigationEventFilter=A.options.keyboardNavigationEventFilter,B.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(A.options)}get enabled(){return this._enabled}get pattern(){return this._pattern}get filterOnType(){return this._filterOnType}updateOptions(A){A.simpleKeyboardNavigation?this.disable():this.enable(),typeof A.filterOnType!="undefined"&&(this._filterOnType=!!A.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType,this.updateFilterOnTypeTitleAndIcon()),typeof A.automaticKeyboardNavigation!="undefined"&&(this.automaticKeyboardNavigation=A.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")}enable(){if(!this._enabled){const A=w.Event.chain((0,u.domEvent)(this.view.getHTMLElement(),"keydown")).filter(H=>!(0,I.isInputElement)(H.target)||H.target===this.filterOnTypeDomNode).filter(H=>H.key!=="Dead"&&!/^Media/.test(H.key)).map(H=>new S.StandardKeyboardEvent(H)).filter(this.keyboardNavigationEventFilter||(()=>!0)).filter(()=>this.automaticKeyboardNavigation||this.triggered).filter(H=>this.keyboardNavigationDelegate.mightProducePrintableCharacter(H)&&!(H.keyCode===18||H.keyCode===16||H.keyCode===15||H.keyCode===17)||(this.pattern.length>0||this.triggered)&&(H.keyCode===9||H.keyCode===1)&&!H.altKey&&!H.ctrlKey&&!H.metaKey||H.keyCode===1&&(r.isMacintosh?H.altKey&&!H.metaKey:H.ctrlKey)&&!H.shiftKey).forEach(H=>{H.stopPropagation(),H.preventDefault()}).event,B=(0,u.domEvent)(this.clearDomNode,"click");w.Event.chain(w.Event.any(A,B)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}}disable(){!this._enabled||(this.domNode.remove(),this.enabledDisposables.clear(),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)}onEventOrInput(A){typeof A=="string"?this.onInput(A):A instanceof MouseEvent||A.keyCode===9||A.keyCode===1&&(r.isMacintosh?A.altKey:A.ctrlKey)?this.onInput(""):A.keyCode===1?this.onInput(this.pattern.length===0?"":this.pattern.substr(0,this.pattern.length-1)):this.onInput(this.pattern+A.browserEvent.key)}onInput(A){const B=this.view.getHTMLElement();A&&!this.domNode.parentElement?B.append(this.domNode):!A&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=A,this._onDidChangePattern.fire(A),this.filter.pattern=A,this.tree.refilter(),A&&this.tree.focusNext(0,!0,void 0,K=>!a.FuzzyScore.isDefault(K.filterData));const H=this.tree.getFocus();if(H.length>0){const K=H[0];this.tree.getRelativeTop(K)===null&&this.tree.reveal(K,.5)}this.render(),A||(this.triggered=!1)}onDragStart(){const A=this.view.getHTMLElement(),{left:B}=(0,k.getDomNodePagePosition)(A),H=A.clientWidth,K=H/2,q=this.domNode.clientWidth,Y=new v.DisposableStore;let te=this.positionClassName;const ie=()=>{switch(te){case"nw":this.domNode.style.top="4px",this.domNode.style.left="4px";break;case"ne":this.domNode.style.top="4px",this.domNode.style.left=`${H-q-6}px`;break}},ae=Z=>{Z.preventDefault();const T=Z.clientX-B;Z.dataTransfer&&(Z.dataTransfer.dropEffect="none"),T<K?te="nw":te="ne",ie()},le=()=>{this.positionClassName=te,this.domNode.className=`monaco-list-type-filter ${this.positionClassName}`,this.domNode.style.top="",this.domNode.style.left="",(0,v.dispose)(Y)};ie(),this.domNode.classList.remove(te),this.domNode.classList.add("dragging"),Y.add((0,v.toDisposable)(()=>this.domNode.classList.remove("dragging"))),(0,u.domEvent)(document,"dragover")(ae,null,Y),(0,u.domEvent)(this.domNode,"dragend")(le,null,Y),C.StaticDND.CurrentDragAndDropData=new C.DragAndDropData("vscode-ui"),Y.add((0,v.toDisposable)(()=>C.StaticDND.CurrentDragAndDropData=void 0))}onDidSpliceModel(){!this._enabled||this.pattern.length===0||(this.tree.refilter(),this.render())}onDidChangeFilterOnType(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitleAndIcon()}updateFilterOnTypeTitleAndIcon(){this.filterOnType?(this.filterOnTypeDomNode.classList.remove(...t.treeFilterOnTypeOffIcon.classNamesArray),this.filterOnTypeDomNode.classList.add(...t.treeFilterOnTypeOnIcon.classNamesArray),this.filterOnTypeDomNode.title=(0,c.localize)(1,null)):(this.filterOnTypeDomNode.classList.remove(...t.treeFilterOnTypeOnIcon.classNamesArray),this.filterOnTypeDomNode.classList.add(...t.treeFilterOnTypeOffIcon.classNamesArray),this.filterOnTypeDomNode.title=(0,c.localize)(2,null))}render(){const A=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&this.tree.options.filterOnType&&A?(this.messageDomNode.textContent=(0,c.localize)(3,null),this._empty=!0):(this.messageDomNode.innerText="",this._empty=!1),this.domNode.classList.toggle("no-matches",A),this.domNode.title=(0,c.localize)(4,null,this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?"\u2026"+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)}shouldAllowFocus(A){return!this.enabled||!this.pattern||this.filterOnType||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!a.FuzzyScore.isDefault(A.filterData)}dispose(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.dispose(),this._enabled=!1,this.triggered=!1),this._onDidChangePattern.dispose(),(0,v.dispose)(this.disposables)}}function D(E){let A=_.TreeMouseEventTarget.Unknown;return(0,k.hasParentWithClass)(E.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?A=_.TreeMouseEventTarget.Twistie:(0,k.hasParentWithClass)(E.browserEvent.target,"monaco-tl-contents","monaco-tl-row")&&(A=_.TreeMouseEventTarget.Element),{browserEvent:E.browserEvent,element:E.element?E.element.element:null,target:A}}function R(E,A){A(E),E.children.forEach(B=>R(B,A))}class P{constructor(A){this.identityProvider=A,this.nodes=[],this._onDidChange=new w.Emitter,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(A,B){var H;!((H=B)===null||H===void 0?void 0:H.__forceEvent)&&(0,i.equals)(this.nodes,A)||this._set(A,!1,B)}_set(A,B,H){if(this.nodes=[...A],this.elements=void 0,this._nodeSet=void 0,!B){const K=this;this._onDidChange.fire({get elements(){return K.get()},browserEvent:H})}}get(){return this.elements||(this.elements=this.nodes.map(A=>A.element)),[...this.elements]}getNodes(){return this.nodes}has(A){return this.nodeSet.has(A)}onDidModelSplice({insertedNodes:A,deletedNodes:B}){if(!this.identityProvider){const ie=this.createNodeSet(),ae=le=>ie.delete(le);B.forEach(le=>R(le,ae)),this.set([...ie.values()]);return}const H=new Set,K=ie=>H.add(this.identityProvider.getId(ie.element).toString());B.forEach(ie=>R(ie,K));const q=new Map,Y=ie=>q.set(this.identityProvider.getId(ie.element).toString(),ie);A.forEach(ie=>R(ie,Y));const te=[];for(const ie of this.nodes){const ae=this.identityProvider.getId(ie.element).toString();if(!H.has(ae))te.push(ie);else{const Z=q.get(ae);Z&&te.push(Z)}}this._set(te,!0)}createNodeSet(){const A=new Set;for(const B of this.nodes)A.add(B);return A}}class O extends I.MouseController{constructor(A,B){super(A);this.tree=B}onViewPointer(A){if(!((0,I.isInputElement)(A.browserEvent.target)||(0,I.isMonacoEditor)(A.browserEvent.target))){const B=A.element;if(!B)return super.onViewPointer(A);if(this.isSelectionRangeChangeEvent(A)||this.isSelectionSingleChangeEvent(A))return super.onViewPointer(A);const H=A.browserEvent.target,K=H.classList.contains("monaco-tl-twistie")||H.classList.contains("monaco-icon-label")&&H.classList.contains("folder-icon")&&A.browserEvent.offsetX<16;let q=!1;if(typeof this.tree.expandOnlyOnTwistieClick=="function"?q=this.tree.expandOnlyOnTwistieClick(B.element):q=!!this.tree.expandOnlyOnTwistieClick,q&&!K&&A.browserEvent.detail!==2)return super.onViewPointer(A);if(!this.tree.expandOnDoubleClick&&A.browserEvent.detail===2)return super.onViewPointer(A);if(B.collapsible){const Y=this.tree.model,te=Y.getNodeLocation(B),ie=A.browserEvent.altKey;if(this.tree.setFocus([te]),Y.setCollapsed(te,void 0,ie),q&&K)return}super.onViewPointer(A)}}onDoubleClick(A){A.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||super.onDoubleClick(A)}}class W extends I.List{constructor(A,B,H,K,q,Y,te,ie){super(A,B,H,K,ie);this.focusTrait=q,this.selectionTrait=Y,this.anchorTrait=te}createMouseController(A){return new O(this,A.tree)}splice(A,B,H=[]){if(super.splice(A,B,H),H.length!==0){const K=[],q=[];let Y;H.forEach((te,ie)=>{this.focusTrait.has(te)&&K.push(A+ie),this.selectionTrait.has(te)&&q.push(A+ie),this.anchorTrait.has(te)&&(Y=A+ie)}),K.length>0&&super.setFocus((0,i.distinctES6)([...super.getFocus(),...K])),q.length>0&&super.setSelection((0,i.distinctES6)([...super.getSelection(),...q])),typeof Y=="number"&&super.setAnchor(Y)}}setFocus(A,B,H=!1){super.setFocus(A,B),H||this.focusTrait.set(A.map(K=>this.element(K)),B)}setSelection(A,B,H=!1){super.setSelection(A,B),H||this.selectionTrait.set(A.map(K=>this.element(K)),B)}setAnchor(A,B=!1){super.setAnchor(A),B||(typeof A=="undefined"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(A)]))}}class F{constructor(A,B,H,K,q={}){this._options=q,this.eventBufferer=new w.EventBufferer,this.disposables=new v.DisposableStore,this._onWillRefilter=new w.Emitter,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new w.Emitter;const Y=new f(H),te=new w.Relay,ie=new w.Relay,ae=new y(ie.event);this.renderers=K.map(T=>new L(T,()=>this.model,te.event,ae,q));for(let T of this.renderers)this.disposables.add(T);let le;q.keyboardNavigationLabelProvider&&(le=new N(this,q.keyboardNavigationLabelProvider,q.filter),q=Object.assign(Object.assign({},q),{filter:le}),this.disposables.add(le)),this.focus=new P(q.identityProvider),this.selection=new P(q.identityProvider),this.anchor=new P(q.identityProvider),this.view=new W(A,B,Y,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},m(()=>this.model,q)),{tree:this})),this.model=this.createModel(A,this.view,q),te.input=this.model.onDidChangeCollapseState;const Z=w.Event.forEach(this.model.onDidSplice,T=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(T),this.selection.onDidModelSplice(T)})});if(Z(()=>null,null,this.disposables),ie.input=w.Event.chain(w.Event.any(Z,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const T=new Set;for(const x of this.focus.getNodes())T.add(x);for(const x of this.selection.getNodes())T.add(x);return[...T.values()]}).event,q.keyboardSupport!==!1){const T=w.Event.chain(this.view.onKeyDown).filter(x=>!(0,I.isInputElement)(x.target)).map(x=>new S.StandardKeyboardEvent(x));T.filter(x=>x.keyCode===15).on(this.onLeftArrow,this,this.disposables),T.filter(x=>x.keyCode===17).on(this.onRightArrow,this,this.disposables),T.filter(x=>x.keyCode===10).on(this.onSpace,this,this.disposables)}if(q.keyboardNavigationLabelProvider){const T=q.keyboardNavigationDelegate||I.DefaultKeyboardNavigationDelegate;this.typeFilterController=new M(this,this.model,this.view,le,T),this.focusNavigationFilter=x=>this.typeFilterController.shouldAllowFocus(x),this.disposables.add(this.typeFilterController)}this.styleElement=(0,k.createStyleSheet)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===b.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return w.Event.map(this.view.onMouseDblClick,D)}get onPointer(){return w.Event.map(this.view.onPointer,D)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick=="undefined"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick=="undefined"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(A={}){this._options=Object.assign(Object.assign({},this._options),A);for(const B of this.renderers)B.updateOptions(A);this.view.updateOptions({enableKeyboardNavigation:this._options.simpleKeyboardNavigation,automaticKeyboardNavigation:this._options.automaticKeyboardNavigation,smoothScrolling:this._options.smoothScrolling,horizontalScrolling:this._options.horizontalScrolling}),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===b.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(A){this.view.scrollTop=A}domFocus(){this.view.domFocus()}layout(A,B){this.view.layout(A,B)}style(A){const B=`.${this.view.domId}`,H=[];A.treeIndentGuidesStroke&&(H.push(`.monaco-list${B}:hover .monaco-tl-indent > .indent-guide, .monaco-list${B}.always .monaco-tl-indent > .indent-guide  { border-color: ${A.treeIndentGuidesStroke.transparent(.4)}; }`),H.push(`.monaco-list${B} .monaco-tl-indent > .indent-guide.active { border-color: ${A.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=H.join(`
`),this.view.style(A)}collapse(A,B=!1){return this.model.setCollapsed(A,!0,B)}expand(A,B=!1){return this.model.setCollapsed(A,!1,B)}isCollapsible(A){return this.model.isCollapsible(A)}setCollapsible(A,B){return this.model.setCollapsible(A,B)}isCollapsed(A){return this.model.isCollapsed(A)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(A,B){const H=A.map(q=>this.model.getNode(q));this.selection.set(H,B);const K=A.map(q=>this.model.getListIndex(q)).filter(q=>q>-1);this.view.setSelection(K,B,!0)}getSelection(){return this.selection.get()}setFocus(A,B){const H=A.map(q=>this.model.getNode(q));this.focus.set(H,B);const K=A.map(q=>this.model.getListIndex(q)).filter(q=>q>-1);this.view.setFocus(K,B,!0)}focusNext(A=1,B=!1,H,K=this.focusNavigationFilter){this.view.focusNext(A,B,H,K)}getFocus(){return this.focus.get()}reveal(A,B){this.model.expandTo(A);const H=this.model.getListIndex(A);H!==-1&&this.view.reveal(H,B)}getRelativeTop(A){const B=this.model.getListIndex(A);return B===-1?null:this.view.getRelativeTop(B)}onLeftArrow(A){A.preventDefault(),A.stopPropagation();const B=this.view.getFocusedElements();if(B.length!==0){const H=B[0],K=this.model.getNodeLocation(H);if(!this.model.setCollapsed(K,!0)){const Y=this.model.getParentNodeLocation(K);if(!Y)return;const te=this.model.getListIndex(Y);this.view.reveal(te),this.view.setFocus([te])}}}onRightArrow(A){A.preventDefault(),A.stopPropagation();const B=this.view.getFocusedElements();if(B.length!==0){const H=B[0],K=this.model.getNodeLocation(H);if(!this.model.setCollapsed(K,!1)){if(!H.children.some(ie=>ie.visible))return;const[Y]=this.view.getFocus(),te=Y+1;this.view.reveal(te),this.view.setFocus([te])}}}onSpace(A){A.preventDefault(),A.stopPropagation();const B=this.view.getFocusedElements();if(B.length!==0){const H=B[0],K=this.model.getNodeLocation(H),q=A.browserEvent.altKey;this.model.setCollapsed(K,void 0,q)}}dispose(){(0,v.dispose)(this.disposables),this.view.dispose()}}e.AbstractTree=F}),define(J[428],ee([0,1,176,155]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataTree=void 0;class k extends v.AbstractTree{constructor(S,_,C,i,p,u={}){super(S,_,C,i,u);this.user=S,this.dataSource=p,this.identityProvider=u.identityProvider}createModel(S,_,C){return new I.ObjectTreeModel(S,_,C)}}e.DataTree=k}),define(J[235],ee([0,1,54,176,155,285,99]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTree=e.ObjectTree=void 0;class _ extends I.AbstractTree{constructor(a,l,c,d,r={}){super(a,l,c,d,r)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(a,l=v.Iterable.empty(),c){this.model.setChildren(a,l,c)}rerender(a){if(a===void 0){this.view.rerender();return}this.model.rerender(a)}hasElement(a){return this.model.has(a)}createModel(a,l,c){return new k.ObjectTreeModel(a,l,c)}}e.ObjectTree=_;class C{constructor(a,l){this._compressedTreeNodeProvider=a,this.renderer=l,this.templateId=l.templateId,l.onDidChangeTwistieState&&(this.onDidChangeTwistieState=l.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(a){const l=this.renderer.renderTemplate(a);return{compressedTreeNode:void 0,data:l}}renderElement(a,l,c,d){const r=this.compressedTreeNodeProvider.getCompressedTreeNode(a.element);r.element.elements.length===1?(c.compressedTreeNode=void 0,this.renderer.renderElement(a,l,c.data,d)):(c.compressedTreeNode=r,this.renderer.renderCompressedElements(r,l,c.data,d))}disposeElement(a,l,c,d){c.compressedTreeNode?this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(c.compressedTreeNode,l,c.data,d):this.renderer.disposeElement&&this.renderer.disposeElement(a,l,c.data,d)}disposeTemplate(a){this.renderer.disposeTemplate(a.data)}renderTwistie(a,l){return this.renderer.renderTwistie?this.renderer.renderTwistie(a,l):!1}}Me([S.memoize],C.prototype,"compressedTreeNodeProvider",null);function i(u,a){return a&&Object.assign(Object.assign({},a),{keyboardNavigationLabelProvider:a.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(l){let c;try{c=u().getCompressedTreeNode(l)}catch(d){return a.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(l)}return c.element.elements.length===1?a.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(l):a.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(c.element.elements)}}})}class p extends _{constructor(a,l,c,d,r={}){const n=()=>this,s=d.map(t=>new C(n,t));super(a,l,c,s,i(n,r))}setChildren(a,l=v.Iterable.empty(),c){this.model.setChildren(a,l,c)}createModel(a,l,c){return new w.CompressibleObjectTreeModel(a,l,c)}updateOptions(a={}){super.updateOptions(a),typeof a.compressionEnabled!="undefined"&&this.model.setCompressionEnabled(a.compressionEnabled)}getCompressedTreeNode(a=null){return this.model.getCompressedTreeNode(a)}}e.CompressibleObjectTree=p}),define(J[429],ee([0,1,176,235,98,2,6,15,54,161,11,154,198]),function($,e,v,I,k,w,S,_,C,i,p,u,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleAsyncDataTree=e.AsyncDataTree=void 0;function l(R){return Object.assign(Object.assign({},R),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function c(R,P){return P.parent?P.parent===R?!0:c(R,P.parent):!1}function d(R,P){return R===P||c(R,P)||c(P,R)}class r{constructor(P){this.node=P}get element(){return this.node.element.element}get children(){return this.node.children.map(P=>new r(P))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class n{constructor(P,O,W){this.renderer=P,this.nodeMapper=O,this.onDidChangeTwistieState=W,this.renderedNodes=new Map,this.templateId=P.templateId}renderTemplate(P){return{templateData:this.renderer.renderTemplate(P)}}renderElement(P,O,W,F){this.renderer.renderElement(this.nodeMapper.map(P),O,W.templateData,F)}renderTwistie(P,O){return P.slow?(O.classList.add(...a.treeItemLoadingIcon.classNamesArray),!0):(O.classList.remove(...a.treeItemLoadingIcon.classNamesArray),!1)}disposeElement(P,O,W,F){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(P),O,W.templateData,F)}disposeTemplate(P){this.renderer.disposeTemplate(P.templateData)}dispose(){this.renderedNodes.clear()}}function s(R){return{browserEvent:R.browserEvent,elements:R.elements.map(P=>P.element)}}function t(R){return{browserEvent:R.browserEvent,element:R.element&&R.element.element,target:R.target}}class o extends i.ElementsDragAndDropData{constructor(P){super(P.elements.map(O=>O.element));this.data=P}}function h(R){return R instanceof i.ElementsDragAndDropData?new o(R):R}class g{constructor(P){this.dnd=P}getDragURI(P){return this.dnd.getDragURI(P.element)}getDragLabel(P,O){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(P.map(W=>W.element),O)}onDragStart(P,O){this.dnd.onDragStart&&this.dnd.onDragStart(h(P),O)}onDragOver(P,O,W,F,E=!0){return this.dnd.onDragOver(h(P),O&&O.element,W,F)}drop(P,O,W,F){this.dnd.drop(h(P),O&&O.element,W,F)}onDragEnd(P){this.dnd.onDragEnd&&this.dnd.onDragEnd(P)}}function m(R){return R&&Object.assign(Object.assign({},R),{collapseByDefault:!0,identityProvider:R.identityProvider&&{getId(P){return R.identityProvider.getId(P.element)}},dnd:R.dnd&&new g(R.dnd),multipleSelectionController:R.multipleSelectionController&&{isSelectionSingleChangeEvent(P){return R.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},P),{element:P.element}))},isSelectionRangeChangeEvent(P){return R.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},P),{element:P.element}))}},accessibilityProvider:R.accessibilityProvider&&Object.assign(Object.assign({},R.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:R.accessibilityProvider.getRole?P=>R.accessibilityProvider.getRole(P.element):()=>"treeitem",isChecked:R.accessibilityProvider.isChecked?P=>{var O;return!!((O=R.accessibilityProvider)===null||O===void 0?void 0:O.isChecked(P.element))}:void 0,getAriaLabel(P){return R.accessibilityProvider.getAriaLabel(P.element)},getWidgetAriaLabel(){return R.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:R.accessibilityProvider.getWidgetRole?()=>R.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:R.accessibilityProvider.getAriaLevel&&(P=>R.accessibilityProvider.getAriaLevel(P.element)),getActiveDescendantId:R.accessibilityProvider.getActiveDescendantId&&(P=>R.accessibilityProvider.getActiveDescendantId(P.element))}),filter:R.filter&&{filter(P,O){return R.filter.filter(P.element,O)}},keyboardNavigationLabelProvider:R.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},R.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(P){return R.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(P.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof R.expandOnlyOnTwistieClick=="undefined"?void 0:typeof R.expandOnlyOnTwistieClick!="function"?R.expandOnlyOnTwistieClick:P=>R.expandOnlyOnTwistieClick(P.element),additionalScrollHeight:R.additionalScrollHeight})}function f(R,P){P(R),R.children.forEach(O=>f(O,P))}class b{constructor(P,O,W,F,E,A={}){this.user=P,this.dataSource=E,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new S.Emitter,this._onDidChangeNodeSlowState=new S.Emitter,this.nodeMapper=new k.WeakMapper(B=>new r(B)),this.disposables=new w.DisposableStore,this.identityProvider=A.identityProvider,this.autoExpandSingleChildren=typeof A.autoExpandSingleChildren=="undefined"?!1:A.autoExpandSingleChildren,this.sorter=A.sorter,this.collapseByDefault=A.collapseByDefault,this.tree=this.createTree(P,O,W,F,A),this.root=l({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return S.Event.map(this.tree.onDidChangeFocus,s)}get onDidChangeSelection(){return S.Event.map(this.tree.onDidChangeSelection,s)}get onMouseDblClick(){return S.Event.map(this.tree.onMouseDblClick,t)}get onPointer(){return S.Event.map(this.tree.onPointer,t)}get onDidFocus(){return this.tree.onDidFocus}get onDidDispose(){return this.tree.onDidDispose}createTree(P,O,W,F,E){const A=new v.ComposedTreeDelegate(W),B=F.map(K=>new n(K,this.nodeMapper,this._onDidChangeNodeSlowState.event)),H=m(E)||{};return new I.ObjectTree(P,O,A,B,H)}updateOptions(P={}){this.tree.updateOptions(P)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(P){this.tree.scrollTop=P}domFocus(){this.tree.domFocus()}layout(P,O){this.tree.layout(P,O)}style(P){this.tree.style(P)}getInput(){return this.root.element}setInput(P,O){return Ie(this,void 0,void 0,function*(){this.refreshPromises.forEach(F=>F.cancel()),this.refreshPromises.clear(),this.root.element=P;const W=O&&{viewState:O,focus:[],selection:[]};yield this._updateChildren(P,!0,!1,W),W&&(this.tree.setFocus(W.focus),this.tree.setSelection(W.selection)),O&&typeof O.scrollTop=="number"&&(this.scrollTop=O.scrollTop)})}_updateChildren(P=this.root.element,O=!0,W=!1,F,E){return Ie(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new k.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield S.Event.toPromise(this._onDidRender.event));const A=this.getDataNode(P);if(yield this.refreshAndRenderNode(A,O,F,E),W)try{this.tree.rerender(A)}catch(B){}})}rerender(P){if(P===void 0||P===this.root.element){this.tree.rerender();return}const O=this.getDataNode(P);this.tree.rerender(O)}collapse(P,O=!1){const W=this.getDataNode(P);return this.tree.collapse(W===this.root?null:W,O)}expand(P,O=!1){return Ie(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new k.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield S.Event.toPromise(this._onDidRender.event));const W=this.getDataNode(P);if(this.tree.hasElement(W)&&!this.tree.isCollapsible(W)||(W.refreshPromise&&(yield this.root.refreshPromise,yield S.Event.toPromise(this._onDidRender.event)),W!==this.root&&!W.refreshPromise&&!this.tree.isCollapsed(W)))return!1;const F=this.tree.expand(W===this.root?null:W,O);return W.refreshPromise&&(yield this.root.refreshPromise,yield S.Event.toPromise(this._onDidRender.event)),F})}setSelection(P,O){const W=P.map(F=>this.getDataNode(F));this.tree.setSelection(W,O)}getSelection(){return this.tree.getSelection().map(O=>O.element)}setFocus(P,O){const W=P.map(F=>this.getDataNode(F));this.tree.setFocus(W,O)}getFocus(){return this.tree.getFocus().map(O=>O.element)}reveal(P,O){this.tree.reveal(this.getDataNode(P),O)}getDataNode(P){const O=this.nodes.get(P===this.root.element?null:P);if(!O)throw new k.TreeError(this.user,`Data tree node not found: ${P}`);return O}refreshAndRenderNode(P,O,W,F){return Ie(this,void 0,void 0,function*(){yield this.refreshNode(P,O,W),this.render(P,W,F)})}refreshNode(P,O,W){return Ie(this,void 0,void 0,function*(){let F;return this.subTreeRefreshPromises.forEach((E,A)=>{!F&&d(A,P)&&(F=E.then(()=>this.refreshNode(P,O,W)))}),F||this.doRefreshSubTree(P,O,W)})}doRefreshSubTree(P,O,W){return Ie(this,void 0,void 0,function*(){let F;P.refreshPromise=new Promise(E=>F=E),this.subTreeRefreshPromises.set(P,P.refreshPromise),P.refreshPromise.finally(()=>{P.refreshPromise=void 0,this.subTreeRefreshPromises.delete(P)});try{const E=yield this.doRefreshNode(P,O,W);P.stale=!1,yield _.Promises.settled(E.map(A=>this.doRefreshSubTree(A,O,W)))}finally{F()}})}doRefreshNode(P,O,W){return Ie(this,void 0,void 0,function*(){P.hasChildren=!!this.dataSource.hasChildren(P.element);let F;if(!P.hasChildren)F=Promise.resolve(C.Iterable.empty());else{const E=(0,_.timeout)(800);E.then(()=>{P.slow=!0,this._onDidChangeNodeSlowState.fire(P)},A=>null),F=this.doGetChildren(P).finally(()=>E.cancel())}try{const E=yield F;return this.setChildren(P,E,O,W)}catch(E){if(P!==this.root&&this.tree.hasElement(P)&&this.tree.collapse(P),(0,p.isPromiseCanceledError)(E))return[];throw E}finally{P.slow&&(P.slow=!1,this._onDidChangeNodeSlowState.fire(P))}})}doGetChildren(P){let O=this.refreshPromises.get(P);return O||(O=(0,_.createCancelablePromise)(()=>Ie(this,void 0,void 0,function*(){const W=yield this.dataSource.getChildren(P.element);return this.processChildren(W)})),this.refreshPromises.set(P,O),O.finally(()=>{this.refreshPromises.delete(P)}))}_onDidChangeCollapseState({node:P,deep:O}){P.element!==null&&!P.collapsed&&P.element.stale&&(O?this.collapse(P.element.element):this.refreshAndRenderNode(P.element,!1).catch(p.onUnexpectedError))}setChildren(P,O,W,F){const E=[...O];if(P.children.length===0&&E.length===0)return[];const A=new Map,B=new Map;for(const q of P.children)if(A.set(q.element,q),this.identityProvider){const Y=this.tree.isCollapsed(q);B.set(q.id,{node:q,collapsed:Y})}const H=[],K=E.map(q=>{const Y=!!this.dataSource.hasChildren(q);if(!this.identityProvider){const le=l({element:q,parent:P,hasChildren:Y});return Y&&this.collapseByDefault&&!this.collapseByDefault(q)&&(le.collapsedByDefault=!1,H.push(le)),le}const te=this.identityProvider.getId(q).toString(),ie=B.get(te);if(ie){const le=ie.node;return A.delete(le.element),this.nodes.delete(le.element),this.nodes.set(q,le),le.element=q,le.hasChildren=Y,W?ie.collapsed?(le.children.forEach(Z=>f(Z,T=>this.nodes.delete(T.element))),le.children.splice(0,le.children.length),le.stale=!0):H.push(le):Y&&this.collapseByDefault&&!this.collapseByDefault(q)&&(le.collapsedByDefault=!1,H.push(le)),le}const ae=l({element:q,parent:P,id:te,hasChildren:Y});return F&&F.viewState.focus&&F.viewState.focus.indexOf(te)>-1&&F.focus.push(ae),F&&F.viewState.selection&&F.viewState.selection.indexOf(te)>-1&&F.selection.push(ae),F&&F.viewState.expanded&&F.viewState.expanded.indexOf(te)>-1?H.push(ae):Y&&this.collapseByDefault&&!this.collapseByDefault(q)&&(ae.collapsedByDefault=!1,H.push(ae)),ae});for(const q of A.values())f(q,Y=>this.nodes.delete(Y.element));for(const q of K)this.nodes.set(q.element,q);return P.children.splice(0,P.children.length,...K),P!==this.root&&this.autoExpandSingleChildren&&K.length===1&&H.length===0&&(K[0].collapsedByDefault=!1,H.push(K[0])),H}render(P,O,W){const F=P.children.map(A=>this.asTreeElement(A,O)),E=W&&Object.assign(Object.assign({},W),{diffIdentityProvider:W.diffIdentityProvider&&{getId(A){return W.diffIdentityProvider.getId(A.element)}}});this.tree.setChildren(P===this.root?null:P,F,E),P!==this.root&&this.tree.setCollapsible(P,P.hasChildren),this._onDidRender.fire()}asTreeElement(P,O){if(P.stale)return{element:P,collapsible:P.hasChildren,collapsed:!0};let W;return O&&O.viewState.expanded&&P.id&&O.viewState.expanded.indexOf(P.id)>-1?W=!1:W=P.collapsedByDefault,P.collapsedByDefault=void 0,{element:P,children:P.hasChildren?C.Iterable.map(P.children,F=>this.asTreeElement(F,O)):[],collapsible:P.hasChildren,collapsed:W}}processChildren(P){return this.sorter&&(P=[...P].sort(this.sorter.compare.bind(this.sorter))),P}dispose(){this.disposables.dispose()}}e.AsyncDataTree=b;class y{constructor(P){this.node=P}get element(){return{elements:this.node.element.elements.map(P=>P.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(P=>new y(P))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class L{constructor(P,O,W,F){this.renderer=P,this.nodeMapper=O,this.compressibleNodeMapperProvider=W,this.onDidChangeTwistieState=F,this.renderedNodes=new Map,this.disposables=[],this.templateId=P.templateId}renderTemplate(P){return{templateData:this.renderer.renderTemplate(P)}}renderElement(P,O,W,F){this.renderer.renderElement(this.nodeMapper.map(P),O,W.templateData,F)}renderCompressedElements(P,O,W,F){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(P),O,W.templateData,F)}renderTwistie(P,O){return P.slow?(O.classList.add(...a.treeItemLoadingIcon.classNamesArray),!0):(O.classList.remove(...a.treeItemLoadingIcon.classNamesArray),!1)}disposeElement(P,O,W,F){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(P),O,W.templateData,F)}disposeCompressedElements(P,O,W,F){this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(this.compressibleNodeMapperProvider().map(P),O,W.templateData,F)}disposeTemplate(P){this.renderer.disposeTemplate(P.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,w.dispose)(this.disposables)}}function N(R){const P=R&&m(R);return P&&Object.assign(Object.assign({},P),{keyboardNavigationLabelProvider:P.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},P.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(O){return R.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(O.map(W=>W.element))}})})}class M extends b{constructor(P,O,W,F,E,A,B={}){super(P,O,W,E,A,B);this.compressionDelegate=F,this.compressibleNodeMapper=new k.WeakMapper(H=>new y(H)),this.filter=B.filter}createTree(P,O,W,F,E){const A=new v.ComposedTreeDelegate(W),B=F.map(K=>new L(K,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),H=N(E)||{};return new I.CompressibleObjectTree(P,O,A,B,H)}asTreeElement(P,O){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(P.element)},super.asTreeElement(P,O))}updateOptions(P={}){this.tree.updateOptions(P)}render(P,O){if(!this.identityProvider)return super.render(P,O);const W=te=>this.identityProvider.getId(te).toString(),F=te=>{const ie=new Set;for(const ae of te){const le=this.tree.getCompressedTreeNode(ae===this.root?null:ae);if(!!le.element)for(const Z of le.element.elements)ie.add(W(Z.element))}return ie},E=F(this.tree.getSelection()),A=F(this.tree.getFocus());super.render(P,O);const B=this.getSelection();let H=!1;const K=this.getFocus();let q=!1;const Y=te=>{const ie=te.element;if(ie)for(let ae=0;ae<ie.elements.length;ae++){const le=W(ie.elements[ae].element),Z=ie.elements[ie.elements.length-1].element;E.has(le)&&B.indexOf(Z)===-1&&(B.push(Z),H=!0),A.has(le)&&K.indexOf(Z)===-1&&(K.push(Z),q=!0)}te.children.forEach(Y)};Y(this.tree.getCompressedTreeNode(P===this.root?null:P)),H&&this.setSelection(B),q&&this.setFocus(K)}processChildren(P){return this.filter&&(P=C.Iterable.filter(P,O=>{const W=this.filter.filter(O,1),F=D(W);if(F===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return F===1})),super.processChildren(P)}}e.CompressibleAsyncDataTree=M;function D(R){return typeof R=="boolean"?R?1:0:(0,u.isFilterResult)(R)?(0,u.getVisibleState)(R.visibility):(0,u.getVisibleState)(R)}}),define(J[430],ee([4,5]),function($,e){return $.create("vs/base/common/actions",e)}),define(J[48],ee([0,1,430,2,6]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmptySubmenuAction=e.SubmenuAction=e.Separator=e.ActionRunner=e.Action=void 0;class w extends I.Disposable{constructor(u,a="",l="",c=!0,d){super();this._onDidChange=this._register(new k.Emitter),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._checked=!1,this._id=u,this._label=a,this._cssClass=l,this._enabled=c,this._actionCallback=d}get id(){return this._id}get label(){return this._label}set label(u){this._setLabel(u)}_setLabel(u){this._label!==u&&(this._label=u,this._onDidChange.fire({label:u}))}get tooltip(){return this._tooltip||""}set tooltip(u){this._setTooltip(u)}_setTooltip(u){this._tooltip!==u&&(this._tooltip=u,this._onDidChange.fire({tooltip:u}))}get class(){return this._cssClass}set class(u){this._setClass(u)}_setClass(u){this._cssClass!==u&&(this._cssClass=u,this._onDidChange.fire({class:u}))}get enabled(){return this._enabled}set enabled(u){this._setEnabled(u)}_setEnabled(u){this._enabled!==u&&(this._enabled=u,this._onDidChange.fire({enabled:u}))}get checked(){return this._checked}set checked(u){this._setChecked(u)}_setChecked(u){this._checked!==u&&(this._checked=u,this._onDidChange.fire({checked:u}))}run(u,a){return Ie(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(u))})}}e.Action=w;class S extends I.Disposable{constructor(){super(...arguments);this._onBeforeRun=this._register(new k.Emitter),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new k.Emitter),this.onDidRun=this._onDidRun.event}run(u,a){return Ie(this,void 0,void 0,function*(){if(!!u.enabled){this._onBeforeRun.fire({action:u});let l;try{yield this.runAction(u,a)}catch(c){l=c}this._onDidRun.fire({action:u,error:l})}})}runAction(u,a){return Ie(this,void 0,void 0,function*(){yield u.run(a)})}}e.ActionRunner=S;class _ extends w{constructor(u){super(_.ID,u,u?"separator text":"separator");this.checked=!1,this.enabled=!1}}e.Separator=_,_.ID="vs.actions.separator";class C{constructor(u,a,l,c){this.tooltip="",this.enabled=!0,this.checked=!1,this.id=u,this.label=a,this.class=c,this._actions=l}get actions(){return this._actions}dispose(){}run(){return Ie(this,void 0,void 0,function*(){})}}e.SubmenuAction=C;class i extends w{constructor(){super(i.ID,v.localize(0,null),void 0,!1)}}e.EmptySubmenuAction=i,i.ID="vs.actions.empty"}),define(J[112],ee([0,1,17,419,2,48,20,60,149,35,7,204]),function($,e,v,I,k,w,S,_,C,i,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionViewItem=e.BaseActionViewItem=void 0;class u extends k.Disposable{constructor(c,d,r={}){super();this.options=r,this._context=c||this,this._action=d,d instanceof w.Action&&this._register(d.onDidChange(n=>{!this.element||this.handleActionChangeEvent(n)}))}handleActionChangeEvent(c){c.enabled!==void 0&&this.updateEnabled(),c.checked!==void 0&&this.updateChecked(),c.class!==void 0&&this.updateClass(),c.label!==void 0&&(this.updateLabel(),this.updateTooltip()),c.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new w.ActionRunner)),this._actionRunner}set actionRunner(c){this._actionRunner=c}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(c){this._context=c}render(c){const d=this.element=c;this._register(_.Gesture.addTarget(c));const r=this.options&&this.options.draggable;r&&(c.draggable=!0,i.isFirefox&&this._register((0,p.addDisposableListener)(c,p.EventType.DRAG_START,n=>{var s;return(s=n.dataTransfer)===null||s===void 0?void 0:s.setData(C.DataTransfers.TEXT,this._action.label)}))),this._register((0,p.addDisposableListener)(d,_.EventType.Tap,n=>this.onClick(n))),this._register((0,p.addDisposableListener)(d,p.EventType.MOUSE_DOWN,n=>{r||p.EventHelper.stop(n,!0),this._action.enabled&&n.button===0&&d.classList.add("active")})),v.isMacintosh&&this._register((0,p.addDisposableListener)(d,p.EventType.CONTEXT_MENU,n=>{n.button===0&&n.ctrlKey===!0&&this.onClick(n)})),this._register((0,p.addDisposableListener)(d,p.EventType.CLICK,n=>{p.EventHelper.stop(n,!0),this.options&&this.options.isMenu||v.setImmediate(()=>this.onClick(n))})),this._register((0,p.addDisposableListener)(d,p.EventType.DBLCLICK,n=>{p.EventHelper.stop(n,!0)})),[p.EventType.MOUSE_UP,p.EventType.MOUSE_OUT].forEach(n=>{this._register((0,p.addDisposableListener)(d,n,s=>{p.EventHelper.stop(s),d.classList.remove("active")}))})}onClick(c){var d;p.EventHelper.stop(c,!0);const r=S.isUndefinedOrNull(this._context)?((d=this.options)===null||d===void 0?void 0:d.useEventAsContext)?c:void 0:this._context;this.actionRunner.run(this._action,r)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(c){this.element&&(this.element.tabIndex=c?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}updateTooltip(){}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}e.BaseActionViewItem=u;class a extends u{constructor(c,d,r={}){super(c,d,r);this.options=r,this.options.icon=r.icon!==void 0?r.icon:!1,this.options.label=r.label!==void 0?r.label:!0,this.cssClass=""}render(c){super.render(c),this.element&&(this.label=(0,p.append)(this.element,(0,p.$)("a.action-label"))),this.label&&(this._action.id===w.Separator.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&((0,p.append)(this.element,(0,p.$)("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(c){this.label&&(this.label.tabIndex=c?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}updateTooltip(){let c=null;this.getAction().tooltip?c=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(c=this.getAction().label,this.options.keybinding&&(c=I.localize(0,null,c,this.options.keybinding))),c&&this.label&&(this.label.title=c)}updateClass(){this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):this.label&&this.label.classList.remove("codicon")}updateEnabled(){this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),this.element&&this.element.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),this.element&&this.element.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}e.ActionViewItem=a}),define(J[83],ee([0,1,2,48,7,20,56,6,112,204]),function($,e,v,I,k,w,S,_,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionBar=void 0;class i extends v.Disposable{constructor(u,a={}){var l,c,d,r,n,s;super();this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new _.Emitter),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new _.Emitter({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new _.Emitter),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new _.Emitter),this.onBeforeRun=this._onBeforeRun.event,this.options=a,this._context=(l=a.context)!==null&&l!==void 0?l:null,this._orientation=(c=this.options.orientation)!==null&&c!==void 0?c:0,this._triggerKeys={keyDown:(r=(d=this.options.triggerKeys)===null||d===void 0?void 0:d.keyDown)!==null&&r!==void 0?r:!1,keys:(s=(n=this.options.triggerKeys)===null||n===void 0?void 0:n.keys)!==null&&s!==void 0?s:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new I.ActionRunner,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun(h=>this._onDidRun.fire(h))),this._register(this._actionRunner.onBeforeRun(h=>this._onBeforeRun.fire(h))),this._actionIds=[],this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",a.animated!==!1&&this.domNode.classList.add("animated");let t,o;switch(this._orientation){case 0:t=[15],o=[17];break;case 1:t=[16],o=[18],this.domNode.className+=" vertical";break}this._register(k.addDisposableListener(this.domNode,k.EventType.KEY_DOWN,h=>{const g=new S.StandardKeyboardEvent(h);let m=!0;const f=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;t&&(g.equals(t[0])||g.equals(t[1]))?m=this.focusPrevious():o&&(g.equals(o[0])||g.equals(o[1]))?m=this.focusNext():g.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():g.equals(14)?m=this.focusFirst():g.equals(13)?m=this.focusLast():g.equals(2)&&f instanceof C.BaseActionViewItem&&f.trapsArrowNavigation?m=this.focusNext():this.isTriggerKeyEvent(g)?this._triggerKeys.keyDown?this.doTrigger(g):this.triggerKeyDown=!0:m=!1,m&&(g.preventDefault(),g.stopPropagation())})),this._register(k.addDisposableListener(this.domNode,k.EventType.KEY_UP,h=>{const g=new S.StandardKeyboardEvent(h);this.isTriggerKeyEvent(g)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(g)),g.preventDefault(),g.stopPropagation()):(g.equals(2)||g.equals(1024|2))&&this.updateFocusedItem()})),this.focusTracker=this._register(k.trackFocus(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(k.getActiveElement()===this.domNode||!k.isAncestor(k.getActiveElement(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role","toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),u.appendChild(this.domNode)}isTriggerKeyEvent(u){let a=!1;return this._triggerKeys.keys.forEach(l=>{a=a||u.equals(l)}),a}updateFocusedItem(){for(let u=0;u<this.actionsList.children.length;u++){const a=this.actionsList.children[u];if(k.isAncestor(k.getActiveElement(),a)){this.focusedItem=u;break}}}get context(){return this._context}set context(u){this._context=u,this.viewItems.forEach(a=>a.setActionContext(u))}get actionRunner(){return this._actionRunner}set actionRunner(u){u&&(this._actionRunner=u,this.viewItems.forEach(a=>a.actionRunner=u))}getContainer(){return this.domNode}push(u,a={}){const l=Array.isArray(u)?u:[u];let c=w.isNumber(a.index)?a.index:null;l.forEach(d=>{const r=document.createElement("li");r.className="action-item",r.setAttribute("role","presentation"),this.options.allowContextMenu||this._register(k.addDisposableListener(r,k.EventType.CONTEXT_MENU,s=>{k.EventHelper.stop(s,!0)}));let n;this.options.actionViewItemProvider&&(n=this.options.actionViewItemProvider(d)),n||(n=new C.ActionViewItem(this.context,d,a)),n.actionRunner=this._actionRunner,n.setActionContext(this.context),n.render(r),this.focusable&&n instanceof C.BaseActionViewItem&&this.viewItems.length===0&&n.setFocusable(!0),c===null||c<0||c>=this.actionsList.children.length?(this.actionsList.appendChild(r),this.viewItems.push(n),this._actionIds.push(d.id)):(this.actionsList.insertBefore(r,this.actionsList.children[c]),this.viewItems.splice(c,0,n),this._actionIds.splice(c,0,d.id),c++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem)}clear(){(0,v.dispose)(this.viewItems),this.viewItems=[],this._actionIds=[],k.clearNode(this.actionsList)}length(){return this.viewItems.length}focus(u){let a=!1,l;if(u===void 0?a=!0:typeof u=="number"?l=u:typeof u=="boolean"&&(a=u),a&&typeof this.focusedItem=="undefined"){const c=this.viewItems.findIndex(d=>d.isEnabled());this.focusedItem=c===-1?void 0:c,this.updateFocus()}else l!==void 0&&(this.focusedItem=l),this.updateFocus()}focusFirst(){return this.focusedItem=this.length()>1?1:0,this.focusPrevious()}focusLast(){return this.focusedItem=this.length()<2?0:this.length()-2,this.focusNext()}focusNext(){if(typeof this.focusedItem=="undefined")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const u=this.focusedItem;let a;do{if(this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=u,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,a=this.viewItems[this.focusedItem]}while(this.focusedItem!==u&&this.options.focusOnlyEnabledItems&&!a.isEnabled());return this.updateFocus(),!0}focusPrevious(){if(typeof this.focusedItem=="undefined")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const u=this.focusedItem;let a;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(this.options.preventLoopNavigation)return this.focusedItem=u,!1;this.focusedItem=this.viewItems.length-1}a=this.viewItems[this.focusedItem]}while(this.focusedItem!==u&&this.options.focusOnlyEnabledItems&&!a.isEnabled());return this.updateFocus(!0),!0}updateFocus(u,a){typeof this.focusedItem=="undefined"&&this.actionsList.focus({preventScroll:a});for(let l=0;l<this.viewItems.length;l++){const c=this.viewItems[l],d=c;if(l===this.focusedItem){let r=!0;w.isFunction(d.focus)||(r=!1),this.options.focusOnlyEnabledItems&&w.isFunction(c.isEnabled)&&!c.isEnabled()&&(r=!1),r?d.focus(u):this.actionsList.focus({preventScroll:a})}else w.isFunction(d.blur)&&d.blur()}}doTrigger(u){if(typeof this.focusedItem!="undefined"){const a=this.viewItems[this.focusedItem];if(a instanceof C.BaseActionViewItem){const l=a._context===null||a._context===void 0?u:a._context;this.run(a._action,l)}}}run(u,a){return Ie(this,void 0,void 0,function*(){yield this._actionRunner.run(u,a)})}dispose(){(0,v.dispose)(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}e.ActionBar=i}),define(J[431],ee([0,1,60,48,7,56,6,207]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenu=e.BaseDropdown=void 0;class _ extends I.ActionRunner{constructor(p,u){super();this._onDidChangeVisibility=new S.Emitter,this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,k.append)(p,(0,k.$)(".monaco-dropdown")),this._label=(0,k.append)(this._element,(0,k.$)(".dropdown-label"));let a=u.labelRenderer;a||(a=c=>(c.textContent=u.label||"",null));for(const c of[k.EventType.CLICK,k.EventType.MOUSE_DOWN,v.EventType.Tap])this._register((0,k.addDisposableListener)(this.element,c,d=>k.EventHelper.stop(d,!0)));for(const c of[k.EventType.MOUSE_DOWN,v.EventType.Tap])this._register((0,k.addDisposableListener)(this._label,c,d=>{d instanceof MouseEvent&&d.detail>1||(this.visible?this.hide():this.show())}));this._register((0,k.addDisposableListener)(this._label,k.EventType.KEY_UP,c=>{const d=new w.StandardKeyboardEvent(c);(d.equals(3)||d.equals(10))&&(k.EventHelper.stop(c,!0),this.visible?this.hide():this.show())}));const l=a(this._label);l&&this._register(l),this._register(v.Gesture.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}e.BaseDropdown=_;class C extends _{constructor(p,u){super(p,u);this._actions=[],this._contextMenuProvider=u.contextMenuProvider,this.actions=u.actions||[],this.actionProvider=u.actionProvider,this.menuClassName=u.menuClassName||"",this.menuAsChild=!!u.menuAsChild}set menuOptions(p){this._menuOptions=p}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(p){this._actions=p}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:p=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(p):void 0,getKeyBinding:p=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(p):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}e.DropdownMenu=C}),define(J[432],ee([0,1,7,6,112,431,207]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenuActionViewItem=void 0;class S extends k.BaseActionViewItem{constructor(C,i,p,u=Object.create(null)){super(null,C,u);this.actionItem=null,this._onDidChangeVisibility=this._register(new I.Emitter),this.menuActionsOrProvider=i,this.contextMenuProvider=p,this.options=u,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(C){this.actionItem=C;const i=a=>{this.element=(0,v.append)(a,(0,v.$)("a.action-label"));let l=[];return typeof this.options.classNames=="string"?l=this.options.classNames.split(/\s+/g).filter(c=>!!c):this.options.classNames&&(l=this.options.classNames),l.find(c=>c==="icon")||l.push("codicon"),this.element.classList.add(...l),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",null},p=Array.isArray(this.menuActionsOrProvider),u={contextMenuProvider:this.contextMenuProvider,labelRenderer:i,menuAsChild:this.options.menuAsChild,actions:p?this.menuActionsOrProvider:void 0,actionProvider:p?void 0:this.menuActionsOrProvider};if(this.dropdownMenu=this._register(new w.DropdownMenu(C,u)),this._register(this.dropdownMenu.onDidChangeVisibility(a=>{var l;(l=this.element)===null||l===void 0||l.setAttribute("aria-expanded",`${a}`),this._onDidChangeVisibility.fire(a)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const a=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return a.options.anchorAlignmentProvider()}})}this.updateEnabled()}setActionContext(C){super.setActionContext(C),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=C:this.dropdownMenu.menuOptions={context:C})}updateEnabled(){var C,i;const p=!this.getAction().enabled;(C=this.actionItem)===null||C===void 0||C.classList.toggle("disabled",p),(i=this.element)===null||i===void 0||i.classList.toggle("disabled",p)}}e.DropdownMenuActionViewItem=S}),define(J[177],ee([0,1,424,7,156,41,83,6,52,29,40,280,61,55,306]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryInputBox=e.InputBox=void 0;const c=I.$,d={inputBackground:i.Color.fromHex("#3C3C3C"),inputForeground:i.Color.fromHex("#CCCCCC"),inputValidationInfoBorder:i.Color.fromHex("#55AAFF"),inputValidationInfoBackground:i.Color.fromHex("#063B49"),inputValidationWarningBorder:i.Color.fromHex("#B89500"),inputValidationWarningBackground:i.Color.fromHex("#352A05"),inputValidationErrorBorder:i.Color.fromHex("#BE1100"),inputValidationErrorBackground:i.Color.fromHex("#5A1D1D")};class r extends C.Widget{constructor(t,o,h){var g;super();this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new _.Emitter),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new _.Emitter),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=o,this.options=h||Object.create(null),(0,p.mixin)(this.options,d,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(g=this.options.tooltip)!==null&&g!==void 0?g:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=I.append(t,c(".monaco-inputbox.idle"));let m=this.options.flexibleHeight?"textarea":"input",f=I.append(this.element,c(".ibwrapper"));if(this.input=I.append(f,c(m+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=I.append(f,c("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new a.ScrollableElement(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),I.append(t,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(y=>this.input.scrollTop=y.scrollTop));const b=_.Event.filter((0,l.domEvent)(document,"selectionchange"),()=>{const y=document.getSelection();return(y==null?void 0:y.anchorNode)===f});this._register(b(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this.ignoreGesture(this.input),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new S.ActionBar(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage()}onFocus(){this._showMessage()}setPlaceHolder(t){this.placeholder=t,this.input.setAttribute("placeholder",t)}setTooltip(t){this.tooltip=t,this.input.title=t}setAriaLabel(t){this.ariaLabel=t,t?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(t){this.input.value!==t&&(this.input.value=t,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:I.getTotalHeight(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(t=null){this.input.select(),t&&(this.input.setSelectionRange(t.start,t.end),t.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return I.getTotalWidth(this.input)}set width(t){if(this.options.flexibleHeight&&this.options.flexibleWidth){let o=0;if(this.mirror){const h=parseFloat(this.mirror.style.paddingLeft||"")||0,g=parseFloat(this.mirror.style.paddingRight||"")||0;o=h+g}this.input.style.width=t-o+"px"}else this.input.style.width=t+"px";this.mirror&&(this.mirror.style.width=t+"px")}set paddingRight(t){this.options.flexibleHeight&&this.options.flexibleWidth?this.input.style.width=`calc(100% - ${t}px)`:this.input.style.paddingRight=t+"px",this.mirror&&(this.mirror.style.paddingRight=t+"px")}updateScrollDimensions(){if(!(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)){const t=this.cachedContentHeight,o=this.cachedHeight,h=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:t,height:o}),this.scrollableElement.setScrollPosition({scrollTop:h})}}showMessage(t,o){this.message=t,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(t.type));const h=this.stylesForType(this.message.type);this.element.style.border=h.border?`1px solid ${h.border}`:"",(this.hasFocus()||o)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let t=null;return this.validation&&(t=this.validation(this.value),t?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(t)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),t==null?void 0:t.type}stylesForType(t){switch(t){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(t){switch(t){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!(!this.contextViewProvider||!this.message)){let t,o=()=>t.style.width=I.getTotalWidth(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:g=>{if(!this.message)return null;t=I.append(g,c(".monaco-inputbox-container")),o();const m={inline:!0,className:"monaco-inputbox-message"},f=this.message.formatContent?(0,k.renderFormattedText)(this.message.content,m):(0,k.renderText)(this.message.content,m);f.classList.add(this.classForType(this.message.type));const b=this.stylesForType(this.message.type);return f.style.backgroundColor=b.background?b.background.toString():"",f.style.color=b.foreground?b.foreground.toString():"",f.style.border=b.border?`1px solid ${b.border}`:"",I.append(t,f),null},onHide:()=>{this.state="closed"},layout:o});let h;this.message.type===3?h=v.localize(0,null,this.message.content):this.message.type===2?h=v.localize(1,null,this.message.content):h=v.localize(2,null,this.message.content),w.alert(h),this.state="open"}}_hideMessage(){!this.contextViewProvider||(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!!this.mirror){const t=this.value,h=t.charCodeAt(t.length-1)===10?" ":"";t+h?this.mirror.textContent=t+h:this.mirror.innerText="\xA0",this.layout()}}style(t){this.inputBackground=t.inputBackground,this.inputForeground=t.inputForeground,this.inputBorder=t.inputBorder,this.inputValidationInfoBackground=t.inputValidationInfoBackground,this.inputValidationInfoForeground=t.inputValidationInfoForeground,this.inputValidationInfoBorder=t.inputValidationInfoBorder,this.inputValidationWarningBackground=t.inputValidationWarningBackground,this.inputValidationWarningForeground=t.inputValidationWarningForeground,this.inputValidationWarningBorder=t.inputValidationWarningBorder,this.inputValidationErrorBackground=t.inputValidationErrorBackground,this.inputValidationErrorForeground=t.inputValidationErrorForeground,this.inputValidationErrorBorder=t.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const t=this.inputBackground?this.inputBackground.toString():"",o=this.inputForeground?this.inputForeground.toString():"",h=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=t,this.element.style.color=o,this.input.style.backgroundColor="inherit",this.input.style.color=o,this.element.style.borderWidth=h?"1px":"",this.element.style.borderStyle=h?"solid":"",this.element.style.borderColor=h}layout(){if(!!this.mirror){const t=this.cachedContentHeight;this.cachedContentHeight=I.getTotalHeight(this.mirror),t!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}}insertAtCursor(t){const o=this.inputElement,h=o.selectionStart,g=o.selectionEnd,m=o.value;h!==null&&g!==null&&(this.value=m.substr(0,h)+t+m.substr(g),o.setSelectionRange(h+1,h+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}e.InputBox=r;class n extends r{constructor(t,o,h){super(t,o,h);this.history=new u.HistoryNavigator(h.history,100)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let t=this.getNextValue();t&&(t=t===this.value?this.getNextValue():t),t&&(this.value=t,w.status(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let t=this.getPreviousValue();t&&(t=t===this.value?this.getPreviousValue():t),t&&(this.value=t,w.status(this.value))}getCurrentValue(){let t=this.history.current();return t||(t=this.history.last(),this.history.next()),t}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}e.HistoryInputBox=n}),define(J[433],ee([0,1,420,7,177,52,6,234,208]),function($,e,v,I,k,w,S,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindInput=void 0;const C=v.localize(0,null);class i extends w.Widget{constructor(u,a,l,c){super();this._showOptionButtons=l,this.fixFocusOnOptionClickEnabled=!0,this._onDidOptionChange=this._register(new S.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new S.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new S.Emitter),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new S.Emitter),this._onKeyUp=this._register(new S.Emitter),this._onCaseSensitiveKeyDown=this._register(new S.Emitter),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new S.Emitter),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=a,this.placeholder=c.placeholder||"",this.validation=c.validation,this.label=c.label||C,this.inputActiveOptionBorder=c.inputActiveOptionBorder,this.inputActiveOptionForeground=c.inputActiveOptionForeground,this.inputActiveOptionBackground=c.inputActiveOptionBackground,this.inputBackground=c.inputBackground,this.inputForeground=c.inputForeground,this.inputBorder=c.inputBorder,this.inputValidationInfoBorder=c.inputValidationInfoBorder,this.inputValidationInfoBackground=c.inputValidationInfoBackground,this.inputValidationInfoForeground=c.inputValidationInfoForeground,this.inputValidationWarningBorder=c.inputValidationWarningBorder,this.inputValidationWarningBackground=c.inputValidationWarningBackground,this.inputValidationWarningForeground=c.inputValidationWarningForeground,this.inputValidationErrorBorder=c.inputValidationErrorBorder,this.inputValidationErrorBackground=c.inputValidationErrorBackground,this.inputValidationErrorForeground=c.inputValidationErrorForeground;const d=c.appendCaseSensitiveLabel||"",r=c.appendWholeWordsLabel||"",n=c.appendRegexLabel||"",s=c.history||[],t=!!c.flexibleHeight,o=!!c.flexibleWidth,h=c.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new k.HistoryInputBox(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:s,flexibleHeight:t,flexibleWidth:o,flexibleMaxHeight:h})),this.regex=this._register(new _.RegexCheckbox({appendTitle:n,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(f=>{this._onDidOptionChange.fire(f),!f&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(f=>{this._onRegexKeyDown.fire(f)})),this.wholeWords=this._register(new _.WholeWordsCheckbox({appendTitle:r,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(f=>{this._onDidOptionChange.fire(f),!f&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new _.CaseSensitiveCheckbox({appendTitle:d,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(f=>{this._onDidOptionChange.fire(f),!f&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(f=>{this._onCaseSensitiveKeyDown.fire(f)})),this._showOptionButtons&&(this.inputBox.paddingRight=this.caseSensitive.width()+this.wholeWords.width()+this.regex.width());let g=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,f=>{if(f.equals(15)||f.equals(17)||f.equals(9)){let b=g.indexOf(document.activeElement);if(b>=0){let y=-1;f.equals(17)?y=(b+1)%g.length:f.equals(15)&&(b===0?y=g.length-1:y=b-1),f.equals(9)?(g[b].blur(),this.inputBox.focus()):y>=0&&g[y].focus(),I.EventHelper.stop(f,!0)}}});let m=document.createElement("div");m.className="controls",m.style.display=this._showOptionButtons?"block":"none",m.appendChild(this.caseSensitive.domNode),m.appendChild(this.wholeWords.domNode),m.appendChild(this.regex.domNode),this.domNode.appendChild(m),u&&u.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,f=>this._onKeyDown.fire(f)),this.onkeyup(this.inputBox.inputElement,f=>this._onKeyUp.fire(f)),this.oninput(this.inputBox.inputElement,f=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,f=>this._onMouseDown.fire(f))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()}setFocusInputOnOptionClick(u){this.fixFocusOnOptionClickEnabled=u}setEnabled(u){u?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(u){this.inputBox.value!==u&&(this.inputBox.value=u)}style(u){this.inputActiveOptionBorder=u.inputActiveOptionBorder,this.inputActiveOptionForeground=u.inputActiveOptionForeground,this.inputActiveOptionBackground=u.inputActiveOptionBackground,this.inputBackground=u.inputBackground,this.inputForeground=u.inputForeground,this.inputBorder=u.inputBorder,this.inputValidationInfoBackground=u.inputValidationInfoBackground,this.inputValidationInfoForeground=u.inputValidationInfoForeground,this.inputValidationInfoBorder=u.inputValidationInfoBorder,this.inputValidationWarningBackground=u.inputValidationWarningBackground,this.inputValidationWarningForeground=u.inputValidationWarningForeground,this.inputValidationWarningBorder=u.inputValidationWarningBorder,this.inputValidationErrorBackground=u.inputValidationErrorBackground,this.inputValidationErrorForeground=u.inputValidationErrorForeground,this.inputValidationErrorBorder=u.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const u={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(u),this.wholeWords.style(u),this.caseSensitive.style(u);const a={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(a)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(u){this.caseSensitive.checked=u}getWholeWords(){return this.wholeWords.checked}setWholeWords(u){this.wholeWords.checked=u}getRegex(){return this.regex.checked}setRegex(u){this.regex.checked=u,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}clearMessage(){this.inputBox.hideMessage()}}e.FindInput=i}),define(J[434],ee([0,1,422,7,177,52,6,160,27,208]),function($,e,v,I,k,w,S,_,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceInput=e.PreserveCaseCheckbox=void 0;const i=v.localize(0,null),p=v.localize(1,null);class u extends _.Checkbox{constructor(c){super({icon:C.Codicon.preserveCase,title:p+c.appendTitle,isChecked:c.isChecked,inputActiveOptionBorder:c.inputActiveOptionBorder,inputActiveOptionForeground:c.inputActiveOptionForeground,inputActiveOptionBackground:c.inputActiveOptionBackground})}}e.PreserveCaseCheckbox=u;class a extends w.Widget{constructor(c,d,r,n){super();this._showOptionButtons=r,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new S.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new S.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new S.Emitter),this._onInput=this._register(new S.Emitter),this._onKeyUp=this._register(new S.Emitter),this._onPreserveCaseKeyDown=this._register(new S.Emitter),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=d,this.placeholder=n.placeholder||"",this.validation=n.validation,this.label=n.label||i,this.inputActiveOptionBorder=n.inputActiveOptionBorder,this.inputActiveOptionForeground=n.inputActiveOptionForeground,this.inputActiveOptionBackground=n.inputActiveOptionBackground,this.inputBackground=n.inputBackground,this.inputForeground=n.inputForeground,this.inputBorder=n.inputBorder,this.inputValidationInfoBorder=n.inputValidationInfoBorder,this.inputValidationInfoBackground=n.inputValidationInfoBackground,this.inputValidationInfoForeground=n.inputValidationInfoForeground,this.inputValidationWarningBorder=n.inputValidationWarningBorder,this.inputValidationWarningBackground=n.inputValidationWarningBackground,this.inputValidationWarningForeground=n.inputValidationWarningForeground,this.inputValidationErrorBorder=n.inputValidationErrorBorder,this.inputValidationErrorBackground=n.inputValidationErrorBackground,this.inputValidationErrorForeground=n.inputValidationErrorForeground;const s=n.appendPreserveCaseLabel||"",t=n.history||[],o=!!n.flexibleHeight,h=!!n.flexibleWidth,g=n.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new k.HistoryInputBox(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:t,flexibleHeight:o,flexibleWidth:h,flexibleMaxHeight:g})),this.preserveCase=this._register(new u({appendTitle:s,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(b=>{this._onDidOptionChange.fire(b),!b&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(b=>{this._onPreserveCaseKeyDown.fire(b)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;let m=[this.preserveCase.domNode];this.onkeydown(this.domNode,b=>{if(b.equals(15)||b.equals(17)||b.equals(9)){let y=m.indexOf(document.activeElement);if(y>=0){let L=-1;b.equals(17)?L=(y+1)%m.length:b.equals(15)&&(y===0?L=m.length-1:L=y-1),b.equals(9)?(m[y].blur(),this.inputBox.focus()):L>=0&&m[L].focus(),I.EventHelper.stop(b,!0)}}});let f=document.createElement("div");f.className="controls",f.style.display=this._showOptionButtons?"block":"none",f.appendChild(this.preserveCase.domNode),this.domNode.appendChild(f),c&&c.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,b=>this._onKeyDown.fire(b)),this.onkeyup(this.inputBox.inputElement,b=>this._onKeyUp.fire(b)),this.oninput(this.inputBox.inputElement,b=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,b=>this._onMouseDown.fire(b))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(c){c?this.enable():this.disable()}style(c){this.inputActiveOptionBorder=c.inputActiveOptionBorder,this.inputActiveOptionForeground=c.inputActiveOptionForeground,this.inputActiveOptionBackground=c.inputActiveOptionBackground,this.inputBackground=c.inputBackground,this.inputForeground=c.inputForeground,this.inputBorder=c.inputBorder,this.inputValidationInfoBackground=c.inputValidationInfoBackground,this.inputValidationInfoForeground=c.inputValidationInfoForeground,this.inputValidationInfoBorder=c.inputValidationInfoBorder,this.inputValidationWarningBackground=c.inputValidationWarningBackground,this.inputValidationWarningForeground=c.inputValidationWarningForeground,this.inputValidationWarningBorder=c.inputValidationWarningBorder,this.inputValidationErrorBackground=c.inputValidationErrorBackground,this.inputValidationErrorForeground=c.inputValidationErrorForeground,this.inputValidationErrorBorder=c.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const c={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(c);const d={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(d)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(c){this.preserveCase.checked=c}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(c){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=c,this.domNode.style.width=c+"px"}dispose(){super.dispose()}}e.ReplaceInput=a}),define(J[435],ee([0,1,426,8,48,83,7,56,15,2,61,205,17,27,112,124,35,50,102]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cleanMnemonic=e.Menu=e.Direction=e.MENU_ESCAPED_MNEMONIC_REGEX=e.MENU_MNEMONIC_REGEX=void 0,e.MENU_MNEMONIC_REGEX=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,e.MENU_ESCAPED_MNEMONIC_REGEX=/(&amp;)?(&amp;)([^\s&])/g;const t=(0,l.registerCodicon)("menu-selection",l.Codicon.check),o=(0,l.registerCodicon)("menu-submenu",l.Codicon.chevronRight);var h;(function(N){N[N.Right=0]="Right",N[N.Left=1]="Left"})(h=e.Direction||(e.Direction={}));class g extends w.ActionBar{constructor(M,D,R={}){M.classList.add("monaco-menu-container"),M.setAttribute("role","presentation");const P=document.createElement("div");P.classList.add("monaco-menu"),P.setAttribute("role","presentation"),super(P,{orientation:1,actionViewItemProvider:F=>this.doGetActionViewItem(F,R,O),context:R.context,actionRunner:R.actionRunner,ariaLabel:R.ariaLabel,focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...a.isMacintosh||a.isLinux?[10]:[]],keyDown:!0}}),this.menuElement=P,this.actionsList.setAttribute("role","menu"),this.actionsList.tabIndex=0,this.menuDisposables=this._register(new i.DisposableStore),this.initializeStyleSheet(M),(0,S.addDisposableListener)(P,S.EventType.KEY_DOWN,F=>{new _.StandardKeyboardEvent(F).equals(2)&&F.preventDefault()}),R.enableMnemonics&&this.menuDisposables.add((0,S.addDisposableListener)(P,S.EventType.KEY_DOWN,F=>{const E=F.key.toLocaleLowerCase();if(this.mnemonics.has(E)){S.EventHelper.stop(F,!0);const A=this.mnemonics.get(E);if(A.length===1&&(A[0]instanceof f&&A[0].container&&this.focusItemByElement(A[0].container),A[0].onClick(F)),A.length>1){const B=A.shift();B&&B.container&&(this.focusItemByElement(B.container),A.push(B)),this.mnemonics.set(E,A)}}})),a.isLinux&&this._register((0,S.addDisposableListener)(P,S.EventType.KEY_DOWN,F=>{const E=new _.StandardKeyboardEvent(F);E.equals(14)||E.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),S.EventHelper.stop(F,!0)):(E.equals(13)||E.equals(12))&&(this.focusedItem=0,this.focusPrevious(),S.EventHelper.stop(F,!0))})),this._register((0,S.addDisposableListener)(this.domNode,S.EventType.MOUSE_OUT,F=>{let E=F.relatedTarget;(0,S.isAncestor)(E,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),F.stopPropagation())})),this._register((0,S.addDisposableListener)(this.actionsList,S.EventType.MOUSE_OVER,F=>{let E=F.target;if(!(!E||!(0,S.isAncestor)(E,this.actionsList)||E===this.actionsList)){for(;E.parentElement!==this.actionsList&&E.parentElement!==null;)E=E.parentElement;if(E.classList.contains("action-item")){const A=this.focusedItem;this.setFocusedItem(E),A!==this.focusedItem&&this.updateFocus()}}}));let O={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new p.DomScrollableElement(P,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const W=this.scrollableElement.getDomNode();W.style.position="",this._register((0,S.addDisposableListener)(W,S.EventType.MOUSE_UP,F=>{F.preventDefault()})),P.style.maxHeight=`${Math.max(10,window.innerHeight-M.getBoundingClientRect().top-35)}px`,D=D.filter(F=>{var E;return((E=R.submenuIds)===null||E===void 0?void 0:E.has(F.id))?(console.warn(`Found submenu cycle: ${F.id}`),!1):!0}),this.push(D,{icon:!0,label:!0,isMenu:!0}),M.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(F=>!(F instanceof b)).forEach((F,E,A)=>{F.updatePositionInSet(E+1,A.length)})}initializeStyleSheet(M){(0,S.isInShadowDOM)(M)?(this.styleSheet=(0,S.createStyleSheet)(M),this.styleSheet.textContent=L):(g.globalStyleSheet||(g.globalStyleSheet=(0,S.createStyleSheet)(),g.globalStyleSheet.textContent=L),this.styleSheet=g.globalStyleSheet)}style(M){const D=this.getContainer(),R=M.foregroundColor?`${M.foregroundColor}`:"",P=M.backgroundColor?`${M.backgroundColor}`:"",O=M.borderColor?`1px solid ${M.borderColor}`:"",W=M.shadowColor?`0 2px 4px ${M.shadowColor}`:"";D.style.border=O,this.domNode.style.color=R,this.domNode.style.backgroundColor=P,D.style.boxShadow=W,this.viewItems&&this.viewItems.forEach(F=>{(F instanceof m||F instanceof b)&&F.style(M)})}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(M){const D=this.focusedItem;this.setFocusedItem(M),D!==this.focusedItem&&this.updateFocus()}setFocusedItem(M){for(let D=0;D<this.actionsList.children.length;D++){let R=this.actionsList.children[D];if(M===R){this.focusedItem=D;break}}}updateFocus(M){super.updateFocus(M,!0),typeof this.focusedItem!="undefined"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(M,D,R){if(M instanceof k.Separator)return new b(D.context,M,{icon:!0});if(M instanceof k.SubmenuAction){const P=new f(M,M.actions,R,Object.assign(Object.assign({},D),{submenuIds:new Set([...D.submenuIds||[],M.id])}));if(D.enableMnemonics){const O=P.getMnemonic();if(O&&P.isEnabled()){let W=[];this.mnemonics.has(O)&&(W=this.mnemonics.get(O)),W.push(P),this.mnemonics.set(O,W)}}return P}else{const P={enableMnemonics:D.enableMnemonics,useEventAsContext:D.useEventAsContext};if(D.getKeyBinding){const W=D.getKeyBinding(M);if(W){const F=W.getLabel();F&&(P.keybinding=F)}}const O=new m(D.context,M,P);if(D.enableMnemonics){const W=O.getMnemonic();if(W&&O.isEnabled()){let F=[];this.mnemonics.has(W)&&(F=this.mnemonics.get(W)),F.push(O),this.mnemonics.set(W,F)}}return O}}}e.Menu=g;class m extends c.BaseActionViewItem{constructor(M,D,R={}){if(R.isMenu=!0,super(D,D,R),this.options=R,this.options.icon=R.icon!==void 0?R.icon:!1,this.options.label=R.label!==void 0?R.label:!0,this.cssClass="",this.options.label&&R.enableMnemonics){let P=this.getAction().label;if(P){let O=e.MENU_MNEMONIC_REGEX.exec(P);O&&(this.mnemonic=(O[1]?O[1]:O[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new C.RunOnceScheduler(()=>{!this.element||(this._register((0,S.addDisposableListener)(this.element,S.EventType.MOUSE_UP,P=>{if(S.EventHelper.stop(P,!0),r.isFirefox){if(new n.StandardMouseEvent(P).rightButton)return;this.onClick(P)}else setTimeout(()=>{this.onClick(P)},0)})),this._register((0,S.addDisposableListener)(this.element,S.EventType.CONTEXT_MENU,P=>{S.EventHelper.stop(P,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(M){super.render(M),!!this.element&&(this.container=M,this.item=(0,S.append)(this.element,(0,S.$)("a.action-menu-item")),this._action.id===k.Separator.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,S.append)(this.item,(0,S.$)("span.menu-item-check"+t.cssSelector)),this.check.setAttribute("role","none"),this.label=(0,S.append)(this.item,(0,S.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,S.append)(this.item,(0,S.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(M,D){this.item&&(this.item.setAttribute("aria-posinset",`${M}`),this.item.setAttribute("aria-setsize",`${D}`))}updateLabel(){if(!!this.label&&this.options.label){(0,S.clearNode)(this.label);let M=(0,s.stripIcons)(this.getAction().label);if(M){const D=y(M);this.options.enableMnemonics||(M=D),this.label.setAttribute("aria-label",D.replace(/&&/g,"&"));const R=e.MENU_MNEMONIC_REGEX.exec(M);if(R){M=I.escape(M),e.MENU_ESCAPED_MNEMONIC_REGEX.lastIndex=0;let P=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(M);for(;P&&P[1];)P=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(M);const O=W=>W.replace(/&amp;&amp;/g,"&amp;");P?this.label.append(I.ltrim(O(M.substr(0,P.index))," "),(0,S.$)("u",{"aria-hidden":"true"},P[3]),I.rtrim(O(M.substr(P.index+P[0].length))," ")):this.label.innerText=O(M).trim(),this.item&&this.item.setAttribute("aria-keyshortcuts",(R[1]?R[1]:R[3]).toLocaleLowerCase())}else this.label.innerText=M.replace(/&&/g,"&").trim()}}}updateTooltip(){let M=null;this.getAction().tooltip?M=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(M=this.getAction().label,this.options.keybinding&&(M=v.localize(0,null,M,this.options.keybinding))),M&&this.item&&(this.item.title=M)}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){!this.item||(this.getAction().checked?(this.item.classList.add("checked"),this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked","true")):(this.item.classList.remove("checked"),this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked","false")))}getMnemonic(){return this.mnemonic}applyStyle(){if(!!this.menuStyle){const M=this.element&&this.element.classList.contains("focused"),D=M&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,R=M&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,P=M&&this.menuStyle.selectionBorderColor?`thin solid ${this.menuStyle.selectionBorderColor}`:"";this.item&&(this.item.style.color=D?D.toString():"",this.item.style.backgroundColor=R?R.toString():""),this.check&&(this.check.style.color=D?D.toString():""),this.container&&(this.container.style.border=P)}}style(M){this.menuStyle=M,this.applyStyle()}}class f extends m{constructor(M,D,R,P){super(M,M,P);this.submenuActions=D,this.parentData=R,this.submenuOptions=P,this.mysubmenu=null,this.submenuDisposables=this._register(new i.DisposableStore),this.mouseOver=!1,this.expandDirection=P&&P.expandDirection!==void 0?P.expandDirection:h.Right,this.showScheduler=new C.RunOnceScheduler(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new C.RunOnceScheduler(()=>{this.element&&!(0,S.isAncestor)((0,S.getActiveElement)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(M){super.render(M),!!this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,S.append)(this.item,(0,S.$)("span.submenu-indicator"+o.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,S.addDisposableListener)(this.element,S.EventType.KEY_UP,D=>{let R=new _.StandardKeyboardEvent(D);(R.equals(17)||R.equals(3))&&(S.EventHelper.stop(D,!0),this.createSubmenu(!0))})),this._register((0,S.addDisposableListener)(this.element,S.EventType.KEY_DOWN,D=>{let R=new _.StandardKeyboardEvent(D);(0,S.getActiveElement)()===this.item&&(R.equals(17)||R.equals(3))&&S.EventHelper.stop(D,!0)})),this._register((0,S.addDisposableListener)(this.element,S.EventType.MOUSE_OVER,D=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,S.addDisposableListener)(this.element,S.EventType.MOUSE_LEAVE,D=>{this.mouseOver=!1})),this._register((0,S.addDisposableListener)(this.element,S.EventType.FOCUS_OUT,D=>{this.element&&!(0,S.isAncestor)((0,S.getActiveElement)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!1)})))}updateEnabled(){}onClick(M){S.EventHelper.stop(M,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(M){if(this.parentData.submenu&&(M||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch(D){}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(M,D,R,P){const O={top:0,left:0};return O.left=(0,u.layout)(M.width,D.width,{position:P===h.Right?0:1,offset:R.left,size:R.width}),O.left>=R.left&&O.left<R.left+R.width&&(R.left+10+D.width<=M.width&&(O.left=R.left+10),R.top+=10,R.height=0),O.top=(0,u.layout)(M.height,D.height,{position:0,offset:R.top,size:0}),O.top+D.height===R.top&&O.top+R.height+D.height<=M.height&&(O.top+=R.height),O}createSubmenu(M=!0){if(!!this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,S.append)(this.element,(0,S.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const D=getComputedStyle(this.parentData.parent.domNode),R=parseFloat(D.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new g(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new k.EmptySubmenuAction],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const P=this.element.getBoundingClientRect(),O={top:P.top-R,left:P.left,height:P.height+2*R,width:P.width},W=this.submenuContainer.getBoundingClientRect(),{top:F,left:E}=this.calculateSubmenuMenuLayout(new S.Dimension(window.innerWidth,window.innerHeight),S.Dimension.lift(W),O,this.expandDirection);this.submenuContainer.style.left=`${E}px`,this.submenuContainer.style.top=`${F}px`,this.submenuDisposables.add((0,S.addDisposableListener)(this.submenuContainer,S.EventType.KEY_UP,A=>{new _.StandardKeyboardEvent(A).equals(15)&&(S.EventHelper.stop(A,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,S.addDisposableListener)(this.submenuContainer,S.EventType.KEY_DOWN,A=>{new _.StandardKeyboardEvent(A).equals(15)&&S.EventHelper.stop(A,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(M),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(M){var D;this.item&&((D=this.item)===null||D===void 0||D.setAttribute("aria-expanded",M))}applyStyle(){if(super.applyStyle(),!!this.menuStyle){const D=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=D?`${D}`:""),this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle)}}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class b extends c.ActionViewItem{style(M){this.label&&(this.label.style.borderBottomColor=M.separatorColor?`${M.separatorColor}`:"")}}function y(N){const M=e.MENU_MNEMONIC_REGEX,D=M.exec(N);if(!D)return N;const R=!D[1];return N.replace(M,R?"$2$3":"").trim()}e.cleanMnemonic=y;let L=`
.monaco-menu {
	font-size: 13px;

}

${(0,d.formatRule)(t)}
${(0,d.formatRule)(o)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221A\u03C6 */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	opacity: 0.4;
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid #bbb;
	padding-top: 1px;
	margin-left: .8em;
	margin-right: .8em;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	padding: 0.5em 0 0 0;
	margin-bottom: 0.5em;
	width: 100%;
	height: 0px !important;
	margin-left: .8em !important;
	margin-right: .8em !important;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	border: thin solid transparent; /* prevents jumping behaviour on hover or focus */
}


/* High Contrast Theming */
:host-context(.hc-black) .context-view.monaco-menu-container {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: .5em 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 1.8em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	padding: 0.2em 0 0 0;
	margin-bottom: 0.2em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}

/* Arrows */
.monaco-scrollable-element > .scrollbar > .scra {
	cursor: pointer;
	font-size: 11px !important;
}

.monaco-scrollable-element > .visible {
	opacity: 1;

	/* Background rule added for IE9 - to allow clicks on dom node */
	background:rgba(0,0,0,0);

	transition: opacity 100ms linear;
}
.monaco-scrollable-element > .invisible {
	opacity: 0;
	pointer-events: none;
}
.monaco-scrollable-element > .invisible.fade {
	transition: opacity 800ms linear;
}

/* Scrollable Content Inset Shadow */
.monaco-scrollable-element > .shadow {
	position: absolute;
	display: none;
}
.monaco-scrollable-element > .shadow.top {
	display: block;
	top: 0;
	left: 3px;
	height: 3px;
	width: 100%;
	box-shadow: #DDD 0 6px 6px -6px inset;
}
.monaco-scrollable-element > .shadow.left {
	display: block;
	top: 3px;
	left: 0;
	height: 100%;
	width: 3px;
	box-shadow: #DDD 6px 0 6px -6px inset;
}
.monaco-scrollable-element > .shadow.top-left-corner {
	display: block;
	top: 0;
	left: 0;
	height: 3px;
	width: 3px;
}
.monaco-scrollable-element > .shadow.top.left {
	box-shadow: #DDD 6px 6px 6px -6px inset;
}

/* ---------- Default Style ---------- */

:host-context(.vs) .monaco-scrollable-element > .scrollbar > .slider {
	background: rgba(100, 100, 100, .4);
}
:host-context(.vs-dark) .monaco-scrollable-element > .scrollbar > .slider {
	background: rgba(121, 121, 121, .4);
}
:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider {
	background: rgba(111, 195, 223, .6);
}

.monaco-scrollable-element > .scrollbar > .slider:hover {
	background: rgba(100, 100, 100, .7);
}
:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider:hover {
	background: rgba(111, 195, 223, .8);
}

.monaco-scrollable-element > .scrollbar > .slider.active {
	background: rgba(0, 0, 0, .6);
}
:host-context(.vs-dark) .monaco-scrollable-element > .scrollbar > .slider.active {
	background: rgba(191, 191, 191, .4);
}
:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider.active {
	background: rgba(111, 195, 223, 1);
}

:host-context(.vs-dark) .monaco-scrollable-element .shadow.top {
	box-shadow: none;
}

:host-context(.vs-dark) .monaco-scrollable-element .shadow.left {
	box-shadow: #000 6px 0 6px -6px inset;
}

:host-context(.vs-dark) .monaco-scrollable-element .shadow.top.left {
	box-shadow: #000 6px 6px 6px -6px inset;
}

:host-context(.hc-black) .monaco-scrollable-element .shadow.top {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-scrollable-element .shadow.left {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-scrollable-element .shadow.top.left {
	box-shadow: none;
}
`}),define(J[436],ee([0,1,7,177,2,56,82,50,126]),function($,e,v,I,k,w,S,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputBox=void 0;const C=v.$;class i extends k.Disposable{constructor(u){super();this.parent=u,this.onKeyDown=a=>v.addDisposableListener(this.inputBox.inputElement,v.EventType.KEY_DOWN,l=>{a(new w.StandardKeyboardEvent(l))}),this.onMouseDown=a=>v.addDisposableListener(this.inputBox.inputElement,v.EventType.MOUSE_DOWN,l=>{a(new _.StandardMouseEvent(l))}),this.onDidChange=a=>this.inputBox.onDidChange(a),this.container=v.append(this.parent,C(".quick-input-box")),this.inputBox=this._register(new I.InputBox(this.container,void 0))}get value(){return this.inputBox.value}set value(u){this.inputBox.value=u}select(u=null){this.inputBox.select(u)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(u){this.inputBox.setPlaceHolder(u)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(u){this.inputBox.setAriaLabel(u)}get password(){return this.inputBox.inputElement.type==="password"}set password(u){this.inputBox.inputElement.type=u?"password":"text"}setAttribute(u,a){this.inputBox.inputElement.setAttribute(u,a)}removeAttribute(u){this.inputBox.inputElement.removeAttribute(u)}showDecoration(u){u===S.default.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:u===S.default.Info?1:u===S.default.Warning?2:3,content:""})}stylesForType(u){return this.inputBox.stylesForType(u===S.default.Info?1:u===S.default.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(u){this.inputBox.style(u)}}e.QuickInputBox=i}),define(J[437],ee([4,5]),function($,e){return $.create("vs/base/common/errorMessage",e)}),define(J[438],ee([0,1,437,20,19]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toErrorMessage=void 0;function w(i,p){return p&&(i.stack||i.stacktrace)?v.localize(0,null,_(i),S(i.stack)||S(i.stacktrace)):_(i)}function S(i){return Array.isArray(i)?i.join(`
`):i}function _(i){return typeof i.code=="string"&&typeof i.errno=="number"&&typeof i.syscall=="string"?v.localize(1,null,i.message):i.message||v.localize(2,null)}function C(i=null,p=!1){if(!i)return v.localize(3,null);if(Array.isArray(i)){const u=k.coalesce(i),a=C(u[0],p);return u.length>1?v.localize(4,null,a,u.length):a}if(I.isString(i))return i;if(i.detail){const u=i.detail;if(u.error)return w(u.error,p);if(u.exception)return w(u.exception,p)}return i.stack?w(i,p):i.message?i.message:v.localize(5,null)}e.toErrorMessage=C}),define(J[439],ee([4,5]),function($,e){return $.create("vs/base/common/keybindingLabels",e)}),define(J[178],ee([0,1,439]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AriaLabelProvider=e.UILabelProvider=e.ModifierLabelProvider=void 0;class I{constructor(S,_,C=_){this.modifierLabels=[null],this.modifierLabels[2]=S,this.modifierLabels[1]=_,this.modifierLabels[3]=C}toLabel(S,_,C){if(_.length===0)return null;const i=[];for(let p=0,u=_.length;p<u;p++){const a=_[p],l=C(a);if(l===null)return null;i[p]=k(a,l,this.modifierLabels[S])}return i.join(" ")}}e.ModifierLabelProvider=I,e.UILabelProvider=new I({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:v.localize(0,null),shiftKey:v.localize(1,null),altKey:v.localize(2,null),metaKey:v.localize(3,null),separator:"+"},{ctrlKey:v.localize(4,null),shiftKey:v.localize(5,null),altKey:v.localize(6,null),metaKey:v.localize(7,null),separator:"+"}),e.AriaLabelProvider=new I({ctrlKey:v.localize(8,null),shiftKey:v.localize(9,null),altKey:v.localize(10,null),metaKey:v.localize(11,null),separator:"+"},{ctrlKey:v.localize(12,null),shiftKey:v.localize(13,null),altKey:v.localize(14,null),metaKey:v.localize(15,null),separator:"+"},{ctrlKey:v.localize(16,null),shiftKey:v.localize(17,null),altKey:v.localize(18,null),metaKey:v.localize(19,null),separator:"+"});function k(w,S,_){if(S===null)return"";const C=[];return w.ctrlKey&&C.push(_.ctrlKey),w.shiftKey&&C.push(_.shiftKey),w.altKey&&C.push(_.altKey),w.metaKey&&C.push(_.metaKey),S!==""&&C.push(S),C.join(_.separator)}}),define(J[440],ee([0,1,40,178,7,425,307]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingLabel=void 0;const S=k.$;class _{constructor(i,p,u){this.os=p,this.keyElements=new Set,this.options=u||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=k.append(i,S(".monaco-keybinding")),this.didEverRender=!1,i.appendChild(this.domNode)}get element(){return this.domNode}set(i,p){this.didEverRender&&this.keybinding===i&&_.areSame(this.matches,p)||(this.keybinding=i,this.matches=p,this.render())}render(){if(this.clear(),this.keybinding){let[i,p]=this.keybinding.getParts();i&&this.renderPart(this.domNode,i,this.matches?this.matches.firstPart:null),p&&(k.append(this.domNode,S("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,p,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){k.clearNode(this.domNode),this.keyElements.clear()}renderPart(i,p,u){const a=I.UILabelProvider.modifierLabels[this.os];p.ctrlKey&&this.renderKey(i,a.ctrlKey,Boolean(u==null?void 0:u.ctrlKey),a.separator),p.shiftKey&&this.renderKey(i,a.shiftKey,Boolean(u==null?void 0:u.shiftKey),a.separator),p.altKey&&this.renderKey(i,a.altKey,Boolean(u==null?void 0:u.altKey),a.separator),p.metaKey&&this.renderKey(i,a.metaKey,Boolean(u==null?void 0:u.metaKey),a.separator);const l=p.keyLabel;l&&this.renderKey(i,l,Boolean(u==null?void 0:u.keyCode),"")}renderKey(i,p,u,a){k.append(i,this.createKeyElement(p,u?".highlight":"")),a&&k.append(i,S("span.monaco-keybinding-key-separator",void 0,a))}renderUnbound(i){k.append(i,this.createKeyElement((0,w.localize)(0,null)))}createKeyElement(i,p=""){const u=S("span.monaco-keybinding-key"+p,void 0,i);return this.keyElements.add(u),u}style(i){this.labelBackground=i.keybindingLabelBackground,this.labelForeground=i.keybindingLabelForeground,this.labelBorder=i.keybindingLabelBorder,this.labelBottomBorder=i.keybindingLabelBottomBorder,this.labelShadow=i.keybindingLabelShadow,this.applyStyles()}applyStyles(){var i;if(this.element){for(const p of this.keyElements)this.labelBackground&&(p.style.backgroundColor=(i=this.labelBackground)===null||i===void 0?void 0:i.toString()),this.labelBorder&&(p.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(p.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(p.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(i,p){return i===p||!i&&!p?!0:!!i&&!!p&&(0,v.equals)(i.firstPart,p.firstPart)&&(0,v.equals)(i.chordPart,p.chordPart)}}e.KeybindingLabel=_}),define(J[441],ee([4,5]),function($,e){return $.create("vs/base/parts/quickinput/browser/quickInput",e)}),define(J[442],ee([4,5]),function($,e){return $.create("vs/base/parts/quickinput/browser/quickInputList",e)}),define(J[443],ee([0,1,7,2,102,284,6,56,175,157,99,19,17,83,48,212,20,440,442,27,126]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n,s,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputList=e.QuickInputListFocus=void 0;const o=v.$;class h{constructor(M){this.hidden=!1,this._onChecked=new S.Emitter,this.onChecked=this._onChecked.event,Object.assign(this,M)}get checked(){return!!this._checked}set checked(M){M!==this._checked&&(this._checked=M,this._onChecked.fire(M))}dispose(){this._onChecked.dispose()}}class g{get templateId(){return g.ID}renderTemplate(M){const D=Object.create(null);D.toDisposeElement=[],D.toDisposeTemplate=[],D.entry=v.append(M,o(".quick-input-list-entry"));const R=v.append(D.entry,o("label.quick-input-list-label"));D.toDisposeTemplate.push(v.addStandardDisposableListener(R,v.EventType.CLICK,A=>{D.checkbox.offsetParent||A.preventDefault()})),D.checkbox=v.append(R,o("input.quick-input-list-checkbox")),D.checkbox.type="checkbox",D.toDisposeTemplate.push(v.addStandardDisposableListener(D.checkbox,v.EventType.CHANGE,A=>{D.element.checked=D.checkbox.checked}));const P=v.append(R,o(".quick-input-list-rows")),O=v.append(P,o(".quick-input-list-row")),W=v.append(P,o(".quick-input-list-row"));D.label=new C.IconLabel(O,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const F=v.append(O,o(".quick-input-list-entry-keybinding"));D.keybinding=new n.KeybindingLabel(F,a.OS);const E=v.append(W,o(".quick-input-list-label-meta"));return D.detail=new i.HighlightedLabel(E,!0),D.separator=v.append(D.entry,o(".quick-input-list-separator")),D.actionBar=new l.ActionBar(D.entry),D.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),D.toDisposeTemplate.push(D.actionBar),D}renderElement(M,D,R){R.toDisposeElement=(0,I.dispose)(R.toDisposeElement),R.element=M,R.checkbox.checked=M.checked,R.toDisposeElement.push(M.onChecked(A=>R.checkbox.checked=A));const{labelHighlights:P,descriptionHighlights:O,detailHighlights:W}=M,F=Object.create(null);F.matches=P||[],F.descriptionTitle=M.saneDescription,F.descriptionMatches=O||[],F.extraClasses=M.item.iconClasses,F.italic=M.item.italic,F.strikethrough=M.item.strikethrough,R.label.setLabel(M.saneLabel,M.saneDescription,F),R.keybinding.set(M.item.keybinding),R.detail.set(M.saneDetail,W),M.separator&&M.separator.label?(R.separator.textContent=M.separator.label,R.separator.style.display=""):R.separator.style.display="none",R.entry.classList.toggle("quick-input-list-separator-border",!!M.separator),R.actionBar.clear();const E=M.item.buttons;E&&E.length?(R.actionBar.push(E.map((A,B)=>{let H=A.iconClass||(A.iconPath?(0,d.getIconClass)(A.iconPath):void 0);A.alwaysVisible&&(H=H?`${H} always-visible`:"always-visible");const K=new c.Action(`id-${B}`,"",H,!0,()=>Ie(this,void 0,void 0,function*(){M.fireButtonTriggered({button:A,item:M.item})}));return K.tooltip=A.tooltip||"",K}),{icon:!0,label:!1}),R.entry.classList.add("has-actions")):R.entry.classList.remove("has-actions")}disposeElement(M,D,R){R.toDisposeElement=(0,I.dispose)(R.toDisposeElement)}disposeTemplate(M){M.toDisposeElement=(0,I.dispose)(M.toDisposeElement),M.toDisposeTemplate=(0,I.dispose)(M.toDisposeTemplate)}}g.ID="listelement";class m{getHeight(M){return M.saneDetail?44:22}getTemplateId(M){return g.ID}}var f;(function(N){N[N.First=1]="First",N[N.Second=2]="Second",N[N.Last=3]="Last",N[N.Next=4]="Next",N[N.Previous=5]="Previous",N[N.NextPage=6]="NextPage",N[N.PreviousPage=7]="PreviousPage"})(f=e.QuickInputListFocus||(e.QuickInputListFocus={}));class b{constructor(M,D,R){this.parent=M,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new S.Emitter,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new S.Emitter,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new S.Emitter,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new S.Emitter,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new S.Emitter,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new S.Emitter,this.onKeyDown=this._onKeyDown.event,this._onLeave=new S.Emitter,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=D,this.container=v.append(this.parent,o(".quick-input-list"));const P=new m,O=new L;this.list=R.createList("QuickInput",this.container,P,[new g],{identityProvider:{getId:W=>W.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:O}),this.list.getHTMLElement().id=D,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(W=>{const F=new _.StandardKeyboardEvent(W);switch(F.keyCode){case 10:this.toggleCheckbox();break;case 31:(a.isMacintosh?W.metaKey:W.ctrlKey)&&this.list.setFocus((0,u.range)(this.list.length));break;case 16:const E=this.list.getFocus();E.length===1&&E[0]===0&&this._onLeave.fire();break;case 18:const A=this.list.getFocus();A.length===1&&A[0]===this.list.length-1&&this._onLeave.fire();break}this._onKeyDown.fire(F)})),this.disposables.push(this.list.onMouseDown(W=>{W.browserEvent.button!==2&&W.browserEvent.preventDefault()})),this.disposables.push(v.addDisposableListener(this.container,v.EventType.CLICK,W=>{(W.x||W.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(W=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(W=>{typeof W.index=="number"&&(W.browserEvent.preventDefault(),this.list.setSelection([W.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return S.Event.map(this.list.onDidChangeFocus,M=>M.elements.map(D=>D.item))}get onDidChangeSelection(){return S.Event.map(this.list.onDidChangeSelection,M=>({items:M.elements.map(D=>D.item),event:M.browserEvent}))}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(M,D=!0){for(let R=0,P=M.length;R<P;R++){const O=M[R];if(!O.hidden)if(O.checked)D=!0;else return!1}return D}getCheckedCount(){let M=0;const D=this.elements;for(let R=0,P=D.length;R<P;R++)D[R].checked&&M++;return M}getVisibleCount(){let M=0;const D=this.elements;for(let R=0,P=D.length;R<P;R++)D[R].hidden||M++;return M}setAllVisibleChecked(M){try{this._fireCheckedEvents=!1,this.elements.forEach(D=>{D.hidden||(D.checked=M)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(M){this.elementDisposables=(0,I.dispose)(this.elementDisposables);const D=R=>this.fireButtonTriggered(R);this.inputElements=M,this.elements=M.reduce((R,P,O)=>{var W,F,E;if(P.type!=="separator"){const A=O&&M[O-1],B=P.label&&P.label.replace(/\r?\n/g," "),H=P.meta&&P.meta.replace(/\r?\n/g," "),K=P.description&&P.description.replace(/\r?\n/g," "),q=P.detail&&P.detail.replace(/\r?\n/g," "),Y=P.ariaLabel||[B,K,q].map(te=>(0,t.getCodiconAriaLabel)(te)).filter(te=>!!te).join(", ");R.push(new h({index:O,item:P,saneLabel:B,saneMeta:H,saneAriaLabel:Y,saneDescription:K,saneDetail:q,labelHighlights:(W=P.highlights)===null||W===void 0?void 0:W.label,descriptionHighlights:(F=P.highlights)===null||F===void 0?void 0:F.description,detailHighlights:(E=P.highlights)===null||E===void 0?void 0:E.detail,checked:!1,separator:A&&A.type==="separator"?A:void 0,fireButtonTriggered:D}))}return R},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(R=>R.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((R,P,O)=>(R.set(P.item,O),R),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(M=>M.item)}setFocusedElements(M){if(this.list.setFocus(M.filter(D=>this.elementsToIndexes.has(D)).map(D=>this.elementsToIndexes.get(D))),M.length>0){const D=this.list.getFocus()[0];typeof D=="number"&&this.list.reveal(D)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(M){this.list.setSelection(M.filter(D=>this.elementsToIndexes.has(D)).map(D=>this.elementsToIndexes.get(D)))}getCheckedElements(){return this.elements.filter(M=>M.checked).map(M=>M.item)}setCheckedElements(M){try{this._fireCheckedEvents=!1;const D=new Set;for(const R of M)D.add(R);for(const R of this.elements)R.checked=D.has(R.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(M){this.list.getHTMLElement().style.pointerEvents=M?"":"none"}focus(M){if(!!this.list.length){switch(M===f.Next&&this.list.getFocus()[0]===this.list.length-1&&(M=f.First),M===f.Previous&&this.list.getFocus()[0]===0&&(M=f.Last),M===f.Second&&this.list.length<2&&(M=f.First),M){case f.First:this.list.focusFirst();break;case f.Second:this.list.focusNth(1);break;case f.Last:this.list.focusLast();break;case f.Next:this.list.focusNext();break;case f.Previous:this.list.focusPrevious();break;case f.NextPage:this.list.focusNextPage();break;case f.PreviousPage:this.list.focusPreviousPage();break}const D=this.list.getFocus()[0];typeof D=="number"&&this.list.reveal(D)}}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(M){this.list.getHTMLElement().style.maxHeight=M?`calc(${Math.floor(M/44)*44}px)`:"",this.list.layout()}filter(M){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;if(M=M.trim(),!M||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(R=>{R.labelHighlights=void 0,R.descriptionHighlights=void 0,R.detailHighlights=void 0,R.hidden=!1;const P=R.index&&this.inputElements[R.index-1];R.separator=P&&P.type==="separator"?P:void 0});else{let R;this.elements.forEach(P=>{const O=this.matchOnLabel?(0,r.withNullAsUndefined)((0,k.matchesFuzzyIconAware)(M,(0,k.parseLabelWithIcons)(P.saneLabel))):void 0,W=this.matchOnDescription?(0,r.withNullAsUndefined)((0,k.matchesFuzzyIconAware)(M,(0,k.parseLabelWithIcons)(P.saneDescription||""))):void 0,F=this.matchOnDetail?(0,r.withNullAsUndefined)((0,k.matchesFuzzyIconAware)(M,(0,k.parseLabelWithIcons)(P.saneDetail||""))):void 0,E=this.matchOnMeta?(0,r.withNullAsUndefined)((0,k.matchesFuzzyIconAware)(M,(0,k.parseLabelWithIcons)(P.saneMeta||""))):void 0;if(O||W||F||E?(P.labelHighlights=O,P.descriptionHighlights=W,P.detailHighlights=F,P.hidden=!1):(P.labelHighlights=void 0,P.descriptionHighlights=void 0,P.detailHighlights=void 0,P.hidden=!P.item.alwaysShow),P.separator=void 0,!this.sortByLabel){const A=P.index&&this.inputElements[P.index-1];R=A&&A.type==="separator"?A:R,R&&!P.hidden&&(P.separator=R,R=void 0)}})}const D=this.elements.filter(R=>!R.hidden);if(this.sortByLabel&&M){const R=M.toLowerCase();D.sort((P,O)=>y(P,O,R))}return this.elementsToIndexes=D.reduce((R,P,O)=>(R.set(P.item,O),R),new Map),this.list.splice(0,this.list.length,D),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(D.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const M=this.list.getFocusedElements(),D=this.allVisibleChecked(M);for(const R of M)R.checked=!D}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(M){this.container.style.display=M?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=(0,I.dispose)(this.elementDisposables),this.disposables=(0,I.dispose)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(M){this._onButtonTriggered.fire(M)}style(M){this.list.style(M)}}Me([p.memoize],b.prototype,"onDidChangeFocus",null),Me([p.memoize],b.prototype,"onDidChangeSelection",null),e.QuickInputList=b;function y(N,M,D){const R=N.labelHighlights||[],P=M.labelHighlights||[];return R.length&&!P.length?-1:!R.length&&P.length?1:R.length===0&&P.length===0?0:(0,w.compareAnything)(N.saneLabel,M.saneLabel,D)}class L{getWidgetAriaLabel(){return(0,s.localize)(0,null)}getAriaLabel(M){return M.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(){return"option"}}}),define(J[444],ee([0,1,203,7,23,443,436,56,441,206,310,6,298,2,82,83,48,19,15,212,27,8,103,126]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n,s,t,o,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputController=void 0;const m=I.$,b={iconClass:(0,o.registerCodicon)("quick-input-back",o.Codicon.arrowLeft).classNames,tooltip:(0,C.localize)(0,null),handle:-1};class y extends l.Disposable{constructor(D){super();this.ui=D,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=y.noPromptMessage,this._severity=c.default.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new u.Emitter),this.onDidHideEmitter=this._register(new u.Emitter),this.onDisposeEmitter=this._register(new u.Emitter),this.visibleDisposables=this._register(new l.DisposableStore),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(D){this._title=D,this.update()}get description(){return this._description}set description(D){this._description=D,this.update()}get step(){return this._steps}set step(D){this._steps=D,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(D){this._totalSteps=D,this.update()}get enabled(){return this._enabled}set enabled(D){this._enabled=D,this.update()}get contextKey(){return this._contextKey}set contextKey(D){this._contextKey=D,this.update()}get busy(){return this._busy}set busy(D){this._busy=D,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(D){this._ignoreFocusOut=D,this.update()}get buttons(){return this._buttons}set buttons(D){this._buttons=D,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(D){this._validationMessage=D,this.update()}get severity(){return this._severity}set severity(D){this._severity=D,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(D=>{this.buttons.indexOf(D)!==-1&&this.onDidTriggerButtonEmitter.fire(D)})),this.ui.show(this),this.visible=!0,this.update())}hide(){!this.visible||this.ui.hide()}didHide(D=v.QuickInputHideReason.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:D})}update(){if(!!this.visible){const D=this.getTitle();D&&this.ui.title.textContent!==D?this.ui.title.textContent=D:!D&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0;");const R=this.getDescription();if(this.ui.description1.textContent!==R&&(this.ui.description1.textContent=R),this.ui.description2.textContent!==R&&(this.ui.description2.textContent=R),this.busy&&!this.busyDelay&&(this.busyDelay=new s.TimeoutTimer,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const O=this.buttons.filter(F=>F===b);this.ui.leftActionBar.push(O.map((F,E)=>{const A=new r.Action(`id-${E}`,"",F.iconClass||(0,t.getIconClass)(F.iconPath),!0,()=>Ie(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(F)}));return A.tooltip=F.tooltip||"",A}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const W=this.buttons.filter(F=>F!==b);this.ui.rightActionBar.push(W.map((F,E)=>{const A=new r.Action(`id-${E}`,"",F.iconClass||(0,t.getIconClass)(F.iconPath),!0,()=>Ie(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(F)}));return A.tooltip=F.tooltip||"",A}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const P=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==P&&(this._lastValidationMessage=P,I.reset(this.ui.message,...(0,g.renderLabelWithIcons)((0,h.escape)(P)))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,C.localize)(2,null,this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(D){if(this.ui.inputBox.showDecoration(D),D!==c.default.Ignore){const R=this.ui.inputBox.stylesForType(D);this.ui.message.style.color=R.foreground?`${R.foreground}`:"",this.ui.message.style.backgroundColor=R.background?`${R.background}`:"",this.ui.message.style.border=R.border?`1px solid ${R.border}`:"",this.ui.message.style.paddingBottom="4px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.paddingBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}y.noPromptMessage=(0,C.localize)(1,null);class L extends y{constructor(){super(...arguments);this._value="",this.onDidChangeValueEmitter=this._register(new u.Emitter),this.onDidAcceptEmitter=this._register(new u.Emitter),this.onDidCustomEmitter=this._register(new u.Emitter),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._sortByLabel=!0,this._autoFocusOnList=!0,this._itemActivation=this.ui.isScreenReaderOptimized()?v.ItemActivation.NONE:v.ItemActivation.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new u.Emitter),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new u.Emitter),this.onDidTriggerItemButtonEmitter=this._register(new u.Emitter),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=D=>D,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(D){this._quickNavigate=D,this.update()}get value(){return this._value}set value(D){this._value=D||"",this.update()}set ariaLabel(D){this._ariaLabel=D,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(D){this._placeholder=D,this.update()}get items(){return this._items}set items(D){this._items=D,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(D){this._canSelectMany=D,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(D){this._canAcceptInBackground=D}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(D){this._matchOnDescription=D,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(D){this._matchOnDetail=D,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(D){this._matchOnLabel=D,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(D){this._sortByLabel=D,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(D){this._autoFocusOnList=D,this.update()}get itemActivation(){return this._itemActivation}set itemActivation(D){this._itemActivation=D}get activeItems(){return this._activeItems}set activeItems(D){this._activeItems=D,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(D){this._selectedItems=D,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?v.NO_KEY_MODS:this.ui.keyMods}set valueSelection(D){this._valueSelection=D,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(D){this._customButton=D,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(D){this._customButtonLabel=D,this.update()}get customHover(){return this._customButtonHover}set customHover(D){this._customButtonHover=D,this.update()}get ok(){return this._ok}set ok(D){this._ok=D,this.update()}get hideInput(){return!!this._hideInput}set hideInput(D){this._hideInput=D,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(w.QuickInputListFocus.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(D=>{D!==this.value&&(this._value=D,this.ui.list.filter(this.filterValue(this.ui.inputBox.value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(D))})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(D=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(D=>{switch(D.keyCode){case 18:this.ui.list.focus(w.QuickInputListFocus.Next),this.canSelectMany&&this.ui.list.domFocus(),I.EventHelper.stop(D,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(w.QuickInputListFocus.Previous):this.ui.list.focus(w.QuickInputListFocus.Last),this.canSelectMany&&this.ui.list.domFocus(),I.EventHelper.stop(D,!0);break;case 12:this.ui.list.focus(w.QuickInputListFocus.NextPage),this.canSelectMany&&this.ui.list.domFocus(),I.EventHelper.stop(D,!0);break;case 11:this.ui.list.focus(w.QuickInputListFocus.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),I.EventHelper.stop(D,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.onDidAcceptEmitter.fire({inBackground:!0}));break;case 14:(D.ctrlKey||D.metaKey)&&!D.shiftKey&&!D.altKey&&(this.ui.list.focus(w.QuickInputListFocus.First),I.EventHelper.stop(D,!0));break;case 13:(D.ctrlKey||D.metaKey)&&!D.shiftKey&&!D.altKey&&(this.ui.list.focus(w.QuickInputListFocus.Last),I.EventHelper.stop(D,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{!this.canSelectMany&&this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.onDidAcceptEmitter.fire({inBackground:!1})})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(D=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,n.equals)(D,this._activeItems,(R,P)=>R===P)||(this._activeItems=D,this.onDidChangeActiveEmitter.fire(D))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:D,event:R})=>{if(this.canSelectMany){D.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&(0,n.equals)(D,this._selectedItems,(P,O)=>P===O)||(this._selectedItems=D,this.onDidChangeSelectionEmitter.fire(D),D.length&&this.onDidAcceptEmitter.fire({inBackground:R instanceof MouseEvent&&R.button===1}))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(D=>{!this.canSelectMany||this.selectedItemsToConfirm!==this._selectedItems&&(0,n.equals)(D,this._selectedItems,(R,P)=>R===P)||(this._selectedItems=D,this.onDidChangeSelectionEmitter.fire(D))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(D=>this.onDidTriggerItemButtonEmitter.fire(D))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}registerQuickNavigation(){return I.addDisposableListener(this.ui.container,I.EventType.KEY_UP,D=>{if(!(this.canSelectMany||!this._quickNavigate)){const R=new _.StandardKeyboardEvent(D),P=R.keyCode;this._quickNavigate.keybindings.some(F=>{const[E,A]=F.getParts();return A?!1:E.shiftKey&&P===4?!(R.ctrlKey||R.altKey||R.metaKey):!!(E.altKey&&P===6||E.ctrlKey&&P===5||E.metaKey&&P===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.onDidAcceptEmitter.fire({inBackground:!1})),this._quickNavigate=void 0)}})}update(){if(!!this.visible){const D=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",D&&!this.description);const R={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!D,progressBar:!D,visibleCount:!0,count:this.canSelectMany,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(R),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");const P=this.ariaLabel||this.placeholder||L.DEFAULT_ARIA_LABEL;if(this.ui.inputBox.ariaLabel!==P&&(this.ui.inputBox.ariaLabel=P),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case v.ItemActivation.NONE:this._itemActivation=v.ItemActivation.FIRST;break;case v.ItemActivation.SECOND:this.ui.list.focus(w.QuickInputListFocus.Second),this._itemActivation=v.ItemActivation.FIRST;break;case v.ItemActivation.LAST:this.ui.list.focus(w.QuickInputListFocus.Last),this._itemActivation=v.ItemActivation.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),R.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(w.QuickInputListFocus.First))}}}L.DEFAULT_ARIA_LABEL=(0,C.localize)(3,null);class N extends l.Disposable{constructor(D){super();this.options=D,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new u.Emitter),this.onDidCustomEmitter=this._register(new u.Emitter),this.onDidTriggerButtonEmitter=this._register(new u.Emitter),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new u.Emitter),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new u.Emitter),this.onHide=this.onHideEmitter.event,this.idPrefix=D.idPrefix,this.parentElement=D.container,this.styles=D.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const D=R=>{this.keyMods.ctrlCmd=R.ctrlKey||R.metaKey,this.keyMods.alt=R.altKey};this._register(I.addDisposableListener(window,I.EventType.KEY_DOWN,D,!0)),this._register(I.addDisposableListener(window,I.EventType.KEY_UP,D,!0)),this._register(I.addDisposableListener(window,I.EventType.MOUSE_DOWN,D,!0))}getUI(){if(this.ui)return this.ui;const D=I.append(this.parentElement,m(".quick-input-widget.show-file-icons"));D.tabIndex=-1,D.style.display="none";const R=I.createStyleSheet(D),P=I.append(D,m(".quick-input-titlebar")),O=this._register(new d.ActionBar(P));O.domNode.classList.add("quick-input-left-action-bar");const W=I.append(P,m(".quick-input-title")),F=this._register(new d.ActionBar(P));F.domNode.classList.add("quick-input-right-action-bar");const E=I.append(D,m(".quick-input-description")),A=I.append(D,m(".quick-input-header")),B=I.append(A,m("input.quick-input-check-all"));B.type="checkbox",this._register(I.addStandardDisposableListener(B,I.EventType.CHANGE,oe=>{const G=B.checked;U.setAllVisibleChecked(G)})),this._register(I.addDisposableListener(B,I.EventType.CLICK,oe=>{(oe.x||oe.y)&&Y.setFocus()}));const H=I.append(A,m(".quick-input-description")),K=I.append(A,m(".quick-input-and-message")),q=I.append(K,m(".quick-input-filter")),Y=this._register(new S.QuickInputBox(q));Y.setAttribute("aria-describedby",`${this.idPrefix}message`);const te=I.append(q,m(".quick-input-visible-count"));te.setAttribute("aria-live","polite"),te.setAttribute("aria-atomic","true");const ie=new i.CountBadge(te,{countFormat:(0,C.localize)(4,null)}),ae=I.append(q,m(".quick-input-count"));ae.setAttribute("aria-live","polite");const le=new i.CountBadge(ae,{countFormat:(0,C.localize)(5,null)}),Z=I.append(A,m(".quick-input-action")),T=new a.Button(Z);T.label=(0,C.localize)(6,null),this._register(T.onDidClick(oe=>{this.onDidAcceptEmitter.fire()}));const x=I.append(A,m(".quick-input-action")),z=new a.Button(x);z.label=(0,C.localize)(7,null),this._register(z.onDidClick(oe=>{this.onDidCustomEmitter.fire()}));const V=I.append(K,m(`#${this.idPrefix}message.quick-input-message`)),U=this._register(new w.QuickInputList(D,this.idPrefix+"list",this.options));this._register(U.onChangedAllVisibleChecked(oe=>{B.checked=oe})),this._register(U.onChangedVisibleCount(oe=>{ie.setCount(oe)})),this._register(U.onChangedCheckedCount(oe=>{le.setCount(oe)})),this._register(U.onLeave(()=>{setTimeout(()=>{Y.setFocus(),this.controller instanceof L&&this.controller.canSelectMany&&U.clearFocus()},0)})),this._register(U.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));const Q=new p.ProgressBar(D);Q.getContainer().classList.add("quick-input-progress");const se=I.trackFocus(D);return this._register(se),this._register(I.addDisposableListener(D,I.EventType.FOCUS,oe=>{this.previousFocusElement=oe.relatedTarget instanceof HTMLElement?oe.relatedTarget:void 0},!0)),this._register(se.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(v.QuickInputHideReason.Blur),this.previousFocusElement=void 0})),this._register(I.addDisposableListener(D,I.EventType.FOCUS,oe=>{Y.setFocus()})),this._register(I.addDisposableListener(D,I.EventType.KEY_DOWN,oe=>{const G=new _.StandardKeyboardEvent(oe);switch(G.keyCode){case 3:I.EventHelper.stop(oe,!0),this.onDidAcceptEmitter.fire();break;case 9:I.EventHelper.stop(oe,!0),this.hide(v.QuickInputHideReason.Gesture);break;case 2:if(!G.altKey&&!G.ctrlKey&&!G.metaKey){const j=[".action-label.codicon"];D.classList.contains("show-checkboxes")?j.push("input"):j.push("input[type=text]"),this.getUI().list.isDisplayed()&&j.push(".monaco-list");const ne=D.querySelectorAll(j.join(", "));G.shiftKey&&G.target===ne[0]?(I.EventHelper.stop(oe,!0),ne[ne.length-1].focus()):!G.shiftKey&&G.target===ne[ne.length-1]&&(I.EventHelper.stop(oe,!0),ne[0].focus())}break}})),this.ui={container:D,styleSheet:R,leftActionBar:O,titleBar:P,title:W,description1:E,description2:H,rightActionBar:F,checkAll:B,filterContainer:q,inputBox:Y,visibleCountContainer:te,visibleCount:ie,countContainer:ae,count:le,okContainer:Z,ok:T,message:V,customButtonContainer:x,customButton:z,list:U,progressBar:Q,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:oe=>this.show(oe),hide:()=>this.hide(),setVisibilities:oe=>this.setVisibilities(oe),setComboboxAccessibility:oe=>this.setComboboxAccessibility(oe),setEnabled:oe=>this.setEnabled(oe),setContextKey:oe=>this.options.setContextKey(oe)},this.updateStyles(),this.ui}pick(D,R={},P=k.CancellationToken.None){return new Promise((O,W)=>{let F=H=>{F=O,R.onKeyMods&&R.onKeyMods(E.keyMods),O(H)};if(P.isCancellationRequested){F(void 0);return}const E=this.createQuickPick();let A;const B=[E,E.onDidAccept(()=>{if(E.canSelectMany)F(E.selectedItems.slice()),E.hide();else{const H=E.activeItems[0];H&&(F(H),E.hide())}}),E.onDidChangeActive(H=>{const K=H[0];K&&R.onDidFocus&&R.onDidFocus(K)}),E.onDidChangeSelection(H=>{if(!E.canSelectMany){const K=H[0];K&&(F(K),E.hide())}}),E.onDidTriggerItemButton(H=>R.onDidTriggerItemButton&&R.onDidTriggerItemButton(Object.assign(Object.assign({},H),{removeItem:()=>{const K=E.items.indexOf(H.item);if(K!==-1){const q=E.items.slice(),Y=q.splice(K,1),te=E.activeItems.filter(ie=>ie!==Y[0]);E.items=q,te&&(E.activeItems=te)}}}))),E.onDidChangeValue(H=>{A&&!H&&(E.activeItems.length!==1||E.activeItems[0]!==A)&&(E.activeItems=[A])}),P.onCancellationRequested(()=>{E.hide()}),E.onDidHide(()=>{(0,l.dispose)(B),F(void 0)})];E.title=R.title,E.canSelectMany=!!R.canPickMany,E.placeholder=R.placeHolder,E.ignoreFocusOut=!!R.ignoreFocusLost,E.matchOnDescription=!!R.matchOnDescription,E.matchOnDetail=!!R.matchOnDetail,E.matchOnLabel=R.matchOnLabel===void 0||R.matchOnLabel,E.autoFocusOnList=R.autoFocusOnList===void 0||R.autoFocusOnList,E.quickNavigate=R.quickNavigate,E.contextKey=R.contextKey,E.busy=!0,Promise.all([D,R.activeItem]).then(([H,K])=>{A=K,E.busy=!1,E.items=H,E.canSelectMany&&(E.selectedItems=H.filter(q=>q.type!=="separator"&&q.picked)),A&&(E.activeItems=[A])}),E.show(),Promise.resolve(D).then(void 0,H=>{W(H),E.hide()})})}createQuickPick(){const D=this.getUI();return new L(D)}show(D){const R=this.getUI();this.onShowEmitter.fire();const P=this.controller;this.controller=D,P&&P.didHide(),this.setEnabled(!0),R.leftActionBar.clear(),R.title.textContent="",R.description1.textContent="",R.description2.textContent="",R.rightActionBar.clear(),R.checkAll.checked=!1,R.inputBox.placeholder="",R.inputBox.password=!1,R.inputBox.showDecoration(c.default.Ignore),R.visibleCount.setCount(0),R.count.setCount(0),I.reset(R.message),R.progressBar.stop(),R.list.setElements([]),R.list.matchOnDescription=!1,R.list.matchOnDetail=!1,R.list.matchOnLabel=!0,R.list.sortByLabel=!0,R.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),R.inputBox.ariaLabel="";const O=this.options.backKeybindingLabel();b.tooltip=O?(0,C.localize)(8,null,O):(0,C.localize)(9,null),R.container.style.display="",this.updateLayout(),R.inputBox.setFocus()}setVisibilities(D){const R=this.getUI();R.title.style.display=D.title?"":"none",R.description1.style.display=D.description&&(D.inputBox||D.checkAll)?"":"none",R.description2.style.display=D.description&&!(D.inputBox||D.checkAll)?"":"none",R.checkAll.style.display=D.checkAll?"":"none",R.filterContainer.style.display=D.inputBox?"":"none",R.visibleCountContainer.style.display=D.visibleCount?"":"none",R.countContainer.style.display=D.count?"":"none",R.okContainer.style.display=D.ok?"":"none",R.customButtonContainer.style.display=D.customButton?"":"none",R.message.style.display=D.message?"":"none",R.progressBar.getContainer().style.display=D.progressBar?"":"none",R.list.display(!!D.list),R.container.classList[D.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(D){if(D!==this.comboboxAccessibility){const R=this.getUI();this.comboboxAccessibility=D,this.comboboxAccessibility?(R.inputBox.setAttribute("role","combobox"),R.inputBox.setAttribute("aria-haspopup","true"),R.inputBox.setAttribute("aria-autocomplete","list"),R.inputBox.setAttribute("aria-activedescendant",R.list.getActiveDescendant()||"")):(R.inputBox.removeAttribute("role"),R.inputBox.removeAttribute("aria-haspopup"),R.inputBox.removeAttribute("aria-autocomplete"),R.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(D){if(D!==this.enabled){this.enabled=D;for(const R of this.getUI().leftActionBar.viewItems)R.getAction().enabled=D;for(const R of this.getUI().rightActionBar.viewItems)R.getAction().enabled=D;this.getUI().checkAll.disabled=!D,this.getUI().ok.enabled=D,this.getUI().list.enabled=D}}hide(D){var R;const P=this.controller;if(P){const O=!((R=this.ui)===null||R===void 0?void 0:R.container.contains(document.activeElement));this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",O||(this.previousFocusElement&&this.previousFocusElement.offsetParent?(this.previousFocusElement.focus(),this.previousFocusElement=void 0):this.options.returnFocus()),P.didHide(D)}}layout(D,R){this.dimension=D,this.titleBarOffset=R,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const D=this.ui.container.style,R=Math.min(this.dimension.width*.62,N.MAX_WIDTH);D.width=R+"px",D.marginLeft="-"+R/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(D){this.styles=D,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:D,quickInputBackground:R,quickInputForeground:P,contrastBorder:O,widgetShadow:W}=this.styles.widget;this.ui.titleBar.style.backgroundColor=D?D.toString():"",this.ui.container.style.backgroundColor=R?R.toString():"",this.ui.container.style.color=P?P.toString():"",this.ui.container.style.border=O?`1px solid ${O}`:"",this.ui.container.style.boxShadow=W?`0 0 8px 2px ${W}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const F=[];this.styles.list.pickerGroupBorder&&F.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&F.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(F.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&F.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&F.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&F.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&F.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&F.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),F.push("}"));const E=F.join(`
`);E!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=E)}}}e.QuickInputController=N,N.MAX_WIDTH=600}),define(J[445],ee([4,5]),function($,e){return $.create("vs/editor/browser/controller/coreCommands",e)}),define(J[446],ee([4,5]),function($,e){return $.create("vs/editor/browser/controller/textAreaHandler",e)}),define(J[447],ee([4,5]),function($,e){return $.create("vs/editor/browser/core/keybindingCancellation",e)}),define(J[448],ee([4,5]),function($,e){return $.create("vs/editor/browser/editorExtensions",e)}),define(J[449],ee([4,5]),function($,e){return $.create("vs/editor/browser/widget/codeEditorWidget",e)}),define(J[450],ee([4,5]),function($,e){return $.create("vs/editor/browser/widget/diffEditorWidget",e)}),define(J[451],ee([4,5]),function($,e){return $.create("vs/editor/browser/widget/diffReview",e)}),define(J[452],ee([4,5]),function($,e){return $.create("vs/editor/browser/widget/inlineDiffMargin",e)}),define(J[453],ee([0,1,452,7,48,2,3,27]),function($,e,v,I,k,w,S,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineDiffMargin=void 0;class C extends w.Disposable{constructor(p,u,a,l,c,d){super();this._viewZoneId=p,this._marginDomNode=u,this.editor=a,this.diff=l,this._contextMenuService=c,this._clipboardService=d,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=_.Codicon.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const r=a.getOption(55),n=a.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${r}px`,this._diffActions.style.lineHeight=`${r}px`,this._marginDomNode.appendChild(this._diffActions);const s=[];s.push(new k.Action("diff.clipboard.copyDeletedContent",l.originalEndLineNumber>l.modifiedStartLineNumber?v.localize(0,null):v.localize(1,null),void 0,!0,()=>Ie(this,void 0,void 0,function*(){const m=new S.Range(l.originalStartLineNumber,1,l.originalEndLineNumber+1,1),f=l.originalModel.getValueInRange(m);yield this._clipboardService.writeText(f)})));let t=0,o;l.originalEndLineNumber>l.modifiedStartLineNumber&&(o=new k.Action("diff.clipboard.copyDeletedLineContent",v.localize(2,null,l.originalStartLineNumber),void 0,!0,()=>Ie(this,void 0,void 0,function*(){const m=l.originalModel.getLineContent(l.originalStartLineNumber+t);yield this._clipboardService.writeText(m)})),s.push(o)),a.getOption(77)||s.push(new k.Action("diff.inline.revertChange",v.localize(3,null),void 0,!0,()=>Ie(this,void 0,void 0,function*(){const m=new S.Range(l.originalStartLineNumber,1,l.originalEndLineNumber,l.originalModel.getLineMaxColumn(l.originalEndLineNumber)),f=l.originalModel.getValueInRange(m);if(l.modifiedEndLineNumber===0){const b=a.getModel().getLineMaxColumn(l.modifiedStartLineNumber);a.executeEdits("diffEditor",[{range:new S.Range(l.modifiedStartLineNumber,b,l.modifiedStartLineNumber,b),text:n+f}])}else{const b=a.getModel().getLineMaxColumn(l.modifiedEndLineNumber);a.executeEdits("diffEditor",[{range:new S.Range(l.modifiedStartLineNumber,1,l.modifiedEndLineNumber,b),text:f}])}})));const g=(m,f)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:m,y:f}),getActions:()=>(o&&(o.label=v.localize(4,null,l.originalStartLineNumber+t)),s),autoSelectFirstItem:!0})};this._register(I.addStandardDisposableListener(this._diffActions,"mousedown",m=>{const{top:f,height:b}=I.getDomNodePagePosition(this._diffActions);let y=Math.floor(r/3);m.preventDefault(),g(m.posx,f+b+y)})),this._register(a.onMouseMove(m=>{m.target.type===8||m.target.type===5?m.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,t=this._updateLightBulbPosition(this._marginDomNode,m.event.browserEvent.y,r)):this.visibility=!1:this.visibility=!1})),this._register(a.onMouseDown(m=>{!m.event.rightButton||(m.target.type===8||m.target.type===5)&&m.target.detail.viewZoneId===this._viewZoneId&&(m.event.preventDefault(),t=this._updateLightBulbPosition(this._marginDomNode,m.event.browserEvent.y,r),g(m.event.posx,m.event.posy+r))}))}get visibility(){return this._visibility}set visibility(p){this._visibility!==p&&(this._visibility=p,p?this._diffActions.style.visibility="visible":this._diffActions.style.visibility="hidden")}_updateLightBulbPosition(p,u,a){const{top:l}=I.getDomNodePagePosition(p),c=u-l,d=Math.floor(c/a),r=d*a;if(this._diffActions.style.top=`${r}px`,this.diff.viewLineCounts){let n=0;for(let s=0;s<this.diff.viewLineCounts.length;s++)if(n+=this.diff.viewLineCounts[s],d<n)return s}return d}}e.InlineDiffMargin=C}),define(J[454],ee([4,5]),function($,e){return $.create("vs/editor/common/config/commonEditorConfig",e)}),define(J[455],ee([4,5]),function($,e){return $.create("vs/editor/common/config/editorOptions",e)}),define(J[38],ee([0,1,455,17,129]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOptions=e.editorOptionsRegistry=e.EDITOR_MODEL_DEFAULTS=e.EDITOR_FONT_DEFAULTS=e.filterValidationDecorations=e.EditorLayoutInfoComputer=e.EditorFontLigatures=e.TextEditorCursorStyle=e.stringSet=e.boolean=e.ComputeOptionsMemory=e.ValidatedEditorOptions=e.ConfigurationChangedEvent=e.MINIMAP_GUTTER_WIDTH=void 0,e.MINIMAP_GUTTER_WIDTH=8;class w{constructor(X){this._values=X}hasChanged(X){return this._values[X]}}e.ConfigurationChangedEvent=w;class S{constructor(){this._values=[]}_read(X){return this._values[X]}get(X){return this._values[X]}_write(X,de){this._values[X]=de}}e.ValidatedEditorOptions=S;class _{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}e.ComputeOptionsMemory=_;class C{constructor(X,de,he,re){this.id=X,this.name=de,this.defaultValue=he,this.schema=re}compute(X,de,he){return he}}class i{constructor(X,de=null){this.schema=void 0,this.id=X,this.name="_never_",this.defaultValue=void 0,this.deps=de}validate(X){return this.defaultValue}}class p{constructor(X,de,he,re){this.id=X,this.name=de,this.defaultValue=he,this.schema=re}validate(X){return typeof X=="undefined"?this.defaultValue:X}compute(X,de,he){return he}}function u(ne,X){return typeof ne=="undefined"?X:ne==="false"?!1:Boolean(ne)}e.boolean=u;class a extends p{constructor(X,de,he,re=void 0){typeof re!="undefined"&&(re.type="boolean",re.default=he),super(X,de,he,re)}validate(X){return u(X,this.defaultValue)}}class l extends p{constructor(X,de,he,re,ue,me=void 0){typeof me!="undefined"&&(me.type="integer",me.default=he,me.minimum=re,me.maximum=ue),super(X,de,he,me),this.minimum=re,this.maximum=ue}static clampedInt(X,de,he,re){if(typeof X=="undefined")return de;let ue=parseInt(X,10);return isNaN(ue)?de:(ue=Math.max(he,ue),ue=Math.min(re,ue),ue|0)}validate(X){return l.clampedInt(X,this.defaultValue,this.minimum,this.maximum)}}class c extends p{constructor(X,de,he,re,ue){typeof ue!="undefined"&&(ue.type="number",ue.default=he),super(X,de,he,ue),this.validationFn=re}static clamp(X,de,he){return X<de?de:X>he?he:X}static float(X,de){if(typeof X=="number")return X;if(typeof X=="undefined")return de;const he=parseFloat(X);return isNaN(he)?de:he}validate(X){return this.validationFn(c.float(X,this.defaultValue))}}class d extends p{static string(X,de){return typeof X!="string"?de:X}constructor(X,de,he,re=void 0){typeof re!="undefined"&&(re.type="string",re.default=he),super(X,de,he,re)}validate(X){return d.string(X,this.defaultValue)}}function r(ne,X,de){return typeof ne!="string"||de.indexOf(ne)===-1?X:ne}e.stringSet=r;class n extends p{constructor(X,de,he,re,ue=void 0){typeof ue!="undefined"&&(ue.type="string",ue.enum=re,ue.default=he),super(X,de,he,ue),this._allowedValues=re}validate(X){return r(X,this.defaultValue,this._allowedValues)}}class s extends C{constructor(X,de,he,re,ue,me,be=void 0){typeof be!="undefined"&&(be.type="string",be.enum=ue,be.default=re),super(X,de,he,be),this._allowedValues=ue,this._convert=me}validate(X){return typeof X!="string"?this.defaultValue:this._allowedValues.indexOf(X)===-1?this.defaultValue:this._convert(X)}}function t(ne){switch(ne){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class o extends C{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[v.localize(0,null),v.localize(1,null),v.localize(2,null)],default:"auto",description:v.localize(3,null)})}validate(X){switch(X){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(X,de,he){return he===0?X.accessibilitySupport:he}}class h extends C{constructor(){const X={insertSpace:!0,ignoreEmptyLines:!0};super(17,"comments",X,{"editor.comments.insertSpace":{type:"boolean",default:X.insertSpace,description:v.localize(4,null)},"editor.comments.ignoreEmptyLines":{type:"boolean",default:X.ignoreEmptyLines,description:v.localize(5,null)}})}validate(X){if(!X||typeof X!="object")return this.defaultValue;const de=X;return{insertSpace:u(de.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:u(de.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function g(ne){switch(ne){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var m;(function(ne){ne[ne.Line=1]="Line",ne[ne.Block=2]="Block",ne[ne.Underline=3]="Underline",ne[ne.LineThin=4]="LineThin",ne[ne.BlockOutline=5]="BlockOutline",ne[ne.UnderlineThin=6]="UnderlineThin"})(m=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));function f(ne){switch(ne){case"line":return m.Line;case"block":return m.Block;case"underline":return m.Underline;case"line-thin":return m.LineThin;case"block-outline":return m.BlockOutline;case"underline-thin":return m.UnderlineThin}}class b extends i{constructor(){super(124,[62,31])}compute(X,de,he){const re=["monaco-editor"];return de.get(31)&&re.push(de.get(31)),X.extraEditorClassName&&re.push(X.extraEditorClassName),de.get(62)==="default"?re.push("mouse-default"):de.get(62)==="copy"&&re.push("mouse-copy"),de.get(97)&&re.push("showUnused"),de.get(122)&&re.push("showDeprecated"),re.join(" ")}}class y extends a{constructor(){super(30,"emptySelectionClipboard",!0,{description:v.localize(6,null)})}compute(X,de,he){return he&&X.emptySelectionClipboard}}class L extends C{constructor(){const X={cursorMoveOnType:!0,seedSearchStringFromSelection:!0,autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(33,"find",X,{"editor.find.cursorMoveOnType":{type:"boolean",default:X.cursorMoveOnType,description:v.localize(7,null)},"editor.find.seedSearchStringFromSelection":{type:"boolean",default:X.seedSearchStringFromSelection,description:v.localize(8,null)},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:X.autoFindInSelection,enumDescriptions:[v.localize(9,null),v.localize(10,null),v.localize(11,null)],description:v.localize(12,null)},"editor.find.globalFindClipboard":{type:"boolean",default:X.globalFindClipboard,description:v.localize(13,null),included:I.isMacintosh},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:X.addExtraSpaceOnTop,description:v.localize(14,null)},"editor.find.loop":{type:"boolean",default:X.loop,description:v.localize(15,null)}})}validate(X){if(!X||typeof X!="object")return this.defaultValue;const de=X;return{cursorMoveOnType:u(de.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:u(de.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection),autoFindInSelection:typeof X.autoFindInSelection=="boolean"?X.autoFindInSelection?"always":"never":r(de.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:u(de.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:u(de.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:u(de.loop,this.defaultValue.loop)}}}class N extends C{constructor(){super(41,"fontLigatures",N.OFF,{anyOf:[{type:"boolean",description:v.localize(16,null)},{type:"string",description:v.localize(17,null)}],description:v.localize(18,null),default:!1})}validate(X){return typeof X=="undefined"?this.defaultValue:typeof X=="string"?X==="false"?N.OFF:X==="true"?N.ON:X:Boolean(X)?N.ON:N.OFF}}e.EditorFontLigatures=N,N.OFF='"liga" off, "calt" off',N.ON='"liga" on, "calt" on';class M extends i{constructor(){super(40)}compute(X,de,he){return X.fontInfo}}class D extends p{constructor(){super(42,"fontSize",e.EDITOR_FONT_DEFAULTS.fontSize,{type:"number",minimum:6,maximum:100,default:e.EDITOR_FONT_DEFAULTS.fontSize,description:v.localize(19,null)})}validate(X){let de=c.float(X,this.defaultValue);return de===0?e.EDITOR_FONT_DEFAULTS.fontSize:c.clamp(de,6,100)}compute(X,de,he){return X.fontInfo.fontSize}}class R extends C{constructor(){super(43,"fontWeight",e.EDITOR_FONT_DEFAULTS.fontWeight,{anyOf:[{type:"number",minimum:R.MINIMUM_VALUE,maximum:R.MAXIMUM_VALUE,errorMessage:v.localize(20,null)},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:R.SUGGESTION_VALUES}],default:e.EDITOR_FONT_DEFAULTS.fontWeight,description:v.localize(21,null)})}validate(X){return X==="normal"||X==="bold"?X:String(l.clampedInt(X,e.EDITOR_FONT_DEFAULTS.fontWeight,R.MINIMUM_VALUE,R.MAXIMUM_VALUE))}}R.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],R.MINIMUM_VALUE=1,R.MAXIMUM_VALUE=1e3;class P extends C{constructor(){const X={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},de={type:"string",enum:["peek","gotoAndPeek","goto"],default:X.multiple,enumDescriptions:[v.localize(22,null),v.localize(23,null),v.localize(24,null)]},he=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(47,"gotoLocation",X,{"editor.gotoLocation.multiple":{deprecationMessage:v.localize(25,null)},"editor.gotoLocation.multipleDefinitions":Object.assign({description:v.localize(26,null)},de),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:v.localize(27,null)},de),"editor.gotoLocation.multipleDeclarations":Object.assign({description:v.localize(28,null)},de),"editor.gotoLocation.multipleImplementations":Object.assign({description:v.localize(29,null)},de),"editor.gotoLocation.multipleReferences":Object.assign({description:v.localize(30,null)},de),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:X.alternativeDefinitionCommand,enum:he,description:v.localize(31,null)},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:X.alternativeTypeDefinitionCommand,enum:he,description:v.localize(32,null)},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:X.alternativeDeclarationCommand,enum:he,description:v.localize(33,null)},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:X.alternativeImplementationCommand,enum:he,description:v.localize(34,null)},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:X.alternativeReferenceCommand,enum:he,description:v.localize(35,null)}})}validate(X){var de,he,re,ue,me;if(!X||typeof X!="object")return this.defaultValue;const be=X;return{multiple:r(be.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(de=be.multipleDefinitions)!==null&&de!==void 0?de:r(be.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(he=be.multipleTypeDefinitions)!==null&&he!==void 0?he:r(be.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(re=be.multipleDeclarations)!==null&&re!==void 0?re:r(be.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(ue=be.multipleImplementations)!==null&&ue!==void 0?ue:r(be.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(me=be.multipleReferences)!==null&&me!==void 0?me:r(be.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:d.string(be.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:d.string(be.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:d.string(be.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:d.string(be.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:d.string(be.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class O extends C{constructor(){const X={enabled:!0,delay:300,sticky:!0};super(50,"hover",X,{"editor.hover.enabled":{type:"boolean",default:X.enabled,description:v.localize(36,null)},"editor.hover.delay":{type:"number",default:X.delay,description:v.localize(37,null)},"editor.hover.sticky":{type:"boolean",default:X.sticky,description:v.localize(38,null)}})}validate(X){if(!X||typeof X!="object")return this.defaultValue;const de=X;return{enabled:u(de.enabled,this.defaultValue.enabled),delay:l.clampedInt(de.delay,this.defaultValue.delay,0,1e4),sticky:u(de.sticky,this.defaultValue.sticky)}}}class W extends i{constructor(){super(127,[46,54,35,61,89,56,57,91,114,117,118,119,2])}compute(X,de,he){return W.computeLayout(de,{memory:X.memory,outerWidth:X.outerWidth,outerHeight:X.outerHeight,isDominatedByLongLines:X.isDominatedByLongLines,lineHeight:X.fontInfo.lineHeight,viewLineCount:X.viewLineCount,lineNumbersDigitCount:X.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:X.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:X.fontInfo.maxDigitWidth,pixelRatio:X.pixelRatio})}static computeContainedMinimapLineCount(X){const de=X.height/X.lineHeight,he=X.scrollBeyondLastLine?de-1:0,re=(X.viewLineCount+he)/(X.pixelRatio*X.height),ue=Math.floor(X.viewLineCount/re);return{typicalViewportLineCount:de,extraLinesBeyondLastLine:he,desiredRatio:re,minimapLineCount:ue}}static _computeMinimapLayout(X,de){const he=X.outerWidth,re=X.outerHeight,ue=X.pixelRatio;if(!X.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(ue*re),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:re};const me=de.stableMinimapLayoutInput,be=me&&X.outerHeight===me.outerHeight&&X.lineHeight===me.lineHeight&&X.typicalHalfwidthCharacterWidth===me.typicalHalfwidthCharacterWidth&&X.pixelRatio===me.pixelRatio&&X.scrollBeyondLastLine===me.scrollBeyondLastLine&&X.minimap.enabled===me.minimap.enabled&&X.minimap.side===me.minimap.side&&X.minimap.size===me.minimap.size&&X.minimap.showSlider===me.minimap.showSlider&&X.minimap.renderCharacters===me.minimap.renderCharacters&&X.minimap.maxColumn===me.minimap.maxColumn&&X.minimap.scale===me.minimap.scale&&X.verticalScrollbarWidth===me.verticalScrollbarWidth&&X.isViewportWrapping===me.isViewportWrapping,we=X.lineHeight,Ee=X.typicalHalfwidthCharacterWidth,De=X.scrollBeyondLastLine,Oe=X.minimap.renderCharacters;let Le=ue>=2?Math.round(X.minimap.scale*2):X.minimap.scale;const Te=X.minimap.maxColumn,ve=X.minimap.size,Se=X.minimap.side,ye=X.verticalScrollbarWidth,fe=X.viewLineCount,Ce=X.remainingWidth,ce=X.isViewportWrapping,ge=Oe?2:3;let _e=Math.floor(ue*re);const ke=_e/ue;let Ne=!1,Re=!1,Ae=ge*Le,Fe=Le/ue,Pe=1;if(ve==="fill"||ve==="fit"){const{typicalViewportLineCount:Ve,extraLinesBeyondLastLine:Ue,desiredRatio:Ye,minimapLineCount:je}=W.computeContainedMinimapLineCount({viewLineCount:fe,scrollBeyondLastLine:De,height:re,lineHeight:we,pixelRatio:ue});if(fe/je>1)Ne=!0,Re=!0,Le=1,Ae=1,Fe=Le/ue;else{let $e=!1,Ze=Le+1;if(ve==="fit"){const Qe=Math.ceil((fe+Ue)*Ae);ce&&be&&Ce<=de.stableFitRemainingWidth?($e=!0,Ze=de.stableFitMaxMinimapScale):($e=Qe>_e,ce&&$e?(de.stableMinimapLayoutInput=X,de.stableFitRemainingWidth=Ce):(de.stableMinimapLayoutInput=null,de.stableFitRemainingWidth=0))}if(ve==="fill"||$e){Ne=!0;const Qe=Le;Ae=Math.min(we*ue,Math.max(1,Math.floor(1/Ye))),Le=Math.min(Ze,Math.max(1,Math.floor(Ae/ge))),Le>Qe&&(Pe=Math.min(2,Le/Qe)),Fe=Le/ue/Pe,_e=Math.ceil(Math.max(Ve,fe+Ue)*Ae),ce&&$e&&(de.stableFitMaxMinimapScale=Le)}}}const xe=Math.floor(Te*Fe),We=Math.min(xe,Math.max(0,Math.floor((Ce-ye-2)*Fe/(Ee+Fe)))+e.MINIMAP_GUTTER_WIDTH);let ze=Math.floor(ue*We);const Ke=ze/ue;ze=Math.floor(ze*Pe);const Be=Oe?1:2,He=Se==="left"?0:he-We-ye;return{renderMinimap:Be,minimapLeft:He,minimapWidth:We,minimapHeightIsEditorHeight:Ne,minimapIsSampling:Re,minimapScale:Le,minimapLineHeight:Ae,minimapCanvasInnerWidth:ze,minimapCanvasInnerHeight:_e,minimapCanvasOuterWidth:Ke,minimapCanvasOuterHeight:ke}}static computeLayout(X,de){const he=de.outerWidth|0,re=de.outerHeight|0,ue=de.lineHeight|0,me=de.lineNumbersDigitCount|0,be=de.typicalHalfwidthCharacterWidth,we=de.maxDigitWidth,Ee=de.pixelRatio,De=de.viewLineCount,Oe=X.get(119),Le=Oe==="inherit"?X.get(118):Oe,Te=Le==="inherit"?X.get(114):Le,ve=X.get(117),Se=X.get(2),ye=de.isDominatedByLongLines,fe=X.get(46),Ce=X.get(56).renderType!==0,ce=X.get(57),ge=X.get(91),_e=X.get(61),ke=X.get(89),Ne=ke.verticalScrollbarSize,Re=ke.verticalHasArrows,Ae=ke.arrowSize,Fe=ke.horizontalScrollbarSize,Pe=X.get(54),xe=X.get(35);let We;if(typeof Pe=="string"&&/^\d+(\.\d+)?ch$/.test(Pe)){const nt=parseFloat(Pe.substr(0,Pe.length-2));We=l.clampedInt(nt*be,0,0,1e3)}else We=l.clampedInt(Pe,0,0,1e3);xe&&(We+=16);let ze=0;if(Ce){const nt=Math.max(me,ce);ze=Math.round(nt*we)}let Ke=0;fe&&(Ke=ue);let Be=0,He=Be+Ke,Ve=He+ze,Ue=Ve+We;const Ye=he-Ke-ze-We;let je=!1,Xe=!1,$e=-1;Se!==2&&(Le==="inherit"&&ye?(je=!0,Xe=!0):Te==="on"||Te==="bounded"?Xe=!0:Te==="wordWrapColumn"&&($e=ve));const Ze=W._computeMinimapLayout({outerWidth:he,outerHeight:re,lineHeight:ue,typicalHalfwidthCharacterWidth:be,pixelRatio:Ee,scrollBeyondLastLine:ge,minimap:_e,verticalScrollbarWidth:Ne,viewLineCount:De,remainingWidth:Ye,isViewportWrapping:Xe},de.memory||new _);Ze.renderMinimap!==0&&Ze.minimapLeft===0&&(Be+=Ze.minimapWidth,He+=Ze.minimapWidth,Ve+=Ze.minimapWidth,Ue+=Ze.minimapWidth);const Qe=Ye-Ze.minimapWidth,it=Math.max(1,Math.floor((Qe-Ne-2)/be)),Je=Re?Ae:0;return Xe&&($e=Math.max(1,it),Te==="bounded"&&($e=Math.min($e,ve))),{width:he,height:re,glyphMarginLeft:Be,glyphMarginWidth:Ke,lineNumbersLeft:He,lineNumbersWidth:ze,decorationsLeft:Ve,decorationsWidth:We,contentLeft:Ue,contentWidth:Qe,minimap:Ze,viewportColumn:it,isWordWrapMinified:je,isViewportWrapping:Xe,wrappingColumn:$e,verticalScrollbarWidth:Ne,horizontalScrollbarHeight:Fe,overviewRuler:{top:Je,width:Ne,height:re-2*Je,right:0}}}}e.EditorLayoutInfoComputer=W;class F extends C{constructor(){const X={enabled:!0};super(53,"lightbulb",X,{"editor.lightbulb.enabled":{type:"boolean",default:X.enabled,description:v.localize(39,null)}})}validate(X){return!X||typeof X!="object"?this.defaultValue:{enabled:u(X.enabled,this.defaultValue.enabled)}}}class E extends C{constructor(){const X={enabled:!0,fontSize:0,fontFamily:e.EDITOR_FONT_DEFAULTS.fontFamily};super(123,"inlineHints",X,{"editor.inlineHints.enabled":{type:"boolean",default:X.enabled,description:v.localize(40,null)},"editor.inlineHints.fontSize":{type:"number",default:X.fontSize,description:v.localize(41,null)},"editor.inlineHints.fontFamily":{type:"string",default:X.fontFamily,description:v.localize(42,null)}})}validate(X){if(!X||typeof X!="object")return this.defaultValue;const de=X;return{enabled:u(de.enabled,this.defaultValue.enabled),fontSize:l.clampedInt(de.fontSize,this.defaultValue.fontSize,0,100),fontFamily:d.string(de.fontFamily,this.defaultValue.fontFamily)}}}class A extends l{constructor(){super(55,"lineHeight",e.EDITOR_FONT_DEFAULTS.lineHeight,0,150,{description:v.localize(43,null)})}compute(X,de,he){return X.fontInfo.lineHeight}}class B extends C{constructor(){const X={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};super(61,"minimap",X,{"editor.minimap.enabled":{type:"boolean",default:X.enabled,description:v.localize(44,null)},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[v.localize(45,null),v.localize(46,null),v.localize(47,null)],default:X.size,description:v.localize(48,null)},"editor.minimap.side":{type:"string",enum:["left","right"],default:X.side,description:v.localize(49,null)},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:X.showSlider,description:v.localize(50,null)},"editor.minimap.scale":{type:"number",default:X.scale,minimum:1,maximum:3,enum:[1,2,3],description:v.localize(51,null)},"editor.minimap.renderCharacters":{type:"boolean",default:X.renderCharacters,description:v.localize(52,null)},"editor.minimap.maxColumn":{type:"number",default:X.maxColumn,description:v.localize(53,null)}})}validate(X){if(!X||typeof X!="object")return this.defaultValue;const de=X;return{enabled:u(de.enabled,this.defaultValue.enabled),size:r(de.size,this.defaultValue.size,["proportional","fill","fit"]),side:r(de.side,this.defaultValue.side,["right","left"]),showSlider:r(de.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:u(de.renderCharacters,this.defaultValue.renderCharacters),scale:l.clampedInt(de.scale,1,1,3),maxColumn:l.clampedInt(de.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function H(ne){return ne==="ctrlCmd"?I.isMacintosh?"metaKey":"ctrlKey":"altKey"}class K extends C{constructor(){super(71,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:v.localize(54,null)},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:v.localize(55,null)}})}validate(X){if(!X||typeof X!="object")return this.defaultValue;const de=X;return{top:l.clampedInt(de.top,0,0,1e3),bottom:l.clampedInt(de.bottom,0,0,1e3)}}}class q extends C{constructor(){const X={enabled:!0,cycle:!1};super(72,"parameterHints",X,{"editor.parameterHints.enabled":{type:"boolean",default:X.enabled,description:v.localize(56,null)},"editor.parameterHints.cycle":{type:"boolean",default:X.cycle,description:v.localize(57,null)}})}validate(X){if(!X||typeof X!="object")return this.defaultValue;const de=X;return{enabled:u(de.enabled,this.defaultValue.enabled),cycle:u(de.cycle,this.defaultValue.cycle)}}}class Y extends i{constructor(){super(125)}compute(X,de,he){return X.pixelRatio}}class te extends C{constructor(){const X={other:!0,comments:!1,strings:!1};super(75,"quickSuggestions",X,{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:X.strings,description:v.localize(58,null)},comments:{type:"boolean",default:X.comments,description:v.localize(59,null)},other:{type:"boolean",default:X.other,description:v.localize(60,null)}}}],default:X,description:v.localize(61,null)});this.defaultValue=X}validate(X){if(typeof X=="boolean")return X;if(X&&typeof X=="object"){const de=X,he={other:u(de.other,this.defaultValue.other),comments:u(de.comments,this.defaultValue.comments),strings:u(de.strings,this.defaultValue.strings)};return he.other&&he.comments&&he.strings?!0:!he.other&&!he.comments&&!he.strings?!1:he}return this.defaultValue}}class ie extends C{constructor(){super(56,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[v.localize(62,null),v.localize(63,null),v.localize(64,null),v.localize(65,null)],default:"on",description:v.localize(66,null)})}validate(X){let de=this.defaultValue.renderType,he=this.defaultValue.renderFn;return typeof X!="undefined"&&(typeof X=="function"?(de=4,he=X):X==="interval"?de=3:X==="relative"?de=2:X==="on"?de=1:de=0),{renderType:de,renderFn:he}}}function ae(ne){const X=ne.get(84);return X==="editable"?ne.get(77):X!=="on"}e.filterValidationDecorations=ae;class le extends C{constructor(){const X=[],de={type:"number",description:v.localize(67,null)};super(88,"rulers",X,{type:"array",items:{anyOf:[de,{type:["object"],properties:{column:de,color:{type:"string",description:v.localize(68,null),format:"color-hex"}}}]},default:X,description:v.localize(69,null)})}validate(X){if(Array.isArray(X)){let de=[];for(let he of X)if(typeof he=="number")de.push({column:l.clampedInt(he,0,0,1e4),color:null});else if(he&&typeof he=="object"){const re=he;de.push({column:l.clampedInt(re.column,0,0,1e4),color:re.color})}return de.sort((he,re)=>he.column-re.column),de}return this.defaultValue}}function Z(ne,X){if(typeof ne!="string")return X;switch(ne){case"hidden":return 2;case"visible":return 3;default:return 1}}class T extends C{constructor(){super(89,"scrollbar",{vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1})}validate(X){if(!X||typeof X!="object")return this.defaultValue;const de=X,he=l.clampedInt(de.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),re=l.clampedInt(de.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:l.clampedInt(de.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:Z(de.vertical,this.defaultValue.vertical),horizontal:Z(de.horizontal,this.defaultValue.horizontal),useShadows:u(de.useShadows,this.defaultValue.useShadows),verticalHasArrows:u(de.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:u(de.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:u(de.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:u(de.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:he,horizontalSliderSize:l.clampedInt(de.horizontalSliderSize,he,0,1e3),verticalScrollbarSize:re,verticalSliderSize:l.clampedInt(de.verticalSliderSize,re,0,1e3),scrollByPage:u(de.scrollByPage,this.defaultValue.scrollByPage)}}}class x extends C{constructor(){const X={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(103,"suggest",X,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[v.localize(70,null),v.localize(71,null)],default:X.insertMode,description:v.localize(72,null)},"editor.suggest.filterGraceful":{type:"boolean",default:X.filterGraceful,description:v.localize(73,null)},"editor.suggest.localityBonus":{type:"boolean",default:X.localityBonus,description:v.localize(74,null)},"editor.suggest.shareSuggestSelections":{type:"boolean",default:X.shareSuggestSelections,markdownDescription:v.localize(75,null)},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:X.snippetsPreventQuickSuggestions,description:v.localize(76,null)},"editor.suggest.showIcons":{type:"boolean",default:X.showIcons,description:v.localize(77,null)},"editor.suggest.showStatusBar":{type:"boolean",default:X.showStatusBar,description:v.localize(78,null)},"editor.suggest.showInlineDetails":{type:"boolean",default:X.showInlineDetails,description:v.localize(79,null)},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:v.localize(80,null)},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:v.localize(81,null)},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:v.localize(82,null)},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:v.localize(83,null)},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:v.localize(84,null)},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:v.localize(85,null)},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:v.localize(86,null)},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:v.localize(87,null)},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:v.localize(88,null)},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:v.localize(89,null)},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:v.localize(90,null)},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:v.localize(91,null)},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:v.localize(92,null)},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:v.localize(93,null)},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:v.localize(94,null)},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:v.localize(95,null)},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:v.localize(96,null)},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:v.localize(97,null)},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:v.localize(98,null)},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:v.localize(99,null)},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:v.localize(100,null)},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:v.localize(101,null)},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:v.localize(102,null)},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:v.localize(103,null)},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:v.localize(104,null)},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:v.localize(105,null)},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:v.localize(106,null)},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:v.localize(107,null)},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:v.localize(108,null)},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:v.localize(109,null)}})}validate(X){if(!X||typeof X!="object")return this.defaultValue;const de=X;return{insertMode:r(de.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:u(de.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:u(de.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:u(de.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:u(de.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:u(de.showIcons,this.defaultValue.showIcons),showStatusBar:u(de.showStatusBar,this.defaultValue.showStatusBar),showInlineDetails:u(de.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:u(de.showMethods,this.defaultValue.showMethods),showFunctions:u(de.showFunctions,this.defaultValue.showFunctions),showConstructors:u(de.showConstructors,this.defaultValue.showConstructors),showFields:u(de.showFields,this.defaultValue.showFields),showVariables:u(de.showVariables,this.defaultValue.showVariables),showClasses:u(de.showClasses,this.defaultValue.showClasses),showStructs:u(de.showStructs,this.defaultValue.showStructs),showInterfaces:u(de.showInterfaces,this.defaultValue.showInterfaces),showModules:u(de.showModules,this.defaultValue.showModules),showProperties:u(de.showProperties,this.defaultValue.showProperties),showEvents:u(de.showEvents,this.defaultValue.showEvents),showOperators:u(de.showOperators,this.defaultValue.showOperators),showUnits:u(de.showUnits,this.defaultValue.showUnits),showValues:u(de.showValues,this.defaultValue.showValues),showConstants:u(de.showConstants,this.defaultValue.showConstants),showEnums:u(de.showEnums,this.defaultValue.showEnums),showEnumMembers:u(de.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:u(de.showKeywords,this.defaultValue.showKeywords),showWords:u(de.showWords,this.defaultValue.showWords),showColors:u(de.showColors,this.defaultValue.showColors),showFiles:u(de.showFiles,this.defaultValue.showFiles),showReferences:u(de.showReferences,this.defaultValue.showReferences),showFolders:u(de.showFolders,this.defaultValue.showFolders),showTypeParameters:u(de.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:u(de.showSnippets,this.defaultValue.showSnippets),showUsers:u(de.showUsers,this.defaultValue.showUsers),showIssues:u(de.showIssues,this.defaultValue.showIssues)}}}class z extends C{constructor(){super(99,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:v.localize(110,null),default:!0,type:"boolean"}})}validate(X){return!X||typeof X!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:u(X.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}}class V extends i{constructor(){super(126,[77])}compute(X,de,he){return de.get(77)?!0:X.tabFocusMode}}function U(ne){switch(ne){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}class Q extends i{constructor(){super(128,[127])}compute(X,de,he){const re=de.get(127);return{isDominatedByLongLines:X.isDominatedByLongLines,isWordWrapMinified:re.isWordWrapMinified,isViewportWrapping:re.isViewportWrapping,wrappingColumn:re.wrappingColumn}}}const se="Consolas, 'Courier New', monospace",oe="Menlo, Monaco, 'Courier New', monospace",G="'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback'";e.EDITOR_FONT_DEFAULTS={fontFamily:I.isMacintosh?oe:I.isLinux?G:se,fontWeight:"normal",fontSize:I.isMacintosh?12:14,lineHeight:0,letterSpacing:0},e.EDITOR_MODEL_DEFAULTS={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0},e.editorOptionsRegistry=[];function j(ne){return e.editorOptionsRegistry[ne.id]=ne,ne}e.EditorOptions={acceptSuggestionOnCommitCharacter:j(new a(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:v.localize(111,null)})),acceptSuggestionOnEnter:j(new n(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",v.localize(112,null),""],markdownDescription:v.localize(113,null)})),accessibilitySupport:j(new o),accessibilityPageSize:j(new l(3,"accessibilityPageSize",10,1,1073741824,{description:v.localize(114,null)})),ariaLabel:j(new d(4,"ariaLabel",v.localize(115,null))),autoClosingBrackets:j(new n(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",v.localize(116,null),v.localize(117,null),""],description:v.localize(118,null)})),autoClosingDelete:j(new n(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",v.localize(119,null),""],description:v.localize(120,null)})),autoClosingOvertype:j(new n(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",v.localize(121,null),""],description:v.localize(122,null)})),autoClosingQuotes:j(new n(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",v.localize(123,null),v.localize(124,null),""],description:v.localize(125,null)})),autoIndent:j(new s(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],t,{enumDescriptions:[v.localize(126,null),v.localize(127,null),v.localize(128,null),v.localize(129,null),v.localize(130,null)],description:v.localize(131,null)})),automaticLayout:j(new a(10,"automaticLayout",!1)),autoSurround:j(new n(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[v.localize(132,null),v.localize(133,null),v.localize(134,null),""],description:v.localize(135,null)})),stickyTabStops:j(new a(101,"stickyTabStops",!1,{description:v.localize(136,null)})),codeLens:j(new a(12,"codeLens",!0,{description:v.localize(137,null)})),codeLensFontFamily:j(new d(13,"codeLensFontFamily","",{description:v.localize(138,null)})),codeLensFontSize:j(new l(14,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,description:v.localize(139,null)})),colorDecorators:j(new a(15,"colorDecorators",!0,{description:v.localize(140,null)})),columnSelection:j(new a(16,"columnSelection",!1,{description:v.localize(141,null)})),comments:j(new h),contextmenu:j(new a(18,"contextmenu",!0)),copyWithSyntaxHighlighting:j(new a(19,"copyWithSyntaxHighlighting",!0,{description:v.localize(142,null)})),cursorBlinking:j(new s(20,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],g,{description:v.localize(143,null)})),cursorSmoothCaretAnimation:j(new a(21,"cursorSmoothCaretAnimation",!1,{description:v.localize(144,null)})),cursorStyle:j(new s(22,"cursorStyle",m.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],f,{description:v.localize(145,null)})),cursorSurroundingLines:j(new l(23,"cursorSurroundingLines",0,0,1073741824,{description:v.localize(146,null)})),cursorSurroundingLinesStyle:j(new n(24,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[v.localize(147,null),v.localize(148,null)],description:v.localize(149,null)})),cursorWidth:j(new l(25,"cursorWidth",0,0,1073741824,{markdownDescription:v.localize(150,null)})),disableLayerHinting:j(new a(26,"disableLayerHinting",!1)),disableMonospaceOptimizations:j(new a(27,"disableMonospaceOptimizations",!1)),domReadOnly:j(new a(28,"domReadOnly",!1)),dragAndDrop:j(new a(29,"dragAndDrop",!0,{description:v.localize(151,null)})),emptySelectionClipboard:j(new y),extraEditorClassName:j(new d(31,"extraEditorClassName","")),fastScrollSensitivity:j(new c(32,"fastScrollSensitivity",5,ne=>ne<=0?5:ne,{markdownDescription:v.localize(152,null)})),find:j(new L),fixedOverflowWidgets:j(new a(34,"fixedOverflowWidgets",!1)),folding:j(new a(35,"folding",!0,{description:v.localize(153,null)})),foldingStrategy:j(new n(36,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[v.localize(154,null),v.localize(155,null)],description:v.localize(156,null)})),foldingHighlight:j(new a(37,"foldingHighlight",!0,{description:v.localize(157,null)})),unfoldOnClickAfterEndOfLine:j(new a(38,"unfoldOnClickAfterEndOfLine",!1,{description:v.localize(158,null)})),fontFamily:j(new d(39,"fontFamily",e.EDITOR_FONT_DEFAULTS.fontFamily,{description:v.localize(159,null)})),fontInfo:j(new M),fontLigatures2:j(new N),fontSize:j(new D),fontWeight:j(new R),formatOnPaste:j(new a(44,"formatOnPaste",!1,{description:v.localize(160,null)})),formatOnType:j(new a(45,"formatOnType",!1,{description:v.localize(161,null)})),glyphMargin:j(new a(46,"glyphMargin",!0,{description:v.localize(162,null)})),gotoLocation:j(new P),hideCursorInOverviewRuler:j(new a(48,"hideCursorInOverviewRuler",!1,{description:v.localize(163,null)})),highlightActiveIndentGuide:j(new a(49,"highlightActiveIndentGuide",!0,{description:v.localize(164,null)})),hover:j(new O),inDiffEditor:j(new a(51,"inDiffEditor",!1)),letterSpacing:j(new c(52,"letterSpacing",e.EDITOR_FONT_DEFAULTS.letterSpacing,ne=>c.clamp(ne,-5,20),{description:v.localize(165,null)})),lightbulb:j(new F),lineDecorationsWidth:j(new p(54,"lineDecorationsWidth",10)),lineHeight:j(new A),lineNumbers:j(new ie),lineNumbersMinChars:j(new l(57,"lineNumbersMinChars",5,1,300)),linkedEditing:j(new a(58,"linkedEditing",!1,{description:v.localize(166,null)})),links:j(new a(59,"links",!0,{description:v.localize(167,null)})),matchBrackets:j(new n(60,"matchBrackets","always",["always","near","never"],{description:v.localize(168,null)})),minimap:j(new B),mouseStyle:j(new n(62,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:j(new c(63,"mouseWheelScrollSensitivity",1,ne=>ne===0?1:ne,{markdownDescription:v.localize(169,null)})),mouseWheelZoom:j(new a(64,"mouseWheelZoom",!1,{markdownDescription:v.localize(170,null)})),multiCursorMergeOverlapping:j(new a(65,"multiCursorMergeOverlapping",!0,{description:v.localize(171,null)})),multiCursorModifier:j(new s(66,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],H,{markdownEnumDescriptions:[v.localize(172,null),v.localize(173,null)],markdownDescription:v.localize(174,null)})),multiCursorPaste:j(new n(67,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[v.localize(175,null),v.localize(176,null)],markdownDescription:v.localize(177,null)})),occurrencesHighlight:j(new a(68,"occurrencesHighlight",!0,{description:v.localize(178,null)})),overviewRulerBorder:j(new a(69,"overviewRulerBorder",!0,{description:v.localize(179,null)})),overviewRulerLanes:j(new l(70,"overviewRulerLanes",3,0,3)),padding:j(new K),parameterHints:j(new q),peekWidgetDefaultFocus:j(new n(73,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[v.localize(180,null),v.localize(181,null)],description:v.localize(182,null)})),definitionLinkOpensInPeek:j(new a(74,"definitionLinkOpensInPeek",!1,{description:v.localize(183,null)})),quickSuggestions:j(new te),quickSuggestionsDelay:j(new l(76,"quickSuggestionsDelay",10,0,1073741824,{description:v.localize(184,null)})),readOnly:j(new a(77,"readOnly",!1)),renameOnType:j(new a(78,"renameOnType",!1,{description:v.localize(185,null),markdownDeprecationMessage:v.localize(186,null)})),renderControlCharacters:j(new a(79,"renderControlCharacters",!1,{description:v.localize(187,null)})),renderIndentGuides:j(new a(80,"renderIndentGuides",!0,{description:v.localize(188,null)})),renderFinalNewline:j(new a(81,"renderFinalNewline",!0,{description:v.localize(189,null)})),renderLineHighlight:j(new n(82,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",v.localize(190,null)],description:v.localize(191,null)})),renderLineHighlightOnlyWhenFocus:j(new a(83,"renderLineHighlightOnlyWhenFocus",!1,{description:v.localize(192,null)})),renderValidationDecorations:j(new n(84,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:j(new n(85,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",v.localize(193,null),v.localize(194,null),v.localize(195,null),""],description:v.localize(196,null)})),revealHorizontalRightPadding:j(new l(86,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:j(new a(87,"roundedSelection",!0,{description:v.localize(197,null)})),rulers:j(new le),scrollbar:j(new T),scrollBeyondLastColumn:j(new l(90,"scrollBeyondLastColumn",5,0,1073741824,{description:v.localize(198,null)})),scrollBeyondLastLine:j(new a(91,"scrollBeyondLastLine",!0,{description:v.localize(199,null)})),scrollPredominantAxis:j(new a(92,"scrollPredominantAxis",!0,{description:v.localize(200,null)})),selectionClipboard:j(new a(93,"selectionClipboard",!0,{description:v.localize(201,null),included:I.isLinux})),selectionHighlight:j(new a(94,"selectionHighlight",!0,{description:v.localize(202,null)})),selectOnLineNumbers:j(new a(95,"selectOnLineNumbers",!0)),showFoldingControls:j(new n(96,"showFoldingControls","mouseover",["always","mouseover"],{enumDescriptions:[v.localize(203,null),v.localize(204,null)],description:v.localize(205,null)})),showUnused:j(new a(97,"showUnused",!0,{description:v.localize(206,null)})),showDeprecated:j(new a(122,"showDeprecated",!0,{description:v.localize(207,null)})),inlineHints:j(new E),snippetSuggestions:j(new n(98,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[v.localize(208,null),v.localize(209,null),v.localize(210,null),v.localize(211,null)],description:v.localize(212,null)})),smartSelect:j(new z),smoothScrolling:j(new a(100,"smoothScrolling",!1,{description:v.localize(213,null)})),stopRenderingLineAfter:j(new l(102,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:j(new x),suggestFontSize:j(new l(104,"suggestFontSize",0,0,1e3,{markdownDescription:v.localize(214,null)})),suggestLineHeight:j(new l(105,"suggestLineHeight",0,0,1e3,{markdownDescription:v.localize(215,null)})),suggestOnTriggerCharacters:j(new a(106,"suggestOnTriggerCharacters",!0,{description:v.localize(216,null)})),suggestSelection:j(new n(107,"suggestSelection","recentlyUsed",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[v.localize(217,null),v.localize(218,null),v.localize(219,null)],description:v.localize(220,null)})),tabCompletion:j(new n(108,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[v.localize(221,null),v.localize(222,null),v.localize(223,null)],description:v.localize(224,null)})),tabIndex:j(new l(109,"tabIndex",0,-1,1073741824)),unusualLineTerminators:j(new n(110,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[v.localize(225,null),v.localize(226,null),v.localize(227,null)],description:v.localize(228,null)})),useShadowDOM:j(new a(111,"useShadowDOM",!0)),useTabStops:j(new a(112,"useTabStops",!0,{description:v.localize(229,null)})),wordSeparators:j(new d(113,"wordSeparators",k.USUAL_WORD_SEPARATORS,{description:v.localize(230,null)})),wordWrap:j(new n(114,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[v.localize(231,null),v.localize(232,null),v.localize(233,null),v.localize(234,null)],description:v.localize(235,null)})),wordWrapBreakAfterCharacters:j(new d(115,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:j(new d(116,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:j(new l(117,"wordWrapColumn",80,1,1073741824,{markdownDescription:v.localize(236,null)})),wordWrapOverride1:j(new n(118,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:j(new n(119,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:j(new s(120,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],U,{enumDescriptions:[v.localize(237,null),v.localize(238,null),v.localize(239,null),v.localize(240,null)],description:v.localize(241,null)})),wrappingStrategy:j(new n(121,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[v.localize(242,null),v.localize(243,null)],description:v.localize(244,null)})),editorClassName:j(new b),pixelRatio:j(new Y),tabFocusMode:j(new V),layoutInfo:j(new W),wrappingInfo:j(new Q)}}),define(J[456],ee([0,1,14,3,63,38]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModelDecorations=void 0;class S{constructor(C,i,p,u,a){this.editorId=C,this.model=i,this.configuration=p,this._linesCollection=u,this._coordinatesConverter=a,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(C){const i=C.id;let p=this._decorationsCache[i];if(!p){const u=C.range,a=C.options;let l;if(a.isWholeLine){const c=this._coordinatesConverter.convertModelPositionToViewPosition(new v.Position(u.startLineNumber,1)),d=this._coordinatesConverter.convertModelPositionToViewPosition(new v.Position(u.endLineNumber,this.model.getLineMaxColumn(u.endLineNumber)));l=new I.Range(c.lineNumber,c.column,d.lineNumber,d.column)}else l=this._coordinatesConverter.convertModelRangeToViewRange(u);p=new k.ViewModelDecoration(l,a),this._decorationsCache[i]=p}return p}getDecorationsViewportData(C){let i=this._cachedModelDecorationsResolver!==null;return i=i&&C.equalsRange(this._cachedModelDecorationsResolverViewRange),i||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(C),this._cachedModelDecorationsResolverViewRange=C),this._cachedModelDecorationsResolver}_getDecorationsViewportData(C){const i=this._linesCollection.getDecorationsInRange(C,this.editorId,(0,w.filterValidationDecorations)(this.configuration.options)),p=C.startLineNumber,u=C.endLineNumber;let a=[],l=0,c=[];for(let d=p;d<=u;d++)c[d-p]=[];for(let d=0,r=i.length;d<r;d++){let n=i[d],s=n.options,t=this._getOrCreateViewModelDecoration(n),o=t.range;if(a[l++]=t,s.inlineClassName){let h=new k.InlineDecoration(o,s.inlineClassName,s.inlineClassNameAffectsLetterSpacing?3:0),g=Math.max(p,o.startLineNumber),m=Math.min(u,o.endLineNumber);for(let f=g;f<=m;f++)c[f-p].push(h)}if(s.beforeContentClassName&&p<=o.startLineNumber&&o.startLineNumber<=u){let h=new k.InlineDecoration(new I.Range(o.startLineNumber,o.startColumn,o.startLineNumber,o.startColumn),s.beforeContentClassName,1);c[o.startLineNumber-p].push(h)}if(s.afterContentClassName&&p<=o.endLineNumber&&o.endLineNumber<=u){let h=new k.InlineDecoration(new I.Range(o.endLineNumber,o.endColumn,o.endLineNumber,o.endColumn),s.afterContentClassName,2);c[o.endLineNumber-p].push(h)}}return{decorations:a,inlineDecorations:c}}}e.ViewModelDecorations=S}),define(J[457],ee([4,5]),function($,e){return $.create("vs/editor/common/editorContextKeys",e)}),define(J[458],ee([4,5]),function($,e){return $.create("vs/editor/common/model/editStack",e)}),define(J[236],ee([0,1,458,11,21,24,219,101,45]),function($,e,v,I,k,w,S,_,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditStack=e.isEditStackElement=e.MultiModelEditStackElement=e.SingleModelEditStackElement=e.SingleModelEditStackData=void 0;function i(r){return r.toString()}class p{constructor(n,s,t,o,h,g,m){this.beforeVersionId=n,this.afterVersionId=s,this.beforeEOL=t,this.afterEOL=o,this.beforeCursorState=h,this.afterCursorState=g,this.changes=m}static create(n,s){const t=n.getAlternativeVersionId(),o=l(n);return new p(t,t,o,o,s,s,[])}append(n,s,t,o,h){s.length>0&&(this.changes=(0,S.compressConsecutiveTextChanges)(this.changes,s)),this.afterEOL=t,this.afterVersionId=o,this.afterCursorState=h}static _writeSelectionsSize(n){return 4+4*4*(n?n.length:0)}static _writeSelections(n,s,t){if(_.writeUInt32BE(n,s?s.length:0,t),t+=4,s)for(const o of s)_.writeUInt32BE(n,o.selectionStartLineNumber,t),t+=4,_.writeUInt32BE(n,o.selectionStartColumn,t),t+=4,_.writeUInt32BE(n,o.positionLineNumber,t),t+=4,_.writeUInt32BE(n,o.positionColumn,t),t+=4;return t}static _readSelections(n,s,t){const o=_.readUInt32BE(n,s);s+=4;for(let h=0;h<o;h++){const g=_.readUInt32BE(n,s);s+=4;const m=_.readUInt32BE(n,s);s+=4;const f=_.readUInt32BE(n,s);s+=4;const b=_.readUInt32BE(n,s);s+=4,t.push(new k.Selection(g,m,f,b))}return s}serialize(){let n=4+4+1+1+p._writeSelectionsSize(this.beforeCursorState)+p._writeSelectionsSize(this.afterCursorState)+4;for(const o of this.changes)n+=o.writeSize();const s=new Uint8Array(n);let t=0;_.writeUInt32BE(s,this.beforeVersionId,t),t+=4,_.writeUInt32BE(s,this.afterVersionId,t),t+=4,_.writeUInt8(s,this.beforeEOL,t),t+=1,_.writeUInt8(s,this.afterEOL,t),t+=1,t=p._writeSelections(s,this.beforeCursorState,t),t=p._writeSelections(s,this.afterCursorState,t),_.writeUInt32BE(s,this.changes.length,t),t+=4;for(const o of this.changes)t=o.write(s,t);return s.buffer}static deserialize(n){const s=new Uint8Array(n);let t=0;const o=_.readUInt32BE(s,t);t+=4;const h=_.readUInt32BE(s,t);t+=4;const g=_.readUInt8(s,t);t+=1;const m=_.readUInt8(s,t);t+=1;const f=[];t=p._readSelections(s,t,f);const b=[];t=p._readSelections(s,t,b);const y=_.readUInt32BE(s,t);t+=4;const L=[];for(let N=0;N<y;N++)t=S.TextChange.read(s,t,L);return new p(o,h,g,m,f,b,L)}}e.SingleModelEditStackData=p;class u{constructor(n,s){this.model=n,this._data=p.create(n,s)}get type(){return 0}get resource(){return w.URI.isUri(this.model)?this.model:this.model.uri}get label(){return v.localize(0,null)}toString(){return(this._data instanceof p?this._data:p.deserialize(this._data)).changes.map(s=>s.toString()).join(", ")}matchesResource(n){return(w.URI.isUri(this.model)?this.model:this.model.uri).toString()===n.toString()}setModel(n){this.model=n}canAppend(n){return this.model===n&&this._data instanceof p}append(n,s,t,o,h){this._data instanceof p&&this._data.append(n,s,t,o,h)}close(){this._data instanceof p&&(this._data=this._data.serialize())}open(){this._data instanceof p||(this._data=p.deserialize(this._data))}undo(){if(w.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof p&&(this._data=this._data.serialize());const n=p.deserialize(this._data);this.model._applyUndo(n.changes,n.beforeEOL,n.beforeVersionId,n.beforeCursorState)}redo(){if(w.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof p&&(this._data=this._data.serialize());const n=p.deserialize(this._data);this.model._applyRedo(n.changes,n.afterEOL,n.afterVersionId,n.afterCursorState)}heapSize(){return this._data instanceof p&&(this._data=this._data.serialize()),this._data.byteLength+168}}e.SingleModelEditStackElement=u;class a{constructor(n,s){this.type=1,this.label=n,this._isOpen=!0,this._editStackElementsArr=s.slice(0),this._editStackElementsMap=new Map;for(const t of this._editStackElementsArr){const o=i(t.resource);this._editStackElementsMap.set(o,t)}this._delegate=null}get resources(){return this._editStackElementsArr.map(n=>n.resource)}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(n){const s=i(n);return this._editStackElementsMap.has(s)}setModel(n){const s=i(w.URI.isUri(n)?n:n.uri);this._editStackElementsMap.has(s)&&this._editStackElementsMap.get(s).setModel(n)}canAppend(n){if(!this._isOpen)return!1;const s=i(n.uri);return this._editStackElementsMap.has(s)?this._editStackElementsMap.get(s).canAppend(n):!1}append(n,s,t,o,h){const g=i(n.uri);this._editStackElementsMap.get(g).append(n,s,t,o,h)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const n of this._editStackElementsArr)n.undo()}redo(){for(const n of this._editStackElementsArr)n.redo()}heapSize(n){const s=i(n);return this._editStackElementsMap.has(s)?this._editStackElementsMap.get(s).heapSize():0}split(){return this._editStackElementsArr}toString(){let n=[];for(const s of this._editStackElementsArr)n.push(`${(0,C.basename)(s.resource)}: ${s}`);return`{${n.join(", ")}}`}}e.MultiModelEditStackElement=a;function l(r){return r.getEOL()===`
`?0:1}function c(r){return r?r instanceof u||r instanceof a:!1}e.isEditStackElement=c;class d{constructor(n,s){this._model=n,this._undoRedoService=s}pushStackElement(){const n=this._undoRedoService.getLastElement(this._model.uri);c(n)&&n.close()}popStackElement(){const n=this._undoRedoService.getLastElement(this._model.uri);c(n)&&n.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(n){const s=this._undoRedoService.getLastElement(this._model.uri);if(c(s)&&s.canAppend(this._model))return s;const t=new u(this._model,n);return this._undoRedoService.pushElement(t),t}pushEOL(n){const s=this._getOrCreateEditStackElement(null);this._model.setEOL(n),s.append(this._model,[],l(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(n,s,t){const o=this._getOrCreateEditStackElement(n),h=this._model.applyEdits(s,!0),g=d._computeCursorState(t,h),m=h.map((f,b)=>({index:b,textChange:f.textChange}));return m.sort((f,b)=>f.textChange.oldPosition===b.textChange.oldPosition?f.index-b.index:f.textChange.oldPosition-b.textChange.oldPosition),o.append(this._model,m.map(f=>f.textChange),l(this._model),this._model.getAlternativeVersionId(),g),g}static _computeCursorState(n,s){try{return n?n(s):null}catch(t){return(0,I.onUnexpectedError)(t),null}}}e.EditStack=d}),define(J[459],ee([4,5]),function($,e){return $.create("vs/editor/common/modes/modesRegistry",e)}),define(J[460],ee([4,5]),function($,e){return $.create("vs/editor/common/standaloneStrings",e)}),define(J[64],ee([0,1,460]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleServicesNLS=e.ToggleHighContrastNLS=e.StandaloneCodeEditorNLS=e.QuickOutlineNLS=e.QuickCommandNLS=e.QuickHelpNLS=e.GoToLineNLS=e.InspectTokensNLS=e.AccessibilityHelpNLS=void 0;var I;(function(a){a.noSelection=v.localize(0,null),a.singleSelectionRange=v.localize(1,null),a.singleSelection=v.localize(2,null),a.multiSelectionRange=v.localize(3,null),a.multiSelection=v.localize(4,null),a.emergencyConfOn=v.localize(5,null),a.openingDocs=v.localize(6,null),a.readonlyDiffEditor=v.localize(7,null),a.editableDiffEditor=v.localize(8,null),a.readonlyEditor=v.localize(9,null),a.editableEditor=v.localize(10,null),a.changeConfigToOnMac=v.localize(11,null),a.changeConfigToOnWinLinux=v.localize(12,null),a.auto_on=v.localize(13,null),a.auto_off=v.localize(14,null),a.tabFocusModeOnMsg=v.localize(15,null),a.tabFocusModeOnMsgNoKb=v.localize(16,null),a.tabFocusModeOffMsg=v.localize(17,null),a.tabFocusModeOffMsgNoKb=v.localize(18,null),a.openDocMac=v.localize(19,null),a.openDocWinLinux=v.localize(20,null),a.outroMsg=v.localize(21,null),a.showAccessibilityHelpAction=v.localize(22,null)})(I=e.AccessibilityHelpNLS||(e.AccessibilityHelpNLS={}));var k;(function(a){a.inspectTokensAction=v.localize(23,null)})(k=e.InspectTokensNLS||(e.InspectTokensNLS={}));var w;(function(a){a.gotoLineActionLabel=v.localize(24,null)})(w=e.GoToLineNLS||(e.GoToLineNLS={}));var S;(function(a){a.helpQuickAccessActionLabel=v.localize(25,null)})(S=e.QuickHelpNLS||(e.QuickHelpNLS={}));var _;(function(a){a.quickCommandActionLabel=v.localize(26,null),a.quickCommandHelp=v.localize(27,null)})(_=e.QuickCommandNLS||(e.QuickCommandNLS={}));var C;(function(a){a.quickOutlineActionLabel=v.localize(28,null),a.quickOutlineByCategoryActionLabel=v.localize(29,null)})(C=e.QuickOutlineNLS||(e.QuickOutlineNLS={}));var i;(function(a){a.editorViewAccessibleLabel=v.localize(30,null),a.accessibilityHelpMessage=v.localize(31,null)})(i=e.StandaloneCodeEditorNLS||(e.StandaloneCodeEditorNLS={}));var p;(function(a){a.toggleHighContrast=v.localize(32,null)})(p=e.ToggleHighContrastNLS||(e.ToggleHighContrastNLS={}));var u;(function(a){a.bulkEditServiceSummary=v.localize(33,null)})(u=e.SimpleServicesNLS||(e.SimpleServicesNLS={}))}),define(J[461],ee([4,5]),function($,e){return $.create("vs/editor/common/view/editorColorRegistry",e)}),define(J[462],ee([4,5]),function($,e){return $.create("vs/editor/contrib/anchorSelect/anchorSelect",e)}),define(J[463],ee([4,5]),function($,e){return $.create("vs/editor/contrib/bracketMatching/bracketMatching",e)}),define(J[464],ee([4,5]),function($,e){return $.create("vs/editor/contrib/caretOperations/caretOperations",e)}),define(J[465],ee([4,5]),function($,e){return $.create("vs/editor/contrib/caretOperations/transpose",e)}),define(J[466],ee([4,5]),function($,e){return $.create("vs/editor/contrib/clipboard/clipboard",e)}),define(J[467],ee([4,5]),function($,e){return $.create("vs/editor/contrib/codeAction/codeActionCommands",e)}),define(J[468],ee([4,5]),function($,e){return $.create("vs/editor/contrib/codeAction/lightBulbWidget",e)}),define(J[469],ee([4,5]),function($,e){return $.create("vs/editor/contrib/codelens/codelensController",e)}),define(J[470],ee([4,5]),function($,e){return $.create("vs/editor/contrib/comment/comment",e)}),define(J[471],ee([4,5]),function($,e){return $.create("vs/editor/contrib/contextmenu/contextmenu",e)}),define(J[472],ee([4,5]),function($,e){return $.create("vs/editor/contrib/cursorUndo/cursorUndo",e)}),define(J[473],ee([4,5]),function($,e){return $.create("vs/editor/contrib/find/findController",e)}),define(J[474],ee([4,5]),function($,e){return $.create("vs/editor/contrib/find/findWidget",e)}),define(J[475],ee([4,5]),function($,e){return $.create("vs/editor/contrib/folding/folding",e)}),define(J[476],ee([4,5]),function($,e){return $.create("vs/editor/contrib/folding/foldingDecorations",e)}),define(J[477],ee([4,5]),function($,e){return $.create("vs/editor/contrib/fontZoom/fontZoom",e)}),define(J[478],ee([4,5]),function($,e){return $.create("vs/editor/contrib/format/format",e)}),define(J[479],ee([4,5]),function($,e){return $.create("vs/editor/contrib/format/formatActions",e)}),define(J[480],ee([4,5]),function($,e){return $.create("vs/editor/contrib/gotoError/gotoError",e)}),define(J[481],ee([4,5]),function($,e){return $.create("vs/editor/contrib/gotoError/gotoErrorWidget",e)}),define(J[482],ee([4,5]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/goToCommands",e)}),define(J[483],ee([4,5]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition",e)}),define(J[484],ee([4,5]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/peek/referencesController",e)}),define(J[485],ee([4,5]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/peek/referencesTree",e)}),define(J[486],ee([4,5]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/peek/referencesWidget",e)}),define(J[487],ee([4,5]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/referencesModel",e)}),define(J[113],ee([0,1,487,6,45,2,8,120,3,51,11]),function($,e,v,I,k,w,S,_,C,i,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesModel=e.FileReferences=e.FilePreview=e.OneReference=void 0;class u{constructor(r,n,s,t){this.isProviderFirst=r,this.parent=n,this.link=s,this._rangeCallback=t,this.id=_.defaultGenerator.nextId()}get uri(){return this.link.uri}get range(){var r,n;return(n=(r=this._range)!==null&&r!==void 0?r:this.link.targetSelectionRange)!==null&&n!==void 0?n:this.link.range}set range(r){this._range=r,this._rangeCallback(this)}get ariaMessage(){var r;const n=(r=this.parent.getPreview(this))===null||r===void 0?void 0:r.preview(this.range);return n?(0,v.localize)(1,null,(0,k.basename)(this.uri),this.range.startLineNumber,this.range.startColumn,n.value):(0,v.localize)(0,null,(0,k.basename)(this.uri),this.range.startLineNumber,this.range.startColumn)}}e.OneReference=u;class a{constructor(r){this._modelReference=r}dispose(){this._modelReference.dispose()}preview(r,n=8){const s=this._modelReference.object.textEditorModel;if(!!s){const{startLineNumber:t,startColumn:o,endLineNumber:h,endColumn:g}=r,m=s.getWordUntilPosition({lineNumber:t,column:o-n}),f=new C.Range(t,m.startColumn,t,o),b=new C.Range(h,g,h,1073741824),y=s.getValueInRange(f).replace(/^\s+/,""),L=s.getValueInRange(r),N=s.getValueInRange(b).replace(/\s+$/,"");return{value:y+L+N,highlight:{start:y.length,end:y.length+L.length}}}}}e.FilePreview=a;class l{constructor(r,n){this.parent=r,this.uri=n,this.children=[],this._previews=new i.ResourceMap}dispose(){(0,w.dispose)(this._previews.values()),this._previews.clear()}getPreview(r){return this._previews.get(r.uri)}get ariaMessage(){const r=this.children.length;return r===1?(0,v.localize)(2,null,(0,k.basename)(this.uri),this.uri.fsPath):(0,v.localize)(3,null,r,(0,k.basename)(this.uri),this.uri.fsPath)}resolve(r){return Ie(this,void 0,void 0,function*(){if(this._previews.size!==0)return this;for(let n of this.children)if(!this._previews.has(n.uri))try{const s=yield r.createModelReference(n.uri);this._previews.set(n.uri,new a(s))}catch(s){(0,p.onUnexpectedError)(s)}return this})}}e.FileReferences=l;class c{constructor(r,n){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new I.Emitter,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=r,this._title=n;const[s]=r;r.sort(c._compareReferences);let t;for(let o of r)if((!t||!k.extUri.isEqual(t.uri,o.uri,!0))&&(t=new l(this,o.uri),this.groups.push(t)),t.children.length===0||c._compareReferences(o,t.children[t.children.length-1])!==0){const h=new u(s===o,t,o,g=>this._onDidChangeReferenceRange.fire(g));this.references.push(h),t.children.push(h)}}dispose(){(0,w.dispose)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new c(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?(0,v.localize)(4,null):this.references.length===1?(0,v.localize)(5,null,this.references[0].uri.fsPath):this.groups.length===1?(0,v.localize)(6,null,this.references.length,this.groups[0].uri.fsPath):(0,v.localize)(7,null,this.references.length,this.groups.length)}nextOrPreviousReference(r,n){let{parent:s}=r,t=s.children.indexOf(r),o=s.children.length,h=s.parent.groups.length;return h===1||n&&t+1<o||!n&&t>0?(n?t=(t+1)%o:t=(t+o-1)%o,s.children[t]):(t=s.parent.groups.indexOf(s),n?(t=(t+1)%h,s.parent.groups[t].children[0]):(t=(t+h-1)%h,s.parent.groups[t].children[s.parent.groups[t].children.length-1]))}nearestReference(r,n){const s=this.references.map((t,o)=>({idx:o,prefixLen:S.commonPrefixLength(t.uri.toString(),r.toString()),offsetDist:Math.abs(t.range.startLineNumber-n.lineNumber)*100+Math.abs(t.range.startColumn-n.column)})).sort((t,o)=>t.prefixLen>o.prefixLen?-1:t.prefixLen<o.prefixLen?1:t.offsetDist<o.offsetDist?-1:t.offsetDist>o.offsetDist?1:0)[0];if(s)return this.references[s.idx]}referenceAt(r,n){for(const s of this.references)if(s.uri.toString()===r.toString()&&C.Range.containsPosition(s.range,n))return s}firstReference(){for(const r of this.references)if(r.isProviderFirst)return r;return this.references[0]}static _compareReferences(r,n){return k.extUri.compare(r.uri,n.uri)||C.Range.compareRangesUsingStarts(r.range,n.range)}}e.ReferencesModel=c}),define(J[488],ee([4,5]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/symbolNavigation",e)}),define(J[489],ee([4,5]),function($,e){return $.create("vs/editor/contrib/hover/hover",e)}),define(J[490],ee([4,5]),function($,e){return $.create("vs/editor/contrib/hover/markdownHoverParticipant",e)}),define(J[491],ee([4,5]),function($,e){return $.create("vs/editor/contrib/hover/markerHoverParticipant",e)}),define(J[492],ee([4,5]),function($,e){return $.create("vs/editor/contrib/inPlaceReplace/inPlaceReplace",e)}),define(J[493],ee([4,5]),function($,e){return $.create("vs/editor/contrib/indentation/indentation",e)}),define(J[494],ee([4,5]),function($,e){return $.create("vs/editor/contrib/linesOperations/linesOperations",e)}),define(J[495],ee([4,5]),function($,e){return $.create("vs/editor/contrib/linkedEditing/linkedEditing",e)}),define(J[496],ee([4,5]),function($,e){return $.create("vs/editor/contrib/links/links",e)}),define(J[497],ee([4,5]),function($,e){return $.create("vs/editor/contrib/message/messageController",e)}),define(J[498],ee([4,5]),function($,e){return $.create("vs/editor/contrib/multicursor/multicursor",e)}),define(J[499],ee([4,5]),function($,e){return $.create("vs/editor/contrib/parameterHints/parameterHints",e)}),define(J[500],ee([4,5]),function($,e){return $.create("vs/editor/contrib/parameterHints/parameterHintsWidget",e)}),define(J[501],ee([4,5]),function($,e){return $.create("vs/editor/contrib/peekView/peekView",e)}),define(J[502],ee([4,5]),function($,e){return $.create("vs/editor/contrib/quickAccess/gotoLineQuickAccess",e)}),define(J[503],ee([4,5]),function($,e){return $.create("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess",e)}),define(J[504],ee([4,5]),function($,e){return $.create("vs/editor/contrib/rename/rename",e)}),define(J[505],ee([4,5]),function($,e){return $.create("vs/editor/contrib/rename/renameInputField",e)}),define(J[506],ee([4,5]),function($,e){return $.create("vs/editor/contrib/smartSelect/smartSelect",e)}),define(J[507],ee([4,5]),function($,e){return $.create("vs/editor/contrib/snippet/snippetController2",e)}),define(J[508],ee([4,5]),function($,e){return $.create("vs/editor/contrib/snippet/snippetVariables",e)}),define(J[509],ee([4,5]),function($,e){return $.create("vs/editor/contrib/suggest/suggest",e)}),define(J[510],ee([4,5]),function($,e){return $.create("vs/editor/contrib/suggest/suggestController",e)}),define(J[511],ee([4,5]),function($,e){return $.create("vs/editor/contrib/suggest/suggestWidget",e)}),define(J[512],ee([4,5]),function($,e){return $.create("vs/editor/contrib/suggest/suggestWidgetDetails",e)}),define(J[513],ee([4,5]),function($,e){return $.create("vs/editor/contrib/suggest/suggestWidgetRenderer",e)}),define(J[514],ee([4,5]),function($,e){return $.create("vs/editor/contrib/suggest/suggestWidgetStatus",e)}),define(J[515],ee([4,5]),function($,e){return $.create("vs/editor/contrib/symbolIcons/symbolIcons",e)}),define(J[516],ee([4,5]),function($,e){return $.create("vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode",e)}),define(J[517],ee([4,5]),function($,e){return $.create("vs/editor/contrib/tokenization/tokenization",e)}),define(J[518],ee([4,5]),function($,e){return $.create("vs/editor/contrib/unusualLineTerminators/unusualLineTerminators",e)}),define(J[519],ee([4,5]),function($,e){return $.create("vs/editor/contrib/wordHighlighter/wordHighlighter",e)}),define(J[520],ee([4,5]),function($,e){return $.create("vs/editor/contrib/wordOperations/wordOperations",e)}),define(J[521],ee([4,5]),function($,e){return $.create("vs/platform/actions/browser/menuEntryActionViewItem",e)}),define(J[522],ee([4,5]),function($,e){return $.create("vs/platform/configuration/common/configurationRegistry",e)}),define(J[523],ee([4,5]),function($,e){return $.create("vs/platform/contextkey/browser/contextKeyService",e)}),define(J[524],ee([4,5]),function($,e){return $.create("vs/platform/contextkey/common/contextkeys",e)}),define(J[525],ee([4,5]),function($,e){return $.create("vs/platform/keybinding/common/abstractKeybindingService",e)}),define(J[526],ee([4,5]),function($,e){return $.create("vs/platform/list/browser/listService",e)}),define(J[527],ee([4,5]),function($,e){return $.create("vs/platform/markers/common/markers",e)}),define(J[528],ee([4,5]),function($,e){return $.create("vs/platform/quickinput/browser/commandsQuickAccess",e)}),define(J[529],ee([4,5]),function($,e){return $.create("vs/platform/quickinput/browser/helpQuickAccess",e)}),define(J[530],ee([4,5]),function($,e){return $.create("vs/platform/theme/common/colorRegistry",e)}),define(J[531],ee([4,5]),function($,e){return $.create("vs/platform/theme/common/iconRegistry",e)}),define(J[532],ee([4,5]),function($,e){return $.create("vs/platform/undoRedo/common/undoRedoService",e)}),define(J[533],ee([0,1,7]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserClipboardService=void 0;class I{constructor(){this.mapTextToType=new Map,this.findText=""}writeText(w,S){return Ie(this,void 0,void 0,function*(){if(S){this.mapTextToType.set(S,w);return}try{return yield navigator.clipboard.writeText(w)}catch(i){console.error(i)}const _=document.activeElement,C=document.body.appendChild((0,v.$)("textarea",{"aria-hidden":!0}));C.style.height="1px",C.style.width="1px",C.style.position="absolute",C.value=w,C.focus(),C.select(),document.execCommand("copy"),_ instanceof HTMLElement&&_.focus(),document.body.removeChild(C)})}readText(w){return Ie(this,void 0,void 0,function*(){if(w)return this.mapTextToType.get(w)||"";try{return yield navigator.clipboard.readText()}catch(S){return console.error(S),""}})}readFindText(){return Ie(this,void 0,void 0,function*(){return this.findText})}writeFindText(w){return Ie(this,void 0,void 0,function*(){this.findText=w})}}e.BrowserClipboardService=I}),define(J[534],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOpenContext=void 0;var v;(function(I){I[I.API=0]="API",I[I.USER=1]="USER"})(v=e.EditorOpenContext||(e.EditorOpenContext={}))}),define(J[535],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionIdentifier=void 0;class v{constructor(k){this.value=k,this._lower=k.toLowerCase()}static toKey(k){return typeof k=="string"?k.toLowerCase():k._lower}}e.ExtensionIdentifier=v}),define(J[237],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileKind=void 0;var v;(function(I){I[I.FILE=0]="FILE",I[I.FOLDER=1]="FOLDER",I[I.ROOT_FOLDER=2]="ROOT_FOLDER"})(v=e.FileKind||(e.FileKind={}))}),define(J[238],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SyncDescriptor=void 0;class v{constructor(k,w=[],S=!1){this.ctor=k,this.staticArguments=w,this.supportsDelayedInstantiation=S}}e.SyncDescriptor=v}),define(J[75],ee([0,1,238]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSingletonServiceDescriptors=e.registerSingleton=void 0;const I=[];function k(S,_,C){_ instanceof v.SyncDescriptor||(_=new v.SyncDescriptor(_,[],C)),I.push([S,_])}e.registerSingleton=k;function w(){return I}e.getSingletonServiceDescriptors=w}),define(J[536],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=e.Node=void 0;class v{constructor(w){this.incoming=new Map,this.outgoing=new Map,this.data=w}}e.Node=v;class I{constructor(w){this._hashFn=w,this._nodes=new Map}roots(){const w=[];for(let S of this._nodes.values())S.outgoing.size===0&&w.push(S);return w}insertEdge(w,S){const _=this.lookupOrInsertNode(w),C=this.lookupOrInsertNode(S);_.outgoing.set(this._hashFn(S),C),C.incoming.set(this._hashFn(w),_)}removeNode(w){const S=this._hashFn(w);this._nodes.delete(S);for(let _ of this._nodes.values())_.outgoing.delete(S),_.incoming.delete(S)}lookupOrInsertNode(w){const S=this._hashFn(w);let _=this._nodes.get(S);return _||(_=new v(w),this._nodes.set(S,_)),_}isEmpty(){return this._nodes.size===0}toString(){let w=[];for(let[S,_]of this._nodes)w.push(`${S}, (incoming)[${[..._.incoming.keys()].join(", ")}], (outgoing)[${[..._.outgoing.keys()].join(",")}]`);return w.join(`
`)}findCycleSlow(){for(let[w,S]of this._nodes){const _=new Set([w]),C=this._findCycle(S,_);if(C)return C}}_findCycle(w,S){for(let[_,C]of w.outgoing){if(S.has(_))return[...S,_].join(" -> ");S.add(_);const i=this._findCycle(C,S);if(i)return i;S.delete(_)}}}e.Graph=I}),define(J[9],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.optional=e.createDecorator=e.IInstantiationService=e._util=void 0;var v;(function(S){S.serviceIds=new Map,S.DI_TARGET="$di$target",S.DI_DEPENDENCIES="$di$dependencies";function _(C){return C[S.DI_DEPENDENCIES]||[]}S.getServiceDependencies=_})(v=e._util||(e._util={})),e.IInstantiationService=k("instantiationService");function I(S,_,C,i){_[v.DI_TARGET]===_?_[v.DI_DEPENDENCIES].push({id:S,index:C,optional:i}):(_[v.DI_DEPENDENCIES]=[{id:S,index:C,optional:i}],_[v.DI_TARGET]=_)}function k(S){if(v.serviceIds.has(S))return v.serviceIds.get(S);const _=function(C,i,p){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");I(_,C,p,!1)};return _.toString=()=>S,v.serviceIds.set(S,_),_}e.createDecorator=k;function w(S){return function(_,C,i){if(arguments.length!==3)throw new Error("@optional-decorator can only be used to decorate a parameter");I(S,_,i,!0)}}e.optional=w}),define(J[133],ee([0,1,9,24,20]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResourceFileEdit=e.ResourceTextEdit=e.ResourceEdit=e.IBulkEditService=void 0,e.IBulkEditService=(0,v.createDecorator)("IWorkspaceEditService");function w(p){return(0,k.isObject)(p)&&(Boolean(p.newUri)||Boolean(p.oldUri))}function S(p){return(0,k.isObject)(p)&&I.URI.isUri(p.resource)&&(0,k.isObject)(p.edit)}class _{constructor(u){this.metadata=u}static convert(u){return u.edits.map(a=>{if(S(a))return new C(a.resource,a.edit,a.modelVersionId,a.metadata);if(w(a))return new i(a.oldUri,a.newUri,a.options,a.metadata);throw new Error("Unsupported edit")})}}e.ResourceEdit=_;class C extends _{constructor(u,a,l,c){super(c);this.resource=u,this.textEdit=a,this.versionId=l}}e.ResourceTextEdit=C;class i extends _{constructor(u,a,l,c){super(c);this.oldResource=u,this.newResource=a,this.options=l}}e.ResourceFileEdit=i}),define(J[28],ee([0,1,9]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ICodeEditorService=void 0,e.ICodeEditorService=(0,v.createDecorator)("codeEditorService")}),define(J[76],ee([0,1,9]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorWorkerService=e.ID_EDITOR_WORKER_SERVICE=void 0,e.ID_EDITOR_WORKER_SERVICE="editorWorkerService",e.IEditorWorkerService=(0,v.createDecorator)(e.ID_EDITOR_WORKER_SERVICE)}),define(J[179],ee([0,1,9]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerDecorationsService=void 0,e.IMarkerDecorationsService=(0,v.createDecorator)("markerDecorationsService")}),define(J[57],ee([0,1,9]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IModeService=void 0,e.IModeService=(0,v.createDecorator)("modeService")}),define(J[36],ee([0,1,9]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shouldSynchronizeModel=e.IModelService=void 0,e.IModelService=(0,v.createDecorator)("modelService");function I(k){return!k.isTooLargeForSyncing()&&!k.isForSimpleWidget}e.shouldSynchronizeModel=I}),define(J[134],ee([0,1,6,89,2,51,100,375,36]),function($,e,v,I,k,w,S,_,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureRequestDelays=e.LanguageFeatureRegistry=void 0;function i(a){return typeof a=="string"?!1:Array.isArray(a)?a.every(i):!!a.exclusive}class p{constructor(){this._clock=0,this._entries=[],this._onDidChange=new v.Emitter}get onDidChange(){return this._onDidChange.event}register(l,c){let d={selector:l,provider:c,_score:-1,_time:this._clock++};return this._entries.push(d),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,k.toDisposable)(()=>{if(d){let r=this._entries.indexOf(d);r>=0&&(this._entries.splice(r,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),d=void 0)}})}has(l){return this.all(l).length>0}all(l){if(!l)return[];this._updateScores(l);const c=[];for(let d of this._entries)d._score>0&&c.push(d.provider);return c}ordered(l){const c=[];return this._orderedForEach(l,d=>c.push(d.provider)),c}orderedGroups(l){const c=[];let d,r;return this._orderedForEach(l,n=>{d&&r===n._score?d.push(n.provider):(r=n._score,d=[n.provider],c.push(d))}),c}_orderedForEach(l,c){if(!!l){this._updateScores(l);for(const d of this._entries)d._score>0&&c(d)}}_updateScores(l){let c={uri:l.uri.toString(),language:l.getLanguageIdentifier().language};if(!(this._lastCandidate&&this._lastCandidate.language===c.language&&this._lastCandidate.uri===c.uri)){this._lastCandidate=c;for(let d of this._entries)if(d._score=(0,_.score)(d.selector,l.uri,l.getLanguageIdentifier().language,(0,C.shouldSynchronizeModel)(l)),i(d.selector)&&d._score>0){for(let r of this._entries)r._score=0;d._score=1e3;break}this._entries.sort(p._compareByScoreAndTime)}}static _compareByScoreAndTime(l,c){return l._score<c._score?1:l._score>c._score?-1:l._time<c._time?1:l._time>c._time?-1:0}}e.LanguageFeatureRegistry=p;class u{constructor(l,c,d=Number.MAX_SAFE_INTEGER){this._registry=l,this.min=c,this.max=d,this._cache=new w.LRUCache(50,.7)}_key(l){return l.id+(0,I.hash)(this._registry.all(l))}_clamp(l){return l===void 0?this.min:Math.min(this.max,Math.max(this.min,Math.floor(l*1.3)))}get(l){const c=this._key(l),d=this._cache.get(c);return this._clamp(d==null?void 0:d.value)}update(l,c){const d=this._key(l);let r=this._cache.get(d);return r||(r=new S.MovingAverage,this._cache.set(d,r)),r.update(c),this.get(l)}}e.LanguageFeatureRequestDelays=u}),define(J[18],ee([0,1,24,3,134,383,27]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistry=e.DocumentRangeSemanticTokensProviderRegistry=e.DocumentSemanticTokensProviderRegistry=e.FoldingRangeProviderRegistry=e.SelectionRangeRegistry=e.ColorProviderRegistry=e.LinkProviderRegistry=e.OnTypeFormattingEditProviderRegistry=e.DocumentRangeFormattingEditProviderRegistry=e.DocumentFormattingEditProviderRegistry=e.CodeActionProviderRegistry=e.InlineHintsProviderRegistry=e.CodeLensProviderRegistry=e.TypeDefinitionProviderRegistry=e.ImplementationProviderRegistry=e.DeclarationProviderRegistry=e.DefinitionProviderRegistry=e.LinkedEditingRangeProviderRegistry=e.DocumentHighlightProviderRegistry=e.DocumentSymbolProviderRegistry=e.HoverProviderRegistry=e.SignatureHelpProviderRegistry=e.CompletionProviderRegistry=e.RenameProviderRegistry=e.ReferenceProviderRegistry=e.InlineHintKind=e.FoldingRangeKind=e.SymbolKinds=e.isLocationLink=e.DocumentHighlightKind=e.SignatureHelpTriggerKind=e.completionKindFromString=e.completionKindToCssClass=e.TokenMetadata=e.LanguageIdentifier=void 0;class _{constructor(r,n){this.language=r,this.id=n}}e.LanguageIdentifier=_;class C{static getLanguageId(r){return(r&255)>>>0}static getTokenType(r){return(r&1792)>>>8}static getFontStyle(r){return(r&14336)>>>11}static getForeground(r){return(r&8372224)>>>14}static getBackground(r){return(r&4286578688)>>>23}static getClassNameFromMetadata(r){let n=this.getForeground(r),s="mtk"+n,t=this.getFontStyle(r);return t&1&&(s+=" mtki"),t&2&&(s+=" mtkb"),t&4&&(s+=" mtku"),s}static getInlineStyleFromMetadata(r,n){const s=this.getForeground(r),t=this.getFontStyle(r);let o=`color: ${n[s]};`;return t&1&&(o+="font-style: italic;"),t&2&&(o+="font-weight: bold;"),t&4&&(o+="text-decoration: underline;"),o}}e.TokenMetadata=C,e.completionKindToCssClass=function(){let d=Object.create(null);return d[0]="symbol-method",d[1]="symbol-function",d[2]="symbol-constructor",d[3]="symbol-field",d[4]="symbol-variable",d[5]="symbol-class",d[6]="symbol-struct",d[7]="symbol-interface",d[8]="symbol-module",d[9]="symbol-property",d[10]="symbol-event",d[11]="symbol-operator",d[12]="symbol-unit",d[13]="symbol-value",d[14]="symbol-constant",d[15]="symbol-enum",d[16]="symbol-enum-member",d[17]="symbol-keyword",d[27]="symbol-snippet",d[18]="symbol-text",d[19]="symbol-color",d[20]="symbol-file",d[21]="symbol-reference",d[22]="symbol-customcolor",d[23]="symbol-folder",d[24]="symbol-type-parameter",d[25]="account",d[26]="issues",function(r){const n=d[r];let s=n&&S.iconRegistry.get(n);return s||(console.info("No codicon found for CompletionItemKind "+r),s=S.Codicon.symbolProperty),s.classNames}}(),e.completionKindFromString=function(){let d=Object.create(null);return d.method=0,d.function=1,d.constructor=2,d.field=3,d.variable=4,d.class=5,d.struct=6,d.interface=7,d.module=8,d.property=9,d.event=10,d.operator=11,d.unit=12,d.value=13,d.constant=14,d.enum=15,d["enum-member"]=16,d.enumMember=16,d.keyword=17,d.snippet=27,d.text=18,d.color=19,d.file=20,d.reference=21,d.customcolor=22,d.folder=23,d["type-parameter"]=24,d.typeParameter=24,d.account=25,d.issue=26,function(r,n){let s=d[r];return typeof s=="undefined"&&!n&&(s=9),s}}();var i;(function(d){d[d.Invoke=1]="Invoke",d[d.TriggerCharacter=2]="TriggerCharacter",d[d.ContentChange=3]="ContentChange"})(i=e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={}));var p;(function(d){d[d.Text=0]="Text",d[d.Read=1]="Read",d[d.Write=2]="Write"})(p=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));function u(d){return d&&v.URI.isUri(d.uri)&&I.Range.isIRange(d.range)&&(I.Range.isIRange(d.originSelectionRange)||I.Range.isIRange(d.targetSelectionRange))}e.isLocationLink=u;var a;(function(d){const r=new Map;r.set("file",0),r.set("module",1),r.set("namespace",2),r.set("package",3),r.set("class",4),r.set("method",5),r.set("property",6),r.set("field",7),r.set("constructor",8),r.set("enum",9),r.set("interface",10),r.set("function",11),r.set("variable",12),r.set("constant",13),r.set("string",14),r.set("number",15),r.set("boolean",16),r.set("array",17),r.set("object",18),r.set("key",19),r.set("null",20),r.set("enum-member",21),r.set("struct",22),r.set("event",23),r.set("operator",24),r.set("type-parameter",25);const n=new Map;n.set(0,"file"),n.set(1,"module"),n.set(2,"namespace"),n.set(3,"package"),n.set(4,"class"),n.set(5,"method"),n.set(6,"property"),n.set(7,"field"),n.set(8,"constructor"),n.set(9,"enum"),n.set(10,"interface"),n.set(11,"function"),n.set(12,"variable"),n.set(13,"constant"),n.set(14,"string"),n.set(15,"number"),n.set(16,"boolean"),n.set(17,"array"),n.set(18,"object"),n.set(19,"key"),n.set(20,"null"),n.set(21,"enum-member"),n.set(22,"struct"),n.set(23,"event"),n.set(24,"operator"),n.set(25,"type-parameter");function s(h){return r.get(h)}d.fromString=s;function t(h){return n.get(h)}d.toString=t;function o(h,g){const m=n.get(h);let f=m&&S.iconRegistry.get("symbol-"+m);return f||(console.info("No codicon found for SymbolKind "+h),f=S.Codicon.symbolProperty),`${g?"inline":"block"} ${f.classNames}`}d.toCssClassName=o})(a=e.SymbolKinds||(e.SymbolKinds={}));class l{constructor(r){this.value=r}}e.FoldingRangeKind=l,l.Comment=new l("comment"),l.Imports=new l("imports"),l.Region=new l("region");var c;(function(d){d[d.Other=0]="Other",d[d.Type=1]="Type",d[d.Parameter=2]="Parameter"})(c=e.InlineHintKind||(e.InlineHintKind={})),e.ReferenceProviderRegistry=new k.LanguageFeatureRegistry,e.RenameProviderRegistry=new k.LanguageFeatureRegistry,e.CompletionProviderRegistry=new k.LanguageFeatureRegistry,e.SignatureHelpProviderRegistry=new k.LanguageFeatureRegistry,e.HoverProviderRegistry=new k.LanguageFeatureRegistry,e.DocumentSymbolProviderRegistry=new k.LanguageFeatureRegistry,e.DocumentHighlightProviderRegistry=new k.LanguageFeatureRegistry,e.LinkedEditingRangeProviderRegistry=new k.LanguageFeatureRegistry,e.DefinitionProviderRegistry=new k.LanguageFeatureRegistry,e.DeclarationProviderRegistry=new k.LanguageFeatureRegistry,e.ImplementationProviderRegistry=new k.LanguageFeatureRegistry,e.TypeDefinitionProviderRegistry=new k.LanguageFeatureRegistry,e.CodeLensProviderRegistry=new k.LanguageFeatureRegistry,e.InlineHintsProviderRegistry=new k.LanguageFeatureRegistry,e.CodeActionProviderRegistry=new k.LanguageFeatureRegistry,e.DocumentFormattingEditProviderRegistry=new k.LanguageFeatureRegistry,e.DocumentRangeFormattingEditProviderRegistry=new k.LanguageFeatureRegistry,e.OnTypeFormattingEditProviderRegistry=new k.LanguageFeatureRegistry,e.LinkProviderRegistry=new k.LanguageFeatureRegistry,e.ColorProviderRegistry=new k.LanguageFeatureRegistry,e.SelectionRangeRegistry=new k.LanguageFeatureRegistry,e.FoldingRangeProviderRegistry=new k.LanguageFeatureRegistry,e.DocumentSemanticTokensProviderRegistry=new k.LanguageFeatureRegistry,e.DocumentRangeSemanticTokensProviderRegistry=new k.LanguageFeatureRegistry,e.TokenizationRegistry=new w.TokenizationRegistryImpl}),define(J[114],ee([0,1,18]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SlicedLineTokens=e.LineTokens=void 0;class I{constructor(S,_){this._tokens=S,this._tokensCount=this._tokens.length>>>1,this._text=_}equals(S){return S instanceof I?this.slicedEquals(S,0,this._tokensCount):!1}slicedEquals(S,_,C){if(this._text!==S._text||this._tokensCount!==S._tokensCount)return!1;const i=_<<1,p=i+(C<<1);for(let u=i;u<p;u++)if(this._tokens[u]!==S._tokens[u])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(S){return S>0?this._tokens[S-1<<1]:0}getMetadata(S){return this._tokens[(S<<1)+1]}getLanguageId(S){const _=this._tokens[(S<<1)+1];return v.TokenMetadata.getLanguageId(_)}getStandardTokenType(S){const _=this._tokens[(S<<1)+1];return v.TokenMetadata.getTokenType(_)}getForeground(S){const _=this._tokens[(S<<1)+1];return v.TokenMetadata.getForeground(_)}getClassName(S){const _=this._tokens[(S<<1)+1];return v.TokenMetadata.getClassNameFromMetadata(_)}getInlineStyle(S,_){const C=this._tokens[(S<<1)+1];return v.TokenMetadata.getInlineStyleFromMetadata(C,_)}getEndOffset(S){return this._tokens[S<<1]}findTokenIndexAtOffset(S){return I.findIndexInTokensArray(this._tokens,S)}inflate(){return this}sliceAndInflate(S,_,C){return new k(this,S,_,C)}static convertToEndOffset(S,_){const i=(S.length>>>1)-1;for(let p=0;p<i;p++)S[p<<1]=S[p+1<<1];S[i<<1]=_}static findIndexInTokensArray(S,_){if(S.length<=2)return 0;let C=0,i=(S.length>>>1)-1;for(;C<i;){const p=C+Math.floor((i-C)/2),u=S[p<<1];if(u===_)return p+1;u<_?C=p+1:u>_&&(i=p)}return C}}e.LineTokens=I;class k{constructor(S,_,C,i){this._source=S,this._startOffset=_,this._endOffset=C,this._deltaOffset=i,this._firstTokenIndex=S.findTokenIndexAtOffset(_),this._tokensCount=0;for(let p=this._firstTokenIndex,u=S.getCount();p<u&&!(S.getStartOffset(p)>=C);p++)this._tokensCount++}equals(S){return S instanceof k?this._startOffset===S._startOffset&&this._endOffset===S._endOffset&&this._deltaOffset===S._deltaOffset&&this._source.slicedEquals(S._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(S){return this._source.getForeground(this._firstTokenIndex+S)}getEndOffset(S){const _=this._source.getEndOffset(this._firstTokenIndex+S);return Math.min(this._endOffset,_)-this._startOffset+this._deltaOffset}getClassName(S){return this._source.getClassName(this._firstTokenIndex+S)}getInlineStyle(S,_){return this._source.getInlineStyle(this._firstTokenIndex+S,_)}findTokenIndexAtOffset(S){return this._source.findTokenIndexAtOffset(S+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}e.SlicedLineTokens=k}),define(J[135],ee([0,1,19,114,14,3,18]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokensStore=e.TokensStore2=e.MultilineTokens=e.MultilineTokens2=e.LineTokens2=e.SparseEncodedTokens=e.MultilineTokensBuilder=e.countEOL=void 0;function _(s){let t=0,o=0,h=0,g=0;for(let m=0,f=s.length;m<f;m++){const b=s.charCodeAt(m);b===13?(t===0&&(o=m),t++,m+1<f&&s.charCodeAt(m+1)===10?(g|=2,m++):g|=3,h=m+1):b===10&&(g|=1,t===0&&(o=m),t++,h=m+1)}return t===0&&(o=s.length),[t,o,s.length-h,g]}e.countEOL=_;function C(s){return(s<<0|0<<8|0<<11|1<<14|2<<23)>>>0}const i=new Uint32Array(0).buffer;class p{constructor(){this.tokens=[]}add(t,o){if(this.tokens.length>0){const h=this.tokens[this.tokens.length-1];if(h.startLineNumber+h.tokens.length-1+1===t){h.tokens.push(o);return}}this.tokens.push(new c(t,[o]))}}e.MultilineTokensBuilder=p;class u{constructor(t){this._tokens=t,this._tokenCount=t.length/4}toString(t){let o=[];for(let h=0;h<this._tokenCount;h++)o.push(`(${this._getDeltaLine(h)+t},${this._getStartCharacter(h)}-${this._getEndCharacter(h)})`);return`[${o.join(",")}]`}getMaxDeltaLine(){const t=this._getTokenCount();return t===0?-1:this._getDeltaLine(t-1)}getRange(){const t=this._getTokenCount();if(t===0)return null;const o=this._getStartCharacter(0),h=this._getDeltaLine(t-1),g=this._getEndCharacter(t-1);return new w.Range(0,o+1,h,g+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(t){return this._tokens[4*t]}_getStartCharacter(t){return this._tokens[4*t+1]}_getEndCharacter(t){return this._tokens[4*t+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(t){let o=0,h=this._getTokenCount()-1;for(;o<h;){const g=o+Math.floor((h-o)/2),m=this._getDeltaLine(g);if(m<t)o=g+1;else if(m>t)h=g-1;else{let f=g;for(;f>o&&this._getDeltaLine(f-1)===t;)f--;let b=g;for(;b<h&&this._getDeltaLine(b+1)===t;)b++;return new a(this._tokens.subarray(4*f,4*b+4))}}return this._getDeltaLine(o)===t?new a(this._tokens.subarray(4*o,4*o+4)):null}clear(){this._tokenCount=0}removeTokens(t,o,h,g){const m=this._tokens,f=this._tokenCount;let b=0,y=!1,L=0;for(let N=0;N<f;N++){const M=4*N,D=m[M],R=m[M+1],P=m[M+2],O=m[M+3];if((D>t||D===t&&P>=o)&&(D<h||D===h&&R<=g))y=!0;else{if(b===0&&(L=D),y){const W=4*b;m[W]=D-L,m[W+1]=R,m[W+2]=P,m[W+3]=O}b++}}return this._tokenCount=b,L}split(t,o,h,g){const m=this._tokens,f=this._tokenCount;let b=[],y=[],L=b,N=0,M=0;for(let D=0;D<f;D++){const R=4*D,P=m[R],O=m[R+1],W=m[R+2],F=m[R+3];if(P>t||P===t&&W>=o){if(P<h||P===h&&O<=g)continue;L!==y&&(L=y,N=0,M=P)}L[N++]=P-M,L[N++]=O,L[N++]=W,L[N++]=F}return[new u(new Uint32Array(b)),new u(new Uint32Array(y)),M]}acceptDeleteRange(t,o,h,g,m){const f=this._tokens,b=this._tokenCount,y=g-o;let L=0,N=!1;for(let M=0;M<b;M++){const D=4*M;let R=f[D],P=f[D+1],O=f[D+2];const W=f[D+3];if(R<o||R===o&&O<=h){L++;continue}else if(R===o&&P<h)R===g&&O>m?O-=m-h:O=h;else if(R===o&&P===h)if(R===g&&O>m)O-=m-h;else{N=!0;continue}else if(R<g||R===g&&P<m)if(R===g&&O>m)R===o?(P=h,O=P+(O-m)):(P=0,O=P+(O-m));else{N=!0;continue}else if(R>g){if(y===0&&!N){L=b;break}R-=y}else if(R===g&&P>=m)t&&R===0&&(P+=t,O+=t),R-=y,P-=m-h,O-=m-h;else throw new Error("Not possible!");const F=4*L;f[F]=R,f[F+1]=P,f[F+2]=O,f[F+3]=W,L++}this._tokenCount=L}acceptInsertText(t,o,h,g,m,f){const b=h===0&&g===1&&(f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122),y=this._tokens,L=this._tokenCount;for(let N=0;N<L;N++){const M=4*N;let D=y[M],R=y[M+1],P=y[M+2];if(!(D<t||D===t&&P<o)){if(D===t&&P===o)if(b)P+=1;else continue;else if(D===t&&R<o&&o<P)h===0?P+=g:P=o;else{if(D===t&&R===o&&b)continue;if(D===t)if(D+=h,h===0)R+=g,P+=g;else{const O=P-R;R=m+(R-o),P=R+O}else D+=h}y[M]=D,y[M+1]=R,y[M+2]=P}}}}e.SparseEncodedTokens=u;class a{constructor(t){this._tokens=t}getCount(){return this._tokens.length/4}getStartCharacter(t){return this._tokens[4*t+1]}getEndCharacter(t){return this._tokens[4*t+2]}getMetadata(t){return this._tokens[4*t+3]}}e.LineTokens2=a;class l{constructor(t,o){this.startLineNumber=t,this.tokens=o,this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}toString(){return this.tokens.toString(this.startLineNumber)}_updateEndLineNumber(){this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}isEmpty(){return this.tokens.isEmpty()}getLineTokens(t){return this.startLineNumber<=t&&t<=this.endLineNumber?this.tokens.getLineTokens(t-this.startLineNumber):null}getRange(){const t=this.tokens.getRange();return t&&new w.Range(this.startLineNumber+t.startLineNumber,t.startColumn,this.startLineNumber+t.endLineNumber,t.endColumn)}removeTokens(t){const o=t.startLineNumber-this.startLineNumber,h=t.endLineNumber-this.startLineNumber;this.startLineNumber+=this.tokens.removeTokens(o,t.startColumn-1,h,t.endColumn-1),this._updateEndLineNumber()}split(t){const o=t.startLineNumber-this.startLineNumber,h=t.endLineNumber-this.startLineNumber,[g,m,f]=this.tokens.split(o,t.startColumn-1,h,t.endColumn-1);return[new l(this.startLineNumber,g),new l(this.startLineNumber+f,m)]}applyEdit(t,o){const[h,g,m]=_(o);this.acceptEdit(t,h,g,m,o.length>0?o.charCodeAt(0):0)}acceptEdit(t,o,h,g,m){this._acceptDeleteRange(t),this._acceptInsertText(new k.Position(t.startLineNumber,t.startColumn),o,h,g,m),this._updateEndLineNumber()}_acceptDeleteRange(t){if(!(t.startLineNumber===t.endLineNumber&&t.startColumn===t.endColumn)){const o=t.startLineNumber-this.startLineNumber,h=t.endLineNumber-this.startLineNumber;if(h<0){const m=h-o;this.startLineNumber-=m;return}const g=this.tokens.getMaxDeltaLine();if(!(o>=g+1)){if(o<0&&h>=g+1){this.startLineNumber=0,this.tokens.clear();return}if(o<0){const m=-o;this.startLineNumber-=m,this.tokens.acceptDeleteRange(t.startColumn-1,0,0,h,t.endColumn-1)}else this.tokens.acceptDeleteRange(0,o,t.startColumn-1,h,t.endColumn-1)}}}_acceptInsertText(t,o,h,g,m){if(!(o===0&&h===0)){const f=t.lineNumber-this.startLineNumber;if(f<0){this.startLineNumber+=o;return}const b=this.tokens.getMaxDeltaLine();f>=b+1||this.tokens.acceptInsertText(f,t.column-1,o,h,g,m)}}}e.MultilineTokens2=l;class c{constructor(t,o){this.startLineNumber=t,this.tokens=o}}e.MultilineTokens=c;function d(s){return s instanceof Uint32Array?s:new Uint32Array(s)}class r{constructor(){this._pieces=[],this._isComplete=!1}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(t,o){this._pieces=t||[],this._isComplete=o}setPartial(t,o){let h=t;if(o.length>0){const m=o[0].getRange(),f=o[o.length-1].getRange();if(!m||!f)return t;h=t.plusRange(m).plusRange(f)}let g=null;for(let m=0,f=this._pieces.length;m<f;m++){const b=this._pieces[m];if(!(b.endLineNumber<h.startLineNumber)){if(b.startLineNumber>h.endLineNumber){g=g||{index:m};break}if(b.removeTokens(h),b.isEmpty()){this._pieces.splice(m,1),m--,f--;continue}if(!(b.endLineNumber<h.startLineNumber)){if(b.startLineNumber>h.endLineNumber){g=g||{index:m};continue}const[y,L]=b.split(h);if(y.isEmpty()){g=g||{index:m};continue}L.isEmpty()||(this._pieces.splice(m,1,y,L),m++,f++,g=g||{index:m})}}}return g=g||{index:this._pieces.length},o.length>0&&(this._pieces=v.arrayInsert(this._pieces,g.index,o)),h}isComplete(){return this._isComplete}addSemanticTokens(t,o){const h=this._pieces;if(h.length===0)return o;const g=r._findFirstPieceWithLine(h,t),m=h[g].getLineTokens(t);if(!m)return o;const f=o.getCount(),b=m.getCount();let y=0,L=[],N=0,M=0;const D=(R,P)=>{R!==M&&(M=R,L[N++]=R,L[N++]=P)};for(let R=0;R<b;R++){const P=m.getStartCharacter(R),O=m.getEndCharacter(R),W=m.getMetadata(R),F=((W&1?2048:0)|(W&2?4096:0)|(W&4?8192:0)|(W&8?8372224:0)|(W&16?4286578688:0))>>>0,E=~F>>>0;for(;y<f&&o.getEndOffset(y)<=P;)D(o.getEndOffset(y),o.getMetadata(y)),y++;for(y<f&&o.getStartOffset(y)<P&&D(P,o.getMetadata(y));y<f&&o.getEndOffset(y)<O;)D(o.getEndOffset(y),o.getMetadata(y)&E|W&F),y++;if(y<f)D(O,o.getMetadata(y)&E|W&F),o.getEndOffset(y)===O&&y++;else{const A=Math.min(Math.max(0,y-1),f-1);D(O,o.getMetadata(A)&E|W&F)}}for(;y<f;)D(o.getEndOffset(y),o.getMetadata(y)),y++;return new I.LineTokens(new Uint32Array(L),o.getLineContent())}static _findFirstPieceWithLine(t,o){let h=0,g=t.length-1;for(;h<g;){let m=h+Math.floor((g-h)/2);if(t[m].endLineNumber<o)h=m+1;else if(t[m].startLineNumber>o)g=m-1;else{for(;m>h&&t[m-1].startLineNumber<=o&&o<=t[m-1].endLineNumber;)m--;return m}}return h}acceptEdit(t,o,h,g,m){for(const f of this._pieces)f.acceptEdit(t,o,h,g,m)}}e.TokensStore2=r;class n{constructor(){this._lineTokens=[],this._len=0}flush(){this._lineTokens=[],this._len=0}getTokens(t,o,h){let g=null;if(o<this._len&&(g=this._lineTokens[o]),g!==null&&g!==i)return new I.LineTokens(d(g),h);let m=new Uint32Array(2);return m[0]=h.length,m[1]=C(t),new I.LineTokens(m,h)}static _massageTokens(t,o,h){const g=h?d(h):null;if(o===0){let m=!1;if(g&&g.length>1&&(m=S.TokenMetadata.getLanguageId(g[1])!==t),!m)return i}if(!g||g.length===0){const m=new Uint32Array(2);return m[0]=o,m[1]=C(t),m.buffer}return g[g.length-2]=o,g.byteOffset===0&&g.byteLength===g.buffer.byteLength?g.buffer:g}_ensureLine(t){for(;t>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(t,o){o!==0&&(t+o>this._len&&(o=this._len-t),this._lineTokens.splice(t,o),this._len-=o)}_insertLines(t,o){if(o!==0){let h=[];for(let g=0;g<o;g++)h[g]=null;this._lineTokens=v.arrayInsert(this._lineTokens,t,h),this._len+=o}}setTokens(t,o,h,g,m){const f=n._massageTokens(t,h,g);this._ensureLine(o);const b=this._lineTokens[o];return this._lineTokens[o]=f,m?!n._equals(b,f):!1}static _equals(t,o){if(!t||!o)return!t&&!o;const h=d(t),g=d(o);if(h.length!==g.length)return!1;for(let m=0,f=h.length;m<f;m++)if(h[m]!==g[m])return!1;return!0}acceptEdit(t,o,h){this._acceptDeleteRange(t),this._acceptInsertText(new k.Position(t.startLineNumber,t.startColumn),o,h)}_acceptDeleteRange(t){const o=t.startLineNumber-1;if(!(o>=this._len)){if(t.startLineNumber===t.endLineNumber){if(t.startColumn===t.endColumn)return;this._lineTokens[o]=n._delete(this._lineTokens[o],t.startColumn-1,t.endColumn-1);return}this._lineTokens[o]=n._deleteEnding(this._lineTokens[o],t.startColumn-1);const h=t.endLineNumber-1;let g=null;h<this._len&&(g=n._deleteBeginning(this._lineTokens[h],t.endColumn-1)),this._lineTokens[o]=n._append(this._lineTokens[o],g),this._deleteLines(t.startLineNumber,t.endLineNumber-t.startLineNumber)}}_acceptInsertText(t,o,h){if(!(o===0&&h===0)){const g=t.lineNumber-1;if(!(g>=this._len)){if(o===0){this._lineTokens[g]=n._insert(this._lineTokens[g],t.column-1,h);return}this._lineTokens[g]=n._deleteEnding(this._lineTokens[g],t.column-1),this._lineTokens[g]=n._insert(this._lineTokens[g],t.column-1,h),this._insertLines(t.lineNumber,o)}}}static _deleteBeginning(t,o){return t===null||t===i?t:n._delete(t,0,o)}static _deleteEnding(t,o){if(t===null||t===i)return t;const h=d(t),g=h[h.length-2];return n._delete(t,o,g)}static _delete(t,o,h){if(t===null||t===i||o===h)return t;const g=d(t),m=g.length>>>1;if(o===0&&g[g.length-2]===h)return i;const f=I.LineTokens.findIndexInTokensArray(g,o),b=f>0?g[f-1<<1]:0,y=g[f<<1];if(h<y){const R=h-o;for(let P=f;P<m;P++)g[P<<1]-=R;return t}let L,N;b!==o?(g[f<<1]=o,L=f+1<<1,N=o):(L=f<<1,N=b);const M=h-o;for(let R=f+1;R<m;R++){const P=g[R<<1]-M;P>N&&(g[L++]=P,g[L++]=g[(R<<1)+1],N=P)}if(L===g.length)return t;let D=new Uint32Array(L);return D.set(g.subarray(0,L),0),D.buffer}static _append(t,o){if(o===i)return t;if(t===i)return o;if(t===null)return t;if(o===null)return null;const h=d(t),g=d(o),m=g.length>>>1;let f=new Uint32Array(h.length+g.length);f.set(h,0);let b=h.length;const y=h[h.length-2];for(let L=0;L<m;L++)f[b++]=g[L<<1]+y,f[b++]=g[(L<<1)+1];return f.buffer}static _insert(t,o,h){if(t===null||t===i)return t;const g=d(t),m=g.length>>>1;let f=I.LineTokens.findIndexInTokensArray(g,o);f>0&&g[f-1<<1]===o&&f--;for(let b=f;b<m;b++)g[b<<1]+=h;return t}}e.TokensStore=n}),define(J[239],ee([0,1,6,8,3,53,220,135,219,2]),function($,e,v,I,k,w,S,_,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBuffer=void 0;class p extends i.Disposable{constructor(a,l,c,d,r,n,s){super();this._onDidChangeContent=this._register(new v.Emitter),this._BOM=l,this._mightContainNonBasicASCII=!n,this._mightContainRTL=d,this._mightContainUnusualLineTerminators=r,this._pieceTree=new S.PieceTreeBase(a,c,s)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(a){return this._pieceTree.createSnapshot(a?this._BOM:"")}getOffsetAt(a,l){return this._pieceTree.getOffsetAt(a,l)}getPositionAt(a){return this._pieceTree.getPositionAt(a)}getRangeAt(a,l){let c=a+l;const d=this.getPositionAt(a),r=this.getPositionAt(c);return new k.Range(d.lineNumber,d.column,r.lineNumber,r.column)}getValueInRange(a,l=0){if(a.isEmpty())return"";const c=this._getEndOfLine(l);return this._pieceTree.getValueInRange(a,c)}getValueLengthInRange(a,l=0){if(a.isEmpty())return 0;if(a.startLineNumber===a.endLineNumber)return a.endColumn-a.startColumn;let c=this.getOffsetAt(a.startLineNumber,a.startColumn);return this.getOffsetAt(a.endLineNumber,a.endColumn)-c}getCharacterCountInRange(a,l=0){if(this._mightContainNonBasicASCII){let c=0;const d=a.startLineNumber,r=a.endLineNumber;for(let n=d;n<=r;n++){const s=this.getLineContent(n),t=n===d?a.startColumn-1:0,o=n===r?a.endColumn-1:s.length;for(let h=t;h<o;h++)I.isHighSurrogate(s.charCodeAt(h))?(c=c+1,h=h+1):c=c+1}return c+=this._getEndOfLine(l).length*(r-d),c}return this.getValueLengthInRange(a,l)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(a){return this._pieceTree.getLineContent(a)}getLineCharCode(a,l){return this._pieceTree.getLineCharCode(a,l)}getLineLength(a){return this._pieceTree.getLineLength(a)}getLineFirstNonWhitespaceColumn(a){const l=I.firstNonWhitespaceIndex(this.getLineContent(a));return l===-1?0:l+1}getLineLastNonWhitespaceColumn(a){const l=I.lastNonWhitespaceIndex(this.getLineContent(a));return l===-1?0:l+2}_getEndOfLine(a){switch(a){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(a){this._pieceTree.setEOL(a)}applyEdits(a,l,c){let d=this._mightContainRTL,r=this._mightContainUnusualLineTerminators,n=this._mightContainNonBasicASCII,s=!0,t=[];for(let y=0;y<a.length;y++){let L=a[y];s&&L._isTracked&&(s=!1);let N=L.range;if(L.text){let O=!0;n||(O=!I.isBasicASCII(L.text),n=O),!d&&O&&(d=I.containsRTL(L.text)),!r&&O&&(r=I.containsUnusualLineTerminators(L.text))}let M="",D=0,R=0,P=0;if(L.text){let O;[D,R,P,O]=(0,_.countEOL)(L.text);const W=this.getEOL();O===0||O===(W===`\r
`?2:1)?M=L.text:M=L.text.replace(/\r\n|\r|\n/g,W)}t[y]={sortIndex:y,identifier:L.identifier||null,range:N,rangeOffset:this.getOffsetAt(N.startLineNumber,N.startColumn),rangeLength:this.getValueLengthInRange(N),text:M,eolCount:D,firstLineLength:R,lastLineLength:P,forceMoveMarkers:Boolean(L.forceMoveMarkers),isAutoWhitespaceEdit:L.isAutoWhitespaceEdit||!1}}t.sort(p._sortOpsAscending);let o=!1;for(let y=0,L=t.length-1;y<L;y++){let N=t[y].range.getEndPosition(),M=t[y+1].range.getStartPosition();if(M.isBeforeOrEqual(N)){if(M.isBefore(N))throw new Error("Overlapping ranges are not allowed!");o=!0}}s&&(t=this._reduceOperations(t));let h=c||l?p._getInverseEditRanges(t):[],g=[];if(l)for(let y=0;y<t.length;y++){let L=t[y],N=h[y];if(L.isAutoWhitespaceEdit&&L.range.isEmpty())for(let M=N.startLineNumber;M<=N.endLineNumber;M++){let D="";M===N.startLineNumber&&(D=this.getLineContent(L.range.startLineNumber),I.firstNonWhitespaceIndex(D)!==-1)||g.push({lineNumber:M,oldContent:D})}}let m=null;if(c){let y=0;m=[];for(let L=0;L<t.length;L++){const N=t[L],M=h[L],D=this.getValueInRange(N.range),R=N.rangeOffset+y;y+=N.text.length-D.length,m[L]={sortIndex:N.sortIndex,identifier:N.identifier,range:M,text:D,textChange:new C.TextChange(N.rangeOffset,D,R,N.text)}}o||m.sort((L,N)=>L.sortIndex-N.sortIndex)}this._mightContainRTL=d,this._mightContainUnusualLineTerminators=r,this._mightContainNonBasicASCII=n;const f=this._doApplyEdits(t);let b=null;if(l&&g.length>0){g.sort((y,L)=>L.lineNumber-y.lineNumber),b=[];for(let y=0,L=g.length;y<L;y++){let N=g[y].lineNumber;if(!(y>0&&g[y-1].lineNumber===N)){let M=g[y].oldContent,D=this.getLineContent(N);D.length===0||D===M||I.firstNonWhitespaceIndex(D)!==-1||b.push(N)}}}return this._onDidChangeContent.fire(),new w.ApplyEditsResult(m,f,b)}_reduceOperations(a){return a.length<1e3?a:[this._toSingleEditOperation(a)]}_toSingleEditOperation(a){let l=!1;const c=a[0].range,d=a[a.length-1].range,r=new k.Range(c.startLineNumber,c.startColumn,d.endLineNumber,d.endColumn);let n=c.startLineNumber,s=c.startColumn;const t=[];for(let f=0,b=a.length;f<b;f++){const y=a[f],L=y.range;l=l||y.forceMoveMarkers,t.push(this.getValueInRange(new k.Range(n,s,L.startLineNumber,L.startColumn))),y.text.length>0&&t.push(y.text),n=L.endLineNumber,s=L.endColumn}const o=t.join(""),[h,g,m]=(0,_.countEOL)(o);return{sortIndex:0,identifier:a[0].identifier,range:r,rangeOffset:this.getOffsetAt(r.startLineNumber,r.startColumn),rangeLength:this.getValueLengthInRange(r,0),text:o,eolCount:h,firstLineLength:g,lastLineLength:m,forceMoveMarkers:l,isAutoWhitespaceEdit:!1}}_doApplyEdits(a){a.sort(p._sortOpsDescending);let l=[];for(let c=0;c<a.length;c++){let d=a[c];const r=d.range.startLineNumber,n=d.range.startColumn,s=d.range.endLineNumber,t=d.range.endColumn;if(!(r===s&&n===t&&d.text.length===0)){d.text?(this._pieceTree.delete(d.rangeOffset,d.rangeLength),this._pieceTree.insert(d.rangeOffset,d.text,!0)):this._pieceTree.delete(d.rangeOffset,d.rangeLength);const o=new k.Range(r,n,s,t);l.push({range:o,rangeLength:d.rangeLength,text:d.text,rangeOffset:d.rangeOffset,forceMoveMarkers:d.forceMoveMarkers})}}return l}findMatchesLineByLine(a,l,c,d){return this._pieceTree.findMatchesLineByLine(a,l,c,d)}static _getInverseEditRanges(a){let l=[],c=0,d=0,r=null;for(let n=0,s=a.length;n<s;n++){let t=a[n],o,h;r?r.range.endLineNumber===t.range.startLineNumber?(o=c,h=d+(t.range.startColumn-r.range.endColumn)):(o=c+(t.range.startLineNumber-r.range.endLineNumber),h=t.range.startColumn):(o=t.range.startLineNumber,h=t.range.startColumn);let g;if(t.text.length>0){const m=t.eolCount+1;m===1?g=new k.Range(o,h,o,h+t.firstLineLength):g=new k.Range(o,h,o+m-1,t.lastLineLength+1)}else g=new k.Range(o,h,o,h);c=g.endLineNumber,d=g.endColumn,l.push(g),r=t}return l}static _sortOpsAscending(a,l){let c=k.Range.compareRangesUsingEnds(a.range,l.range);return c===0?a.sortIndex-l.sortIndex:c}static _sortOpsDescending(a,l){let c=k.Range.compareRangesUsingEnds(a.range,l.range);return c===0?l.sortIndex-a.sortIndex:-c}}e.PieceTreeTextBuffer=p}),define(J[537],ee([0,1,8,220,239]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBufferBuilder=e.PieceTreeTextBufferFactory=void 0;class w{constructor(C,i,p,u,a,l,c,d,r){this._chunks=C,this._bom=i,this._cr=p,this._lf=u,this._crlf=a,this._containsRTL=l,this._containsUnusualLineTerminators=c,this._isBasicASCII=d,this._normalizeEOL=r}_getEOL(C){const i=this._cr+this._lf+this._crlf,p=this._cr+this._crlf;return i===0?C===1?`
`:`\r
`:p>i/2?`\r
`:`
`}create(C){const i=this._getEOL(C);let p=this._chunks;if(this._normalizeEOL&&(i===`\r
`&&(this._cr>0||this._lf>0)||i===`
`&&(this._cr>0||this._crlf>0)))for(let a=0,l=p.length;a<l;a++){let c=p[a].buffer.replace(/\r\n|\r|\n/g,i),d=(0,I.createLineStartsFast)(c);p[a]=new I.StringBuffer(c,d)}const u=new k.PieceTreeTextBuffer(p,this._bom,i,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:u,disposable:u}}}e.PieceTreeTextBufferFactory=w;class S{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(C){if(C.length!==0){this.chunks.length===0&&v.startsWithUTF8BOM(C)&&(this.BOM=v.UTF8_BOM_CHARACTER,C=C.substr(1));const i=C.charCodeAt(C.length-1);i===13||i>=55296&&i<=56319?(this._acceptChunk1(C.substr(0,C.length-1),!1),this._hasPreviousChar=!0,this._previousChar=i):(this._acceptChunk1(C,!1),this._hasPreviousChar=!1,this._previousChar=i)}}_acceptChunk1(C,i){!i&&C.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+C):this._acceptChunk2(C))}_acceptChunk2(C){const i=(0,I.createLineStarts)(this._tmpLineStarts,C);this.chunks.push(new I.StringBuffer(C,i.lineStarts)),this.cr+=i.cr,this.lf+=i.lf,this.crlf+=i.crlf,this.isBasicASCII&&(this.isBasicASCII=i.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=v.containsRTL(C)),!this.isBasicASCII&&!this.containsUnusualLineTerminators&&(this.containsUnusualLineTerminators=v.containsUnusualLineTerminators(C))}finish(C=!0){return this._finish(),new w(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,C)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;let C=this.chunks[this.chunks.length-1];C.buffer+=String.fromCharCode(this._previousChar);let i=(0,I.createLineStartsFast)(C.buffer);C.lineStarts=i,this._previousChar===13&&this.cr++}}}e.PieceTreeTextBufferBuilder=S}),define(J[77],ee([0,1,128,18]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.nullTokenize2=e.nullTokenize=e.NULL_LANGUAGE_IDENTIFIER=e.NULL_MODE_ID=e.NULL_STATE=void 0;class k{clone(){return this}equals(C){return this===C}}e.NULL_STATE=new k,e.NULL_MODE_ID="vs.editor.nullMode",e.NULL_LANGUAGE_IDENTIFIER=new I.LanguageIdentifier(e.NULL_MODE_ID,0);function w(_,C,i,p){return new v.TokenizationResult([new v.Token(p,"",_)],i)}e.nullTokenize=w;function S(_,C,i,p){let u=new Uint32Array(2);return u[0]=p,u[1]=(_<<0|0<<8|0<<11|1<<14|2<<23)>>>0,new v.TokenizationResult2(u,i===null?e.NULL_STATE:i)}e.nullTokenize2=S}),define(J[538],ee([0,1,19,11,114,14,18,77,2,81,135,17]),function($,e,v,I,k,w,S,_,C,i,p,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelTokenization=e.TokenizationStateStore=void 0;class a{constructor(){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0}_reset(n){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0,n&&this._setBeginState(0,n)}flush(n){this._reset(n)}get invalidLineStartIndex(){return this._invalidLineStartIndex}_invalidateLine(n){n<this._len&&(this._valid[n]=!1),n<this._invalidLineStartIndex&&(this._invalidLineStartIndex=n)}_isValid(n){return n<this._len?this._valid[n]:!1}getBeginState(n){return n<this._len?this._beginState[n]:null}_ensureLine(n){for(;n>=this._len;)this._beginState[this._len]=null,this._valid[this._len]=!1,this._len++}_deleteLines(n,s){s!==0&&(n+s>this._len&&(s=this._len-n),this._beginState.splice(n,s),this._valid.splice(n,s),this._len-=s)}_insertLines(n,s){if(s!==0){let t=[],o=[];for(let h=0;h<s;h++)t[h]=null,o[h]=!1;this._beginState=v.arrayInsert(this._beginState,n,t),this._valid=v.arrayInsert(this._valid,n,o),this._len+=s}}_setValid(n,s){this._ensureLine(n),this._valid[n]=s}_setBeginState(n,s){this._ensureLine(n),this._beginState[n]=s}setEndState(n,s,t){if(this._setValid(s,!0),this._invalidLineStartIndex=s+1,s!==n-1){const o=this.getBeginState(s+1);if(o===null||!t.equals(o)){this._setBeginState(s+1,t),this._invalidateLine(s+1);return}let h=s+1;for(;h<n&&this._isValid(h);)h++;this._invalidLineStartIndex=h}}setFakeTokens(n){this._setValid(n,!1)}applyEdits(n,s){const t=n.endLineNumber-n.startLineNumber,h=Math.min(t,s);for(let g=h;g>=0;g--)this._invalidateLine(n.startLineNumber+g-1);this._acceptDeleteRange(n),this._acceptInsertText(new w.Position(n.startLineNumber,n.startColumn),s)}_acceptDeleteRange(n){n.startLineNumber-1>=this._len||this._deleteLines(n.startLineNumber,n.endLineNumber-n.startLineNumber)}_acceptInsertText(n,s){n.lineNumber-1>=this._len||this._insertLines(n.lineNumber,s)}}e.TokenizationStateStore=a;class l extends C.Disposable{constructor(n){super();this._isDisposed=!1,this._textModel=n,this._tokenizationStateStore=new a,this._tokenizationSupport=null,this._register(S.TokenizationRegistry.onDidChange(s=>{const t=this._textModel.getLanguageIdentifier();s.changedLanguages.indexOf(t.language)!==-1&&(this._resetTokenizationState(),this._textModel.clearTokens())})),this._register(this._textModel.onDidChangeRawContentFast(s=>{if(s.containsEvent(1)){this._resetTokenizationState();return}})),this._register(this._textModel.onDidChangeContentFast(s=>{for(let t=0,o=s.changes.length;t<o;t++){const h=s.changes[t],[g]=(0,p.countEOL)(h.text);this._tokenizationStateStore.applyEdits(h.range,g)}this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeAttached(()=>{this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeLanguage(()=>{this._resetTokenizationState(),this._textModel.clearTokens()})),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}_resetTokenizationState(){const[n,s]=c(this._textModel);this._tokenizationSupport=n,this._tokenizationStateStore.flush(s),this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._textModel.isAttachedToEditor()&&this._hasLinesToTokenize()&&u.setImmediate(()=>{this._isDisposed||this._revalidateTokensNow()})}_revalidateTokensNow(n=this._textModel.getLineCount()){const s=1,t=new p.MultilineTokensBuilder,o=i.StopWatch.create(!1);for(;this._hasLinesToTokenize()&&!(o.elapsed()>s||this._tokenizeOneInvalidLine(t)>=n););this._beginBackgroundTokenization(),this._textModel.setTokens(t.tokens)}tokenizeViewport(n,s){const t=new p.MultilineTokensBuilder;this._tokenizeViewport(t,n,s),this._textModel.setTokens(t.tokens)}reset(){this._resetTokenizationState(),this._textModel.clearTokens()}forceTokenization(n){const s=new p.MultilineTokensBuilder;this._updateTokensUntilLine(s,n),this._textModel.setTokens(s.tokens)}isCheapToTokenize(n){if(!this._tokenizationSupport)return!0;const s=this._tokenizationStateStore.invalidLineStartIndex+1;return n>s?!1:n<s||this._textModel.getLineLength(n)<2048}_hasLinesToTokenize(){return this._tokenizationSupport?this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount():!1}_tokenizeOneInvalidLine(n){if(!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const s=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(n,s),s}_updateTokensUntilLine(n,s){if(!!this._tokenizationSupport){const t=this._textModel.getLanguageIdentifier(),o=this._textModel.getLineCount(),h=s-1;for(let g=this._tokenizationStateStore.invalidLineStartIndex;g<=h;g++){const m=this._textModel.getLineContent(g+1),f=this._tokenizationStateStore.getBeginState(g),b=d(t,this._tokenizationSupport,m,!0,f);n.add(g+1,b.tokens),this._tokenizationStateStore.setEndState(o,g,b.endState),g=this._tokenizationStateStore.invalidLineStartIndex-1}}}_tokenizeViewport(n,s,t){if(!!this._tokenizationSupport&&!(t<=this._tokenizationStateStore.invalidLineStartIndex)){if(s<=this._tokenizationStateStore.invalidLineStartIndex){this._updateTokensUntilLine(n,t);return}let o=this._textModel.getLineFirstNonWhitespaceColumn(s),h=[],g=null;for(let b=s-1;o>0&&b>=1;b--){let y=this._textModel.getLineFirstNonWhitespaceColumn(b);if(y!==0&&y<o){if(g=this._tokenizationStateStore.getBeginState(b-1),g)break;h.push(this._textModel.getLineContent(b)),o=y}}g||(g=this._tokenizationSupport.getInitialState());const m=this._textModel.getLanguageIdentifier();let f=g;for(let b=h.length-1;b>=0;b--)f=d(m,this._tokenizationSupport,h[b],!1,f).endState;for(let b=s;b<=t;b++){let y=this._textModel.getLineContent(b),L=d(m,this._tokenizationSupport,y,!0,f);n.add(b,L.tokens),this._tokenizationStateStore.setFakeTokens(b-1),f=L.endState}}}}e.TextModelTokenization=l;function c(r){const n=r.getLanguageIdentifier();let s=r.isTooLargeForTokenization()?null:S.TokenizationRegistry.get(n.language),t=null;if(s)try{t=s.getInitialState()}catch(o){(0,I.onUnexpectedError)(o),s=null}return[s,t]}function d(r,n,s,t,o){let h=null;if(n)try{h=n.tokenize2(s,t,o.clone(),0)}catch(g){(0,I.onUnexpectedError)(g)}return h||(h=(0,_.nullTokenize2)(r.id,s,o,0)),k.LineTokens.convertToEndOffset(h.tokens,s.length),h}}),define(J[31],ee([0,1,11,6,2,8,24,38,14,3,21,53,236,370,371,537,373,166,538,129,42,77,167,168,135,29,239]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n,s,t,o,h,g,m,f,b,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DidChangeContentEmitter=e.DidChangeDecorationsEmitter=e.ModelDecorationOptions=e.ModelDecorationMinimapOptions=e.ModelDecorationOverviewRulerOptions=e.TextModel=e.LONG_LINE_BOUNDARY=e.createTextBuffer=e.createTextBufferFactory=void 0;function L(){return new d.PieceTreeTextBufferBuilder}function N(Z){const T=L();return T.acceptChunk(Z),T.finish()}e.createTextBufferFactory=N;function M(Z,T){return(typeof Z=="string"?N(Z):Z).create(T)}e.createTextBuffer=M;let D=0;const R=999;e.LONG_LINE_BOUNDARY=1e4;class P{constructor(T){this._source=T,this._eos=!1}read(){if(this._eos)return null;let T=[],x=0,z=0;do{let V=this._source.read();if(V===null)return this._eos=!0,x===0?null:T.join("");if(V.length>0&&(T[x++]=V,z+=V.length),z>=64*1024)return T.join("")}while(!0)}}const O=()=>{throw new Error("Invalid change accessor")};class W{constructor(){this._searchCanceledBrand=void 0}}W.INSTANCE=new W;function F(Z){return Z instanceof W?null:Z}class E extends k.Disposable{constructor(T,x,z,V=null,U){super();this._onWillDispose=this._register(new I.Emitter),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new ae),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeLanguage=this._register(new I.Emitter),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new I.Emitter),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new I.Emitter),this.onDidChangeTokens=this._onDidChangeTokens.event,this._onDidChangeOptions=this._register(new I.Emitter),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new I.Emitter),this.onDidChangeAttached=this._onDidChangeAttached.event,this._eventEmitter=this._register(new le),D++,this.id="$model"+D,this.isForSimpleWidget=x.isForSimpleWidget,typeof V=="undefined"||V===null?this._associatedResource=S.URI.parse("inmemory://model/"+D):this._associatedResource=V,this._undoRedoService=U,this._attachedEditorCount=0;const{textBuffer:Q,disposable:se}=M(T,x.defaultEOL);this._buffer=Q,this._bufferDisposable=se,this._options=E.resolveOptions(this._buffer,x);const oe=this._buffer.getLineCount(),G=this._buffer.getValueLengthInRange(new i.Range(1,1,oe,this._buffer.getLineLength(oe)+1),0);x.largeFileOptimizations?this._isTooLargeForTokenization=G>E.LARGE_FILE_SIZE_THRESHOLD||oe>E.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=G>E.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this._isDisposing=!1,this._languageIdentifier=z||h.NULL_LANGUAGE_IDENTIFIER,this._languageRegistryListener=o.LanguageConfigurationRegistry.onDidChange(j=>{j.languageIdentifier.id===this._languageIdentifier.id&&this._onDidChangeLanguageConfiguration.fire({})}),this._instanceId=w.singleLetterHash(D),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new A,this._commandManager=new a.EditStack(this,U),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._tokens=new f.TokensStore,this._tokens2=new f.TokensStore2,this._tokenization=new s.TextModelTokenization(this)}static resolveOptions(T,x){if(x.detectIndentation){const z=(0,l.guessIndentation)(T,x.tabSize,x.insertSpaces);return new u.TextModelResolvedOptions({tabSize:z.tabSize,indentSize:z.tabSize,insertSpaces:z.insertSpaces,trimAutoWhitespace:x.trimAutoWhitespace,defaultEOL:x.defaultEOL})}return new u.TextModelResolvedOptions({tabSize:x.tabSize,indentSize:x.indentSize,insertSpaces:x.insertSpaces,trimAutoWhitespace:x.trimAutoWhitespace,defaultEOL:x.defaultEOL})}onDidChangeRawContentFast(T){return this._eventEmitter.fastEvent(x=>T(x.rawContentChangedEvent))}onDidChangeContentFast(T){return this._eventEmitter.fastEvent(x=>T(x.contentChangedEvent))}onDidChangeContent(T){return this._eventEmitter.slowEvent(x=>T(x.contentChangedEvent))}dispose(){this._isDisposing=!0,this._onWillDispose.fire(),this._languageRegistryListener.dispose(),this._tokenization.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this._isDisposing=!1;const T=new y.PieceTreeTextBuffer([],"",`
`,!1,!1,!0,!0);T.dispose(),this._buffer=T}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(T,x){this._isDisposing||this._eventEmitter.fire(new r.InternalModelContentChangeEvent(T,x))}setValue(T){if(this._assertNotDisposed(),T!==null){const{textBuffer:x,disposable:z}=M(T,this._options.defaultEOL);this._setValueFromTextBuffer(x,z)}}_createContentChanged2(T,x,z,V,U,Q,se){return{changes:[{range:T,rangeOffset:x,rangeLength:z,text:V}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:U,isRedoing:Q,isFlush:se}}_setValueFromTextBuffer(T,x){this._assertNotDisposed();const z=this.getFullModelRange(),V=this.getValueLengthInRange(z),U=this.getLineCount(),Q=this.getLineMaxColumn(U);this._buffer=T,this._bufferDisposable.dispose(),this._bufferDisposable=x,this._increaseVersionId(),this._tokens.flush(),this._tokens2.flush(),this._decorations=Object.create(null),this._decorationsTree=new A,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new r.ModelRawContentChangedEvent([new r.ModelRawFlush],this._versionId,!1,!1),this._createContentChanged2(new i.Range(1,1,U,Q),0,V,this.getValue(),!1,!1,!0))}setEOL(T){this._assertNotDisposed();const x=T===1?`\r
`:`
`;if(this._buffer.getEOL()!==x){const z=this.getFullModelRange(),V=this.getValueLengthInRange(z),U=this.getLineCount(),Q=this.getLineMaxColumn(U);this._onBeforeEOLChange(),this._buffer.setEOL(x),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new r.ModelRawContentChangedEvent([new r.ModelRawEOLChanged],this._versionId,!1,!1),this._createContentChanged2(new i.Range(1,1,U,Q),0,V,this.getValue(),!1,!1,!1))}}_onBeforeEOLChange(){const T=this.getVersionId(),x=this._decorationsTree.search(0,!1,!1,T);this._ensureNodesHaveRanges(x)}_onAfterEOLChange(){const T=this.getVersionId(),x=this._decorationsTree.collectNodesPostOrder();for(let z=0,V=x.length;z<V;z++){const U=x[z],Q=U.cachedAbsoluteStart-U.start,se=this._buffer.getOffsetAt(U.range.startLineNumber,U.range.startColumn),oe=this._buffer.getOffsetAt(U.range.endLineNumber,U.range.endColumn);U.cachedAbsoluteStart=se,U.cachedAbsoluteEnd=oe,U.cachedVersionId=T,U.start=se-Q,U.end=oe-Q,(0,c.recomputeMaxEnd)(U)}}onBeforeAttached(){this._attachedEditorCount++,this._attachedEditorCount===1&&this._onDidChangeAttached.fire(void 0)}onBeforeDetached(){this._attachedEditorCount--,this._attachedEditorCount===0&&this._onDidChangeAttached.fire(void 0)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let T=0,x=0;const z=this._buffer.getLineCount();for(let V=1;V<=z;V++){const U=this._buffer.getLineLength(V);U>=e.LONG_LINE_BOUNDARY?x+=U:T+=U}return x>T}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(T){this._assertNotDisposed();let x=typeof T.tabSize!="undefined"?T.tabSize:this._options.tabSize,z=typeof T.indentSize!="undefined"?T.indentSize:this._options.indentSize,V=typeof T.insertSpaces!="undefined"?T.insertSpaces:this._options.insertSpaces,U=typeof T.trimAutoWhitespace!="undefined"?T.trimAutoWhitespace:this._options.trimAutoWhitespace,Q=new u.TextModelResolvedOptions({tabSize:x,indentSize:z,insertSpaces:V,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:U});if(!this._options.equals(Q)){let se=this._options.createChangeEvent(Q);this._options=Q,this._onDidChangeOptions.fire(se)}}detectIndentation(T,x){this._assertNotDisposed();let z=(0,l.guessIndentation)(this._buffer,x,T);this.updateOptions({insertSpaces:z.insertSpaces,tabSize:z.tabSize,indentSize:z.tabSize})}static _normalizeIndentationFromWhitespace(T,x,z){let V=0;for(let Q=0;Q<T.length;Q++)T.charAt(Q)==="	"?V+=x:V++;let U="";if(!z){let Q=Math.floor(V/x);V=V%x;for(let se=0;se<Q;se++)U+="	"}for(let Q=0;Q<V;Q++)U+=" ";return U}static normalizeIndentation(T,x,z){let V=w.firstNonWhitespaceIndex(T);return V===-1&&(V=T.length),E._normalizeIndentationFromWhitespace(T.substring(0,V),x,z)+T.substring(V)}normalizeIndentation(T){return this._assertNotDisposed(),E.normalizeIndentation(T,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(T=null){const x=this.findMatches(w.UNUSUAL_LINE_TERMINATORS.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(T,x.map(z=>({range:z.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(T){this._assertNotDisposed();let x=this._validatePosition(T.lineNumber,T.column,0);return this._buffer.getOffsetAt(x.lineNumber,x.column)}getPositionAt(T){this._assertNotDisposed();let x=Math.min(this._buffer.getLength(),Math.max(0,T));return this._buffer.getPositionAt(x)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(T){this._versionId=T}_overwriteAlternativeVersionId(T){this._alternativeVersionId=T}_overwriteInitialUndoRedoSnapshot(T){this._initialUndoRedoSnapshot=T}getValue(T,x=!1){this._assertNotDisposed();const z=this.getFullModelRange(),V=this.getValueInRange(z,T);return x?this._buffer.getBOM()+V:V}createSnapshot(T=!1){return new P(this._buffer.createSnapshot(T))}getValueLength(T,x=!1){this._assertNotDisposed();const z=this.getFullModelRange(),V=this.getValueLengthInRange(z,T);return x?this._buffer.getBOM().length+V:V}getValueInRange(T,x=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(T),x)}getValueLengthInRange(T,x=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(T),x)}getCharacterCountInRange(T,x=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(T),x)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(T){if(this._assertNotDisposed(),T<1||T>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(T)}getLineLength(T){if(this._assertNotDisposed(),T<1||T>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(T)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(T){return this._assertNotDisposed(),1}getLineMaxColumn(T){if(this._assertNotDisposed(),T<1||T>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(T)+1}getLineFirstNonWhitespaceColumn(T){if(this._assertNotDisposed(),T<1||T>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(T)}getLineLastNonWhitespaceColumn(T){if(this._assertNotDisposed(),T<1||T>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(T)}_validateRangeRelaxedNoAllocations(T){const x=this._buffer.getLineCount(),z=T.startLineNumber,V=T.startColumn;let U=Math.floor(typeof z=="number"&&!isNaN(z)?z:1),Q=Math.floor(typeof V=="number"&&!isNaN(V)?V:1);if(U<1)U=1,Q=1;else if(U>x)U=x,Q=this.getLineMaxColumn(U);else if(Q<=1)Q=1;else{const ne=this.getLineMaxColumn(U);Q>=ne&&(Q=ne)}const se=T.endLineNumber,oe=T.endColumn;let G=Math.floor(typeof se=="number"&&!isNaN(se)?se:1),j=Math.floor(typeof oe=="number"&&!isNaN(oe)?oe:1);if(G<1)G=1,j=1;else if(G>x)G=x,j=this.getLineMaxColumn(G);else if(j<=1)j=1;else{const ne=this.getLineMaxColumn(G);j>=ne&&(j=ne)}return z===U&&V===Q&&se===G&&oe===j&&T instanceof i.Range&&!(T instanceof p.Selection)?T:new i.Range(U,Q,G,j)}_isValidPosition(T,x,z){if(typeof T!="number"||typeof x!="number"||isNaN(T)||isNaN(x)||T<1||x<1||(T|0)!==T||(x|0)!==x)return!1;const V=this._buffer.getLineCount();if(T>V)return!1;if(x===1)return!0;const U=this.getLineMaxColumn(T);if(x>U)return!1;if(z===1){const Q=this._buffer.getLineCharCode(T,x-2);if(w.isHighSurrogate(Q))return!1}return!0}_validatePosition(T,x,z){const V=Math.floor(typeof T=="number"&&!isNaN(T)?T:1),U=Math.floor(typeof x=="number"&&!isNaN(x)?x:1),Q=this._buffer.getLineCount();if(V<1)return new C.Position(1,1);if(V>Q)return new C.Position(Q,this.getLineMaxColumn(Q));if(U<=1)return new C.Position(V,1);const se=this.getLineMaxColumn(V);if(U>=se)return new C.Position(V,se);if(z===1){const oe=this._buffer.getLineCharCode(V,U-2);if(w.isHighSurrogate(oe))return new C.Position(V,U-1)}return new C.Position(V,U)}validatePosition(T){const x=1;return this._assertNotDisposed(),T instanceof C.Position&&this._isValidPosition(T.lineNumber,T.column,x)?T:this._validatePosition(T.lineNumber,T.column,x)}_isValidRange(T,x){const z=T.startLineNumber,V=T.startColumn,U=T.endLineNumber,Q=T.endColumn;if(!this._isValidPosition(z,V,0)||!this._isValidPosition(U,Q,0))return!1;if(x===1){const se=V>1?this._buffer.getLineCharCode(z,V-2):0,oe=Q>1&&Q<=this._buffer.getLineLength(U)?this._buffer.getLineCharCode(U,Q-2):0,G=w.isHighSurrogate(se),j=w.isHighSurrogate(oe);return!G&&!j}return!0}validateRange(T){const x=1;if(this._assertNotDisposed(),T instanceof i.Range&&!(T instanceof p.Selection)&&this._isValidRange(T,x))return T;const z=this._validatePosition(T.startLineNumber,T.startColumn,0),V=this._validatePosition(T.endLineNumber,T.endColumn,0),U=z.lineNumber,Q=z.column,se=V.lineNumber,oe=V.column;if(x===1){const G=Q>1?this._buffer.getLineCharCode(U,Q-2):0,j=oe>1&&oe<=this._buffer.getLineLength(se)?this._buffer.getLineCharCode(se,oe-2):0,ne=w.isHighSurrogate(G),X=w.isHighSurrogate(j);return!ne&&!X?new i.Range(U,Q,se,oe):U===se&&Q===oe?new i.Range(U,Q-1,se,oe-1):ne&&X?new i.Range(U,Q-1,se,oe+1):ne?new i.Range(U,Q-1,se,oe):new i.Range(U,Q,se,oe+1)}return new i.Range(U,Q,se,oe)}modifyPosition(T,x){this._assertNotDisposed();let z=this.getOffsetAt(T)+x;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,z)))}getFullModelRange(){this._assertNotDisposed();const T=this.getLineCount();return new i.Range(1,1,T,this.getLineMaxColumn(T))}findMatchesLineByLine(T,x,z,V){return this._buffer.findMatchesLineByLine(T,x,z,V)}findMatches(T,x,z,V,U,Q,se=R){this._assertNotDisposed();let oe=null;x!==null&&(Array.isArray(x)||(x=[x]),x.every(ne=>i.Range.isIRange(ne))&&(oe=x.map(ne=>this.validateRange(ne)))),oe===null&&(oe=[this.getFullModelRange()]),oe=oe.sort((ne,X)=>ne.startLineNumber-X.startLineNumber||ne.startColumn-X.startColumn);const G=[];G.push(oe.reduce((ne,X)=>i.Range.areIntersecting(ne,X)?ne.plusRange(X):(G.push(ne),X)));let j;if(!z&&T.indexOf(`
`)<0){const X=new n.SearchParams(T,z,V,U).parseSearchRequest();if(!X)return[];j=de=>this.findMatchesLineByLine(de,X,Q,se)}else j=ne=>n.TextModelSearch.findMatches(this,new n.SearchParams(T,z,V,U),ne,Q,se);return G.map(j).reduce((ne,X)=>ne.concat(X),[])}findNextMatch(T,x,z,V,U,Q){this._assertNotDisposed();const se=this.validatePosition(x);if(!z&&T.indexOf(`
`)<0){const G=new n.SearchParams(T,z,V,U).parseSearchRequest();if(!G)return null;const j=this.getLineCount();let ne=new i.Range(se.lineNumber,se.column,j,this.getLineMaxColumn(j)),X=this.findMatchesLineByLine(ne,G,Q,1);return n.TextModelSearch.findNextMatch(this,new n.SearchParams(T,z,V,U),se,Q),X.length>0||(ne=new i.Range(1,1,se.lineNumber,this.getLineMaxColumn(se.lineNumber)),X=this.findMatchesLineByLine(ne,G,Q,1),X.length>0)?X[0]:null}return n.TextModelSearch.findNextMatch(this,new n.SearchParams(T,z,V,U),se,Q)}findPreviousMatch(T,x,z,V,U,Q){this._assertNotDisposed();const se=this.validatePosition(x);return n.TextModelSearch.findPreviousMatch(this,new n.SearchParams(T,z,V,U),se,Q)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(T){if((this.getEOL()===`
`?0:1)!==T)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(T)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(T){return T instanceof u.ValidAnnotatedEditOperation?T:new u.ValidAnnotatedEditOperation(T.identifier||null,this.validateRange(T.range),T.text,T.forceMoveMarkers||!1,T.isAutoWhitespaceEdit||!1,T._isTracked||!1)}_validateEditOperations(T){const x=[];for(let z=0,V=T.length;z<V;z++)x[z]=this._validateEditOperation(T[z]);return x}pushEditOperations(T,x,z){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(T,this._validateEditOperations(x),z)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(T,x,z){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){let V=x.map(Q=>({range:this.validateRange(Q.range),text:Q.text})),U=!0;if(T)for(let Q=0,se=T.length;Q<se;Q++){let oe=T[Q],G=!1;for(let j=0,ne=V.length;j<ne;j++){let X=V[j].range,de=X.startLineNumber>oe.endLineNumber,he=oe.startLineNumber>X.endLineNumber;if(!de&&!he){G=!0;break}}if(!G){U=!1;break}}if(U)for(let Q=0,se=this._trimAutoWhitespaceLines.length;Q<se;Q++){let oe=this._trimAutoWhitespaceLines[Q],G=this.getLineMaxColumn(oe),j=!0;for(let ne=0,X=V.length;ne<X;ne++){let de=V[ne].range,he=V[ne].text;if(!(oe<de.startLineNumber||oe>de.endLineNumber)&&!(oe===de.startLineNumber&&de.startColumn===G&&de.isEmpty()&&he&&he.length>0&&he.charAt(0)===`
`)&&!(oe===de.startLineNumber&&de.startColumn===1&&de.isEmpty()&&he&&he.length>0&&he.charAt(he.length-1)===`
`)){j=!1;break}}if(j){const ne=new i.Range(oe,1,oe,G);x.push(new u.ValidAnnotatedEditOperation(null,ne,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(T,x,z)}_applyUndo(T,x,z,V){const U=T.map(Q=>{const se=this.getPositionAt(Q.newPosition),oe=this.getPositionAt(Q.newEnd);return{range:new i.Range(se.lineNumber,se.column,oe.lineNumber,oe.column),text:Q.oldText}});this._applyUndoRedoEdits(U,x,!0,!1,z,V)}_applyRedo(T,x,z,V){const U=T.map(Q=>{const se=this.getPositionAt(Q.oldPosition),oe=this.getPositionAt(Q.oldEnd);return{range:new i.Range(se.lineNumber,se.column,oe.lineNumber,oe.column),text:Q.newText}});this._applyUndoRedoEdits(U,x,!1,!0,z,V)}_applyUndoRedoEdits(T,x,z,V,U,Q){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=z,this._isRedoing=V,this.applyEdits(T,!1),this.setEOL(x),this._overwriteAlternativeVersionId(U)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(Q),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(T,x=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const z=this._validateEditOperations(T);return this._doApplyEdits(z,x)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(T,x){const z=this._buffer.getLineCount(),V=this._buffer.applyEdits(T,this._options.trimAutoWhitespace,x),U=this._buffer.getLineCount(),Q=V.changes;if(this._trimAutoWhitespaceLines=V.trimAutoWhitespaceLineNumbers,Q.length!==0){let se=[],oe=z;for(let G=0,j=Q.length;G<j;G++){const ne=Q[G],[X,de,he]=(0,f.countEOL)(ne.text);this._tokens.acceptEdit(ne.range,X,de),this._tokens2.acceptEdit(ne.range,X,de,he,ne.text.length>0?ne.text.charCodeAt(0):0),this._onDidChangeDecorations.fire(),this._decorationsTree.acceptReplace(ne.rangeOffset,ne.rangeLength,ne.text.length,ne.forceMoveMarkers);const re=ne.range.startLineNumber,ue=ne.range.endLineNumber,me=ue-re,be=X,we=Math.min(me,be),Ee=be-me;for(let De=we;De>=0;De--){const Oe=re+De,Le=U-oe-Ee+Oe;se.push(new r.ModelRawLineChanged(Oe,this.getLineContent(Le)))}if(we<me){const De=re+we;se.push(new r.ModelRawLinesDeleted(De+1,ue))}if(we<be){const De=re+we,Oe=be-we,Le=U-oe-Oe+De+1;let Te=[];for(let ve=0;ve<Oe;ve++){let Se=Le+ve;Te[Se-Le]=this.getLineContent(Se)}se.push(new r.ModelRawLinesInserted(De+1,re+be,Te))}oe+=Ee}this._increaseVersionId(),this._emitContentChangedEvent(new r.ModelRawContentChangedEvent(se,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:Q,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return V.reverseEdits===null?void 0:V.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}changeDecorations(T,x=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(x,T)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(T,x){let z={addDecoration:(U,Q)=>this._deltaDecorationsImpl(T,[],[{range:U,options:Q}])[0],changeDecoration:(U,Q)=>{this._changeDecorationImpl(U,Q)},changeDecorationOptions:(U,Q)=>{this._changeDecorationOptionsImpl(U,ie(Q))},removeDecoration:U=>{this._deltaDecorationsImpl(T,[U],[])},deltaDecorations:(U,Q)=>U.length===0&&Q.length===0?[]:this._deltaDecorationsImpl(T,U,Q)},V=null;try{V=x(z)}catch(U){(0,v.onUnexpectedError)(U)}return z.addDecoration=O,z.changeDecoration=O,z.changeDecorationOptions=O,z.removeDecoration=O,z.deltaDecorations=O,V}deltaDecorations(T,x,z=0){if(this._assertNotDisposed(),T||(T=[]),T.length===0&&x.length===0)return[];try{return this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(z,T,x)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_getTrackedRange(T){return this.getDecorationRange(T)}_setTrackedRange(T,x,z){const V=T?this._decorations[T]:null;if(!V)return x?this._deltaDecorationsImpl(0,[],[{range:x,options:te[z]}])[0]:null;if(!x)return this._decorationsTree.delete(V),delete this._decorations[V.id],null;const U=this._validateRangeRelaxedNoAllocations(x),Q=this._buffer.getOffsetAt(U.startLineNumber,U.startColumn),se=this._buffer.getOffsetAt(U.endLineNumber,U.endColumn);return this._decorationsTree.delete(V),V.reset(this.getVersionId(),Q,se,U),V.setOptions(te[z]),this._decorationsTree.insert(V),V.id}removeAllDecorationsWithOwnerId(T){if(!this._isDisposed){const x=this._decorationsTree.collectNodesFromOwner(T);for(let z=0,V=x.length;z<V;z++){const U=x[z];this._decorationsTree.delete(U),delete this._decorations[U.id]}}}getDecorationOptions(T){const x=this._decorations[T];return x?x.options:null}getDecorationRange(T){const x=this._decorations[T];if(!x)return null;const z=this.getVersionId();return x.cachedVersionId!==z&&this._decorationsTree.resolveNode(x,z),x.range===null&&(x.range=this._getRangeAt(x.cachedAbsoluteStart,x.cachedAbsoluteEnd)),x.range}getLineDecorations(T,x=0,z=!1){return T<1||T>this.getLineCount()?[]:this.getLinesDecorations(T,T,x,z)}getLinesDecorations(T,x,z=0,V=!1){let U=this.getLineCount(),Q=Math.min(U,Math.max(1,T)),se=Math.min(U,Math.max(1,x)),oe=this.getLineMaxColumn(se);return this._getDecorationsInRange(new i.Range(Q,1,se,oe),z,V)}getDecorationsInRange(T,x=0,z=!1){let V=this.validateRange(T);return this._getDecorationsInRange(V,x,z)}getOverviewRulerDecorations(T=0,x=!1){const z=this.getVersionId(),V=this._decorationsTree.search(T,x,!0,z);return this._ensureNodesHaveRanges(V)}getAllDecorations(T=0,x=!1){const z=this.getVersionId(),V=this._decorationsTree.search(T,x,!1,z);return this._ensureNodesHaveRanges(V)}_getDecorationsInRange(T,x,z){const V=this._buffer.getOffsetAt(T.startLineNumber,T.startColumn),U=this._buffer.getOffsetAt(T.endLineNumber,T.endColumn),Q=this.getVersionId(),se=this._decorationsTree.intervalSearch(V,U,x,z,Q);return this._ensureNodesHaveRanges(se)}_ensureNodesHaveRanges(T){for(let x=0,z=T.length;x<z;x++){const V=T[x];V.range===null&&(V.range=this._getRangeAt(V.cachedAbsoluteStart,V.cachedAbsoluteEnd))}return T}_getRangeAt(T,x){return this._buffer.getRangeAt(T,x-T)}_changeDecorationImpl(T,x){const z=this._decorations[T];if(!!z){const V=this._validateRangeRelaxedNoAllocations(x),U=this._buffer.getOffsetAt(V.startLineNumber,V.startColumn),Q=this._buffer.getOffsetAt(V.endLineNumber,V.endColumn);this._decorationsTree.delete(z),z.reset(this.getVersionId(),U,Q,V),this._decorationsTree.insert(z),this._onDidChangeDecorations.checkAffectedAndFire(z.options)}}_changeDecorationOptionsImpl(T,x){const z=this._decorations[T];if(!!z){const V=!!(z.options.overviewRuler&&z.options.overviewRuler.color),U=!!(x.overviewRuler&&x.overviewRuler.color);this._onDidChangeDecorations.checkAffectedAndFire(z.options),this._onDidChangeDecorations.checkAffectedAndFire(x),V!==U?(this._decorationsTree.delete(z),z.setOptions(x),this._decorationsTree.insert(z)):z.setOptions(x)}}_deltaDecorationsImpl(T,x,z){const V=this.getVersionId(),U=x.length;let Q=0;const se=z.length;let oe=0,G=new Array(se);for(;Q<U||oe<se;){let j=null;if(Q<U){do j=this._decorations[x[Q++]];while(!j&&Q<U);j&&(this._decorationsTree.delete(j),this._onDidChangeDecorations.checkAffectedAndFire(j.options))}if(oe<se){if(!j){const ue=++this._lastDecorationId,me=`${this._instanceId};${ue}`;j=new c.IntervalNode(me,0,0),this._decorations[me]=j}const ne=z[oe],X=this._validateRangeRelaxedNoAllocations(ne.range),de=ie(ne.options),he=this._buffer.getOffsetAt(X.startLineNumber,X.startColumn),re=this._buffer.getOffsetAt(X.endLineNumber,X.endColumn);j.ownerId=T,j.reset(V,he,re,X),j.setOptions(de),this._onDidChangeDecorations.checkAffectedAndFire(de),this._decorationsTree.insert(j),G[oe]=j.id,oe++}else j&&delete this._decorations[j.id]}return G}setTokens(T){if(T.length!==0){let x=[];for(let z=0,V=T.length;z<V;z++){const U=T[z];let Q=0,se=0,oe=!1;for(let G=0,j=U.tokens.length;G<j;G++){const ne=U.startLineNumber+G;oe?(this._tokens.setTokens(this._languageIdentifier.id,ne-1,this._buffer.getLineLength(ne),U.tokens[G],!1),se=ne):this._tokens.setTokens(this._languageIdentifier.id,ne-1,this._buffer.getLineLength(ne),U.tokens[G],!0)&&(oe=!0,Q=ne,se=ne)}oe&&x.push({fromLineNumber:Q,toLineNumber:se})}x.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:x})}}setSemanticTokens(T,x){this._tokens2.set(T,x),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:T!==null,ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]})}hasCompleteSemanticTokens(){return this._tokens2.isComplete()}hasSomeSemanticTokens(){return!this._tokens2.isEmpty()}setPartialSemanticTokens(T,x){if(!this.hasCompleteSemanticTokens()){const z=this._tokens2.setPartial(T,x);this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:z.startLineNumber,toLineNumber:z.endLineNumber}]})}}tokenizeViewport(T,x){T=Math.max(1,T),x=Math.min(this._buffer.getLineCount(),x),this._tokenization.tokenizeViewport(T,x)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._buffer.getLineCount()}]})}_emitModelTokensChangedEvent(T){this._isDisposing||this._onDidChangeTokens.fire(T)}resetTokenization(){this._tokenization.reset()}forceTokenization(T){if(T<1||T>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(T)}isCheapToTokenize(T){return this._tokenization.isCheapToTokenize(T)}tokenizeIfCheap(T){this.isCheapToTokenize(T)&&this.forceTokenization(T)}getLineTokens(T){if(T<1||T>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(T)}_getLineTokens(T){const x=this.getLineContent(T),z=this._tokens.getTokens(this._languageIdentifier.id,T-1,x);return this._tokens2.addSemanticTokens(T,z)}getLanguageIdentifier(){return this._languageIdentifier}getModeId(){return this._languageIdentifier.language}setMode(T){if(this._languageIdentifier.id!==T.id){let x={oldLanguage:this._languageIdentifier.language,newLanguage:T.language};this._languageIdentifier=T,this._onDidChangeLanguage.fire(x),this._onDidChangeLanguageConfiguration.fire({})}}getLanguageIdAtPosition(T,x){const z=this.validatePosition(new C.Position(T,x)),V=this.getLineTokens(z.lineNumber);return V.getLanguageId(V.findTokenIndexAtOffset(z.column-1))}getWordAtPosition(T){this._assertNotDisposed();const x=this.validatePosition(T),z=this.getLineContent(x.lineNumber),V=this._getLineTokens(x.lineNumber),U=V.findTokenIndexAtOffset(x.column-1),[Q,se]=E._findLanguageBoundaries(V,U),oe=(0,t.getWordAtText)(x.column,o.LanguageConfigurationRegistry.getWordDefinition(V.getLanguageId(U)),z.substring(Q,se),Q);if(oe&&oe.startColumn<=T.column&&T.column<=oe.endColumn)return oe;if(U>0&&Q===x.column-1){const[G,j]=E._findLanguageBoundaries(V,U-1),ne=(0,t.getWordAtText)(x.column,o.LanguageConfigurationRegistry.getWordDefinition(V.getLanguageId(U-1)),z.substring(G,j),G);if(ne&&ne.startColumn<=T.column&&T.column<=ne.endColumn)return ne}return null}static _findLanguageBoundaries(T,x){const z=T.getLanguageId(x);let V=0;for(let Q=x;Q>=0&&T.getLanguageId(Q)===z;Q--)V=T.getStartOffset(Q);let U=T.getLineContent().length;for(let Q=x,se=T.getCount();Q<se&&T.getLanguageId(Q)===z;Q++)U=T.getEndOffset(Q);return[V,U]}getWordUntilPosition(T){const x=this.getWordAtPosition(T);return x?{word:x.word.substr(0,T.column-x.startColumn),startColumn:x.startColumn,endColumn:T.column}:{word:"",startColumn:T.column,endColumn:T.column}}findMatchingBracketUp(T,x){let z=T.toLowerCase(),V=this.validatePosition(x),U=this._getLineTokens(V.lineNumber),Q=U.getLanguageId(U.findTokenIndexAtOffset(V.column-1)),se=o.LanguageConfigurationRegistry.getBracketsSupport(Q);if(!se)return null;let oe=se.textIsBracket[z];return oe?F(this._findMatchingBracketUp(oe,V,null)):null}matchBracket(T){return this._matchBracket(this.validatePosition(T))}_establishBracketSearchOffsets(T,x,z,V){const U=x.getCount(),Q=x.getLanguageId(V);let se=Math.max(0,T.column-1-z.maxBracketLength);for(let G=V-1;G>=0;G--){const j=x.getEndOffset(G);if(j<=se)break;if((0,g.ignoreBracketsInToken)(x.getStandardTokenType(G))||x.getLanguageId(G)!==Q){se=j;break}}let oe=Math.min(x.getLineContent().length,T.column-1+z.maxBracketLength);for(let G=V+1;G<U;G++){const j=x.getStartOffset(G);if(j>=oe)break;if((0,g.ignoreBracketsInToken)(x.getStandardTokenType(G))||x.getLanguageId(G)!==Q){oe=j;break}}return{searchStartOffset:se,searchEndOffset:oe}}_matchBracket(T){const x=T.lineNumber,z=this._getLineTokens(x),V=this._buffer.getLineContent(x),U=z.findTokenIndexAtOffset(T.column-1);if(U<0)return null;const Q=o.LanguageConfigurationRegistry.getBracketsSupport(z.getLanguageId(U));if(Q&&!(0,g.ignoreBracketsInToken)(z.getStandardTokenType(U))){let{searchStartOffset:se,searchEndOffset:oe}=this._establishBracketSearchOffsets(T,z,Q,U),G=null;for(;;){const j=m.BracketsUtils.findNextBracketInRange(Q.forwardRegex,x,V,se,oe);if(!j)break;if(j.startColumn<=T.column&&T.column<=j.endColumn){const ne=V.substring(j.startColumn-1,j.endColumn-1).toLowerCase(),X=this._matchFoundBracket(j,Q.textIsBracket[ne],Q.textIsOpenBracket[ne],null);if(X){if(X instanceof W)return null;G=X}}se=j.endColumn-1}if(G)return G}if(U>0&&z.getStartOffset(U)===T.column-1){const se=U-1,oe=o.LanguageConfigurationRegistry.getBracketsSupport(z.getLanguageId(se));if(oe&&!(0,g.ignoreBracketsInToken)(z.getStandardTokenType(se))){let{searchStartOffset:G,searchEndOffset:j}=this._establishBracketSearchOffsets(T,z,oe,se);const ne=m.BracketsUtils.findPrevBracketInRange(oe.reversedRegex,x,V,G,j);if(ne&&ne.startColumn<=T.column&&T.column<=ne.endColumn){const X=V.substring(ne.startColumn-1,ne.endColumn-1).toLowerCase(),de=this._matchFoundBracket(ne,oe.textIsBracket[X],oe.textIsOpenBracket[X],null);if(de)return de instanceof W?null:de}}}return null}_matchFoundBracket(T,x,z,V){if(!x)return null;const U=z?this._findMatchingBracketDown(x,T.getEndPosition(),V):this._findMatchingBracketUp(x,T.getStartPosition(),V);return U?U instanceof W?U:[T,U]:null}_findMatchingBracketUp(T,x,z){const V=T.languageIdentifier.id,U=T.reversedRegex;let Q=-1,se=0;const oe=(G,j,ne,X)=>{for(;;){if(z&&++se%100==0&&!z())return W.INSTANCE;const de=m.BracketsUtils.findPrevBracketInRange(U,G,j,ne,X);if(!de)break;const he=j.substring(de.startColumn-1,de.endColumn-1).toLowerCase();if(T.isOpen(he)?Q++:T.isClose(he)&&Q--,Q===0)return de;X=de.startColumn-1}return null};for(let G=x.lineNumber;G>=1;G--){const j=this._getLineTokens(G),ne=j.getCount(),X=this._buffer.getLineContent(G);let de=ne-1,he=X.length,re=X.length;G===x.lineNumber&&(de=j.findTokenIndexAtOffset(x.column-1),he=x.column-1,re=x.column-1);let ue=!0;for(;de>=0;de--){const me=j.getLanguageId(de)===V&&!(0,g.ignoreBracketsInToken)(j.getStandardTokenType(de));if(me)ue?he=j.getStartOffset(de):(he=j.getStartOffset(de),re=j.getEndOffset(de));else if(ue&&he!==re){const be=oe(G,X,he,re);if(be)return be}ue=me}if(ue&&he!==re){const me=oe(G,X,he,re);if(me)return me}}return null}_findMatchingBracketDown(T,x,z){const V=T.languageIdentifier.id,U=T.forwardRegex;let Q=1,se=0;const oe=(j,ne,X,de)=>{for(;;){if(z&&++se%100==0&&!z())return W.INSTANCE;const he=m.BracketsUtils.findNextBracketInRange(U,j,ne,X,de);if(!he)break;const re=ne.substring(he.startColumn-1,he.endColumn-1).toLowerCase();if(T.isOpen(re)?Q++:T.isClose(re)&&Q--,Q===0)return he;X=he.endColumn-1}return null},G=this.getLineCount();for(let j=x.lineNumber;j<=G;j++){const ne=this._getLineTokens(j),X=ne.getCount(),de=this._buffer.getLineContent(j);let he=0,re=0,ue=0;j===x.lineNumber&&(he=ne.findTokenIndexAtOffset(x.column-1),re=x.column-1,ue=x.column-1);let me=!0;for(;he<X;he++){const be=ne.getLanguageId(he)===V&&!(0,g.ignoreBracketsInToken)(ne.getStandardTokenType(he));if(be)me||(re=ne.getStartOffset(he)),ue=ne.getEndOffset(he);else if(me&&re!==ue){const we=oe(j,de,re,ue);if(we)return we}me=be}if(me&&re!==ue){const be=oe(j,de,re,ue);if(be)return be}}return null}findPrevBracket(T){const x=this.validatePosition(T);let z=-1,V=null;for(let U=x.lineNumber;U>=1;U--){const Q=this._getLineTokens(U),se=Q.getCount(),oe=this._buffer.getLineContent(U);let G=se-1,j=oe.length,ne=oe.length;if(U===x.lineNumber){G=Q.findTokenIndexAtOffset(x.column-1),j=x.column-1,ne=x.column-1;const de=Q.getLanguageId(G);z!==de&&(z=de,V=o.LanguageConfigurationRegistry.getBracketsSupport(z))}let X=!0;for(;G>=0;G--){const de=Q.getLanguageId(G);if(z!==de){if(V&&X&&j!==ne){const re=m.BracketsUtils.findPrevBracketInRange(V.reversedRegex,U,oe,j,ne);if(re)return this._toFoundBracket(V,re);X=!1}z=de,V=o.LanguageConfigurationRegistry.getBracketsSupport(z)}const he=!!V&&!(0,g.ignoreBracketsInToken)(Q.getStandardTokenType(G));if(he)X?j=Q.getStartOffset(G):(j=Q.getStartOffset(G),ne=Q.getEndOffset(G));else if(V&&X&&j!==ne){const re=m.BracketsUtils.findPrevBracketInRange(V.reversedRegex,U,oe,j,ne);if(re)return this._toFoundBracket(V,re)}X=he}if(V&&X&&j!==ne){const de=m.BracketsUtils.findPrevBracketInRange(V.reversedRegex,U,oe,j,ne);if(de)return this._toFoundBracket(V,de)}}return null}findNextBracket(T){const x=this.validatePosition(T),z=this.getLineCount();let V=-1,U=null;for(let Q=x.lineNumber;Q<=z;Q++){const se=this._getLineTokens(Q),oe=se.getCount(),G=this._buffer.getLineContent(Q);let j=0,ne=0,X=0;if(Q===x.lineNumber){j=se.findTokenIndexAtOffset(x.column-1),ne=x.column-1,X=x.column-1;const he=se.getLanguageId(j);V!==he&&(V=he,U=o.LanguageConfigurationRegistry.getBracketsSupport(V))}let de=!0;for(;j<oe;j++){const he=se.getLanguageId(j);if(V!==he){if(U&&de&&ne!==X){const ue=m.BracketsUtils.findNextBracketInRange(U.forwardRegex,Q,G,ne,X);if(ue)return this._toFoundBracket(U,ue);de=!1}V=he,U=o.LanguageConfigurationRegistry.getBracketsSupport(V)}const re=!!U&&!(0,g.ignoreBracketsInToken)(se.getStandardTokenType(j));if(re)de||(ne=se.getStartOffset(j)),X=se.getEndOffset(j);else if(U&&de&&ne!==X){const ue=m.BracketsUtils.findNextBracketInRange(U.forwardRegex,Q,G,ne,X);if(ue)return this._toFoundBracket(U,ue)}de=re}if(U&&de&&ne!==X){const he=m.BracketsUtils.findNextBracketInRange(U.forwardRegex,Q,G,ne,X);if(he)return this._toFoundBracket(U,he)}}return null}findEnclosingBrackets(T,x){let z;if(typeof x=="undefined")z=null;else{const de=Date.now();z=()=>Date.now()-de<=x}const V=this.validatePosition(T),U=this.getLineCount(),Q=new Map;let se=[];const oe=(de,he)=>{if(!Q.has(de)){let re=[];for(let ue=0,me=he?he.brackets.length:0;ue<me;ue++)re[ue]=0;Q.set(de,re)}se=Q.get(de)};let G=0;const j=(de,he,re,ue,me)=>{for(;;){if(z&&++G%100==0&&!z())return W.INSTANCE;const be=m.BracketsUtils.findNextBracketInRange(de.forwardRegex,he,re,ue,me);if(!be)break;const we=re.substring(be.startColumn-1,be.endColumn-1).toLowerCase(),Ee=de.textIsBracket[we];if(Ee&&(Ee.isOpen(we)?se[Ee.index]++:Ee.isClose(we)&&se[Ee.index]--,se[Ee.index]===-1))return this._matchFoundBracket(be,Ee,!1,z);ue=be.endColumn-1}return null};let ne=-1,X=null;for(let de=V.lineNumber;de<=U;de++){const he=this._getLineTokens(de),re=he.getCount(),ue=this._buffer.getLineContent(de);let me=0,be=0,we=0;if(de===V.lineNumber){me=he.findTokenIndexAtOffset(V.column-1),be=V.column-1,we=V.column-1;const De=he.getLanguageId(me);ne!==De&&(ne=De,X=o.LanguageConfigurationRegistry.getBracketsSupport(ne),oe(ne,X))}let Ee=!0;for(;me<re;me++){const De=he.getLanguageId(me);if(ne!==De){if(X&&Ee&&be!==we){const Le=j(X,de,ue,be,we);if(Le)return F(Le);Ee=!1}ne=De,X=o.LanguageConfigurationRegistry.getBracketsSupport(ne),oe(ne,X)}const Oe=!!X&&!(0,g.ignoreBracketsInToken)(he.getStandardTokenType(me));if(Oe)Ee||(be=he.getStartOffset(me)),we=he.getEndOffset(me);else if(X&&Ee&&be!==we){const Le=j(X,de,ue,be,we);if(Le)return F(Le)}Ee=Oe}if(X&&Ee&&be!==we){const De=j(X,de,ue,be,we);if(De)return F(De)}}return null}_toFoundBracket(T,x){if(!x)return null;let z=this.getValueInRange(x);z=z.toLowerCase();let V=T.textIsBracket[z];return V?{range:x,open:V.open,close:V.close,isOpen:T.textIsOpenBracket[z]}:null}static computeIndentLevel(T,x){let z=0,V=0,U=T.length;for(;V<U;){let Q=T.charCodeAt(V);if(Q===32)z++;else if(Q===9)z=z-z%x+x;else break;V++}return V===U?-1:z}_computeIndentLevel(T){return E.computeIndentLevel(this._buffer.getLineContent(T+1),this._options.tabSize)}getActiveIndentGuide(T,x,z){this._assertNotDisposed();const V=this.getLineCount();if(T<1||T>V)throw new Error("Illegal value for lineNumber");const U=o.LanguageConfigurationRegistry.getFoldingRules(this._languageIdentifier.id),Q=Boolean(U&&U.offSide);let se=-2,oe=-1,G=-2,j=-1;const ne=Le=>{if(se!==-1&&(se===-2||se>Le-1)){se=-1,oe=-1;for(let Te=Le-2;Te>=0;Te--){let ve=this._computeIndentLevel(Te);if(ve>=0){se=Te,oe=ve;break}}}if(G===-2){G=-1,j=-1;for(let Te=Le;Te<V;Te++){let ve=this._computeIndentLevel(Te);if(ve>=0){G=Te,j=ve;break}}}};let X=-2,de=-1,he=-2,re=-1;const ue=Le=>{if(X===-2){X=-1,de=-1;for(let Te=Le-2;Te>=0;Te--){let ve=this._computeIndentLevel(Te);if(ve>=0){X=Te,de=ve;break}}}if(he!==-1&&(he===-2||he<Le-1)){he=-1,re=-1;for(let Te=Le;Te<V;Te++){let ve=this._computeIndentLevel(Te);if(ve>=0){he=Te,re=ve;break}}}};let me=0,be=!0,we=0,Ee=!0,De=0,Oe=0;for(let Le=0;be||Ee;Le++){const Te=T-Le,ve=T+Le;Le>1&&(Te<1||Te<x)&&(be=!1),Le>1&&(ve>V||ve>z)&&(Ee=!1),Le>5e4&&(be=!1,Ee=!1);let Se=-1;if(be){const fe=this._computeIndentLevel(Te-1);fe>=0?(G=Te-1,j=fe,Se=Math.ceil(fe/this._options.indentSize)):(ne(Te),Se=this._getIndentLevelForWhitespaceLine(Q,oe,j))}let ye=-1;if(Ee){const fe=this._computeIndentLevel(ve-1);fe>=0?(X=ve-1,de=fe,ye=Math.ceil(fe/this._options.indentSize)):(ue(ve),ye=this._getIndentLevelForWhitespaceLine(Q,de,re))}if(Le===0){Oe=Se;continue}if(Le===1){if(ve<=V&&ye>=0&&Oe+1===ye){be=!1,me=ve,we=ve,De=ye;continue}if(Te>=1&&Se>=0&&Se-1===Oe){Ee=!1,me=Te,we=Te,De=Se;continue}if(me=T,we=T,De=Oe,De===0)return{startLineNumber:me,endLineNumber:we,indent:De}}be&&(Se>=De?me=Te:be=!1),Ee&&(ye>=De?we=ve:Ee=!1)}return{startLineNumber:me,endLineNumber:we,indent:De}}getLinesIndentGuides(T,x){this._assertNotDisposed();const z=this.getLineCount();if(T<1||T>z)throw new Error("Illegal value for startLineNumber");if(x<1||x>z)throw new Error("Illegal value for endLineNumber");const V=o.LanguageConfigurationRegistry.getFoldingRules(this._languageIdentifier.id),U=Boolean(V&&V.offSide);let Q=new Array(x-T+1),se=-2,oe=-1,G=-2,j=-1;for(let ne=T;ne<=x;ne++){let X=ne-T;const de=this._computeIndentLevel(ne-1);if(de>=0){se=ne-1,oe=de,Q[X]=Math.ceil(de/this._options.indentSize);continue}if(se===-2){se=-1,oe=-1;for(let he=ne-2;he>=0;he--){let re=this._computeIndentLevel(he);if(re>=0){se=he,oe=re;break}}}if(G!==-1&&(G===-2||G<ne-1)){G=-1,j=-1;for(let he=ne;he<z;he++){let re=this._computeIndentLevel(he);if(re>=0){G=he,j=re;break}}}Q[X]=this._getIndentLevelForWhitespaceLine(U,oe,j)}return Q}_getIndentLevelForWhitespaceLine(T,x,z){return x===-1||z===-1?0:x<z?1+Math.floor(x/this._options.indentSize):x===z?Math.ceil(z/this._options.indentSize):T?Math.ceil(z/this._options.indentSize):1+Math.floor(z/this._options.indentSize)}}e.TextModel=E,E.MODEL_SYNC_LIMIT=50*1024*1024,E.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,E.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,E.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:_.EDITOR_MODEL_DEFAULTS.tabSize,indentSize:_.EDITOR_MODEL_DEFAULTS.indentSize,insertSpaces:_.EDITOR_MODEL_DEFAULTS.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:_.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,largeFileOptimizations:_.EDITOR_MODEL_DEFAULTS.largeFileOptimizations};class A{constructor(){this._decorationsTree0=new c.IntervalTree,this._decorationsTree1=new c.IntervalTree}intervalSearch(T,x,z,V,U){const Q=this._decorationsTree0.intervalSearch(T,x,z,V,U),se=this._decorationsTree1.intervalSearch(T,x,z,V,U);return Q.concat(se)}search(T,x,z,V){if(z)return this._decorationsTree1.search(T,x,V);{const U=this._decorationsTree0.search(T,x,V),Q=this._decorationsTree1.search(T,x,V);return U.concat(Q)}}collectNodesFromOwner(T){const x=this._decorationsTree0.collectNodesFromOwner(T),z=this._decorationsTree1.collectNodesFromOwner(T);return x.concat(z)}collectNodesPostOrder(){const T=this._decorationsTree0.collectNodesPostOrder(),x=this._decorationsTree1.collectNodesPostOrder();return T.concat(x)}insert(T){(0,c.getNodeIsInOverviewRuler)(T)?this._decorationsTree1.insert(T):this._decorationsTree0.insert(T)}delete(T){(0,c.getNodeIsInOverviewRuler)(T)?this._decorationsTree1.delete(T):this._decorationsTree0.delete(T)}resolveNode(T,x){(0,c.getNodeIsInOverviewRuler)(T)?this._decorationsTree1.resolveNode(T,x):this._decorationsTree0.resolveNode(T,x)}acceptReplace(T,x,z,V){this._decorationsTree0.acceptReplace(T,x,z,V),this._decorationsTree1.acceptReplace(T,x,z,V)}}function B(Z){return Z.replace(/[^a-z0-9\-_]/gi," ")}class H{constructor(T){this.color=T.color||"",this.darkColor=T.darkColor||""}}class K extends H{constructor(T){super(T);this._resolvedColor=null,this.position=typeof T.position=="number"?T.position:u.OverviewRulerLane.Center}getColor(T){return this._resolvedColor||(T.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,T):this._resolvedColor=this._resolveColor(this.color,T)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(T,x){if(typeof T=="string")return T;let z=T?x.getColor(T.id):null;return z?z.toString():""}}e.ModelDecorationOverviewRulerOptions=K;class q extends H{constructor(T){super(T);this.position=T.position}getColor(T){return this._resolvedColor||(T.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,T):this._resolvedColor=this._resolveColor(this.color,T)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(T,x){return typeof T=="string"?b.Color.fromHex(T):x.getColor(T.id)}}e.ModelDecorationMinimapOptions=q;class Y{constructor(T){this.stickiness=T.stickiness||0,this.zIndex=T.zIndex||0,this.className=T.className?B(T.className):null,this.hoverMessage=T.hoverMessage||null,this.glyphMarginHoverMessage=T.glyphMarginHoverMessage||null,this.isWholeLine=T.isWholeLine||!1,this.showIfCollapsed=T.showIfCollapsed||!1,this.collapseOnReplaceEdit=T.collapseOnReplaceEdit||!1,this.overviewRuler=T.overviewRuler?new K(T.overviewRuler):null,this.minimap=T.minimap?new q(T.minimap):null,this.glyphMarginClassName=T.glyphMarginClassName?B(T.glyphMarginClassName):null,this.linesDecorationsClassName=T.linesDecorationsClassName?B(T.linesDecorationsClassName):null,this.firstLineDecorationClassName=T.firstLineDecorationClassName?B(T.firstLineDecorationClassName):null,this.marginClassName=T.marginClassName?B(T.marginClassName):null,this.inlineClassName=T.inlineClassName?B(T.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=T.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=T.beforeContentClassName?B(T.beforeContentClassName):null,this.afterContentClassName=T.afterContentClassName?B(T.afterContentClassName):null}static register(T){return new Y(T)}static createDynamic(T){return new Y(T)}}e.ModelDecorationOptions=Y,Y.EMPTY=Y.register({});const te=[Y.register({stickiness:0}),Y.register({stickiness:1}),Y.register({stickiness:2}),Y.register({stickiness:3})];function ie(Z){return Z instanceof Y?Z:Y.createDynamic(Z)}class ae extends k.Disposable{constructor(){super();this._actual=this._register(new I.Emitter),this.event=this._actual.event,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){if(this._deferredCnt--,this._deferredCnt===0&&this._shouldFire){const T={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(T)}}checkAffectedAndFire(T){this._affectsMinimap||(this._affectsMinimap=!!(T.minimap&&T.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(T.overviewRuler&&T.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}e.DidChangeDecorationsEmitter=ae;class le extends k.Disposable{constructor(){super();this._fastEmitter=this._register(new I.Emitter),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new I.Emitter),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(T=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=T;const x=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(x),this._slowEmitter.fire(x)}}fire(T){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(T):this._deferredEvent=T;return}this._fastEmitter.fire(T),this._slowEmitter.fire(T)}}e.DidChangeContentEmitter=le}),define(J[43],ee([0,1,11,8,14,3,21,31,42]),function($,e,v,I,k,w,S,_,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isQuote=e.CursorColumns=e.EditOperationResult=e.CursorState=e.PartialViewCursorState=e.PartialModelCursorState=e.CursorContext=e.SingleCursorState=e.CursorConfiguration=void 0;const i=()=>!0,p=()=>!1,u=h=>h===" "||h==="	";class a{constructor(g,m,f){this._languageIdentifier=g;const b=f.options,y=b.get(127);this.readOnly=b.get(77),this.tabSize=m.tabSize,this.indentSize=m.indentSize,this.insertSpaces=m.insertSpaces,this.stickyTabStops=b.get(101),this.lineHeight=b.get(55),this.pageSize=Math.max(1,Math.floor(y.height/this.lineHeight)-2),this.useTabStops=b.get(112),this.wordSeparators=b.get(113),this.emptySelectionClipboard=b.get(30),this.copyWithSyntaxHighlighting=b.get(19),this.multiCursorMergeOverlapping=b.get(65),this.multiCursorPaste=b.get(67),this.autoClosingBrackets=b.get(5),this.autoClosingQuotes=b.get(8),this.autoClosingDelete=b.get(6),this.autoClosingOvertype=b.get(7),this.autoSurround=b.get(11),this.autoIndent=b.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:a._getShouldAutoClose(g,this.autoClosingQuotes),bracket:a._getShouldAutoClose(g,this.autoClosingBrackets)},this.autoClosingPairs=C.LanguageConfigurationRegistry.getAutoClosingPairs(g.id);let L=a._getSurroundingPairs(g);if(L)for(const N of L)this.surroundingPairs[N.open]=N.close}static shouldRecreate(g){return g.hasChanged(127)||g.hasChanged(113)||g.hasChanged(30)||g.hasChanged(65)||g.hasChanged(67)||g.hasChanged(5)||g.hasChanged(8)||g.hasChanged(6)||g.hasChanged(7)||g.hasChanged(11)||g.hasChanged(112)||g.hasChanged(55)||g.hasChanged(77)}get electricChars(){if(!this._electricChars){this._electricChars={};let g=a._getElectricCharacters(this._languageIdentifier);if(g)for(const m of g)this._electricChars[m]=!0}return this._electricChars}normalizeIndentation(g){return _.TextModel.normalizeIndentation(g,this.indentSize,this.insertSpaces)}static _getElectricCharacters(g){try{return C.LanguageConfigurationRegistry.getElectricCharacters(g.id)}catch(m){return(0,v.onUnexpectedError)(m),null}}static _getShouldAutoClose(g,m){switch(m){case"beforeWhitespace":return u;case"languageDefined":return a._getLanguageDefinedShouldAutoClose(g);case"always":return i;case"never":return p}}static _getLanguageDefinedShouldAutoClose(g){try{const m=C.LanguageConfigurationRegistry.getAutoCloseBeforeSet(g.id);return f=>m.indexOf(f)!==-1}catch(m){return(0,v.onUnexpectedError)(m),p}}static _getSurroundingPairs(g){try{return C.LanguageConfigurationRegistry.getSurroundingPairs(g.id)}catch(m){return(0,v.onUnexpectedError)(m),null}}}e.CursorConfiguration=a;class l{constructor(g,m,f,b){this.selectionStart=g,this.selectionStartLeftoverVisibleColumns=m,this.position=f,this.leftoverVisibleColumns=b,this.selection=l._computeSelection(this.selectionStart,this.position)}equals(g){return this.selectionStartLeftoverVisibleColumns===g.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===g.leftoverVisibleColumns&&this.position.equals(g.position)&&this.selectionStart.equalsRange(g.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(g,m,f,b){return g?new l(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new k.Position(m,f),b):new l(new w.Range(m,f,m,f),b,new k.Position(m,f),b)}static _computeSelection(g,m){let f,b,y,L;return g.isEmpty()?(f=g.startLineNumber,b=g.startColumn,y=m.lineNumber,L=m.column):m.isBeforeOrEqual(g.getStartPosition())?(f=g.endLineNumber,b=g.endColumn,y=m.lineNumber,L=m.column):(f=g.startLineNumber,b=g.startColumn,y=m.lineNumber,L=m.column),new S.Selection(f,b,y,L)}}e.SingleCursorState=l;class c{constructor(g,m,f){this.model=g,this.coordinatesConverter=m,this.cursorConfig=f}}e.CursorContext=c;class d{constructor(g){this.modelState=g,this.viewState=null}}e.PartialModelCursorState=d;class r{constructor(g){this.modelState=null,this.viewState=g}}e.PartialViewCursorState=r;class n{constructor(g,m){this.modelState=g,this.viewState=m}static fromModelState(g){return new d(g)}static fromViewState(g){return new r(g)}static fromModelSelection(g){const m=g.selectionStartLineNumber,f=g.selectionStartColumn,b=g.positionLineNumber,y=g.positionColumn,L=new l(new w.Range(m,f,m,f),0,new k.Position(b,y),0);return n.fromModelState(L)}static fromModelSelections(g){let m=[];for(let f=0,b=g.length;f<b;f++)m[f]=this.fromModelSelection(g[f]);return m}equals(g){return this.viewState.equals(g.viewState)&&this.modelState.equals(g.modelState)}}e.CursorState=n;class s{constructor(g,m,f){this.type=g,this.commands=m,this.shouldPushStackElementBefore=f.shouldPushStackElementBefore,this.shouldPushStackElementAfter=f.shouldPushStackElementAfter}}e.EditOperationResult=s;class t{static visibleColumnFromColumn(g,m,f){const b=g.length,y=m-1<b?m-1:b;let L=0,N=0;for(;N<y;){const M=I.getNextCodePoint(g,y,N);if(N+=M>=65536?2:1,M===9)L=t.nextRenderTabStop(L,f);else{let D=I.getGraphemeBreakType(M);for(;N<y;){const R=I.getNextCodePoint(g,y,N),P=I.getGraphemeBreakType(R);if(I.breakBetweenGraphemeBreakType(D,P))break;N+=R>=65536?2:1,D=P}I.isFullWidthCharacter(M)||I.isEmojiImprecise(M)?L=L+2:L=L+1}}return L}static visibleColumnFromColumn2(g,m,f){return this.visibleColumnFromColumn(m.getLineContent(f.lineNumber),f.column,g.tabSize)}static columnFromVisibleColumn(g,m,f){if(m<=0)return 1;const b=g.length;let y=0,L=1,N=0;for(;N<b;){const M=I.getNextCodePoint(g,b,N);N+=M>=65536?2:1;let D;if(M===9)D=t.nextRenderTabStop(y,f);else{let P=I.getGraphemeBreakType(M);for(;N<b;){const O=I.getNextCodePoint(g,b,N),W=I.getGraphemeBreakType(O);if(I.breakBetweenGraphemeBreakType(P,W))break;N+=O>=65536?2:1,P=W}I.isFullWidthCharacter(M)||I.isEmojiImprecise(M)?D=y+2:D=y+1}const R=N+1;if(D>=m){const P=m-y;return D-m<P?R:L}y=D,L=R}return b+1}static columnFromVisibleColumn2(g,m,f,b){let y=this.columnFromVisibleColumn(m.getLineContent(f),b,g.tabSize),L=m.getLineMinColumn(f);if(y<L)return L;let N=m.getLineMaxColumn(f);return y>N?N:y}static nextRenderTabStop(g,m){return g+m-g%m}static nextIndentTabStop(g,m){return g+m-g%m}static prevRenderTabStop(g,m){return Math.max(0,g-1-(g-1)%m)}static prevIndentTabStop(g,m){return Math.max(0,g-1-(g-1)%m)}}e.CursorColumns=t;function o(h){return h==="'"||h==='"'||h==="`"}e.isQuote=o}),define(J[180],ee([0,1,8,43,3,21,42]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShiftCommand=e.cachedStringRepeat=void 0;const _=Object.create(null);function C(p,u){if(u<=0)return"";_[p]||(_[p]=["",p]);const a=_[p];for(let l=a.length;l<=u;l++)a[l]=a[l-1]+p;return a[u]}e.cachedStringRepeat=C;class i{constructor(u,a){this._opts=a,this._selection=u,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(u,a,l,c,d){const r=I.CursorColumns.visibleColumnFromColumn(u,a,l);if(d){const n=C(" ",c),t=I.CursorColumns.prevIndentTabStop(r,c)/c;return C(n,t)}else{const n="	",t=I.CursorColumns.prevRenderTabStop(r,l)/l;return C(n,t)}}static shiftIndent(u,a,l,c,d){const r=I.CursorColumns.visibleColumnFromColumn(u,a,l);if(d){const n=C(" ",c),t=I.CursorColumns.nextIndentTabStop(r,c)/c;return C(n,t)}else{const n="	",t=I.CursorColumns.nextRenderTabStop(r,l)/l;return C(n,t)}}_addEditOperation(u,a,l){this._useLastEditRangeForCursorEndPosition?u.addTrackedEditOperation(a,l):u.addEditOperation(a,l)}getEditOperations(u,a){const l=this._selection.startLineNumber;let c=this._selection.endLineNumber;this._selection.endColumn===1&&l!==c&&(c=c-1);const{tabSize:d,indentSize:r,insertSpaces:n}=this._opts,s=l===c;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(u.getLineContent(l))&&(this._useLastEditRangeForCursorEndPosition=!0);let t=0,o=0;for(let h=l;h<=c;h++,t=o){o=0;let g=u.getLineContent(h),m=v.firstNonWhitespaceIndex(g);if(!(this._opts.isUnshift&&(g.length===0||m===0))&&!(!s&&!this._opts.isUnshift&&g.length===0)){if(m===-1&&(m=g.length),h>1&&I.CursorColumns.visibleColumnFromColumn(g,m+1,d)%r!=0&&u.isCheapToTokenize(h-1)){let y=S.LanguageConfigurationRegistry.getEnterAction(this._opts.autoIndent,u,new k.Range(h-1,u.getLineMaxColumn(h-1),h-1,u.getLineMaxColumn(h-1)));if(y){if(o=t,y.appendText)for(let L=0,N=y.appendText.length;L<N&&o<r&&y.appendText.charCodeAt(L)===32;L++)o++;y.removeText&&(o=Math.max(0,o-y.removeText));for(let L=0;L<o&&!(m===0||g.charCodeAt(m-1)!==32);L++)m--}}if(!(this._opts.isUnshift&&m===0)){let f;this._opts.isUnshift?f=i.unshiftIndent(g,m+1,d,r,n):f=i.shiftIndent(g,m+1,d,r,n),this._addEditOperation(a,new k.Range(h,1,h,m+1),f),h===l&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=m+1)}}}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&u.getLineLength(l)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const t=n?C(" ",r):"	";for(let o=l;o<=c;o++){const h=u.getLineContent(o);let g=v.firstNonWhitespaceIndex(h);if(!(this._opts.isUnshift&&(h.length===0||g===0))&&!(!s&&!this._opts.isUnshift&&h.length===0)&&(g===-1&&(g=h.length),!(this._opts.isUnshift&&g===0)))if(this._opts.isUnshift){g=Math.min(g,r);for(let m=0;m<g;m++)if(h.charCodeAt(m)===9){g=m+1;break}this._addEditOperation(a,new k.Range(o,1,o,g+1),"")}else this._addEditOperation(a,new k.Range(o,1,o,1),t),o===l&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=a.trackSelection(this._selection)}computeCursorState(u,a){if(this._useLastEditRangeForCursorEndPosition){let c=a.getInverseEditOperations()[0];return new w.Selection(c.range.endLineNumber,c.range.endColumn,c.range.endLineNumber,c.range.endColumn)}const l=a.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){let c=this._selection.startColumn;return l.startColumn<=c?l:l.getDirection()===0?new w.Selection(l.startLineNumber,c,l.endLineNumber,l.endColumn):new w.Selection(l.endLineNumber,l.endColumn,l.startLineNumber,c)}return l}}e.ShiftCommand=i}),define(J[240],ee([0,1,43]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AtomicTabMoveOperations=void 0;class I{static whitespaceVisibleColumn(w,S,_){const C=w.length;let i=0,p=-1,u=-1;for(let a=0;a<C;a++){if(a===S)return[p,u,i];switch(i%_==0&&(p=a,u=i),w.charCodeAt(a)){case 32:i+=1;break;case 9:i=v.CursorColumns.nextRenderTabStop(i,_);break;default:return[-1,-1,-1]}}return S===C?[p,u,i]:[-1,-1,-1]}static atomicPosition(w,S,_,C){const i=w.length,[p,u,a]=I.whitespaceVisibleColumn(w,S,_);if(a===-1)return-1;let l;switch(C){case 0:l=!0;break;case 1:l=!1;break;case 2:if(a%_==0)return S;l=a%_<=_/2;break}if(l){if(p===-1)return-1;let r=u;for(let n=p;n<i;++n){if(r===u+_)return p;switch(w.charCodeAt(n)){case 32:r+=1;break;case 9:r=v.CursorColumns.nextRenderTabStop(r,_);break;default:return-1}}return r===u+_?p:-1}const c=v.CursorColumns.nextRenderTabStop(a,_);let d=a;for(let r=S;r<i;r++){if(d===c)return r;switch(w.charCodeAt(r)){case 32:d+=1;break;case 9:d=v.CursorColumns.nextRenderTabStop(d,_);break;default:return-1}}return d===c?i:-1}}e.AtomicTabMoveOperations=I}),define(J[539],ee([0,1,43,14,3]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColumnSelection=void 0;class w{static columnSelect(_,C,i,p,u,a){let l=Math.abs(u-i)+1,c=i>u,d=p>a,r=p<a,n=[];for(let s=0;s<l;s++){let t=i+(c?-s:s),o=v.CursorColumns.columnFromVisibleColumn2(_,C,t,p),h=v.CursorColumns.columnFromVisibleColumn2(_,C,t,a),g=v.CursorColumns.visibleColumnFromColumn2(_,C,new I.Position(t,o)),m=v.CursorColumns.visibleColumnFromColumn2(_,C,new I.Position(t,h));r&&(g>a||m<p)||d&&(m>p||g<a)||n.push(new v.SingleCursorState(new k.Range(t,o,t,o),0,new I.Position(t,h),0))}if(n.length===0)for(let s=0;s<l;s++){const t=i+(c?-s:s),o=C.getLineMaxColumn(t);n.push(new v.SingleCursorState(new k.Range(t,o,t,o),0,new I.Position(t,o),0))}return{viewStates:n,reversed:c,fromLineNumber:i,fromVisualColumn:p,toLineNumber:u,toVisualColumn:a}}static columnSelectLeft(_,C,i){let p=i.toViewVisualColumn;return p>0&&p--,w.columnSelect(_,C,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,p)}static columnSelectRight(_,C,i){let p=0;const u=Math.min(i.fromViewLineNumber,i.toViewLineNumber),a=Math.max(i.fromViewLineNumber,i.toViewLineNumber);for(let c=u;c<=a;c++){const d=C.getLineMaxColumn(c),r=v.CursorColumns.visibleColumnFromColumn2(_,C,new I.Position(c,d));p=Math.max(p,r)}let l=i.toViewVisualColumn;return l<p&&l++,this.columnSelect(_,C,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,l)}static columnSelectUp(_,C,i,p){const u=p?_.pageSize:1,a=Math.max(1,i.toViewLineNumber-u);return this.columnSelect(_,C,i.fromViewLineNumber,i.fromViewVisualColumn,a,i.toViewVisualColumn)}static columnSelectDown(_,C,i,p){const u=p?_.pageSize:1,a=Math.min(C.getLineCount(),i.toViewLineNumber+u);return this.columnSelect(_,C,i.fromViewLineNumber,i.fromViewVisualColumn,a,i.toViewVisualColumn)}}e.ColumnSelection=w}),define(J[181],ee([0,1,43,14,3,8,240]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveOperations=e.CursorPosition=void 0;class _{constructor(p,u,a){this.lineNumber=p,this.column=u,this.leftoverVisibleColumns=a}}e.CursorPosition=_;class C{static leftPosition(p,u,a){return a>p.getLineMinColumn(u)?a=a-w.prevCharLength(p.getLineContent(u),a-1):u>1&&(u=u-1,a=p.getLineMaxColumn(u)),new I.Position(u,a)}static leftPositionAtomicSoftTabs(p,u,a,l){const c=p.getLineMinColumn(u),d=p.getLineContent(u),r=S.AtomicTabMoveOperations.atomicPosition(d,a-1,l,0);return r===-1||r+1<c?this.leftPosition(p,u,a):new I.Position(u,r+1)}static left(p,u,a,l){const c=p.stickyTabStops?C.leftPositionAtomicSoftTabs(u,a,l,p.tabSize):C.leftPosition(u,a,l);return new _(c.lineNumber,c.column,0)}static moveLeft(p,u,a,l,c){let d,r;if(a.hasSelection()&&!l)d=a.selection.startLineNumber,r=a.selection.startColumn;else{let n=C.left(p,u,a.position.lineNumber,a.position.column-(c-1));d=n.lineNumber,r=n.column}return a.move(l,d,r,0)}static rightPosition(p,u,a){return a<p.getLineMaxColumn(u)?a=a+w.nextCharLength(p.getLineContent(u),a-1):u<p.getLineCount()&&(u=u+1,a=p.getLineMinColumn(u)),new I.Position(u,a)}static rightPositionAtomicSoftTabs(p,u,a,l,c){const d=p.getLineContent(u),r=S.AtomicTabMoveOperations.atomicPosition(d,a-1,l,1);return r===-1?this.rightPosition(p,u,a):new I.Position(u,r+1)}static right(p,u,a,l){const c=p.stickyTabStops?C.rightPositionAtomicSoftTabs(u,a,l,p.tabSize,p.indentSize):C.rightPosition(u,a,l);return new _(c.lineNumber,c.column,0)}static moveRight(p,u,a,l,c){let d,r;if(a.hasSelection()&&!l)d=a.selection.endLineNumber,r=a.selection.endColumn;else{let n=C.right(p,u,a.position.lineNumber,a.position.column+(c-1));d=n.lineNumber,r=n.column}return a.move(l,d,r,0)}static down(p,u,a,l,c,d,r){const n=v.CursorColumns.visibleColumnFromColumn(u.getLineContent(a),l,p.tabSize)+c,s=u.getLineCount(),t=a===s&&l===u.getLineMaxColumn(a);return a=a+d,a>s?(a=s,r?l=u.getLineMaxColumn(a):l=Math.min(u.getLineMaxColumn(a),l)):l=v.CursorColumns.columnFromVisibleColumn2(p,u,a,n),t?c=0:c=n-v.CursorColumns.visibleColumnFromColumn(u.getLineContent(a),l,p.tabSize),new _(a,l,c)}static moveDown(p,u,a,l,c){let d,r;a.hasSelection()&&!l?(d=a.selection.endLineNumber,r=a.selection.endColumn):(d=a.position.lineNumber,r=a.position.column);let n=C.down(p,u,d,r,a.leftoverVisibleColumns,c,!0);return a.move(l,n.lineNumber,n.column,n.leftoverVisibleColumns)}static translateDown(p,u,a){let l=a.selection,c=C.down(p,u,l.selectionStartLineNumber,l.selectionStartColumn,a.selectionStartLeftoverVisibleColumns,1,!1),d=C.down(p,u,l.positionLineNumber,l.positionColumn,a.leftoverVisibleColumns,1,!1);return new v.SingleCursorState(new k.Range(c.lineNumber,c.column,c.lineNumber,c.column),c.leftoverVisibleColumns,new I.Position(d.lineNumber,d.column),d.leftoverVisibleColumns)}static up(p,u,a,l,c,d,r){const n=v.CursorColumns.visibleColumnFromColumn(u.getLineContent(a),l,p.tabSize)+c,s=a===1&&l===1;return a=a-d,a<1?(a=1,r?l=u.getLineMinColumn(a):l=Math.min(u.getLineMaxColumn(a),l)):l=v.CursorColumns.columnFromVisibleColumn2(p,u,a,n),s?c=0:c=n-v.CursorColumns.visibleColumnFromColumn(u.getLineContent(a),l,p.tabSize),new _(a,l,c)}static moveUp(p,u,a,l,c){let d,r;a.hasSelection()&&!l?(d=a.selection.startLineNumber,r=a.selection.startColumn):(d=a.position.lineNumber,r=a.position.column);let n=C.up(p,u,d,r,a.leftoverVisibleColumns,c,!0);return a.move(l,n.lineNumber,n.column,n.leftoverVisibleColumns)}static translateUp(p,u,a){let l=a.selection,c=C.up(p,u,l.selectionStartLineNumber,l.selectionStartColumn,a.selectionStartLeftoverVisibleColumns,1,!1),d=C.up(p,u,l.positionLineNumber,l.positionColumn,a.leftoverVisibleColumns,1,!1);return new v.SingleCursorState(new k.Range(c.lineNumber,c.column,c.lineNumber,c.column),c.leftoverVisibleColumns,new I.Position(d.lineNumber,d.column),d.leftoverVisibleColumns)}static _isBlankLine(p,u){return p.getLineFirstNonWhitespaceColumn(u)===0}static moveToPrevBlankLine(p,u,a,l){let c=a.position.lineNumber;for(;c>1&&this._isBlankLine(u,c);)c--;for(;c>1&&!this._isBlankLine(u,c);)c--;return a.move(l,c,u.getLineMinColumn(c),0)}static moveToNextBlankLine(p,u,a,l){const c=u.getLineCount();let d=a.position.lineNumber;for(;d<c&&this._isBlankLine(u,d);)d++;for(;d<c&&!this._isBlankLine(u,d);)d++;return a.move(l,d,u.getLineMinColumn(d),0)}static moveToBeginningOfLine(p,u,a,l){let c=a.position.lineNumber,d=u.getLineMinColumn(c),r=u.getLineFirstNonWhitespaceColumn(c)||d,n;return a.position.column===r?n=d:n=r,a.move(l,c,n,0)}static moveToEndOfLine(p,u,a,l,c){let d=a.position.lineNumber,r=u.getLineMaxColumn(d);return a.move(l,d,r,c?1073741824-r:0)}static moveToBeginningOfBuffer(p,u,a,l){return a.move(l,1,1,0)}static moveToEndOfBuffer(p,u,a,l){let c=u.getLineCount(),d=u.getLineMaxColumn(c);return a.move(l,c,d,0)}}e.MoveOperations=C}),define(J[182],ee([0,1,8,92,43,181,3]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteOperations=void 0;class _{static deleteRight(i,p,u,a){let l=[],c=i!==3;for(let d=0,r=a.length;d<r;d++){const n=a[d];let s=n;if(s.isEmpty()){let t=n.getPosition(),o=w.MoveOperations.right(p,u,t.lineNumber,t.column);s=new S.Range(o.lineNumber,o.column,t.lineNumber,t.column)}if(s.isEmpty()){l[d]=null;continue}s.startLineNumber!==s.endLineNumber&&(c=!0),l[d]=new I.ReplaceCommand(s,"")}return[c,l]}static isAutoClosingPairDelete(i,p,u,a,l,c,d){if(p==="never"&&u==="never"||i==="never")return!1;for(let r=0,n=c.length;r<n;r++){const s=c[r],t=s.getPosition();if(!s.isEmpty())return!1;const o=l.getLineContent(t.lineNumber);if(t.column<2||t.column>=o.length+1)return!1;const h=o.charAt(t.column-2),g=a.get(h);if(!g)return!1;if((0,k.isQuote)(h)){if(u==="never")return!1}else if(p==="never")return!1;const m=o.charAt(t.column-1);let f=!1;for(const b of g)b.open===h&&b.close===m&&(f=!0);if(!f)return!1;if(i==="auto"){let b=!1;for(let y=0,L=d.length;y<L;y++){const N=d[y];if(t.lineNumber===N.startLineNumber&&t.column===N.startColumn){b=!0;break}}if(!b)return!1}}return!0}static _runAutoClosingPairDelete(i,p,u){let a=[];for(let l=0,c=u.length;l<c;l++){const d=u[l].getPosition(),r=new S.Range(d.lineNumber,d.column-1,d.lineNumber,d.column+1);a[l]=new I.ReplaceCommand(r,"")}return[!0,a]}static deleteLeft(i,p,u,a,l){if(this.isAutoClosingPairDelete(p.autoClosingDelete,p.autoClosingBrackets,p.autoClosingQuotes,p.autoClosingPairs.autoClosingPairsOpenByEnd,u,a,l))return this._runAutoClosingPairDelete(p,u,a);let c=[],d=i!==2;for(let r=0,n=a.length;r<n;r++){const s=a[r];let t=s;if(t.isEmpty()){let o=s.getPosition();if(p.useTabStops&&o.column>1){let h=u.getLineContent(o.lineNumber),g=v.firstNonWhitespaceIndex(h),m=g===-1?h.length+1:g+1;if(o.column<=m){let f=k.CursorColumns.visibleColumnFromColumn2(p,u,o),b=k.CursorColumns.prevIndentTabStop(f,p.indentSize),y=k.CursorColumns.columnFromVisibleColumn2(p,u,o.lineNumber,b);t=new S.Range(o.lineNumber,y,o.lineNumber,o.column)}else t=new S.Range(o.lineNumber,o.column-1,o.lineNumber,o.column)}else{let h=w.MoveOperations.left(p,u,o.lineNumber,o.column);t=new S.Range(h.lineNumber,h.column,o.lineNumber,o.column)}}if(t.isEmpty()){c[r]=null;continue}t.startLineNumber!==t.endLineNumber&&(d=!0),c[r]=new I.ReplaceCommand(t,"")}return[d,c]}static cut(i,p,u){let a=[];for(let l=0,c=u.length;l<c;l++){const d=u[l];if(d.isEmpty())if(i.emptySelectionClipboard){let r=d.getPosition(),n,s,t,o;r.lineNumber<p.getLineCount()?(n=r.lineNumber,s=1,t=r.lineNumber+1,o=1):r.lineNumber>1?(n=r.lineNumber-1,s=p.getLineMaxColumn(r.lineNumber-1),t=r.lineNumber,o=p.getLineMaxColumn(r.lineNumber)):(n=r.lineNumber,s=1,t=r.lineNumber,o=p.getLineMaxColumn(r.lineNumber));let h=new S.Range(n,s,t,o);h.isEmpty()?a[l]=null:a[l]=new I.ReplaceCommand(h,"")}else a[l]=null;else a[l]=new I.ReplaceCommand(d,"")}return new k.EditOperationResult(0,a,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}e.DeleteOperations=_}),define(J[183],ee([0,1,11,8,92,180,368,43,106,3,21,109,42]),function($,e,v,I,k,w,S,_,C,i,p,u,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TypeWithAutoClosingCommand=e.TypeOperations=void 0;class l{static indent(r,n,s){if(n===null||s===null)return[];let t=[];for(let o=0,h=s.length;o<h;o++)t[o]=new w.ShiftCommand(s[o],{isUnshift:!1,tabSize:r.tabSize,indentSize:r.indentSize,insertSpaces:r.insertSpaces,useTabStops:r.useTabStops,autoIndent:r.autoIndent});return t}static outdent(r,n,s){let t=[];for(let o=0,h=s.length;o<h;o++)t[o]=new w.ShiftCommand(s[o],{isUnshift:!0,tabSize:r.tabSize,indentSize:r.indentSize,insertSpaces:r.insertSpaces,useTabStops:r.useTabStops,autoIndent:r.autoIndent});return t}static shiftIndent(r,n,s){return s=s||1,w.ShiftCommand.shiftIndent(n,n.length+s,r.tabSize,r.indentSize,r.insertSpaces)}static unshiftIndent(r,n,s){return s=s||1,w.ShiftCommand.unshiftIndent(n,n.length+s,r.tabSize,r.indentSize,r.insertSpaces)}static _distributedPaste(r,n,s,t){let o=[];for(let h=0,g=s.length;h<g;h++)o[h]=new k.ReplaceCommand(s[h],t[h]);return new _.EditOperationResult(0,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(r,n,s,t,o){let h=[];for(let g=0,m=s.length;g<m;g++){const f=s[g];let b=f.getPosition();if(o&&!f.isEmpty()&&(o=!1),o&&t.indexOf(`
`)!==t.length-1&&(o=!1),o){let y=new i.Range(b.lineNumber,1,b.lineNumber,1);h[g]=new k.ReplaceCommandThatPreservesSelection(y,t,f,!0)}else h[g]=new k.ReplaceCommand(f,t)}return new _.EditOperationResult(0,h,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(r,n,s,t,o){if(t||n.length===1)return null;if(o&&o.length===n.length)return o;if(r.multiCursorPaste==="spread"){s.charCodeAt(s.length-1)===10&&(s=s.substr(0,s.length-1)),s.charCodeAt(s.length-1)===13&&(s=s.substr(0,s.length-1));let h=I.splitLines(s);if(h.length===n.length)return h}return null}static paste(r,n,s,t,o,h){const g=this._distributePasteToCursors(r,s,t,o,h);return g?(s=s.sort(i.Range.compareRangesUsingStarts),this._distributedPaste(r,n,s,g)):this._simplePaste(r,n,s,t,o)}static _goodIndentForLine(r,n,s){let t=null,o="";const h=a.LanguageConfigurationRegistry.getInheritIndentForLine(r.autoIndent,n,s,!1);if(h)t=h.action,o=h.indentation;else if(s>1){let g;for(g=s-1;g>=1;g--){const b=n.getLineContent(g);if(I.lastNonWhitespaceIndex(b)>=0)break}if(g<1)return null;const m=n.getLineMaxColumn(g),f=a.LanguageConfigurationRegistry.getEnterAction(r.autoIndent,n,new i.Range(g,m,g,m));f&&(o=f.indentation+f.appendText)}return t&&(t===u.IndentAction.Indent&&(o=l.shiftIndent(r,o)),t===u.IndentAction.Outdent&&(o=l.unshiftIndent(r,o)),o=r.normalizeIndentation(o)),o||null}static _replaceJumpToNextIndent(r,n,s,t){let o="",h=s.getStartPosition();if(r.insertSpaces){let g=_.CursorColumns.visibleColumnFromColumn2(r,n,h),m=r.indentSize,f=m-g%m;for(let b=0;b<f;b++)o+=" "}else o="	";return new k.ReplaceCommand(s,o,t)}static tab(r,n,s){let t=[];for(let o=0,h=s.length;o<h;o++){const g=s[o];if(g.isEmpty()){let m=n.getLineContent(g.startLineNumber);if(/^\s*$/.test(m)&&n.isCheapToTokenize(g.startLineNumber)){let f=this._goodIndentForLine(r,n,g.startLineNumber);f=f||"	";let b=r.normalizeIndentation(f);if(!m.startsWith(b)){t[o]=new k.ReplaceCommand(new i.Range(g.startLineNumber,1,g.startLineNumber,m.length+1),b,!0);continue}}t[o]=this._replaceJumpToNextIndent(r,n,g,!0)}else{if(g.startLineNumber===g.endLineNumber){let m=n.getLineMaxColumn(g.startLineNumber);if(g.startColumn!==1||g.endColumn!==m){t[o]=this._replaceJumpToNextIndent(r,n,g,!1);continue}}t[o]=new w.ShiftCommand(g,{isUnshift:!1,tabSize:r.tabSize,indentSize:r.indentSize,insertSpaces:r.insertSpaces,useTabStops:r.useTabStops,autoIndent:r.autoIndent})}}return t}static compositionType(r,n,s,t,o,h,g,m){const f=t.map(b=>this._compositionType(s,b,o,h,g,m));return new _.EditOperationResult(1,f,{shouldPushStackElementBefore:r!==1,shouldPushStackElementAfter:!1})}static _compositionType(r,n,s,t,o,h){if(!n.isEmpty())return null;const g=n.getPosition(),m=Math.max(1,g.column-t),f=Math.min(r.getLineMaxColumn(g.lineNumber),g.column+o),b=new i.Range(g.lineNumber,m,g.lineNumber,f);return r.getValueInRange(b)===s&&h===0?null:new k.ReplaceCommandWithOffsetCursorState(b,s,0,h)}static _typeCommand(r,n,s){return s?new k.ReplaceCommandWithoutChangingPosition(r,n,!0):new k.ReplaceCommand(r,n,!0)}static _enter(r,n,s,t){if(r.autoIndent===0)return l._typeCommand(t,`
`,s);if(!n.isCheapToTokenize(t.getStartPosition().lineNumber)||r.autoIndent===1){let m=n.getLineContent(t.startLineNumber),f=I.getLeadingWhitespace(m).substring(0,t.startColumn-1);return l._typeCommand(t,`
`+r.normalizeIndentation(f),s)}const o=a.LanguageConfigurationRegistry.getEnterAction(r.autoIndent,n,t);if(o){if(o.indentAction===u.IndentAction.None)return l._typeCommand(t,`
`+r.normalizeIndentation(o.indentation+o.appendText),s);if(o.indentAction===u.IndentAction.Indent)return l._typeCommand(t,`
`+r.normalizeIndentation(o.indentation+o.appendText),s);if(o.indentAction===u.IndentAction.IndentOutdent){const m=r.normalizeIndentation(o.indentation),f=r.normalizeIndentation(o.indentation+o.appendText),b=`
`+f+`
`+m;return s?new k.ReplaceCommandWithoutChangingPosition(t,b,!0):new k.ReplaceCommandWithOffsetCursorState(t,b,-1,f.length-m.length,!0)}else if(o.indentAction===u.IndentAction.Outdent){const m=l.unshiftIndent(r,o.indentation);return l._typeCommand(t,`
`+r.normalizeIndentation(m+o.appendText),s)}}const h=n.getLineContent(t.startLineNumber),g=I.getLeadingWhitespace(h).substring(0,t.startColumn-1);if(r.autoIndent>=4){const m=a.LanguageConfigurationRegistry.getIndentForEnter(r.autoIndent,n,t,{unshiftIndent:f=>l.unshiftIndent(r,f),shiftIndent:f=>l.shiftIndent(r,f),normalizeIndentation:f=>r.normalizeIndentation(f)});if(m){let f=_.CursorColumns.visibleColumnFromColumn2(r,n,t.getEndPosition());const b=t.endColumn,y=n.getLineContent(t.endLineNumber),L=I.firstNonWhitespaceIndex(y);if(L>=0?t=t.setEndPosition(t.endLineNumber,Math.max(t.endColumn,L+1)):t=t.setEndPosition(t.endLineNumber,n.getLineMaxColumn(t.endLineNumber)),s)return new k.ReplaceCommandWithoutChangingPosition(t,`
`+r.normalizeIndentation(m.afterEnter),!0);{let N=0;return b<=L+1&&(r.insertSpaces||(f=Math.ceil(f/r.indentSize)),N=Math.min(f+1-r.normalizeIndentation(m.afterEnter).length-1,0)),new k.ReplaceCommandWithOffsetCursorState(t,`
`+r.normalizeIndentation(m.afterEnter),0,N,!0)}}}return l._typeCommand(t,`
`+r.normalizeIndentation(g),s)}static _isAutoIndentType(r,n,s){if(r.autoIndent<4)return!1;for(let t=0,o=s.length;t<o;t++)if(!n.isCheapToTokenize(s[t].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(r,n,s,t){const o=a.LanguageConfigurationRegistry.getIndentationAtPosition(n,s.startLineNumber,s.startColumn),h=a.LanguageConfigurationRegistry.getIndentActionForType(r.autoIndent,n,s,t,{shiftIndent:g=>l.shiftIndent(r,g),unshiftIndent:g=>l.unshiftIndent(r,g)});if(h===null)return null;if(h!==r.normalizeIndentation(o)){const g=n.getLineFirstNonWhitespaceColumn(s.startLineNumber);return g===0?l._typeCommand(new i.Range(s.startLineNumber,1,s.endLineNumber,s.endColumn),r.normalizeIndentation(h)+t,!1):l._typeCommand(new i.Range(s.startLineNumber,1,s.endLineNumber,s.endColumn),r.normalizeIndentation(h)+n.getLineContent(s.startLineNumber).substring(g-1,s.startColumn-1)+t,!1)}return null}static _isAutoClosingOvertype(r,n,s,t,o){if(r.autoClosingOvertype==="never"||!r.autoClosingPairs.autoClosingPairsCloseSingleChar.has(o))return!1;for(let h=0,g=s.length;h<g;h++){const m=s[h];if(!m.isEmpty())return!1;const f=m.getPosition(),b=n.getLineContent(f.lineNumber);if(b.charAt(f.column-1)!==o)return!1;const L=(0,_.isQuote)(o);if((f.column>2?b.charCodeAt(f.column-2):0)===92&&L)return!1;if(r.autoClosingOvertype==="auto"){let M=!1;for(let D=0,R=t.length;D<R;D++){const P=t[D];if(f.lineNumber===P.startLineNumber&&f.column===P.startColumn){M=!0;break}}if(!M)return!1}}return!0}static _runAutoClosingOvertype(r,n,s,t,o){let h=[];for(let g=0,m=t.length;g<m;g++){const b=t[g].getPosition(),y=new i.Range(b.lineNumber,b.column,b.lineNumber,b.column+1);h[g]=new k.ReplaceCommand(y,o)}return new _.EditOperationResult(1,h,{shouldPushStackElementBefore:r!==1,shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(r,n){const s=n.charAt(0),t=r.autoClosingPairs.autoClosingPairsOpenByStart.get(s)||[],o=r.autoClosingPairs.autoClosingPairsCloseByStart.get(s)||[],h=t.some(m=>n.startsWith(m.open)),g=o.some(m=>n.startsWith(m.close));return!h&&g}static _findAutoClosingPairOpen(r,n,s,t){const o=r.autoClosingPairs.autoClosingPairsOpenByEnd.get(t);if(!o)return null;let h=null;for(const g of o)if(h===null||g.open.length>h.open.length){let m=!0;for(const f of s)if(n.getValueInRange(new i.Range(f.lineNumber,f.column-g.open.length+1,f.lineNumber,f.column))+t!==g.open){m=!1;break}m&&(h=g)}return h}static _findSubAutoClosingPairClose(r,n){if(n.open.length<=1)return"";const s=n.close.charAt(n.close.length-1),t=r.autoClosingPairs.autoClosingPairsCloseByEnd.get(s)||[];let o=null;for(const h of t)h.open!==n.open&&n.open.includes(h.open)&&n.close.endsWith(h.close)&&(!o||h.open.length>o.open.length)&&(o=h);return o?o.close:""}static _getAutoClosingPairClose(r,n,s,t,o){const h=(0,_.isQuote)(t),g=h?r.autoClosingQuotes:r.autoClosingBrackets;if(g==="never")return null;const m=this._findAutoClosingPairOpen(r,n,s.map(L=>L.getPosition()),t);if(!m)return null;const f=this._findSubAutoClosingPairClose(r,m);let b=!0;const y=h?r.shouldAutoCloseBefore.quote:r.shouldAutoCloseBefore.bracket;for(let L=0,N=s.length;L<N;L++){const M=s[L];if(!M.isEmpty())return null;const D=M.getPosition(),R=n.getLineContent(D.lineNumber),P=R.substring(D.column-1);if(P.startsWith(f)||(b=!1),R.length>D.column-1){const F=R.charAt(D.column-1);if(!l._isBeforeClosingBrace(r,P)&&!y(F))return null}if(!n.isCheapToTokenize(D.lineNumber))return null;if(m.open.length===1&&h&&g!=="always"){const F=(0,C.getMapForWordSeparators)(r.wordSeparators);if(o&&D.column>1&&F.get(R.charCodeAt(D.column-2))===0||!o&&D.column>2&&F.get(R.charCodeAt(D.column-3))===0)return null}n.forceTokenization(D.lineNumber);const O=n.getLineTokens(D.lineNumber);let W=!1;try{W=a.LanguageConfigurationRegistry.shouldAutoClosePair(m,O,o?D.column:D.column-1)}catch(F){(0,v.onUnexpectedError)(F)}if(!W)return null}return b?m.close.substring(0,m.close.length-f.length):m.close}static _runAutoClosingOpenCharType(r,n,s,t,o,h,g){let m=[];for(let f=0,b=t.length;f<b;f++){const y=t[f];m[f]=new c(y,o,h,g)}return new _.EditOperationResult(1,m,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(r,n){return(0,_.isQuote)(n)?r.autoSurround==="quotes"||r.autoSurround==="languageDefined":r.autoSurround==="brackets"||r.autoSurround==="languageDefined"}static _isSurroundSelectionType(r,n,s,t){if(!l._shouldSurroundChar(r,t)||!r.surroundingPairs.hasOwnProperty(t))return!1;const o=(0,_.isQuote)(t);for(let h=0,g=s.length;h<g;h++){const m=s[h];if(m.isEmpty())return!1;let f=!0;for(let b=m.startLineNumber;b<=m.endLineNumber;b++){const y=n.getLineContent(b),L=b===m.startLineNumber?m.startColumn-1:0,N=b===m.endLineNumber?m.endColumn-1:y.length,M=y.substring(L,N);if(/[^ \t]/.test(M)){f=!1;break}}if(f)return!1;if(o&&m.startLineNumber===m.endLineNumber&&m.startColumn+1===m.endColumn){const b=n.getValueInRange(m);if((0,_.isQuote)(b))return!1}}return!0}static _runSurroundSelectionType(r,n,s,t,o){let h=[];for(let g=0,m=t.length;g<m;g++){const f=t[g],b=n.surroundingPairs[o];h[g]=new S.SurroundSelectionCommand(f,o,b)}return new _.EditOperationResult(0,h,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(r,n,s){return!!(s.length===1&&n.isCheapToTokenize(s[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(r,n,s,t,o){if(!n.electricChars.hasOwnProperty(o)||!t.isEmpty())return null;let h=t.getPosition();s.forceTokenization(h.lineNumber);let g=s.getLineTokens(h.lineNumber),m;try{m=a.LanguageConfigurationRegistry.onElectricCharacter(o,g,h.column)}catch(f){return(0,v.onUnexpectedError)(f),null}if(!m)return null;if(m.matchOpenBracket){let f=(g.getLineContent()+o).lastIndexOf(m.matchOpenBracket)+1,b=s.findMatchingBracketUp(m.matchOpenBracket,{lineNumber:h.lineNumber,column:f});if(b){if(b.startLineNumber===h.lineNumber)return null;let y=s.getLineContent(b.startLineNumber),L=I.getLeadingWhitespace(y),N=n.normalizeIndentation(L),M=s.getLineContent(h.lineNumber),D=s.getLineFirstNonWhitespaceColumn(h.lineNumber)||h.column,R=M.substring(D-1,h.column-1),P=N+R+o,O=new i.Range(h.lineNumber,1,h.lineNumber,h.column);const W=new k.ReplaceCommand(O,P);return new _.EditOperationResult(1,[W],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(r,n,s,t,o,h){if(!t||p.Selection.selectionsArrEqual(t,o))return null;let g=null;for(const f of o){if(!f.isEmpty())return null;const b=f.getPosition(),y=s.getValueInRange(new i.Range(b.lineNumber,b.column-1,b.lineNumber,b.column));if(g===null)g=y;else if(g!==y)return null}if(!g)return null;if(this._isAutoClosingOvertype(n,s,o,h,g)){const f=o.map(b=>new k.ReplaceCommand(new i.Range(b.positionLineNumber,b.positionColumn,b.positionLineNumber,b.positionColumn+1),"",!1));return new _.EditOperationResult(1,f,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const m=this._getAutoClosingPairClose(n,s,o,g,!1);return m!==null?this._runAutoClosingOpenCharType(r,n,s,o,g,!1,m):null}static typeWithInterceptors(r,n,s,t,o,h,g){if(!r&&g===`
`){let b=[];for(let y=0,L=o.length;y<L;y++)b[y]=l._enter(s,t,!1,o[y]);return new _.EditOperationResult(1,b,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!r&&this._isAutoIndentType(s,t,o)){let b=[],y=!1;for(let L=0,N=o.length;L<N;L++)if(b[L]=this._runAutoIndentType(s,t,o[L],g),!b[L]){y=!0;break}if(!y)return new _.EditOperationResult(1,b,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!r&&this._isAutoClosingOvertype(s,t,o,h,g))return this._runAutoClosingOvertype(n,s,t,o,g);if(!r){const b=this._getAutoClosingPairClose(s,t,o,g,!0);if(b)return this._runAutoClosingOpenCharType(n,s,t,o,g,!0,b)}if(this._isSurroundSelectionType(s,t,o,g))return this._runSurroundSelectionType(n,s,t,o,g);if(!r&&this._isTypeInterceptorElectricChar(s,t,o)){const b=this._typeInterceptorElectricChar(n,s,t,o[0],g);if(b)return b}let m=[];for(let b=0,y=o.length;b<y;b++)m[b]=new k.ReplaceCommand(o[b],g);let f=n!==1;return g===" "&&(f=!0),new _.EditOperationResult(1,m,{shouldPushStackElementBefore:f,shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(r,n,s,t,o){let h=[];for(let g=0,m=t.length;g<m;g++)h[g]=new k.ReplaceCommand(t[g],o);return new _.EditOperationResult(1,h,{shouldPushStackElementBefore:r!==1,shouldPushStackElementAfter:!1})}static lineInsertBefore(r,n,s){if(n===null||s===null)return[];let t=[];for(let o=0,h=s.length;o<h;o++){let g=s[o].positionLineNumber;if(g===1)t[o]=new k.ReplaceCommandWithoutChangingPosition(new i.Range(1,1,1,1),`
`);else{g--;let m=n.getLineMaxColumn(g);t[o]=this._enter(r,n,!1,new i.Range(g,m,g,m))}}return t}static lineInsertAfter(r,n,s){if(n===null||s===null)return[];let t=[];for(let o=0,h=s.length;o<h;o++){const g=s[o].positionLineNumber;let m=n.getLineMaxColumn(g);t[o]=this._enter(r,n,!1,new i.Range(g,m,g,m))}return t}static lineBreakInsert(r,n,s){let t=[];for(let o=0,h=s.length;o<h;o++)t[o]=this._enter(r,n,!0,s[o]);return t}}e.TypeOperations=l;class c extends k.ReplaceCommandWithOffsetCursorState{constructor(r,n,s,t){super(r,(s?n:"")+t,0,-t.length);this._openCharacter=n,this._closeCharacter=t,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(r,n){let t=n.getInverseEditOperations()[0].range;return this.closeCharacterRange=new i.Range(t.startLineNumber,t.endColumn-this._closeCharacter.length,t.endLineNumber,t.endColumn),this.enclosingRange=new i.Range(t.startLineNumber,t.endColumn-this._openCharacter.length-this._closeCharacter.length,t.endLineNumber,t.endColumn),super.computeCursorState(r,n)}}e.TypeWithAutoClosingCommand=c}),define(J[136],ee([0,1,8,43,182,106,14,3]),function($,e,v,I,k,w,S,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordPartOperations=e.WordOperations=void 0;class C{static _createWord(a,l,c,d,r){return{start:d,end:r,wordType:l,nextCharClass:c}}static _findPreviousWordOnLine(a,l,c){let d=l.getLineContent(c.lineNumber);return this._doFindPreviousWordOnLine(d,a,c)}static _doFindPreviousWordOnLine(a,l,c){let d=0;for(let r=c.column-2;r>=0;r--){let n=a.charCodeAt(r),s=l.get(n);if(s===0){if(d===2)return this._createWord(a,d,s,r+1,this._findEndOfWord(a,l,d,r+1));d=1}else if(s===2){if(d===1)return this._createWord(a,d,s,r+1,this._findEndOfWord(a,l,d,r+1));d=2}else if(s===1&&d!==0)return this._createWord(a,d,s,r+1,this._findEndOfWord(a,l,d,r+1))}return d!==0?this._createWord(a,d,1,0,this._findEndOfWord(a,l,d,0)):null}static _findEndOfWord(a,l,c,d){let r=a.length;for(let n=d;n<r;n++){let s=a.charCodeAt(n),t=l.get(s);if(t===1||c===1&&t===2||c===2&&t===0)return n}return r}static _findNextWordOnLine(a,l,c){let d=l.getLineContent(c.lineNumber);return this._doFindNextWordOnLine(d,a,c)}static _doFindNextWordOnLine(a,l,c){let d=0,r=a.length;for(let n=c.column-1;n<r;n++){let s=a.charCodeAt(n),t=l.get(s);if(t===0){if(d===2)return this._createWord(a,d,t,this._findStartOfWord(a,l,d,n-1),n);d=1}else if(t===2){if(d===1)return this._createWord(a,d,t,this._findStartOfWord(a,l,d,n-1),n);d=2}else if(t===1&&d!==0)return this._createWord(a,d,t,this._findStartOfWord(a,l,d,n-1),n)}return d!==0?this._createWord(a,d,1,this._findStartOfWord(a,l,d,r-1),r):null}static _findStartOfWord(a,l,c,d){for(let r=d;r>=0;r--){let n=a.charCodeAt(r),s=l.get(n);if(s===1||c===1&&s===2||c===2&&s===0)return r+1}return 0}static moveWordLeft(a,l,c,d){let r=c.lineNumber,n=c.column;n===1&&r>1&&(r=r-1,n=l.getLineMaxColumn(r));let s=C._findPreviousWordOnLine(a,l,new S.Position(r,n));if(d===0)return new S.Position(r,s?s.start+1:1);if(d===1)return s&&s.wordType===2&&s.end-s.start==1&&s.nextCharClass===0&&(s=C._findPreviousWordOnLine(a,l,new S.Position(r,s.start+1))),new S.Position(r,s?s.start+1:1);if(d===3){for(;s&&s.wordType===2;)s=C._findPreviousWordOnLine(a,l,new S.Position(r,s.start+1));return new S.Position(r,s?s.start+1:1)}return s&&n<=s.end+1&&(s=C._findPreviousWordOnLine(a,l,new S.Position(r,s.start+1))),new S.Position(r,s?s.end+1:1)}static _moveWordPartLeft(a,l){const c=l.lineNumber,d=a.getLineMaxColumn(c);if(l.column===1)return c>1?new S.Position(c-1,a.getLineMaxColumn(c-1)):l;const r=a.getLineContent(c);for(let n=l.column-1;n>1;n--){const s=r.charCodeAt(n-2),t=r.charCodeAt(n-1);if(s===95&&t!==95)return new S.Position(c,n);if(v.isLowerAsciiLetter(s)&&v.isUpperAsciiLetter(t))return new S.Position(c,n);if(v.isUpperAsciiLetter(s)&&v.isUpperAsciiLetter(t)&&n+1<d){const o=r.charCodeAt(n);if(v.isLowerAsciiLetter(o))return new S.Position(c,n)}}return new S.Position(c,1)}static moveWordRight(a,l,c,d){let r=c.lineNumber,n=c.column,s=!1;n===l.getLineMaxColumn(r)&&r<l.getLineCount()&&(s=!0,r=r+1,n=1);let t=C._findNextWordOnLine(a,l,new S.Position(r,n));if(d===2)t&&t.wordType===2&&t.end-t.start==1&&t.nextCharClass===0&&(t=C._findNextWordOnLine(a,l,new S.Position(r,t.end+1))),t?n=t.end+1:n=l.getLineMaxColumn(r);else if(d===3){for(s&&(n=0);t&&(t.wordType===2||t.start+1<=n);)t=C._findNextWordOnLine(a,l,new S.Position(r,t.end+1));t?n=t.start+1:n=l.getLineMaxColumn(r)}else t&&!s&&n>=t.start+1&&(t=C._findNextWordOnLine(a,l,new S.Position(r,t.end+1))),t?n=t.start+1:n=l.getLineMaxColumn(r);return new S.Position(r,n)}static _moveWordPartRight(a,l){const c=l.lineNumber,d=a.getLineMaxColumn(c);if(l.column===d)return c<a.getLineCount()?new S.Position(c+1,1):l;const r=a.getLineContent(c);for(let n=l.column+1;n<d;n++){const s=r.charCodeAt(n-2),t=r.charCodeAt(n-1);if(s!==95&&t===95)return new S.Position(c,n);if(v.isLowerAsciiLetter(s)&&v.isUpperAsciiLetter(t))return new S.Position(c,n);if(v.isUpperAsciiLetter(s)&&v.isUpperAsciiLetter(t)&&n+1<d){const o=r.charCodeAt(n);if(v.isLowerAsciiLetter(o))return new S.Position(c,n)}}return new S.Position(c,d)}static _deleteWordLeftWhitespace(a,l){const c=a.getLineContent(l.lineNumber),d=l.column-2,r=v.lastNonWhitespaceIndex(c,d);return r+1<d?new _.Range(l.lineNumber,r+2,l.lineNumber,l.column):null}static deleteWordLeft(a,l){const c=a.wordSeparators,d=a.model,r=a.selection,n=a.whitespaceHeuristics;if(!r.isEmpty())return r;if(k.DeleteOperations.isAutoClosingPairDelete(a.autoClosingDelete,a.autoClosingBrackets,a.autoClosingQuotes,a.autoClosingPairs.autoClosingPairsOpenByEnd,a.model,[a.selection],a.autoClosedCharacters)){const g=a.selection.getPosition();return new _.Range(g.lineNumber,g.column-1,g.lineNumber,g.column+1)}const s=new S.Position(r.positionLineNumber,r.positionColumn);let t=s.lineNumber,o=s.column;if(t===1&&o===1)return null;if(n){let g=this._deleteWordLeftWhitespace(d,s);if(g)return g}let h=C._findPreviousWordOnLine(c,d,s);return l===0?h?o=h.start+1:o>1?o=1:(t--,o=d.getLineMaxColumn(t)):(h&&o<=h.end+1&&(h=C._findPreviousWordOnLine(c,d,new S.Position(t,h.start+1))),h?o=h.end+1:o>1?o=1:(t--,o=d.getLineMaxColumn(t))),new _.Range(t,o,s.lineNumber,s.column)}static deleteInsideWord(a,l,c){if(!c.isEmpty())return c;const d=new S.Position(c.positionLineNumber,c.positionColumn);let r=this._deleteInsideWordWhitespace(l,d);return r||this._deleteInsideWordDetermineDeleteRange(a,l,d)}static _charAtIsWhitespace(a,l){const c=a.charCodeAt(l);return c===32||c===9}static _deleteInsideWordWhitespace(a,l){const c=a.getLineContent(l.lineNumber),d=c.length;if(d===0)return null;let r=Math.max(l.column-2,0);if(!this._charAtIsWhitespace(c,r))return null;let n=Math.min(l.column-1,d-1);if(!this._charAtIsWhitespace(c,n))return null;for(;r>0&&this._charAtIsWhitespace(c,r-1);)r--;for(;n+1<d&&this._charAtIsWhitespace(c,n+1);)n++;return new _.Range(l.lineNumber,r+1,l.lineNumber,n+2)}static _deleteInsideWordDetermineDeleteRange(a,l,c){const d=l.getLineContent(c.lineNumber),r=d.length;if(r===0)return c.lineNumber>1?new _.Range(c.lineNumber-1,l.getLineMaxColumn(c.lineNumber-1),c.lineNumber,1):c.lineNumber<l.getLineCount()?new _.Range(c.lineNumber,1,c.lineNumber+1,1):new _.Range(c.lineNumber,1,c.lineNumber,1);const n=g=>g.start+1<=c.column&&c.column<=g.end+1,s=(g,m)=>(g=Math.min(g,c.column),m=Math.max(m,c.column),new _.Range(c.lineNumber,g,c.lineNumber,m)),t=g=>{let m=g.start+1,f=g.end+1,b=!1;for(;f-1<r&&this._charAtIsWhitespace(d,f-1);)b=!0,f++;if(!b)for(;m>1&&this._charAtIsWhitespace(d,m-2);)m--;return s(m,f)},o=C._findPreviousWordOnLine(a,l,c);if(o&&n(o))return t(o);const h=C._findNextWordOnLine(a,l,c);return h&&n(h)?t(h):o&&h?s(o.end+1,h.start+1):o?s(o.start+1,o.end+1):h?s(h.start+1,h.end+1):s(1,r+1)}static _deleteWordPartLeft(a,l){if(!l.isEmpty())return l;const c=l.getPosition(),d=C._moveWordPartLeft(a,c);return new _.Range(c.lineNumber,c.column,d.lineNumber,d.column)}static _findFirstNonWhitespaceChar(a,l){let c=a.length;for(let d=l;d<c;d++){let r=a.charAt(d);if(r!==" "&&r!=="	")return d}return c}static _deleteWordRightWhitespace(a,l){const c=a.getLineContent(l.lineNumber),d=l.column-1,r=this._findFirstNonWhitespaceChar(c,d);return d+1<r?new _.Range(l.lineNumber,l.column,l.lineNumber,r+1):null}static deleteWordRight(a,l){const c=a.wordSeparators,d=a.model,r=a.selection,n=a.whitespaceHeuristics;if(!r.isEmpty())return r;const s=new S.Position(r.positionLineNumber,r.positionColumn);let t=s.lineNumber,o=s.column;const h=d.getLineCount(),g=d.getLineMaxColumn(t);if(t===h&&o===g)return null;if(n){let f=this._deleteWordRightWhitespace(d,s);if(f)return f}let m=C._findNextWordOnLine(c,d,s);return l===2?m?o=m.end+1:o<g||t===h?o=g:(t++,m=C._findNextWordOnLine(c,d,new S.Position(t,1)),m?o=m.start+1:o=d.getLineMaxColumn(t)):(m&&o>=m.start+1&&(m=C._findNextWordOnLine(c,d,new S.Position(t,m.end+1))),m?o=m.start+1:o<g||t===h?o=g:(t++,m=C._findNextWordOnLine(c,d,new S.Position(t,1)),m?o=m.start+1:o=d.getLineMaxColumn(t))),new _.Range(t,o,s.lineNumber,s.column)}static _deleteWordPartRight(a,l){if(!l.isEmpty())return l;const c=l.getPosition(),d=C._moveWordPartRight(a,c);return new _.Range(c.lineNumber,c.column,d.lineNumber,d.column)}static _createWordAtPosition(a,l,c){const d=new _.Range(l,c.start+1,l,c.end+1);return{word:a.getValueInRange(d),startColumn:d.startColumn,endColumn:d.endColumn}}static getWordAtPosition(a,l,c){const d=(0,w.getMapForWordSeparators)(l),r=C._findPreviousWordOnLine(d,a,c);if(r&&r.wordType===1&&r.start<=c.column-1&&c.column-1<=r.end)return C._createWordAtPosition(a,c.lineNumber,r);const n=C._findNextWordOnLine(d,a,c);return n&&n.wordType===1&&n.start<=c.column-1&&c.column-1<=n.end?C._createWordAtPosition(a,c.lineNumber,n):null}static word(a,l,c,d,r){const n=(0,w.getMapForWordSeparators)(a.wordSeparators);let s=C._findPreviousWordOnLine(n,l,r),t=C._findNextWordOnLine(n,l,r);if(!d){let f,b;return s&&s.wordType===1&&s.start<=r.column-1&&r.column-1<=s.end?(f=s.start+1,b=s.end+1):t&&t.wordType===1&&t.start<=r.column-1&&r.column-1<=t.end?(f=t.start+1,b=t.end+1):(s?f=s.end+1:f=1,t?b=t.start+1:b=l.getLineMaxColumn(r.lineNumber)),new I.SingleCursorState(new _.Range(r.lineNumber,f,r.lineNumber,b),0,new S.Position(r.lineNumber,b),0)}let o,h;s&&s.wordType===1&&s.start<r.column-1&&r.column-1<s.end?(o=s.start+1,h=s.end+1):t&&t.wordType===1&&t.start<r.column-1&&r.column-1<t.end?(o=t.start+1,h=t.end+1):(o=r.column,h=r.column);let g=r.lineNumber,m;if(c.selectionStart.containsPosition(r))m=c.selectionStart.endColumn;else if(r.isBeforeOrEqual(c.selectionStart.getStartPosition())){m=o;let f=new S.Position(g,m);c.selectionStart.containsPosition(f)&&(m=c.selectionStart.endColumn)}else{m=h;let f=new S.Position(g,m);c.selectionStart.containsPosition(f)&&(m=c.selectionStart.startColumn)}return c.move(!0,g,m,0)}}e.WordOperations=C;class i extends C{static deleteWordPartLeft(a){const l=p([C.deleteWordLeft(a,0),C.deleteWordLeft(a,2),C._deleteWordPartLeft(a.model,a.selection)]);return l.sort(_.Range.compareRangesUsingEnds),l[2]}static deleteWordPartRight(a){const l=p([C.deleteWordRight(a,0),C.deleteWordRight(a,2),C._deleteWordPartRight(a.model,a.selection)]);return l.sort(_.Range.compareRangesUsingStarts),l[0]}static moveWordPartLeft(a,l,c){const d=p([C.moveWordLeft(a,l,c,0),C.moveWordLeft(a,l,c,2),C._moveWordPartLeft(l,c)]);return d.sort(S.Position.compare),d[2]}static moveWordPartRight(a,l,c){const d=p([C.moveWordRight(a,l,c,0),C.moveWordRight(a,l,c,2),C._moveWordPartRight(l,c)]);return d.sort(S.Position.compare),d[0]}}e.WordPartOperations=i;function p(u){return u.filter(a=>Boolean(a))}}),define(J[241],ee([0,1,20,43,181,136,14,3]),function($,e,v,I,k,w,S,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorMove=e.CursorMoveCommands=void 0;class C{static addCursorDown(u,a,l){let c=[],d=0;for(let r=0,n=a.length;r<n;r++){const s=a[r];c[d++]=new I.CursorState(s.modelState,s.viewState),l?c[d++]=I.CursorState.fromModelState(k.MoveOperations.translateDown(u.cursorConfig,u.model,s.modelState)):c[d++]=I.CursorState.fromViewState(k.MoveOperations.translateDown(u.cursorConfig,u,s.viewState))}return c}static addCursorUp(u,a,l){let c=[],d=0;for(let r=0,n=a.length;r<n;r++){const s=a[r];c[d++]=new I.CursorState(s.modelState,s.viewState),l?c[d++]=I.CursorState.fromModelState(k.MoveOperations.translateUp(u.cursorConfig,u.model,s.modelState)):c[d++]=I.CursorState.fromViewState(k.MoveOperations.translateUp(u.cursorConfig,u,s.viewState))}return c}static moveToBeginningOfLine(u,a,l){let c=[];for(let d=0,r=a.length;d<r;d++){const n=a[d];c[d]=this._moveToLineStart(u,n,l)}return c}static _moveToLineStart(u,a,l){const c=a.viewState.position.column,d=a.modelState.position.column,r=c===d,n=a.viewState.position.lineNumber,s=u.getLineFirstNonWhitespaceColumn(n);return!r&&!(c===s)?this._moveToLineStartByView(u,a,l):this._moveToLineStartByModel(u,a,l)}static _moveToLineStartByView(u,a,l){return I.CursorState.fromViewState(k.MoveOperations.moveToBeginningOfLine(u.cursorConfig,u,a.viewState,l))}static _moveToLineStartByModel(u,a,l){return I.CursorState.fromModelState(k.MoveOperations.moveToBeginningOfLine(u.cursorConfig,u.model,a.modelState,l))}static moveToEndOfLine(u,a,l,c){let d=[];for(let r=0,n=a.length;r<n;r++){const s=a[r];d[r]=this._moveToLineEnd(u,s,l,c)}return d}static _moveToLineEnd(u,a,l,c){const d=a.viewState.position,r=u.getLineMaxColumn(d.lineNumber),n=d.column===r,s=a.modelState.position,t=u.model.getLineMaxColumn(s.lineNumber),o=r-d.column==t-s.column;return n||o?this._moveToLineEndByModel(u,a,l,c):this._moveToLineEndByView(u,a,l,c)}static _moveToLineEndByView(u,a,l,c){return I.CursorState.fromViewState(k.MoveOperations.moveToEndOfLine(u.cursorConfig,u,a.viewState,l,c))}static _moveToLineEndByModel(u,a,l,c){return I.CursorState.fromModelState(k.MoveOperations.moveToEndOfLine(u.cursorConfig,u.model,a.modelState,l,c))}static expandLineSelection(u,a){let l=[];for(let c=0,d=a.length;c<d;c++){const r=a[c],n=r.modelState.selection.startLineNumber,s=u.model.getLineCount();let t=r.modelState.selection.endLineNumber,o;t===s?o=u.model.getLineMaxColumn(s):(t++,o=1),l[c]=I.CursorState.fromModelState(new I.SingleCursorState(new _.Range(n,1,n,1),0,new S.Position(t,o),0))}return l}static moveToBeginningOfBuffer(u,a,l){let c=[];for(let d=0,r=a.length;d<r;d++){const n=a[d];c[d]=I.CursorState.fromModelState(k.MoveOperations.moveToBeginningOfBuffer(u.cursorConfig,u.model,n.modelState,l))}return c}static moveToEndOfBuffer(u,a,l){let c=[];for(let d=0,r=a.length;d<r;d++){const n=a[d];c[d]=I.CursorState.fromModelState(k.MoveOperations.moveToEndOfBuffer(u.cursorConfig,u.model,n.modelState,l))}return c}static selectAll(u,a){const l=u.model.getLineCount(),c=u.model.getLineMaxColumn(l);return I.CursorState.fromModelState(new I.SingleCursorState(new _.Range(1,1,1,1),0,new S.Position(l,c),0))}static line(u,a,l,c,d){const r=u.model.validatePosition(c),n=d?u.coordinatesConverter.validateViewPosition(new S.Position(d.lineNumber,d.column),r):u.coordinatesConverter.convertModelPositionToViewPosition(r);if(!l||!a.modelState.hasSelection()){const t=u.model.getLineCount();let o=r.lineNumber+1,h=1;return o>t&&(o=t,h=u.model.getLineMaxColumn(o)),I.CursorState.fromModelState(new I.SingleCursorState(new _.Range(r.lineNumber,1,o,h),0,new S.Position(o,h),0))}const s=a.modelState.selectionStart.getStartPosition().lineNumber;if(r.lineNumber<s)return I.CursorState.fromViewState(a.viewState.move(a.modelState.hasSelection(),n.lineNumber,1,0));if(r.lineNumber>s){const t=u.getLineCount();let o=n.lineNumber+1,h=1;return o>t&&(o=t,h=u.getLineMaxColumn(o)),I.CursorState.fromViewState(a.viewState.move(a.modelState.hasSelection(),o,h,0))}else{const t=a.modelState.selectionStart.getEndPosition();return I.CursorState.fromModelState(a.modelState.move(a.modelState.hasSelection(),t.lineNumber,t.column,0))}}static word(u,a,l,c){const d=u.model.validatePosition(c);return I.CursorState.fromModelState(w.WordOperations.word(u.cursorConfig,u.model,a.modelState,l,d))}static cancelSelection(u,a){if(!a.modelState.hasSelection())return new I.CursorState(a.modelState,a.viewState);const l=a.viewState.position.lineNumber,c=a.viewState.position.column;return I.CursorState.fromViewState(new I.SingleCursorState(new _.Range(l,c,l,c),0,new S.Position(l,c),0))}static moveTo(u,a,l,c,d){const r=u.model.validatePosition(c),n=d?u.coordinatesConverter.validateViewPosition(new S.Position(d.lineNumber,d.column),r):u.coordinatesConverter.convertModelPositionToViewPosition(r);return I.CursorState.fromViewState(a.viewState.move(l,n.lineNumber,n.column,0))}static simpleMove(u,a,l,c,d,r){switch(l){case 0:return r===4?this._moveHalfLineLeft(u,a,c):this._moveLeft(u,a,c,d);case 1:return r===4?this._moveHalfLineRight(u,a,c):this._moveRight(u,a,c,d);case 2:return r===2?this._moveUpByViewLines(u,a,c,d):this._moveUpByModelLines(u,a,c,d);case 3:return r===2?this._moveDownByViewLines(u,a,c,d):this._moveDownByModelLines(u,a,c,d);case 4:return r===2?a.map(n=>I.CursorState.fromViewState(k.MoveOperations.moveToPrevBlankLine(u.cursorConfig,u,n.viewState,c))):a.map(n=>I.CursorState.fromModelState(k.MoveOperations.moveToPrevBlankLine(u.cursorConfig,u.model,n.modelState,c)));case 5:return r===2?a.map(n=>I.CursorState.fromViewState(k.MoveOperations.moveToNextBlankLine(u.cursorConfig,u,n.viewState,c))):a.map(n=>I.CursorState.fromModelState(k.MoveOperations.moveToNextBlankLine(u.cursorConfig,u.model,n.modelState,c)));case 6:return this._moveToViewMinColumn(u,a,c);case 7:return this._moveToViewFirstNonWhitespaceColumn(u,a,c);case 8:return this._moveToViewCenterColumn(u,a,c);case 9:return this._moveToViewMaxColumn(u,a,c);case 10:return this._moveToViewLastNonWhitespaceColumn(u,a,c);default:return null}}static viewportMove(u,a,l,c,d){const r=u.getCompletelyVisibleViewRange(),n=u.coordinatesConverter.convertViewRangeToModelRange(r);switch(l){case 11:{const s=this._firstLineNumberInRange(u.model,n,d),t=u.model.getLineFirstNonWhitespaceColumn(s);return[this._moveToModelPosition(u,a[0],c,s,t)]}case 13:{const s=this._lastLineNumberInRange(u.model,n,d),t=u.model.getLineFirstNonWhitespaceColumn(s);return[this._moveToModelPosition(u,a[0],c,s,t)]}case 12:{const s=Math.round((n.startLineNumber+n.endLineNumber)/2),t=u.model.getLineFirstNonWhitespaceColumn(s);return[this._moveToModelPosition(u,a[0],c,s,t)]}case 14:{let s=[];for(let t=0,o=a.length;t<o;t++){const h=a[t];s[t]=this.findPositionInViewportIfOutside(u,h,r,c)}return s}default:return null}}static findPositionInViewportIfOutside(u,a,l,c){let d=a.viewState.position.lineNumber;if(l.startLineNumber<=d&&d<=l.endLineNumber-1)return new I.CursorState(a.modelState,a.viewState);{d>l.endLineNumber-1&&(d=l.endLineNumber-1),d<l.startLineNumber&&(d=l.startLineNumber);const r=u.getLineFirstNonWhitespaceColumn(d);return this._moveToViewPosition(u,a,c,d,r)}}static _firstLineNumberInRange(u,a,l){let c=a.startLineNumber;return a.startColumn!==u.getLineMinColumn(c)&&c++,Math.min(a.endLineNumber,c+l-1)}static _lastLineNumberInRange(u,a,l){let c=a.startLineNumber;return a.startColumn!==u.getLineMinColumn(c)&&c++,Math.max(c,a.endLineNumber-l+1)}static _moveLeft(u,a,l,c){const d=a.length>1;let r=[];for(let n=0,s=a.length;n<s;n++){const t=a[n],o=d||!t.viewState.hasSelection();let h=k.MoveOperations.moveLeft(u.cursorConfig,u,t.viewState,l,c);o&&c===1&&t.viewState.position.column===u.getLineMinColumn(t.viewState.position.lineNumber)&&h.position.lineNumber!==t.viewState.position.lineNumber&&u.coordinatesConverter.convertViewPositionToModelPosition(h.position).lineNumber===t.modelState.position.lineNumber&&(h=k.MoveOperations.moveLeft(u.cursorConfig,u,h,l,1)),r[n]=I.CursorState.fromViewState(h)}return r}static _moveHalfLineLeft(u,a,l){let c=[];for(let d=0,r=a.length;d<r;d++){const n=a[d],s=n.viewState.position.lineNumber,t=Math.round(u.getLineContent(s).length/2);c[d]=I.CursorState.fromViewState(k.MoveOperations.moveLeft(u.cursorConfig,u,n.viewState,l,t))}return c}static _moveRight(u,a,l,c){const d=a.length>1;let r=[];for(let n=0,s=a.length;n<s;n++){const t=a[n],o=d||!t.viewState.hasSelection();let h=k.MoveOperations.moveRight(u.cursorConfig,u,t.viewState,l,c);o&&c===1&&t.viewState.position.column===u.getLineMaxColumn(t.viewState.position.lineNumber)&&h.position.lineNumber!==t.viewState.position.lineNumber&&u.coordinatesConverter.convertViewPositionToModelPosition(h.position).lineNumber===t.modelState.position.lineNumber&&(h=k.MoveOperations.moveRight(u.cursorConfig,u,h,l,1)),r[n]=I.CursorState.fromViewState(h)}return r}static _moveHalfLineRight(u,a,l){let c=[];for(let d=0,r=a.length;d<r;d++){const n=a[d],s=n.viewState.position.lineNumber,t=Math.round(u.getLineContent(s).length/2);c[d]=I.CursorState.fromViewState(k.MoveOperations.moveRight(u.cursorConfig,u,n.viewState,l,t))}return c}static _moveDownByViewLines(u,a,l,c){let d=[];for(let r=0,n=a.length;r<n;r++){const s=a[r];d[r]=I.CursorState.fromViewState(k.MoveOperations.moveDown(u.cursorConfig,u,s.viewState,l,c))}return d}static _moveDownByModelLines(u,a,l,c){let d=[];for(let r=0,n=a.length;r<n;r++){const s=a[r];d[r]=I.CursorState.fromModelState(k.MoveOperations.moveDown(u.cursorConfig,u.model,s.modelState,l,c))}return d}static _moveUpByViewLines(u,a,l,c){let d=[];for(let r=0,n=a.length;r<n;r++){const s=a[r];d[r]=I.CursorState.fromViewState(k.MoveOperations.moveUp(u.cursorConfig,u,s.viewState,l,c))}return d}static _moveUpByModelLines(u,a,l,c){let d=[];for(let r=0,n=a.length;r<n;r++){const s=a[r];d[r]=I.CursorState.fromModelState(k.MoveOperations.moveUp(u.cursorConfig,u.model,s.modelState,l,c))}return d}static _moveToViewPosition(u,a,l,c,d){return I.CursorState.fromViewState(a.viewState.move(l,c,d,0))}static _moveToModelPosition(u,a,l,c,d){return I.CursorState.fromModelState(a.modelState.move(l,c,d,0))}static _moveToViewMinColumn(u,a,l){let c=[];for(let d=0,r=a.length;d<r;d++){const n=a[d],s=n.viewState.position.lineNumber,t=u.getLineMinColumn(s);c[d]=this._moveToViewPosition(u,n,l,s,t)}return c}static _moveToViewFirstNonWhitespaceColumn(u,a,l){let c=[];for(let d=0,r=a.length;d<r;d++){const n=a[d],s=n.viewState.position.lineNumber,t=u.getLineFirstNonWhitespaceColumn(s);c[d]=this._moveToViewPosition(u,n,l,s,t)}return c}static _moveToViewCenterColumn(u,a,l){let c=[];for(let d=0,r=a.length;d<r;d++){const n=a[d],s=n.viewState.position.lineNumber,t=Math.round((u.getLineMaxColumn(s)+u.getLineMinColumn(s))/2);c[d]=this._moveToViewPosition(u,n,l,s,t)}return c}static _moveToViewMaxColumn(u,a,l){let c=[];for(let d=0,r=a.length;d<r;d++){const n=a[d],s=n.viewState.position.lineNumber,t=u.getLineMaxColumn(s);c[d]=this._moveToViewPosition(u,n,l,s,t)}return c}static _moveToViewLastNonWhitespaceColumn(u,a,l){let c=[];for(let d=0,r=a.length;d<r;d++){const n=a[d],s=n.viewState.position.lineNumber,t=u.getLineLastNonWhitespaceColumn(s);c[d]=this._moveToViewPosition(u,n,l,s,t)}return c}}e.CursorMoveCommands=C;var i;(function(p){const u=function(l){if(!v.isObject(l))return!1;let c=l;return!(!v.isString(c.to)||!v.isUndefined(c.select)&&!v.isBoolean(c.select)||!v.isUndefined(c.by)&&!v.isString(c.by)||!v.isUndefined(c.value)&&!v.isNumber(c.value))};p.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:u,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},p.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},p.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function a(l){if(!l.to)return null;let c;switch(l.to){case p.RawDirection.Left:c=0;break;case p.RawDirection.Right:c=1;break;case p.RawDirection.Up:c=2;break;case p.RawDirection.Down:c=3;break;case p.RawDirection.PrevBlankLine:c=4;break;case p.RawDirection.NextBlankLine:c=5;break;case p.RawDirection.WrappedLineStart:c=6;break;case p.RawDirection.WrappedLineFirstNonWhitespaceCharacter:c=7;break;case p.RawDirection.WrappedLineColumnCenter:c=8;break;case p.RawDirection.WrappedLineEnd:c=9;break;case p.RawDirection.WrappedLineLastNonWhitespaceCharacter:c=10;break;case p.RawDirection.ViewPortTop:c=11;break;case p.RawDirection.ViewPortBottom:c=13;break;case p.RawDirection.ViewPortCenter:c=12;break;case p.RawDirection.ViewPortIfOutside:c=14;break;default:return null}let d=0;switch(l.by){case p.RawUnit.Line:d=1;break;case p.RawUnit.WrappedLine:d=2;break;case p.RawUnit.Character:d=3;break;case p.RawUnit.HalfLine:d=4;break}return{direction:c,unit:d,select:!!l.select,value:l.value||1}}p.parse=a})(i=e.CursorMove||(e.CursorMove={}))}),define(J[540],ee([0,1,43,14,3,21]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OneCursor=void 0;class S{constructor(C){this._selTrackedRange=null,this._trackSelection=!0,this._setState(C,new v.SingleCursorState(new k.Range(1,1,1,1),0,new I.Position(1,1),0),new v.SingleCursorState(new k.Range(1,1,1,1),0,new I.Position(1,1),0))}dispose(C){this._removeTrackedRange(C)}startTrackingSelection(C){this._trackSelection=!0,this._updateTrackedRange(C)}stopTrackingSelection(C){this._trackSelection=!1,this._removeTrackedRange(C)}_updateTrackedRange(C){!this._trackSelection||(this._selTrackedRange=C.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(C){this._selTrackedRange=C.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new v.CursorState(this.modelState,this.viewState)}readSelectionFromMarkers(C){const i=C.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.getDirection()===0?new w.Selection(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn):new w.Selection(i.endLineNumber,i.endColumn,i.startLineNumber,i.startColumn)}ensureValidState(C){this._setState(C,this.modelState,this.viewState)}setState(C,i,p){this._setState(C,i,p)}_setState(C,i,p){if(i){const u=C.model.validateRange(i.selectionStart),a=i.selectionStart.equalsRange(u)?i.selectionStartLeftoverVisibleColumns:0,l=C.model.validatePosition(i.position),c=i.position.equals(l)?i.leftoverVisibleColumns:0;i=new v.SingleCursorState(u,a,l,c)}else{if(!p)return;const u=C.model.validateRange(C.coordinatesConverter.convertViewRangeToModelRange(p.selectionStart)),a=C.model.validatePosition(C.coordinatesConverter.convertViewPositionToModelPosition(p.position));i=new v.SingleCursorState(u,p.selectionStartLeftoverVisibleColumns,a,p.leftoverVisibleColumns)}if(p){const u=C.coordinatesConverter.validateViewRange(p.selectionStart,i.selectionStart),a=C.coordinatesConverter.validateViewPosition(p.position,i.position);p=new v.SingleCursorState(u,i.selectionStartLeftoverVisibleColumns,a,i.leftoverVisibleColumns)}else{const u=C.coordinatesConverter.convertModelPositionToViewPosition(new I.Position(i.selectionStart.startLineNumber,i.selectionStart.startColumn)),a=C.coordinatesConverter.convertModelPositionToViewPosition(new I.Position(i.selectionStart.endLineNumber,i.selectionStart.endColumn)),l=new k.Range(u.lineNumber,u.column,a.lineNumber,a.column),c=C.coordinatesConverter.convertModelPositionToViewPosition(i.position);p=new v.SingleCursorState(l,i.selectionStartLeftoverVisibleColumns,c,i.leftoverVisibleColumns)}this.modelState=i,this.viewState=p,this._updateTrackedRange(C)}}e.OneCursor=S}),define(J[541],ee([0,1,43,540,21]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorCollection=void 0;class w{constructor(_){this.context=_,this.primaryCursor=new I.OneCursor(_),this.secondaryCursors=[],this.lastAddedCursorIndex=0}dispose(){this.primaryCursor.dispose(this.context),this.killSecondaryCursors()}startTrackingSelections(){this.primaryCursor.startTrackingSelection(this.context);for(let _=0,C=this.secondaryCursors.length;_<C;_++)this.secondaryCursors[_].startTrackingSelection(this.context)}stopTrackingSelections(){this.primaryCursor.stopTrackingSelection(this.context);for(let _=0,C=this.secondaryCursors.length;_<C;_++)this.secondaryCursors[_].stopTrackingSelection(this.context)}updateContext(_){this.context=_}ensureValidState(){this.primaryCursor.ensureValidState(this.context);for(let _=0,C=this.secondaryCursors.length;_<C;_++)this.secondaryCursors[_].ensureValidState(this.context)}readSelectionFromMarkers(){let _=[];_[0]=this.primaryCursor.readSelectionFromMarkers(this.context);for(let C=0,i=this.secondaryCursors.length;C<i;C++)_[C+1]=this.secondaryCursors[C].readSelectionFromMarkers(this.context);return _}getAll(){let _=[];_[0]=this.primaryCursor.asCursorState();for(let C=0,i=this.secondaryCursors.length;C<i;C++)_[C+1]=this.secondaryCursors[C].asCursorState();return _}getViewPositions(){let _=[];_[0]=this.primaryCursor.viewState.position;for(let C=0,i=this.secondaryCursors.length;C<i;C++)_[C+1]=this.secondaryCursors[C].viewState.position;return _}getTopMostViewPosition(){let _=this.primaryCursor.viewState.position;for(let C=0,i=this.secondaryCursors.length;C<i;C++){const p=this.secondaryCursors[C].viewState.position;p.isBefore(_)&&(_=p)}return _}getBottomMostViewPosition(){let _=this.primaryCursor.viewState.position;for(let C=0,i=this.secondaryCursors.length;C<i;C++){const p=this.secondaryCursors[C].viewState.position;_.isBeforeOrEqual(p)&&(_=p)}return _}getSelections(){let _=[];_[0]=this.primaryCursor.modelState.selection;for(let C=0,i=this.secondaryCursors.length;C<i;C++)_[C+1]=this.secondaryCursors[C].modelState.selection;return _}getViewSelections(){let _=[];_[0]=this.primaryCursor.viewState.selection;for(let C=0,i=this.secondaryCursors.length;C<i;C++)_[C+1]=this.secondaryCursors[C].viewState.selection;return _}setSelections(_){this.setStates(v.CursorState.fromModelSelections(_))}getPrimaryCursor(){return this.primaryCursor.asCursorState()}setStates(_){_!==null&&(this.primaryCursor.setState(this.context,_[0].modelState,_[0].viewState),this._setSecondaryStates(_.slice(1)))}_setSecondaryStates(_){const C=this.secondaryCursors.length,i=_.length;if(C<i){let p=i-C;for(let u=0;u<p;u++)this._addSecondaryCursor()}else if(C>i){let p=C-i;for(let u=0;u<p;u++)this._removeSecondaryCursor(this.secondaryCursors.length-1)}for(let p=0;p<i;p++)this.secondaryCursors[p].setState(this.context,_[p].modelState,_[p].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.secondaryCursors.push(new I.OneCursor(this.context)),this.lastAddedCursorIndex=this.secondaryCursors.length}getLastAddedCursorIndex(){return this.secondaryCursors.length===0||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(_){this.lastAddedCursorIndex>=_+1&&this.lastAddedCursorIndex--,this.secondaryCursors[_].dispose(this.context),this.secondaryCursors.splice(_,1)}_getAll(){let _=[];_[0]=this.primaryCursor;for(let C=0,i=this.secondaryCursors.length;C<i;C++)_[C+1]=this.secondaryCursors[C];return _}normalize(){if(this.secondaryCursors.length!==0){let _=this._getAll(),C=[];for(let i=0,p=_.length;i<p;i++)C.push({index:i,selection:_[i].modelState.selection});C.sort((i,p)=>i.selection.startLineNumber===p.selection.startLineNumber?i.selection.startColumn-p.selection.startColumn:i.selection.startLineNumber-p.selection.startLineNumber);for(let i=0;i<C.length-1;i++){const p=C[i],u=C[i+1],a=p.selection,l=u.selection;if(!!this.context.cursorConfig.multiCursorMergeOverlapping){let c;if(l.isEmpty()||a.isEmpty()?c=l.getStartPosition().isBeforeOrEqual(a.getEndPosition()):c=l.getStartPosition().isBefore(a.getEndPosition()),c){const d=p.index<u.index?i:i+1,r=p.index<u.index?i+1:i,n=C[r].index,s=C[d].index,t=C[r].selection,o=C[d].selection;if(!t.equalsSelection(o)){const h=t.plusRange(o),g=t.selectionStartLineNumber===t.startLineNumber&&t.selectionStartColumn===t.startColumn,m=o.selectionStartLineNumber===o.startLineNumber&&o.selectionStartColumn===o.startColumn;let f;n===this.lastAddedCursorIndex?(f=g,this.lastAddedCursorIndex=s):f=m;let b;f?b=new k.Selection(h.startLineNumber,h.startColumn,h.endLineNumber,h.endColumn):b=new k.Selection(h.endLineNumber,h.endColumn,h.startLineNumber,h.startColumn),C[d].selection=b;const y=v.CursorState.fromModelSelection(b);_[s].setState(this.context,y.modelState,y.viewState)}for(const h of C)h.index>n&&h.index--;_.splice(n,1),C.splice(r,1),this._removeSecondaryCursor(n-1),i--}}}}}}e.CursorCollection=w}),define(J[242],ee([0,1,11,8,541,43,182,183,3,21,170,2,173]),function($,e,v,I,k,w,S,_,C,i,p,u,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Cursor=e.CursorModelState=void 0;class l{constructor(s,t){this.modelVersionId=s.getVersionId(),this.cursorState=t.getCursorStates()}equals(s){if(!s||this.modelVersionId!==s.modelVersionId||this.cursorState.length!==s.cursorState.length)return!1;for(let t=0,o=this.cursorState.length;t<o;t++)if(!this.cursorState[t].equals(s.cursorState[t]))return!1;return!0}}e.CursorModelState=l;class c{constructor(s,t,o){this._model=s,this._autoClosedCharactersDecorations=t,this._autoClosedEnclosingDecorations=o}static getAllAutoClosedCharacters(s){let t=[];for(const o of s)t=t.concat(o.getAutoClosedCharactersRanges());return t}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){let s=[];for(let t=0;t<this._autoClosedCharactersDecorations.length;t++){const o=this._model.getDecorationRange(this._autoClosedCharactersDecorations[t]);o&&s.push(o)}return s}isValid(s){let t=[];for(let o=0;o<this._autoClosedEnclosingDecorations.length;o++){const h=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[o]);if(h&&(t.push(h),h.startLineNumber!==h.endLineNumber))return!1}t.sort(C.Range.compareRangesUsingStarts),s.sort(C.Range.compareRangesUsingStarts);for(let o=0;o<s.length;o++)if(o>=t.length||!t[o].strictContainsRange(s[o]))return!1;return!0}}class d extends u.Disposable{constructor(s,t,o,h){super();this._model=s,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=t,this._coordinatesConverter=o,this.context=new w.CursorContext(this._model,this._coordinatesConverter,h),this._cursors=new k.CursorCollection(this.context),this._hasFocus=!1,this._isHandling=!1,this._isDoingComposition=!1,this._selectionsWhenCompositionStarted=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,u.dispose)(this._autoClosedActions),super.dispose()}updateConfiguration(s){this.context=new w.CursorContext(this._model,this._coordinatesConverter,s),this._cursors.updateContext(this.context)}onLineMappingChanged(s){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(s,"viewModel",0,this.getCursorStates())}setHasFocus(s){this._hasFocus=s}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){let s=this._cursors.getSelections();for(let t=0;t<this._autoClosedActions.length;t++){const o=this._autoClosedActions[t];o.isValid(s)||(o.dispose(),this._autoClosedActions.splice(t,1),t--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(s,t,o,h){let g=!1;h!==null&&h.length>d.MAX_CURSOR_COUNT&&(h=h.slice(0,d.MAX_CURSOR_COUNT),g=!0);const m=new l(this._model,this);return this._cursors.setStates(h),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(s,t,o,m,g)}setCursorColumnSelectData(s){this._columnSelectData=s}revealPrimary(s,t,o,h){const g=this._cursors.getViewPositions();if(g.length>1){this._emitCursorRevealRange(s,t,null,this._cursors.getViewSelections(),0,o,h);return}else{const m=g[0],f=new C.Range(m.lineNumber,m.column,m.lineNumber,m.column);this._emitCursorRevealRange(s,t,f,null,0,o,h)}}_revealPrimaryCursor(s,t,o,h,g){const m=this._cursors.getViewPositions();if(m.length>1)this._emitCursorRevealRange(s,t,null,this._cursors.getViewSelections(),o,h,g);else{const f=m[0],b=new C.Range(f.lineNumber,f.column,f.lineNumber,f.column);this._emitCursorRevealRange(s,t,b,null,o,h,g)}}_emitCursorRevealRange(s,t,o,h,g,m,f){s.emitViewEvent(new p.ViewRevealRangeRequestEvent(t,o,h,g,m,f))}saveState(){let s=[];const t=this._cursors.getSelections();for(let o=0,h=t.length;o<h;o++){const g=t[o];s.push({inSelectionMode:!g.isEmpty(),selectionStart:{lineNumber:g.selectionStartLineNumber,column:g.selectionStartColumn},position:{lineNumber:g.positionLineNumber,column:g.positionColumn}})}return s}restoreState(s,t){let o=[];for(let h=0,g=t.length;h<g;h++){const m=t[h];let f=1,b=1;m.position&&m.position.lineNumber&&(f=m.position.lineNumber),m.position&&m.position.column&&(b=m.position.column);let y=f,L=b;m.selectionStart&&m.selectionStart.lineNumber&&(y=m.selectionStart.lineNumber),m.selectionStart&&m.selectionStart.column&&(L=m.selectionStart.column),o.push({selectionStartLineNumber:y,selectionStartColumn:L,positionLineNumber:f,positionColumn:b})}this.setStates(s,"restoreState",0,w.CursorState.fromModelSelections(o)),this.revealPrimary(s,"restoreState",!0,1)}onModelContentChanged(s,t){if(this._knownModelVersionId=t.versionId,!this._isHandling){const o=t.containsEvent(1);if(this._prevEditOperationType=0,o)this._cursors.dispose(),this._cursors=new k.CursorCollection(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(s,"model",1,null,!1);else if(this._hasFocus&&t.resultingSelection&&t.resultingSelection.length>0){const h=w.CursorState.fromModelSelections(t.resultingSelection);this.setStates(s,"modelChange",t.isUndoing?5:t.isRedoing?6:2,h)&&this._revealPrimaryCursor(s,"modelChange",0,!0,0)}else{const h=this._cursors.readSelectionFromMarkers();this.setStates(s,"modelChange",2,w.CursorState.fromModelSelections(h))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const s=this._cursors.getPrimaryCursor(),t=s.viewState.selectionStart.getStartPosition(),o=s.viewState.position;return{isReal:!1,fromViewLineNumber:t.lineNumber,fromViewVisualColumn:w.CursorColumns.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,t),toViewLineNumber:o.lineNumber,toViewVisualColumn:w.CursorColumns.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,o)}}getSelections(){return this._cursors.getSelections()}setSelections(s,t,o,h){this.setStates(s,t,h,w.CursorState.fromModelSelections(o))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(s){this._prevEditOperationType=s}_pushAutoClosedAction(s,t){let o=[],h=[];for(let f=0,b=s.length;f<b;f++)o.push({range:s[f],options:{inlineClassName:"auto-closed-character",stickiness:1}}),h.push({range:t[f],options:{stickiness:1}});const g=this._model.deltaDecorations([],o),m=this._model.deltaDecorations([],h);this._autoClosedActions.push(new c(this._model,g,m))}_executeEditOperation(s){if(!!s){s.shouldPushStackElementBefore&&this._model.pushStackElement();const t=r.executeCommands(this._model,this._cursors.getSelections(),s.commands);if(t){this._interpretCommandResult(t);let o=[],h=[];for(let g=0;g<s.commands.length;g++){const m=s.commands[g];m instanceof _.TypeWithAutoClosingCommand&&m.enclosingRange&&m.closeCharacterRange&&(o.push(m.closeCharacterRange),h.push(m.enclosingRange))}o.length>0&&this._pushAutoClosedAction(o,h),this._prevEditOperationType=s.type}s.shouldPushStackElementAfter&&this._model.pushStackElement()}}_interpretCommandResult(s){(!s||s.length===0)&&(s=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(s),this._cursors.normalize()}_emitStateChangedIfNecessary(s,t,o,h,g){const m=new l(this._model,this);if(m.equals(h))return!1;const f=this._cursors.getSelections(),b=this._cursors.getViewSelections();if(s.emitViewEvent(new p.ViewCursorStateChangedEvent(b,f)),!h||h.cursorState.length!==m.cursorState.length||m.cursorState.some((y,L)=>!y.modelState.equals(h.cursorState[L].modelState))){const y=h?h.cursorState.map(N=>N.modelState.selection):null,L=h?h.modelVersionId:0;s.emitOutgoingEvent(new a.CursorStateChangedEvent(y,f,L,m.modelVersionId,t||"keyboard",o,g))}return!0}_findAutoClosingPairs(s){if(!s.length)return null;let t=[];for(let o=0,h=s.length;o<h;o++){const g=s[o];if(!g.text||g.text.indexOf(`
`)>=0)return null;const m=g.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!m)return null;const f=m[1],b=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(f);if(!b||b.length!==1)return null;const y=b[0].open,L=g.text.length-m[2].length-1,N=g.text.lastIndexOf(y,L-1);if(N===-1)return null;t.push([N,L])}return t}executeEdits(s,t,o,h){let g=null;t==="snippet"&&(g=this._findAutoClosingPairs(o)),g&&(o[0]._isTracked=!0);let m=[],f=[];const b=this._model.pushEditOperations(this.getSelections(),o,y=>{if(g)for(let N=0,M=g.length;N<M;N++){const[D,R]=g[N],P=y[N],O=P.range.startLineNumber,W=P.range.startColumn-1+D,F=P.range.startColumn-1+R;m.push(new C.Range(O,F+1,O,F+2)),f.push(new C.Range(O,W+1,O,F+2))}const L=h(y);return L&&(this._isHandling=!0),L});b&&(this._isHandling=!1,this.setSelections(s,t,b,0)),m.length>0&&this._pushAutoClosedAction(m,f)}_executeEdit(s,t,o,h=0){if(!this.context.cursorConfig.readOnly){const g=new l(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),s()}catch(m){(0,v.onUnexpectedError)(m)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,o,h,g,!1)&&this._revealPrimaryCursor(t,o,0,!0,0)}}setIsDoingComposition(s){this._isDoingComposition=s}getAutoClosedCharacters(){return c.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(s){this._selectionsWhenCompositionStarted=this.getSelections().slice(0)}endComposition(s,t){this._executeEdit(()=>{t==="keyboard"&&(this._executeEditOperation(_.TypeOperations.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this._selectionsWhenCompositionStarted,this.getSelections(),this.getAutoClosedCharacters())),this._selectionsWhenCompositionStarted=null)},s,t)}type(s,t,o){this._executeEdit(()=>{if(o==="keyboard"){const h=t.length;let g=0;for(;g<h;){const m=I.nextCharLength(t,g),f=t.substr(g,m);this._executeEditOperation(_.TypeOperations.typeWithInterceptors(this._isDoingComposition,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),f)),g+=m}}else this._executeEditOperation(_.TypeOperations.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t))},s,o)}compositionType(s,t,o,h,g,m){if(t.length===0&&o===0&&h===0){if(g!==0){const f=this.getSelections().map(b=>{const y=b.getPosition();return new i.Selection(y.lineNumber,y.column+g,y.lineNumber,y.column+g)});this.setSelections(s,m,f,0)}return}this._executeEdit(()=>{this._executeEditOperation(_.TypeOperations.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t,o,h,g))},s,m)}paste(s,t,o,h,g){this._executeEdit(()=>{this._executeEditOperation(_.TypeOperations.paste(this.context.cursorConfig,this._model,this.getSelections(),t,o,h||[]))},s,g,4)}cut(s,t){this._executeEdit(()=>{this._executeEditOperation(S.DeleteOperations.cut(this.context.cursorConfig,this._model,this.getSelections()))},s,t)}executeCommand(s,t,o){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new w.EditOperationResult(0,[t],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},s,o)}executeCommands(s,t,o){this._executeEdit(()=>{this._executeEditOperation(new w.EditOperationResult(0,t,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},s,o)}}e.Cursor=d,d.MAX_CURSOR_COUNT=1e4;class r{static executeCommands(s,t,o){const h={model:s,selectionsBefore:t,trackedRanges:[],trackedRangesDirection:[]},g=this._innerExecuteCommands(h,o);for(let m=0,f=h.trackedRanges.length;m<f;m++)h.model._setTrackedRange(h.trackedRanges[m],null,0);return g}static _innerExecuteCommands(s,t){if(this._arrayIsEmpty(t))return null;const o=this._getEditOperations(s,t);if(o.operations.length===0)return null;const h=o.operations,g=this._getLoserCursorMap(h);if(g.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;let m=[];for(let y=0,L=h.length;y<L;y++)g.hasOwnProperty(h[y].identifier.major.toString())||m.push(h[y]);o.hadTrackedEditOperation&&m.length>0&&(m[0]._isTracked=!0);let f=s.model.pushEditOperations(s.selectionsBefore,m,y=>{let L=[];for(let D=0;D<s.selectionsBefore.length;D++)L[D]=[];for(const D of y)!D.identifier||L[D.identifier.major].push(D);const N=(D,R)=>D.identifier.minor-R.identifier.minor;let M=[];for(let D=0;D<s.selectionsBefore.length;D++)L[D].length>0?(L[D].sort(N),M[D]=t[D].computeCursorState(s.model,{getInverseEditOperations:()=>L[D],getTrackedSelection:R=>{const P=parseInt(R,10),O=s.model._getTrackedRange(s.trackedRanges[P]);return s.trackedRangesDirection[P]===0?new i.Selection(O.startLineNumber,O.startColumn,O.endLineNumber,O.endColumn):new i.Selection(O.endLineNumber,O.endColumn,O.startLineNumber,O.startColumn)}})):M[D]=s.selectionsBefore[D];return M});f||(f=s.selectionsBefore);let b=[];for(let y in g)g.hasOwnProperty(y)&&b.push(parseInt(y,10));b.sort((y,L)=>L-y);for(const y of b)f.splice(y,1);return f}static _arrayIsEmpty(s){for(let t=0,o=s.length;t<o;t++)if(s[t])return!1;return!0}static _getEditOperations(s,t){let o=[],h=!1;for(let g=0,m=t.length;g<m;g++){const f=t[g];if(f){const b=this._getEditOperationsFromCommand(s,g,f);o=o.concat(b.operations),h=h||b.hadTrackedEditOperation}}return{operations:o,hadTrackedEditOperation:h}}static _getEditOperationsFromCommand(s,t,o){let h=[],g=0;const m=(N,M,D=!1)=>{C.Range.isEmpty(N)&&M===""||h.push({identifier:{major:t,minor:g++},range:N,text:M,forceMoveMarkers:D,isAutoWhitespaceEdit:o.insertsAutoWhitespace})};let f=!1;const L={addEditOperation:m,addTrackedEditOperation:(N,M,D)=>{f=!0,m(N,M,D)},trackSelection:(N,M)=>{const D=i.Selection.liftSelection(N);let R;if(D.isEmpty())if(typeof M=="boolean")M?R=2:R=3;else{const W=s.model.getLineMaxColumn(D.startLineNumber);D.startColumn===W?R=2:R=3}else R=1;const P=s.trackedRanges.length,O=s.model._setTrackedRange(null,D,R);return s.trackedRanges[P]=O,s.trackedRangesDirection[P]=D.getDirection(),P.toString()}};try{o.getEditOperations(s.model,L)}catch(N){return(0,v.onUnexpectedError)(N),{operations:[],hadTrackedEditOperation:!1}}return{operations:h,hadTrackedEditOperation:f}}static _getLoserCursorMap(s){s=s.slice(0),s.sort((o,h)=>-C.Range.compareRangesUsingEnds(o.range,h.range));let t={};for(let o=1;o<s.length;o++){const h=s[o-1],g=s[o];if(C.Range.getStartPosition(h.range).isBefore(C.Range.getEndPosition(g.range))){let m;h.identifier.major>g.identifier.major?m=h.identifier.major:m=g.identifier.major,t[m.toString()]=!0;for(let f=0;f<s.length;f++)s[f].identifier.major===m&&(s.splice(f,1),f<o&&o--,f--);o>0&&o--}}return t}}}),define(J[243],ee([0,1,8,114,77]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tokenizeLineToHTML=e.tokenizeToString=void 0;const w={getInitialState:()=>k.NULL_STATE,tokenize2:(i,p,u,a)=>(0,k.nullTokenize2)(0,i,u,a)};function S(i,p=w){return C(i,p||w)}e.tokenizeToString=S;function _(i,p,u,a,l,c,d){let r="<div>",n=a,s=0;for(let t=0,o=p.getCount();t<o;t++){const h=p.getEndOffset(t);if(!(h<=a)){let g="";for(;n<h&&n<l;n++){const m=i.charCodeAt(n);switch(m){case 9:let f=c-(n+s)%c;for(s+=f-1;f>0;)g+=d?"&#160;":" ",f--;break;case 60:g+="&lt;";break;case 62:g+="&gt;";break;case 38:g+="&amp;";break;case 0:g+="&#00;";break;case 65279:case 8232:case 8233:case 133:g+="\uFFFD";break;case 13:g+="&#8203";break;case 32:g+=d?"&#160;":" ";break;default:g+=String.fromCharCode(m)}}if(r+=`<span style="${p.getInlineStyle(t,u)}">${g}</span>`,h>l||n>=l)break}}return r+="</div>",r}e.tokenizeLineToHTML=_;function C(i,p){let u='<div class="monaco-tokenized-source">',a=v.splitLines(i),l=p.getInitialState();for(let c=0,d=a.length;c<d;c++){let r=a[c];c>0&&(u+="<br/>");let n=p.tokenize2(r,!0,l,0);I.LineTokens.convertToEndOffset(n.tokens,r.length);let t=new I.LineTokens(n.tokens,r).inflate(),o=0;for(let h=0,g=t.getCount();h<g;h++){const m=t.getClassName(h),f=t.getEndOffset(h);u+=`<span class="${m}">${v.escape(r.substring(o,f))}</span>`,o=f}l=n.endState}return u+="</div>",u}}),define(J[67],ee([0,1,9]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextModelService=void 0,e.ITextModelService=(0,v.createDecorator)("textModelService")}),define(J[137],ee([0,1,9]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextResourcePropertiesService=e.ITextResourceConfigurationService=void 0,e.ITextResourceConfigurationService=(0,v.createDecorator)("textResourceConfigurationService"),e.ITextResourcePropertiesService=(0,v.createDecorator)("textResourcePropertiesService")}),define(J[244],ee([0,1,6,217,18]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapTokensColorTracker=void 0;class w{constructor(){this._onDidChange=new v.Emitter,this.onDidChange=this._onDidChange.event,this._updateColorMap(),k.TokenizationRegistry.onDidChange(_=>{_.changedColorMap&&this._updateColorMap()})}static getInstance(){return this._INSTANCE||(this._INSTANCE=new w),this._INSTANCE}_updateColorMap(){const _=k.TokenizationRegistry.getColorMap();if(!_){this._colors=[I.RGBA8.Empty],this._backgroundIsLight=!0;return}this._colors=[I.RGBA8.Empty];for(let i=1;i<_.length;i++){const p=_[i].rgba;this._colors[i]=new I.RGBA8(p.r,p.g,p.b,Math.round(p.a*255))}let C=_[2].getRelativeLuminance();this._backgroundIsLight=C>=.5,this._onDidChange.fire(void 0)}getColor(_){return(_<1||_>=this._colors.length)&&(_=2),this._colors[_]}backgroundIsLight(){return this._backgroundIsLight}}e.MinimapTokensColorTracker=w,w._INSTANCE=null}),define(J[542],ee([0,1,19,14,3,31,170,223,63]),function($,e,v,I,k,w,S,_,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IdentityLinesCollection=e.IdentityCoordinatesConverter=e.SplitLine=e.SplitLinesCollection=e.CoordinatesConverter=void 0;class i{constructor(m){this._lines=m}convertViewPositionToModelPosition(m){return this._lines.convertViewPositionToModelPosition(m.lineNumber,m.column)}convertViewRangeToModelRange(m){return this._lines.convertViewRangeToModelRange(m)}validateViewPosition(m,f){return this._lines.validateViewPosition(m.lineNumber,m.column,f)}validateViewRange(m,f){return this._lines.validateViewRange(m,f)}convertModelPositionToViewPosition(m){return this._lines.convertModelPositionToViewPosition(m.lineNumber,m.column)}convertModelRangeToViewRange(m){return this._lines.convertModelRangeToViewRange(m)}modelPositionIsVisible(m){return this._lines.modelPositionIsVisible(m.lineNumber,m.column)}getModelLineViewLineCount(m){return this._lines.getModelLineViewLineCount(m)}}e.CoordinatesConverter=i;class p{constructor(m){this._counts=m,this._isValid=!1,this._validEndIndex=-1,this._modelToView=[],this._viewToModel=[]}_invalidate(m){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,m-1)}_ensureValid(){if(!this._isValid){for(let m=this._validEndIndex+1,f=this._counts.length;m<f;m++){const b=this._counts[m],y=m>0?this._modelToView[m-1]:0;this._modelToView[m]=y+b;for(let L=0;L<b;L++)this._viewToModel[y+L]=m}this._modelToView.length=this._counts.length,this._viewToModel.length=this._modelToView[this._modelToView.length-1],this._isValid=!0,this._validEndIndex=this._counts.length-1}}changeValue(m,f){this._counts[m]!==f&&(this._counts[m]=f,this._invalidate(m))}removeValues(m,f){this._counts.splice(m,f),this._invalidate(m)}insertValues(m,f){this._counts=v.arrayInsert(this._counts,m,f),this._invalidate(m)}getTotalValue(){return this._ensureValid(),this._viewToModel.length}getAccumulatedValue(m){return this._ensureValid(),this._modelToView[m]}getIndexOf(m){this._ensureValid();const f=this._viewToModel[m],b=f>0?this._modelToView[f-1]:0;return new _.PrefixSumIndexOfResult(f,m-b)}}class u{constructor(m,f,b,y,L,N,M,D){this.model=m,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=f,this._monospaceLineBreaksComputerFactory=b,this.fontInfo=y,this.tabSize=L,this.wrappingStrategy=N,this.wrappingColumn=M,this.wrappingIndent=D,this._constructLines(!0,null)}dispose(){this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,[])}createCoordinatesConverter(){return new i(this)}_constructLines(m,f){this.lines=[],m&&(this.hiddenAreasIds=[]);let b=this.model.getLinesContent();const y=b.length,L=this.createLineBreaksComputer();for(let F=0;F<y;F++)L.addRequest(b[F],f?f[F]:null);const N=L.finalize();let M=[],D=this.hiddenAreasIds.map(F=>this.model.getDecorationRange(F)).sort(k.Range.compareRangesUsingStarts),R=1,P=0,O=-1,W=O+1<D.length?P+1:y+2;for(let F=0;F<y;F++){let E=F+1;E===W&&(O++,R=D[O].startLineNumber,P=D[O].endLineNumber,W=O+1<D.length?P+1:y+2);let A=E>=R&&E<=P,B=s(N[F],!A);M[F]=B.getViewLineCount(),this.lines[F]=B}this._validModelVersionId=this.model.getVersionId(),this.prefixSumComputer=new p(M)}getHiddenAreas(){return this.hiddenAreasIds.map(m=>this.model.getDecorationRange(m))}_reduceRanges(m){if(m.length===0)return[];let f=m.map(N=>this.model.validateRange(N)).sort(k.Range.compareRangesUsingStarts),b=[],y=f[0].startLineNumber,L=f[0].endLineNumber;for(let N=1,M=f.length;N<M;N++){let D=f[N];D.startLineNumber>L+1?(b.push(new k.Range(y,1,L,1)),y=D.startLineNumber,L=D.endLineNumber):D.endLineNumber>L&&(L=D.endLineNumber)}return b.push(new k.Range(y,1,L,1)),b}setHiddenAreas(m){let f=this._reduceRanges(m),b=this.hiddenAreasIds.map(O=>this.model.getDecorationRange(O)).sort(k.Range.compareRangesUsingStarts);if(f.length===b.length){let O=!1;for(let W=0;W<f.length;W++)if(!f[W].equalsRange(b[W])){O=!0;break}if(!O)return!1}let y=[];for(const O of f)y.push({range:O,options:w.ModelDecorationOptions.EMPTY});this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,y);let L=f,N=1,M=0,D=-1,R=D+1<L.length?M+1:this.lines.length+2,P=!1;for(let O=0;O<this.lines.length;O++){let W=O+1;W===R&&(D++,N=L[D].startLineNumber,M=L[D].endLineNumber,R=D+1<L.length?M+1:this.lines.length+2);let F=!1;if(W>=N&&W<=M?this.lines[O].isVisible()&&(this.lines[O]=this.lines[O].setVisible(!1),F=!0):(P=!0,this.lines[O].isVisible()||(this.lines[O]=this.lines[O].setVisible(!0),F=!0)),F){let E=this.lines[O].getViewLineCount();this.prefixSumComputer.changeValue(O,E)}}return P||this.setHiddenAreas([]),!0}modelPositionIsVisible(m,f){return m<1||m>this.lines.length?!1:this.lines[m-1].isVisible()}getModelLineViewLineCount(m){return m<1||m>this.lines.length?1:this.lines[m-1].getViewLineCount()}setTabSize(m){return this.tabSize===m?!1:(this.tabSize=m,this._constructLines(!1,null),!0)}setWrappingSettings(m,f,b,y){const L=this.fontInfo.equals(m),N=this.wrappingStrategy===f,M=this.wrappingColumn===b,D=this.wrappingIndent===y;if(L&&N&&M&&D)return!1;const R=L&&N&&!M&&D;this.fontInfo=m,this.wrappingStrategy=f,this.wrappingColumn=b,this.wrappingIndent=y;let P=null;if(R){P=[];for(let O=0,W=this.lines.length;O<W;O++)P[O]=this.lines[O].getLineBreakData()}return this._constructLines(!1,P),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(m,f,b){if(m<=this._validModelVersionId)return null;let y=f===1?1:this.prefixSumComputer.getAccumulatedValue(f-2)+1,L=this.prefixSumComputer.getAccumulatedValue(b-1);return this.lines.splice(f-1,b-f+1),this.prefixSumComputer.removeValues(f-1,b-f+1),new S.ViewLinesDeletedEvent(y,L)}onModelLinesInserted(m,f,b,y){if(m<=this._validModelVersionId)return null;const L=f>2&&!this.lines[f-2].isVisible();let N=f===1?1:this.prefixSumComputer.getAccumulatedValue(f-2)+1,M=0,D=[],R=[];for(let P=0,O=y.length;P<O;P++){let W=s(y[P],!L);D.push(W);let F=W.getViewLineCount();M+=F,R[P]=F}return this.lines=this.lines.slice(0,f-1).concat(D).concat(this.lines.slice(f-1)),this.prefixSumComputer.insertValues(f-1,R),new S.ViewLinesInsertedEvent(N,N+M-1)}onModelLineChanged(m,f,b){if(m<=this._validModelVersionId)return[!1,null,null,null];let y=f-1,L=this.lines[y].getViewLineCount(),N=this.lines[y].isVisible(),M=s(b,N);this.lines[y]=M;let D=this.lines[y].getViewLineCount(),R=!1,P=0,O=-1,W=0,F=-1,E=0,A=-1;L>D?(P=f===1?1:this.prefixSumComputer.getAccumulatedValue(f-2)+1,O=P+D-1,E=O+1,A=E+(L-D)-1,R=!0):L<D?(P=f===1?1:this.prefixSumComputer.getAccumulatedValue(f-2)+1,O=P+L-1,W=O+1,F=W+(D-L)-1,R=!0):(P=f===1?1:this.prefixSumComputer.getAccumulatedValue(f-2)+1,O=P+D-1),this.prefixSumComputer.changeValue(y,D);const B=P<=O?new S.ViewLinesChangedEvent(P,O):null,H=W<=F?new S.ViewLinesInsertedEvent(W,F):null,K=E<=A?new S.ViewLinesDeletedEvent(E,A):null;return[R,B,H,K]}acceptVersionId(m){this._validModelVersionId=m,this.lines.length===1&&!this.lines[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.prefixSumComputer.getTotalValue()}_toValidViewLineNumber(m){if(m<1)return 1;const f=this.getViewLineCount();return m>f?f:m|0}getActiveIndentGuide(m,f,b){m=this._toValidViewLineNumber(m),f=this._toValidViewLineNumber(f),b=this._toValidViewLineNumber(b);const y=this.convertViewPositionToModelPosition(m,this.getViewLineMinColumn(m)),L=this.convertViewPositionToModelPosition(f,this.getViewLineMinColumn(f)),N=this.convertViewPositionToModelPosition(b,this.getViewLineMinColumn(b)),M=this.model.getActiveIndentGuide(y.lineNumber,L.lineNumber,N.lineNumber),D=this.convertModelPositionToViewPosition(M.startLineNumber,1),R=this.convertModelPositionToViewPosition(M.endLineNumber,this.model.getLineMaxColumn(M.endLineNumber));return{startLineNumber:D.lineNumber,endLineNumber:R.lineNumber,indent:M.indent}}getViewLinesIndentGuides(m,f){m=this._toValidViewLineNumber(m),f=this._toValidViewLineNumber(f);const b=this.convertViewPositionToModelPosition(m,this.getViewLineMinColumn(m)),y=this.convertViewPositionToModelPosition(f,this.getViewLineMaxColumn(f));let L=[],N=[],M=[];const D=b.lineNumber-1,R=y.lineNumber-1;let P=null;for(let E=D;E<=R;E++){const A=this.lines[E];if(A.isVisible()){let B=A.getViewLineNumberOfModelPosition(0,E===D?b.column:1),H=A.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(E+1)),K=H-B+1,q=0;K>1&&A.getViewLineMinColumn(this.model,E+1,H)===1&&(q=B===0?1:2),N.push(K),M.push(q),P===null&&(P=new I.Position(E+1,0))}else P!==null&&(L=L.concat(this.model.getLinesIndentGuides(P.lineNumber,E)),P=null)}P!==null&&(L=L.concat(this.model.getLinesIndentGuides(P.lineNumber,y.lineNumber)),P=null);const O=f-m+1;let W=new Array(O),F=0;for(let E=0,A=L.length;E<A;E++){let B=L[E],H=Math.min(O-F,N[E]),K=M[E],q;K===2?q=0:K===1?q=1:q=H;for(let Y=0;Y<H;Y++)Y===q&&(B=0),W[F++]=B}return W}getViewLineContent(m){m=this._toValidViewLineNumber(m);let f=this.prefixSumComputer.getIndexOf(m-1),b=f.index,y=f.remainder;return this.lines[b].getViewLineContent(this.model,b+1,y)}getViewLineLength(m){m=this._toValidViewLineNumber(m);let f=this.prefixSumComputer.getIndexOf(m-1),b=f.index,y=f.remainder;return this.lines[b].getViewLineLength(this.model,b+1,y)}getViewLineMinColumn(m){m=this._toValidViewLineNumber(m);let f=this.prefixSumComputer.getIndexOf(m-1),b=f.index,y=f.remainder;return this.lines[b].getViewLineMinColumn(this.model,b+1,y)}getViewLineMaxColumn(m){m=this._toValidViewLineNumber(m);let f=this.prefixSumComputer.getIndexOf(m-1),b=f.index,y=f.remainder;return this.lines[b].getViewLineMaxColumn(this.model,b+1,y)}getViewLineData(m){m=this._toValidViewLineNumber(m);let f=this.prefixSumComputer.getIndexOf(m-1),b=f.index,y=f.remainder;return this.lines[b].getViewLineData(this.model,b+1,y)}getViewLinesData(m,f,b){m=this._toValidViewLineNumber(m),f=this._toValidViewLineNumber(f);let y=this.prefixSumComputer.getIndexOf(m-1),L=m,N=y.index,M=y.remainder,D=[];for(let R=N,P=this.model.getLineCount();R<P;R++){let O=this.lines[R];if(!!O.isVisible()){let W=R===N?M:0,F=O.getViewLineCount()-W,E=!1;L+F>f&&(E=!0,F=f-L+1);let A=W+F;if(O.getViewLinesData(this.model,R+1,W,A,L-m,b,D),L+=F,E)break}}return D}validateViewPosition(m,f,b){m=this._toValidViewLineNumber(m);let y=this.prefixSumComputer.getIndexOf(m-1),L=y.index,N=y.remainder,M=this.lines[L],D=M.getViewLineMinColumn(this.model,L+1,N),R=M.getViewLineMaxColumn(this.model,L+1,N);f<D&&(f=D),f>R&&(f=R);let P=M.getModelColumnOfViewPosition(N,f);return this.model.validatePosition(new I.Position(L+1,P)).equals(b)?new I.Position(m,f):this.convertModelPositionToViewPosition(b.lineNumber,b.column)}validateViewRange(m,f){const b=this.validateViewPosition(m.startLineNumber,m.startColumn,f.getStartPosition()),y=this.validateViewPosition(m.endLineNumber,m.endColumn,f.getEndPosition());return new k.Range(b.lineNumber,b.column,y.lineNumber,y.column)}convertViewPositionToModelPosition(m,f){m=this._toValidViewLineNumber(m);let b=this.prefixSumComputer.getIndexOf(m-1),y=b.index,L=b.remainder,N=this.lines[y].getModelColumnOfViewPosition(L,f);return this.model.validatePosition(new I.Position(y+1,N))}convertViewRangeToModelRange(m){const f=this.convertViewPositionToModelPosition(m.startLineNumber,m.startColumn),b=this.convertViewPositionToModelPosition(m.endLineNumber,m.endColumn);return new k.Range(f.lineNumber,f.column,b.lineNumber,b.column)}convertModelPositionToViewPosition(m,f){const b=this.model.validatePosition(new I.Position(m,f)),y=b.lineNumber,L=b.column;let N=y-1,M=!1;for(;N>0&&!this.lines[N].isVisible();)N--,M=!0;if(N===0&&!this.lines[N].isVisible())return new I.Position(1,1);const D=1+(N===0?0:this.prefixSumComputer.getAccumulatedValue(N-1));let R;return M?R=this.lines[N].getViewPositionOfModelPosition(D,this.model.getLineMaxColumn(N+1)):R=this.lines[y-1].getViewPositionOfModelPosition(D,L),R}convertModelRangeToViewRange(m){let f=this.convertModelPositionToViewPosition(m.startLineNumber,m.startColumn),b=this.convertModelPositionToViewPosition(m.endLineNumber,m.endColumn);return m.startLineNumber===m.endLineNumber&&f.lineNumber!==b.lineNumber&&b.column===this.getViewLineMinColumn(b.lineNumber)?new k.Range(f.lineNumber,f.column,b.lineNumber-1,this.getViewLineMaxColumn(b.lineNumber-1)):new k.Range(f.lineNumber,f.column,b.lineNumber,b.column)}_getViewLineNumberForModelPosition(m,f){let b=m-1;if(this.lines[b].isVisible()){const L=1+(b===0?0:this.prefixSumComputer.getAccumulatedValue(b-1));return this.lines[b].getViewLineNumberOfModelPosition(L,f)}for(;b>0&&!this.lines[b].isVisible();)b--;if(b===0&&!this.lines[b].isVisible())return 1;const y=1+(b===0?0:this.prefixSumComputer.getAccumulatedValue(b-1));return this.lines[b].getViewLineNumberOfModelPosition(y,this.model.getLineMaxColumn(b+1))}getAllOverviewRulerDecorations(m,f,b){const y=this.model.getOverviewRulerDecorations(m,f),L=new h;for(const N of y){const M=N.options.overviewRuler,D=M?M.position:0;if(D!==0){const R=M.getColor(b),P=this._getViewLineNumberForModelPosition(N.range.startLineNumber,N.range.startColumn),O=this._getViewLineNumberForModelPosition(N.range.endLineNumber,N.range.endColumn);L.accept(R,P,O,D)}}return L.result}getDecorationsInRange(m,f,b){const y=this.convertViewPositionToModelPosition(m.startLineNumber,m.startColumn),L=this.convertViewPositionToModelPosition(m.endLineNumber,m.endColumn);if(L.lineNumber-y.lineNumber<=m.endLineNumber-m.startLineNumber)return this.model.getDecorationsInRange(new k.Range(y.lineNumber,1,L.lineNumber,L.column),f,b);let N=[];const M=y.lineNumber-1,D=L.lineNumber-1;let R=null;for(let F=M;F<=D;F++)if(this.lines[F].isVisible())R===null&&(R=new I.Position(F+1,F===M?y.column:1));else if(R!==null){const A=this.model.getLineMaxColumn(F);N=N.concat(this.model.getDecorationsInRange(new k.Range(R.lineNumber,R.column,F,A),f,b)),R=null}R!==null&&(N=N.concat(this.model.getDecorationsInRange(new k.Range(R.lineNumber,R.column,L.lineNumber,L.column),f,b)),R=null),N.sort((F,E)=>{const A=k.Range.compareRangesUsingStarts(F.range,E.range);return A===0?F.id<E.id?-1:F.id>E.id?1:0:A});let P=[],O=0,W=null;for(const F of N){const E=F.id;W!==E&&(W=E,P[O++]=F)}return P}}e.SplitLinesCollection=u;class a{constructor(){}isVisible(){return!0}setVisible(m){return m?this:l.INSTANCE}getLineBreakData(){return null}getViewLineCount(){return 1}getViewLineContent(m,f,b){return m.getLineContent(f)}getViewLineLength(m,f,b){return m.getLineLength(f)}getViewLineMinColumn(m,f,b){return m.getLineMinColumn(f)}getViewLineMaxColumn(m,f,b){return m.getLineMaxColumn(f)}getViewLineData(m,f,b){let y=m.getLineTokens(f),L=y.getLineContent();return new C.ViewLineData(L,!1,1,L.length+1,0,y.inflate())}getViewLinesData(m,f,b,y,L,N,M){if(!N[L]){M[L]=null;return}M[L]=this.getViewLineData(m,f,0)}getModelColumnOfViewPosition(m,f){return f}getViewPositionOfModelPosition(m,f){return new I.Position(m,f)}getViewLineNumberOfModelPosition(m,f){return m}}a.INSTANCE=new a;class l{constructor(){}isVisible(){return!1}setVisible(m){return m?a.INSTANCE:this}getLineBreakData(){return null}getViewLineCount(){return 0}getViewLineContent(m,f,b){throw new Error("Not supported")}getViewLineLength(m,f,b){throw new Error("Not supported")}getViewLineMinColumn(m,f,b){throw new Error("Not supported")}getViewLineMaxColumn(m,f,b){throw new Error("Not supported")}getViewLineData(m,f,b){throw new Error("Not supported")}getViewLinesData(m,f,b,y,L,N,M){throw new Error("Not supported")}getModelColumnOfViewPosition(m,f){throw new Error("Not supported")}getViewPositionOfModelPosition(m,f){throw new Error("Not supported")}getViewLineNumberOfModelPosition(m,f){throw new Error("Not supported")}}l.INSTANCE=new l;class c{constructor(m,f){this._lineBreakData=m,this._isVisible=f}isVisible(){return this._isVisible}setVisible(m){return this._isVisible=m,this}getLineBreakData(){return this._lineBreakData}getViewLineCount(){return this._isVisible?this._lineBreakData.breakOffsets.length:0}getInputStartOffsetOfOutputLineIndex(m){return C.LineBreakData.getInputOffsetOfOutputPosition(this._lineBreakData.breakOffsets,m,0)}getInputEndOffsetOfOutputLineIndex(m,f,b){return b+1===this._lineBreakData.breakOffsets.length?m.getLineMaxColumn(f)-1:C.LineBreakData.getInputOffsetOfOutputPosition(this._lineBreakData.breakOffsets,b+1,0)}getViewLineContent(m,f,b){if(!this._isVisible)throw new Error("Not supported");let y=this.getInputStartOffsetOfOutputLineIndex(b),L=this.getInputEndOffsetOfOutputLineIndex(m,f,b),N=m.getValueInRange({startLineNumber:f,startColumn:y+1,endLineNumber:f,endColumn:L+1});return b>0&&(N=r(this._lineBreakData.wrappedTextIndentLength)+N),N}getViewLineLength(m,f,b){if(!this._isVisible)throw new Error("Not supported");let y=this.getInputStartOffsetOfOutputLineIndex(b),N=this.getInputEndOffsetOfOutputLineIndex(m,f,b)-y;return b>0&&(N=this._lineBreakData.wrappedTextIndentLength+N),N}getViewLineMinColumn(m,f,b){if(!this._isVisible)throw new Error("Not supported");return b>0?this._lineBreakData.wrappedTextIndentLength+1:1}getViewLineMaxColumn(m,f,b){if(!this._isVisible)throw new Error("Not supported");return this.getViewLineContent(m,f,b).length+1}getViewLineData(m,f,b){if(!this._isVisible)throw new Error("Not supported");let y=this.getInputStartOffsetOfOutputLineIndex(b),L=this.getInputEndOffsetOfOutputLineIndex(m,f,b),N=m.getValueInRange({startLineNumber:f,startColumn:y+1,endLineNumber:f,endColumn:L+1});b>0&&(N=r(this._lineBreakData.wrappedTextIndentLength)+N);let M=b>0?this._lineBreakData.wrappedTextIndentLength+1:1,D=N.length+1,R=b+1<this.getViewLineCount(),P=0;b>0&&(P=this._lineBreakData.wrappedTextIndentLength);let O=m.getLineTokens(f);const W=b===0?0:this._lineBreakData.breakOffsetsVisibleColumn[b-1];return new C.ViewLineData(N,R,M,D,W,O.sliceAndInflate(y,L,P))}getViewLinesData(m,f,b,y,L,N,M){if(!this._isVisible)throw new Error("Not supported");for(let D=b;D<y;D++){let R=L+D-b;if(!N[R]){M[R]=null;continue}M[R]=this.getViewLineData(m,f,D)}}getModelColumnOfViewPosition(m,f){if(!this._isVisible)throw new Error("Not supported");let b=f-1;return m>0&&(b<this._lineBreakData.wrappedTextIndentLength?b=0:b-=this._lineBreakData.wrappedTextIndentLength),C.LineBreakData.getInputOffsetOfOutputPosition(this._lineBreakData.breakOffsets,m,b)+1}getViewPositionOfModelPosition(m,f){if(!this._isVisible)throw new Error("Not supported");let b=C.LineBreakData.getOutputPositionOfInputOffset(this._lineBreakData.breakOffsets,f-1),y=b.outputLineIndex,L=b.outputOffset+1;return y>0&&(L+=this._lineBreakData.wrappedTextIndentLength),new I.Position(m+y,L)}getViewLineNumberOfModelPosition(m,f){if(!this._isVisible)throw new Error("Not supported");const b=C.LineBreakData.getOutputPositionOfInputOffset(this._lineBreakData.breakOffsets,f-1);return m+b.outputLineIndex}}e.SplitLine=c;let d=[""];function r(g){if(g>=d.length)for(let m=1;m<=g;m++)d[m]=n(m);return d[g]}function n(g){return new Array(g+1).join(" ")}function s(g,m){return g===null?m?a.INSTANCE:l.INSTANCE:new c(g,m)}class t{constructor(m){this._lines=m}_validPosition(m){return this._lines.model.validatePosition(m)}_validRange(m){return this._lines.model.validateRange(m)}convertViewPositionToModelPosition(m){return this._validPosition(m)}convertViewRangeToModelRange(m){return this._validRange(m)}validateViewPosition(m,f){return this._validPosition(f)}validateViewRange(m,f){return this._validRange(f)}convertModelPositionToViewPosition(m){return this._validPosition(m)}convertModelRangeToViewRange(m){return this._validRange(m)}modelPositionIsVisible(m){const f=this._lines.model.getLineCount();return!(m.lineNumber<1||m.lineNumber>f)}getModelLineViewLineCount(m){return 1}}e.IdentityCoordinatesConverter=t;class o{constructor(m){this.model=m}dispose(){}createCoordinatesConverter(){return new t(this)}getHiddenAreas(){return[]}setHiddenAreas(m){return!1}setTabSize(m){return!1}setWrappingSettings(m,f,b,y){return!1}createLineBreaksComputer(){let m=[];return{addRequest:(f,b)=>{m.push(null)},finalize:()=>m}}onModelFlushed(){}onModelLinesDeleted(m,f,b){return new S.ViewLinesDeletedEvent(f,b)}onModelLinesInserted(m,f,b,y){return new S.ViewLinesInsertedEvent(f,b)}onModelLineChanged(m,f,b){return[!1,new S.ViewLinesChangedEvent(f,f),null,null]}acceptVersionId(m){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(m,f,b){return{startLineNumber:m,endLineNumber:m,indent:0}}getViewLinesIndentGuides(m,f){const b=f-m+1;let y=new Array(b);for(let L=0;L<b;L++)y[L]=0;return y}getViewLineContent(m){return this.model.getLineContent(m)}getViewLineLength(m){return this.model.getLineLength(m)}getViewLineMinColumn(m){return this.model.getLineMinColumn(m)}getViewLineMaxColumn(m){return this.model.getLineMaxColumn(m)}getViewLineData(m){let f=this.model.getLineTokens(m),b=f.getLineContent();return new C.ViewLineData(b,!1,1,b.length+1,0,f.inflate())}getViewLinesData(m,f,b){const y=this.model.getLineCount();m=Math.min(Math.max(1,m),y),f=Math.min(Math.max(1,f),y);let L=[];for(let N=m;N<=f;N++){let M=N-m;b[M]||(L[M]=null),L[M]=this.getViewLineData(N)}return L}getAllOverviewRulerDecorations(m,f,b){const y=this.model.getOverviewRulerDecorations(m,f),L=new h;for(const N of y){const M=N.options.overviewRuler,D=M?M.position:0;if(D!==0){const R=M.getColor(b),P=N.range.startLineNumber,O=N.range.endLineNumber;L.accept(R,P,O,D)}}return L.result}getDecorationsInRange(m,f,b){return this.model.getDecorationsInRange(m,f,b)}}e.IdentityLinesCollection=o;class h{constructor(){this.result=Object.create(null)}accept(m,f,b,y){let L=this.result[m];if(L){const N=L[L.length-3],M=L[L.length-1];if(N===y&&M+1>=f){b>M&&(L[L.length-1]=b);return}L.push(y,f,b)}else this.result[m]=[y,f,b]}}}),define(J[543],ee([0,1,29,2,8,38,14,3,18,243,244,170,399,542,63,456,15,17,242,43,173]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n,s,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModel=void 0;const h=!0;class g extends I.Disposable{constructor(f,b,y,L,N,M){super();if(this._editorId=f,this._configuration=b,this.model=y,this._eventDispatcher=new o.ViewModelEventDispatcher,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new t.CursorConfiguration(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._tokenizeViewportSoon=this._register(new r.RunOnceScheduler(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new r.RunOnceScheduler(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStartLine=-1,this._viewportStartLineTrackedRange=null,this._viewportStartLineDelta=0,h&&this.model.isTooLargeForTokenization())this._lines=new l.IdentityLinesCollection(this.model);else{const D=this._configuration.options,R=D.get(40),P=D.get(121),O=D.get(128),W=D.get(120);this._lines=new l.SplitLinesCollection(this.model,L,N,R,this.model.getOptions().tabSize,P,O.wrappingColumn,W)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new s.Cursor(y,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new a.ViewLayout(this._configuration,this.getLineCount(),M)),this._register(this.viewLayout.onDidScroll(D=>{D.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitSingleViewEvent(new u.ViewScrollChangedEvent(D)),this._eventDispatcher.emitOutgoingEvent(new o.ScrollChangedEvent(D.oldScrollWidth,D.oldScrollLeft,D.oldScrollHeight,D.oldScrollTop,D.scrollWidth,D.scrollLeft,D.scrollHeight,D.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(D=>{this._eventDispatcher.emitOutgoingEvent(D)})),this._decorations=new d.ViewModelDecorations(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(D=>{try{const R=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(R,D)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(p.MinimapTokensColorTracker.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new u.ViewTokensColorsChangedEvent)})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this.invalidateMinimapColorCache(),this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,null,1),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(f){this._eventDispatcher.addViewEventHandler(f)}removeViewEventHandler(f){this._eventDispatcher.removeViewEventHandler(f)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const f=this.viewLayout.getLinesViewportData(),b=this.coordinatesConverter.convertViewPositionToModelPosition(new S.Position(f.startLineNumber,1)),y=this.coordinatesConverter.convertViewPositionToModelPosition(new S.Position(f.endLineNumber,1));this.model.tokenizeViewport(b.lineNumber,y.lineNumber)}setHasFocus(f){this._hasFocus=f,this._cursor.setHasFocus(f),this._eventDispatcher.emitSingleViewEvent(new u.ViewFocusChangedEvent(f)),this._eventDispatcher.emitOutgoingEvent(new o.FocusChangedEvent(!f,f))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new u.ViewCompositionStartEvent)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new u.ViewCompositionEndEvent)}onDidColorThemeChange(){this._eventDispatcher.emitSingleViewEvent(new u.ViewThemeChangedEvent)}_onConfigurationChanged(f,b){let y=null;if(this._viewportStartLine!==-1){let O=new S.Position(this._viewportStartLine,this.getLineMinColumn(this._viewportStartLine));y=this.coordinatesConverter.convertViewPositionToModelPosition(O)}let L=!1;const N=this._configuration.options,M=N.get(40),D=N.get(121),R=N.get(128),P=N.get(120);if(this._lines.setWrappingSettings(M,D,R.wrappingColumn,P)&&(f.emitViewEvent(new u.ViewFlushedEvent),f.emitViewEvent(new u.ViewLineMappingChangedEvent),f.emitViewEvent(new u.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(f),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.getCurrentScrollTop()!==0&&(L=!0),this._updateConfigurationViewLineCount.schedule()),b.hasChanged(77)&&(this._decorations.reset(),f.emitViewEvent(new u.ViewDecorationsChangedEvent(null))),f.emitViewEvent(new u.ViewConfigurationChangedEvent(b)),this.viewLayout.onConfigurationChanged(b),L&&y){const O=this.coordinatesConverter.convertModelPositionToViewPosition(y),W=this.viewLayout.getVerticalOffsetForLineNumber(O.lineNumber);this.viewLayout.setScrollPosition({scrollTop:W+this._viewportStartLineDelta},1)}t.CursorConfiguration.shouldRecreate(b)&&(this.cursorConfig=new t.CursorConfiguration(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeRawContentFast(f=>{try{const b=this._eventDispatcher.beginEmitViewEvents();let y=!1,L=!1;const N=f.changes,M=f.versionId,D=this._lines.createLineBreaksComputer();for(const O of N)switch(O.changeType){case 4:{for(const W of O.detail)D.addRequest(W,null);break}case 2:{D.addRequest(O.detail,null);break}}const R=D.finalize();let P=0;for(const O of N)switch(O.changeType){case 1:{this._lines.onModelFlushed(),b.emitViewEvent(new u.ViewFlushedEvent),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),y=!0;break}case 3:{const W=this._lines.onModelLinesDeleted(M,O.fromLineNumber,O.toLineNumber);W!==null&&(b.emitViewEvent(W),this.viewLayout.onLinesDeleted(W.fromLineNumber,W.toLineNumber)),y=!0;break}case 4:{const W=R.slice(P,P+O.detail.length);P+=O.detail.length;const F=this._lines.onModelLinesInserted(M,O.fromLineNumber,O.toLineNumber,W);F!==null&&(b.emitViewEvent(F),this.viewLayout.onLinesInserted(F.fromLineNumber,F.toLineNumber)),y=!0;break}case 2:{const W=R[P];P++;const[F,E,A,B]=this._lines.onModelLineChanged(M,O.lineNumber,W);L=F,E&&b.emitViewEvent(E),A&&(b.emitViewEvent(A),this.viewLayout.onLinesInserted(A.fromLineNumber,A.toLineNumber)),B&&(b.emitViewEvent(B),this.viewLayout.onLinesDeleted(B.fromLineNumber,B.toLineNumber));break}case 5:break}this._lines.acceptVersionId(M),this.viewLayout.onHeightMaybeChanged(),!y&&L&&(b.emitViewEvent(new u.ViewLineMappingChangedEvent),b.emitViewEvent(new u.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(b),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}if(this._viewportStartLine=-1,this._configuration.setMaxLineNumber(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&this._viewportStartLineTrackedRange){const b=this.model._getTrackedRange(this._viewportStartLineTrackedRange);if(b){const y=this.coordinatesConverter.convertModelPositionToViewPosition(b.getStartPosition()),L=this.viewLayout.getVerticalOffsetForLineNumber(y.lineNumber);this.viewLayout.setScrollPosition({scrollTop:L+this._viewportStartLineDelta},1)}}try{const b=this._eventDispatcher.beginEmitViewEvents();this._cursor.onModelContentChanged(b,f)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(this.model.onDidChangeTokens(f=>{let b=[];for(let y=0,L=f.ranges.length;y<L;y++){const N=f.ranges[y],M=this.coordinatesConverter.convertModelPositionToViewPosition(new S.Position(N.fromLineNumber,1)).lineNumber,D=this.coordinatesConverter.convertModelPositionToViewPosition(new S.Position(N.toLineNumber,this.model.getLineMaxColumn(N.toLineNumber))).lineNumber;b[y]={fromLineNumber:M,toLineNumber:D}}this._eventDispatcher.emitSingleViewEvent(new u.ViewTokensChangedEvent(b)),f.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeLanguageConfiguration(f=>{this._eventDispatcher.emitSingleViewEvent(new u.ViewLanguageConfigurationEvent),this.cursorConfig=new t.CursorConfiguration(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeLanguage(f=>{this.cursorConfig=new t.CursorConfiguration(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeOptions(f=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const b=this._eventDispatcher.beginEmitViewEvents();b.emitViewEvent(new u.ViewFlushedEvent),b.emitViewEvent(new u.ViewLineMappingChangedEvent),b.emitViewEvent(new u.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(b),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new t.CursorConfiguration(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeDecorations(f=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new u.ViewDecorationsChangedEvent(f))}))}setHiddenAreas(f){try{const b=this._eventDispatcher.beginEmitViewEvents();this._lines.setHiddenAreas(f)&&(b.emitViewEvent(new u.ViewFlushedEvent),b.emitViewEvent(new u.ViewLineMappingChangedEvent),b.emitViewEvent(new u.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(b),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}getVisibleRangesPlusViewportAboveBelow(){const f=this._configuration.options.get(127),b=this._configuration.options.get(55),y=Math.max(20,Math.round(f.height/b)),L=this.viewLayout.getLinesViewportData(),N=Math.max(1,L.completelyVisibleStartLineNumber-y),M=Math.min(this.getLineCount(),L.completelyVisibleEndLineNumber+y);return this._toModelVisibleRanges(new _.Range(N,this.getLineMinColumn(N),M,this.getLineMaxColumn(M)))}getVisibleRanges(){const f=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(f)}_toModelVisibleRanges(f){const b=this.coordinatesConverter.convertViewRangeToModelRange(f),y=this._lines.getHiddenAreas();if(y.length===0)return[b];let L=[],N=0,M=b.startLineNumber,D=b.startColumn,R=b.endLineNumber,P=b.endColumn;for(let O=0,W=y.length;O<W;O++){const F=y[O].startLineNumber,E=y[O].endLineNumber;E<M||F>R||(M<F&&(L[N++]=new _.Range(M,D,F-1,this.model.getLineMaxColumn(F-1))),M=E+1,D=1)}return(M<R||M===R&&D<P)&&(L[N++]=new _.Range(M,D,R,P)),L}getCompletelyVisibleViewRange(){const f=this.viewLayout.getLinesViewportData(),b=f.completelyVisibleStartLineNumber,y=f.completelyVisibleEndLineNumber;return new _.Range(b,this.getLineMinColumn(b),y,this.getLineMaxColumn(y))}getCompletelyVisibleViewRangeAtScrollTop(f){const b=this.viewLayout.getLinesViewportDataAtScrollTop(f),y=b.completelyVisibleStartLineNumber,L=b.completelyVisibleEndLineNumber;return new _.Range(y,this.getLineMinColumn(y),L,this.getLineMaxColumn(L))}saveState(){const f=this.viewLayout.saveState(),b=f.scrollTop,y=this.viewLayout.getLineNumberAtVerticalOffset(b),L=this.coordinatesConverter.convertViewPositionToModelPosition(new S.Position(y,this.getLineMinColumn(y))),N=this.viewLayout.getVerticalOffsetForLineNumber(y)-b;return{scrollLeft:f.scrollLeft,firstPosition:L,firstPositionDeltaTop:N}}reduceRestoreState(f){if(typeof f.firstPosition=="undefined")return this._reduceRestoreStateCompatibility(f);const b=this.model.validatePosition(f.firstPosition),y=this.coordinatesConverter.convertModelPositionToViewPosition(b),L=this.viewLayout.getVerticalOffsetForLineNumber(y.lineNumber)-f.firstPositionDeltaTop;return{scrollLeft:f.scrollLeft,scrollTop:L}}_reduceRestoreStateCompatibility(f){return{scrollLeft:f.scrollLeft,scrollTop:f.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getTextModelOptions(){return this.model.getOptions()}getLineCount(){return this._lines.getViewLineCount()}setViewport(f,b,y){this._viewportStartLine=f;let L=this.coordinatesConverter.convertViewPositionToModelPosition(new S.Position(f,this.getLineMinColumn(f)));this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,new _.Range(L.lineNumber,L.column,L.lineNumber,L.column),1);const N=this.viewLayout.getVerticalOffsetForLineNumber(f),M=this.viewLayout.getCurrentScrollTop();this._viewportStartLineDelta=M-N}getActiveIndentGuide(f,b,y){return this._lines.getActiveIndentGuide(f,b,y)}getLinesIndentGuides(f,b){return this._lines.getViewLinesIndentGuides(f,b)}getLineContent(f){return this._lines.getViewLineContent(f)}getLineLength(f){return this._lines.getViewLineLength(f)}getLineMinColumn(f){return this._lines.getViewLineMinColumn(f)}getLineMaxColumn(f){return this._lines.getViewLineMaxColumn(f)}getLineFirstNonWhitespaceColumn(f){const b=k.firstNonWhitespaceIndex(this.getLineContent(f));return b===-1?0:b+1}getLineLastNonWhitespaceColumn(f){const b=k.lastNonWhitespaceIndex(this.getLineContent(f));return b===-1?0:b+2}getDecorationsInViewport(f){return this._decorations.getDecorationsViewportData(f).decorations}getViewLineRenderingData(f,b){let y=this.model.mightContainRTL(),L=this.model.mightContainNonBasicASCII(),N=this.getTabSize(),M=this._lines.getViewLineData(b),R=this._decorations.getDecorationsViewportData(f).inlineDecorations[b-f.startLineNumber];return new c.ViewLineRenderingData(M.minColumn,M.maxColumn,M.content,M.continuesWithWrappedLine,y,L,M.tokens,R,N,M.startVisibleColumn)}getViewLineData(f){return this._lines.getViewLineData(f)}getMinimapLinesRenderingData(f,b,y){let L=this._lines.getViewLinesData(f,b,y);return new c.MinimapLinesRenderingData(this.getTabSize(),L)}getAllOverviewRulerDecorations(f){return this._lines.getAllOverviewRulerDecorations(this._editorId,(0,w.filterValidationDecorations)(this._configuration.options),f)}invalidateOverviewRulerColorCache(){const f=this.model.getOverviewRulerDecorations();for(const b of f){const y=b.options.overviewRuler;y&&y.invalidateCachedColor()}}invalidateMinimapColorCache(){const f=this.model.getAllDecorations();for(const b of f){const y=b.options.minimap;y&&y.invalidateCachedColor()}}getValueInRange(f,b){const y=this.coordinatesConverter.convertViewRangeToModelRange(f);return this.model.getValueInRange(y,b)}getModelLineMaxColumn(f){return this.model.getLineMaxColumn(f)}validateModelPosition(f){return this.model.validatePosition(f)}validateModelRange(f){return this.model.validateRange(f)}deduceModelPositionRelativeToViewPosition(f,b,y){const L=this.coordinatesConverter.convertViewPositionToModelPosition(f);this.model.getEOL().length===2&&(b<0?b-=y:b+=y);const M=this.model.getOffsetAt(L)+b;return this.model.getPositionAt(M)}getEOL(){return this.model.getEOL()}getPlainTextToCopy(f,b,y){const L=y?`\r
`:this.model.getEOL();f=f.slice(0),f.sort(_.Range.compareRangesUsingStarts);let N=!1,M=!1;for(const R of f)R.isEmpty()?N=!0:M=!0;if(!M){if(!b)return"";const R=f.map(O=>O.startLineNumber);let P="";for(let O=0;O<R.length;O++)O>0&&R[O-1]===R[O]||(P+=this.model.getLineContent(R[O])+L);return P}if(N&&b){let R=[],P=0;for(const O of f){const W=O.startLineNumber;O.isEmpty()?W!==P&&R.push(this.model.getLineContent(W)):R.push(this.model.getValueInRange(O,y?2:0)),P=W}return R.length===1?R[0]:R}let D=[];for(const R of f)R.isEmpty()||D.push(this.model.getValueInRange(R,y?2:0));return D.length===1?D[0]:D}getRichTextToCopy(f,b){const y=this.model.getLanguageIdentifier();if(y.id===1||f.length!==1)return null;let L=f[0];if(L.isEmpty()){if(!b)return null;const O=L.startLineNumber;L=new _.Range(O,this.model.getLineMinColumn(O),O,this.model.getLineMaxColumn(O))}const N=this._configuration.options.get(40),M=this._getColorMap(),R=/[:;\\\/<>]/.test(N.fontFamily)||N.fontFamily===w.EDITOR_FONT_DEFAULTS.fontFamily;let P;return R?P=w.EDITOR_FONT_DEFAULTS.fontFamily:(P=N.fontFamily,P=P.replace(/"/g,"'"),/[,']/.test(P)||/[+ ]/.test(P)&&(P=`'${P}'`),P=`${P}, ${w.EDITOR_FONT_DEFAULTS.fontFamily}`),{mode:y.language,html:`<div style="color: ${M[1]};background-color: ${M[2]};font-family: ${P};font-weight: ${N.fontWeight};font-size: ${N.fontSize}px;line-height: ${N.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(L,M)+"</div>"}}_getHTMLToCopy(f,b){const y=f.startLineNumber,L=f.startColumn,N=f.endLineNumber,M=f.endColumn,D=this.getTabSize();let R="";for(let P=y;P<=N;P++){const O=this.model.getLineTokens(P),W=O.getLineContent(),F=P===y?L-1:0,E=P===N?M-1:W.length;W===""?R+="<br>":R+=(0,i.tokenizeLineToHTML)(W,O.inflate(),b,F,E,D,n.isWindows)}return R}_getColorMap(){let f=C.TokenizationRegistry.getColorMap(),b=["#000000"];if(f)for(let y=1,L=f.length;y<L;y++)b[y]=v.Color.Format.CSS.formatHex(f[y]);return b}pushStackElement(){this.model.pushStackElement()}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(f,b,y){this._withViewEventsCollector(L=>this._cursor.setStates(L,f,b,y))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(f){this._cursor.setCursorColumnSelectData(f)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(f){this._cursor.setPrevEditOperationType(f)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(f,b,y=0){this._withViewEventsCollector(L=>this._cursor.setSelections(L,f,b,y))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(f){this._withViewEventsCollector(b=>this._cursor.restoreState(b,f))}_executeCursorEdit(f){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new o.ReadOnlyEditAttemptEvent);return}this._withViewEventsCollector(f)}executeEdits(f,b,y){this._executeCursorEdit(L=>this._cursor.executeEdits(L,f,b,y))}startComposition(){this._cursor.setIsDoingComposition(!0),this._executeCursorEdit(f=>this._cursor.startComposition(f))}endComposition(f){this._cursor.setIsDoingComposition(!1),this._executeCursorEdit(b=>this._cursor.endComposition(b,f))}type(f,b){this._executeCursorEdit(y=>this._cursor.type(y,f,b))}compositionType(f,b,y,L,N){this._executeCursorEdit(M=>this._cursor.compositionType(M,f,b,y,L,N))}paste(f,b,y,L){this._executeCursorEdit(N=>this._cursor.paste(N,f,b,y,L))}cut(f){this._executeCursorEdit(b=>this._cursor.cut(b,f))}executeCommand(f,b){this._executeCursorEdit(y=>this._cursor.executeCommand(y,f,b))}executeCommands(f,b){this._executeCursorEdit(y=>this._cursor.executeCommands(y,f,b))}revealPrimaryCursor(f,b){this._withViewEventsCollector(y=>this._cursor.revealPrimary(y,f,b,0))}revealTopMostCursor(f){const b=this._cursor.getTopMostViewPosition(),y=new _.Range(b.lineNumber,b.column,b.lineNumber,b.column);this._withViewEventsCollector(L=>L.emitViewEvent(new u.ViewRevealRangeRequestEvent(f,y,null,0,!0,0)))}revealBottomMostCursor(f){const b=this._cursor.getBottomMostViewPosition(),y=new _.Range(b.lineNumber,b.column,b.lineNumber,b.column);this._withViewEventsCollector(L=>L.emitViewEvent(new u.ViewRevealRangeRequestEvent(f,y,null,0,!0,0)))}revealRange(f,b,y,L,N){this._withViewEventsCollector(M=>M.emitViewEvent(new u.ViewRevealRangeRequestEvent(f,y,null,L,b,N)))}getVerticalOffsetForLineNumber(f){return this.viewLayout.getVerticalOffsetForLineNumber(f)}getScrollTop(){return this.viewLayout.getCurrentScrollTop()}setScrollTop(f,b){this.viewLayout.setScrollPosition({scrollTop:f},b)}setScrollPosition(f,b){this.viewLayout.setScrollPosition(f,b)}deltaScrollNow(f,b){this.viewLayout.deltaScrollNow(f,b)}changeWhitespace(f){this.viewLayout.changeWhitespace(f)&&(this._eventDispatcher.emitSingleViewEvent(new u.ViewZonesChangedEvent),this._eventDispatcher.emitOutgoingEvent(new o.ViewZonesChangedEvent))}setMaxLineWidth(f){this.viewLayout.setMaxLineWidth(f)}_withViewEventsCollector(f){try{const b=this._eventDispatcher.beginEmitViewEvents();f(b)}finally{this._eventDispatcher.endEmitViewEvents()}}}e.ViewModel=g}),define(J[245],ee([0,1,19,23,11,51,3,18,54,134]),function($,e,v,I,k,w,S,_,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutlineModel=e.OutlineGroup=e.OutlineElement=e.TreeElement=void 0;class p{remove(){this.parent&&this.parent.children.delete(this.id)}static findId(d,r){let n;typeof d=="string"?n=`${r.id}/${d}`:(n=`${r.id}/${d.name}`,r.children.get(n)!==void 0&&(n=`${r.id}/${d.name}_${d.range.startLineNumber}_${d.range.startColumn}`));let s=n;for(let t=0;r.children.get(s)!==void 0;t++)s=`${n}_${t}`;return s}static empty(d){return d.children.size===0}}e.TreeElement=p;class u extends p{constructor(d,r,n){super();this.id=d,this.parent=r,this.symbol=n,this.children=new Map}}e.OutlineElement=u;class a extends p{constructor(d,r,n,s){super();this.id=d,this.parent=r,this.label=n,this.order=s,this.children=new Map}}e.OutlineGroup=a;class l extends p{constructor(d){super();this.uri=d,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(d,r){let n=this._keys.for(d,!0),s=l._requests.get(n);if(!s){let t=new I.CancellationTokenSource;s={promiseCnt:0,source:t,promise:l._create(d,t.token),model:void 0},l._requests.set(n,s);const o=Date.now();s.promise.then(()=>{this._requestDurations.update(d,Date.now()-o)})}return s.model?Promise.resolve(s.model):(s.promiseCnt+=1,r.onCancellationRequested(()=>{--s.promiseCnt==0&&(s.source.cancel(),l._requests.delete(n))}),new Promise((t,o)=>{s.promise.then(h=>{s.model=h,t(h)},h=>{l._requests.delete(n),o(h)})}))}static _create(d,r){const n=new I.CancellationTokenSource(r),s=new l(d.uri),t=_.DocumentSymbolProviderRegistry.ordered(d),o=t.map((g,m)=>{var f;let b=p.findId(`provider_${m}`,s),y=new a(b,s,(f=g.displayName)!==null&&f!==void 0?f:"Unknown Outline Provider",m);return Promise.resolve(g.provideDocumentSymbols(d,n.token)).then(L=>{for(const N of L||[])l._makeOutlineElement(N,y);return y},L=>((0,k.onUnexpectedExternalError)(L),y)).then(L=>{p.empty(L)?L.remove():s._groups.set(b,L)})}),h=_.DocumentSymbolProviderRegistry.onDidChange(()=>{const g=_.DocumentSymbolProviderRegistry.ordered(d);(0,v.equals)(g,t)||n.cancel()});return Promise.all(o).then(()=>n.token.isCancellationRequested&&!r.isCancellationRequested?l._create(d,r):s._compact()).finally(()=>{h.dispose()})}static _makeOutlineElement(d,r){let n=p.findId(d,r),s=new u(n,r,d);if(d.children)for(const t of d.children)l._makeOutlineElement(t,s);r.children.set(s.id,s)}_compact(){let d=0;for(const[r,n]of this._groups)n.children.size===0?this._groups.delete(r):d+=1;if(d!==1)this.children=this._groups;else{let r=C.Iterable.first(this._groups.values());for(let[,n]of r.children)n.parent=this,this.children.set(n.id,n)}return this}getTopLevelSymbols(){const d=[];for(const r of this.children.values())r instanceof u?d.push(r.symbol):d.push(...C.Iterable.map(r.children.values(),n=>n.symbol));return d.sort((r,n)=>S.Range.compareRangesUsingStarts(r.range,n.range))}asListOfDocumentSymbols(){const d=this.getTopLevelSymbols(),r=[];return l._flattenDocumentSymbols(r,d,""),r.sort((n,s)=>S.Range.compareRangesUsingStarts(n.range,s.range))}static _flattenDocumentSymbols(d,r,n){for(const s of r)d.push({kind:s.kind,tags:s.tags,name:s.name,detail:s.detail,containerName:s.containerName||n,range:s.range,selectionRange:s.selectionRange,children:void 0}),s.children&&l._flattenDocumentSymbols(d,s.children,s.name)}}e.OutlineModel=l,l._requestDurations=new i.LanguageFeatureRequestDelays(_.DocumentSymbolProviderRegistry,350),l._requests=new w.LRUCache(9,.75),l._keys=new class{constructor(){this._counter=1,this._data=new WeakMap}for(c,d){return`${c.id}/${d?c.getVersionId():""}/${this._hash(_.DocumentSymbolProviderRegistry.all(c))}`}_hash(c){let d="";for(const r of c){let n=this._data.get(r);typeof n=="undefined"&&(n=this._counter++,this._data.set(r,n)),d+=n}return d}}}),define(J[544],ee([0,1,174,31,42]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeRanges=e.RangesCollector=e.IndentRangeProvider=e.ID_INDENT_PROVIDER=void 0;const w=5e3;e.ID_INDENT_PROVIDER="indent";class S{constructor(p){this.editorModel=p,this.id=e.ID_INDENT_PROVIDER}dispose(){}compute(p){let u=k.LanguageConfigurationRegistry.getFoldingRules(this.editorModel.getLanguageIdentifier().id),a=u&&!!u.offSide,l=u&&u.markers;return Promise.resolve(C(this.editorModel,a,l))}}e.IndentRangeProvider=S;class _{constructor(p){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=p}insertFirst(p,u,a){if(!(p>v.MAX_LINE_NUMBER||u>v.MAX_LINE_NUMBER)){let l=this._length;this._startIndexes[l]=p,this._endIndexes[l]=u,this._length++,a<1e3&&(this._indentOccurrences[a]=(this._indentOccurrences[a]||0)+1)}}toIndentRanges(p){if(this._length<=this._foldingRangesLimit){let u=new Uint32Array(this._length),a=new Uint32Array(this._length);for(let l=this._length-1,c=0;l>=0;l--,c++)u[c]=this._startIndexes[l],a[c]=this._endIndexes[l];return new v.FoldingRegions(u,a)}else{let u=0,a=this._indentOccurrences.length;for(let r=0;r<this._indentOccurrences.length;r++){let n=this._indentOccurrences[r];if(n){if(n+u>this._foldingRangesLimit){a=r;break}u+=n}}const l=p.getOptions().tabSize;let c=new Uint32Array(this._foldingRangesLimit),d=new Uint32Array(this._foldingRangesLimit);for(let r=this._length-1,n=0;r>=0;r--){let s=this._startIndexes[r],t=p.getLineContent(s),o=I.TextModel.computeIndentLevel(t,l);(o<a||o===a&&u++<this._foldingRangesLimit)&&(c[n]=s,d[n]=this._endIndexes[r],n++)}return new v.FoldingRegions(c,d)}}}e.RangesCollector=_;function C(i,p,u,a=w){const l=i.getOptions().tabSize;let c=new _(a),d;u&&(d=new RegExp(`(${u.start.source})|(?:${u.end.source})`));let r=[],n=i.getLineCount()+1;r.push({indent:-1,endAbove:n,line:n});for(let s=i.getLineCount();s>0;s--){let t=i.getLineContent(s),o=I.TextModel.computeIndentLevel(t,l),h=r[r.length-1];if(o===-1){p&&(h.endAbove=s);continue}let g;if(d&&(g=t.match(d)))if(g[1]){let m=r.length-1;for(;m>0&&r[m].indent!==-2;)m--;if(m>0){r.length=m+1,h=r[m],c.insertFirst(s,h.line,o),h.line=s,h.indent=o,h.endAbove=s;continue}}else{r.push({indent:-2,endAbove:s,line:s});continue}if(h.indent>o){do r.pop(),h=r[r.length-1];while(h.indent>o);let m=h.endAbove-1;m-s>=1&&c.insertFirst(s,m,o)}h.indent===o?h.endAbove=s:r.push({indent:o,endAbove:s,line:s})}return c.toIndentRanges(i)}e.computeRanges=C}),define(J[545],ee([0,1,8,180,3,21,109,42,230]),function($,e,v,I,k,w,S,_,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveLinesCommand=void 0;class i{constructor(u,a,l){this._selection=u,this._isMovingDown=a,this._autoIndent=l,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(u,a){let l=u.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===l){this._selectionId=a.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=a.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let c=this._selection;c.startLineNumber<c.endLineNumber&&c.endColumn===1&&(this._moveEndPositionDown=!0,c=c.setEndPosition(c.endLineNumber-1,u.getLineMaxColumn(c.endLineNumber-1)));const{tabSize:d,indentSize:r,insertSpaces:n}=u.getOptions();let s=this.buildIndentConverter(d,r,n),t={getLineTokens:o=>u.getLineTokens(o),getLanguageIdentifier:()=>u.getLanguageIdentifier(),getLanguageIdAtPosition:(o,h)=>u.getLanguageIdAtPosition(o,h),getLineContent:null};if(c.startLineNumber===c.endLineNumber&&u.getLineMaxColumn(c.startLineNumber)===1){let o=c.startLineNumber,h=this._isMovingDown?o+1:o-1;u.getLineMaxColumn(h)===1?a.addEditOperation(new k.Range(1,1,1,1),null):(a.addEditOperation(new k.Range(o,1,o,1),u.getLineContent(h)),a.addEditOperation(new k.Range(h,1,h,u.getLineMaxColumn(h)),null)),c=new w.Selection(h,1,h,1)}else{let o,h;if(this._isMovingDown){o=c.endLineNumber+1,h=u.getLineContent(o),a.addEditOperation(new k.Range(o-1,u.getLineMaxColumn(o-1),o,u.getLineMaxColumn(o)),null);let g=h;if(this.shouldAutoIndent(u,c)){let m=this.matchEnterRule(u,s,d,o,c.startLineNumber-1);if(m!==null){let b=v.getLeadingWhitespace(u.getLineContent(o)),y=m+C.getSpaceCnt(b,d);g=C.generateIndent(y,d,n)+this.trimLeft(h)}else{t.getLineContent=y=>y===c.startLineNumber?u.getLineContent(o):u.getLineContent(y);let b=_.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent,t,u.getLanguageIdAtPosition(o,1),c.startLineNumber,s);if(b!==null){let y=v.getLeadingWhitespace(u.getLineContent(o)),L=C.getSpaceCnt(b,d),N=C.getSpaceCnt(y,d);L!==N&&(g=C.generateIndent(L,d,n)+this.trimLeft(h))}}a.addEditOperation(new k.Range(c.startLineNumber,1,c.startLineNumber,1),g+`
`);let f=this.matchEnterRuleMovingDown(u,s,d,c.startLineNumber,o,g);if(f!==null)f!==0&&this.getIndentEditsOfMovingBlock(u,a,c,d,n,f);else{t.getLineContent=y=>y===c.startLineNumber?g:y>=c.startLineNumber+1&&y<=c.endLineNumber+1?u.getLineContent(y-1):u.getLineContent(y);let b=_.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent,t,u.getLanguageIdAtPosition(o,1),c.startLineNumber+1,s);if(b!==null){const y=v.getLeadingWhitespace(u.getLineContent(c.startLineNumber)),L=C.getSpaceCnt(b,d),N=C.getSpaceCnt(y,d);if(L!==N){const M=L-N;this.getIndentEditsOfMovingBlock(u,a,c,d,n,M)}}}}else a.addEditOperation(new k.Range(c.startLineNumber,1,c.startLineNumber,1),g+`
`)}else if(o=c.startLineNumber-1,h=u.getLineContent(o),a.addEditOperation(new k.Range(o,1,o+1,1),null),a.addEditOperation(new k.Range(c.endLineNumber,u.getLineMaxColumn(c.endLineNumber),c.endLineNumber,u.getLineMaxColumn(c.endLineNumber)),`
`+h),this.shouldAutoIndent(u,c)){t.getLineContent=m=>m===o?u.getLineContent(c.startLineNumber):u.getLineContent(m);let g=this.matchEnterRule(u,s,d,c.startLineNumber,c.startLineNumber-2);if(g!==null)g!==0&&this.getIndentEditsOfMovingBlock(u,a,c,d,n,g);else{let m=_.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent,t,u.getLanguageIdAtPosition(c.startLineNumber,1),o,s);if(m!==null){let f=v.getLeadingWhitespace(u.getLineContent(c.startLineNumber)),b=C.getSpaceCnt(m,d),y=C.getSpaceCnt(f,d);if(b!==y){let L=b-y;this.getIndentEditsOfMovingBlock(u,a,c,d,n,L)}}}}}this._selectionId=a.trackSelection(c)}buildIndentConverter(u,a,l){return{shiftIndent:c=>I.ShiftCommand.shiftIndent(c,c.length+1,u,a,l),unshiftIndent:c=>I.ShiftCommand.unshiftIndent(c,c.length+1,u,a,l)}}parseEnterResult(u,a,l,c,d){if(d){let r=d.indentation;d.indentAction===S.IndentAction.None||d.indentAction===S.IndentAction.Indent?r=d.indentation+d.appendText:d.indentAction===S.IndentAction.IndentOutdent?r=d.indentation:d.indentAction===S.IndentAction.Outdent&&(r=a.unshiftIndent(d.indentation)+d.appendText);let n=u.getLineContent(c);if(this.trimLeft(n).indexOf(this.trimLeft(r))>=0){let s=v.getLeadingWhitespace(u.getLineContent(c)),t=v.getLeadingWhitespace(r),o=_.LanguageConfigurationRegistry.getIndentMetadata(u,c);o!==null&&o&2&&(t=a.unshiftIndent(t));let h=C.getSpaceCnt(t,l),g=C.getSpaceCnt(s,l);return h-g}}return null}matchEnterRuleMovingDown(u,a,l,c,d,r){if(v.lastNonWhitespaceIndex(r)>=0){let n=u.getLineMaxColumn(d),s=_.LanguageConfigurationRegistry.getEnterAction(this._autoIndent,u,new k.Range(d,n,d,n));return this.parseEnterResult(u,a,l,c,s)}else{let n=c-1;for(;n>=1;){let o=u.getLineContent(n);if(v.lastNonWhitespaceIndex(o)>=0)break;n--}if(n<1||c>u.getLineCount())return null;let s=u.getLineMaxColumn(n),t=_.LanguageConfigurationRegistry.getEnterAction(this._autoIndent,u,new k.Range(n,s,n,s));return this.parseEnterResult(u,a,l,c,t)}}matchEnterRule(u,a,l,c,d,r){let n=d;for(;n>=1;){let o;if(n===d&&r!==void 0?o=r:o=u.getLineContent(n),v.lastNonWhitespaceIndex(o)>=0)break;n--}if(n<1||c>u.getLineCount())return null;let s=u.getLineMaxColumn(n),t=_.LanguageConfigurationRegistry.getEnterAction(this._autoIndent,u,new k.Range(n,s,n,s));return this.parseEnterResult(u,a,l,c,t)}trimLeft(u){return u.replace(/^\s+/,"")}shouldAutoIndent(u,a){if(this._autoIndent<4||!u.isCheapToTokenize(a.startLineNumber))return!1;let l=u.getLanguageIdAtPosition(a.startLineNumber,1),c=u.getLanguageIdAtPosition(a.endLineNumber,1);return!(l!==c||_.LanguageConfigurationRegistry.getIndentRulesSupport(l)===null)}getIndentEditsOfMovingBlock(u,a,l,c,d,r){for(let n=l.startLineNumber;n<=l.endLineNumber;n++){let s=u.getLineContent(n),t=v.getLeadingWhitespace(s),h=C.getSpaceCnt(t,c)+r,g=C.generateIndent(h,c,d);g!==t&&(a.addEditOperation(new k.Range(n,1,n,t.length+1),g),n===l.endLineNumber&&l.endColumn<=t.length+1&&g===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(u,a){let l=a.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(l=l.setEndPosition(l.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&l.startLineNumber<l.endLineNumber&&(l=l.setEndPosition(l.endLineNumber,2)),l}}e.MoveLinesCommand=i}),define(J[546],ee([0,1,7,104,29,120,2,40,3,31,354]),function($,e,v,I,k,w,S,_,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ZoneWidget=e.OverlayWidgetDelegate=e.ViewZoneDelegate=void 0;const p=new k.Color(new k.RGBA(0,122,204)),u={showArrow:!0,showFrame:!0,className:"",frameColor:p,arrowColor:p,keepEditorSelection:!1},a="vs.editor.contrib.zoneWidget";class l{constructor(s,t,o,h,g,m){this.id="",this.domNode=s,this.afterLineNumber=t,this.afterColumn=o,this.heightInLines=h,this._onDomNodeTop=g,this._onComputedHeight=m}onDomNodeTop(s){this._onDomNodeTop(s)}onComputedHeight(s){this._onComputedHeight(s)}}e.ViewZoneDelegate=l;class c{constructor(s,t){this._id=s,this._domNode=t}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}e.OverlayWidgetDelegate=c;class d{constructor(s){this._editor=s,this._ruleName=d._IdGenerator.nextId(),this._decorations=[],this._color=null,this._height=-1}dispose(){this.hide(),v.removeCSSRulesContainingSelector(this._ruleName)}set color(s){this._color!==s&&(this._color=s,this._updateStyle())}set height(s){this._height!==s&&(this._height=s,this._updateStyle())}_updateStyle(){v.removeCSSRulesContainingSelector(this._ruleName),v.createCSSRule(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(s){this._decorations=this._editor.deltaDecorations(this._decorations,[{range:C.Range.fromPositions(s),options:{className:this._ruleName,stickiness:1}}])}hide(){this._editor.deltaDecorations(this._decorations,[])}}d._IdGenerator=new w.IdGenerator(".arrow-decoration-");class r{constructor(s,t={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._positionMarkerId=[],this._viewZone=null,this._disposables=new S.DisposableStore,this.container=null,this._isShowing=!1,this.editor=s,this.options=_.deepClone(t),_.mixin(this.options,u,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(o=>{const h=this._getWidth(o);this.domNode.style.width=h+"px",this.domNode.style.left=this._getLeft(o)+"px",this._onWidth(h)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(s=>{this._viewZone&&s.removeZone(this._viewZone.id),this._viewZone=null}),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[],this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new d(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(s){s.frameColor&&(this.options.frameColor=s.frameColor),s.arrowColor&&(this.options.arrowColor=s.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){let s=this.options.frameColor.toString();this.container.style.borderTopColor=s,this.container.style.borderBottomColor=s}if(this._arrow&&this.options.arrowColor){let s=this.options.arrowColor.toString();this._arrow.color=s}}_getWidth(s){return s.width-s.minimap.minimapWidth-s.verticalScrollbarWidth}_getLeft(s){return s.minimap.minimapWidth>0&&s.minimap.minimapLeft===0?s.minimap.minimapWidth:0}_onViewZoneTop(s){this.domNode.style.top=s+"px"}_onViewZoneHeight(s){if(this.domNode.style.height=`${s}px`,this.container){let t=s-this._decoratingElementsHeight();this.container.style.height=`${t}px`;const o=this.editor.getLayoutInfo();this._doLayout(t,this._getWidth(o))}this._resizeSash&&this._resizeSash.layout()}get position(){const[s]=this._positionMarkerId;if(!!s){const t=this.editor.getModel();if(!!t){const o=t.getDecorationRange(s);if(!!o)return o.getStartPosition()}}}show(s,t){const o=C.Range.isIRange(s)?C.Range.lift(s):C.Range.fromPositions(s);this._isShowing=!0,this._showImpl(o,t),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:o,options:i.ModelDecorationOptions.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones(s=>{this._viewZone&&s.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){let s=this.editor.getOption(55),t=0;if(this.options.showArrow){let o=Math.round(s/3);t+=2*o}if(this.options.showFrame){let o=Math.round(s/9);t+=2*o}return t}_showImpl(s,t){const o=s.getStartPosition(),h=this.editor.getLayoutInfo(),g=this._getWidth(h);this.domNode.style.width=`${g}px`,this.domNode.style.left=this._getLeft(h)+"px";const m=document.createElement("div");m.style.overflow="hidden";const f=this.editor.getOption(55),b=Math.max(12,this.editor.getLayoutInfo().height/f*.8);t=Math.min(t,b);let y=0,L=0;if(this._arrow&&this.options.showArrow&&(y=Math.round(f/3),this._arrow.height=y,this._arrow.show(o)),this.options.showFrame&&(L=Math.round(f/9)),this.editor.changeViewZones(D=>{this._viewZone&&D.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new l(m,o.lineNumber,o.column,t,R=>this._onViewZoneTop(R),R=>this._onViewZoneHeight(R)),this._viewZone.id=D.addZone(this._viewZone),this._overlayWidget=new c(a+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const D=this.options.frameWidth?this.options.frameWidth:L;this.container.style.borderTopWidth=D+"px",this.container.style.borderBottomWidth=D+"px"}let N=t*f-this._decoratingElementsHeight();this.container&&(this.container.style.top=y+"px",this.container.style.height=N+"px",this.container.style.overflow="hidden"),this._doLayout(N,g),this.options.keepEditorSelection||this.editor.setSelection(s);const M=this.editor.getModel();if(M){const D=s.endLineNumber+1;D<=M.getLineCount()?this.revealLine(D,!1):this.revealLine(M.getLineCount(),!0)}}revealLine(s,t){t?this.editor.revealLineInCenter(s,0):this.editor.revealLine(s,0)}setCssClass(s,t){!this.container||(t&&this.container.classList.remove(t),this.container.classList.add(s))}_onWidth(s){}_doLayout(s,t){}_relayout(s){this._viewZone&&this._viewZone.heightInLines!==s&&this.editor.changeViewZones(t=>{this._viewZone&&(this._viewZone.heightInLines=s,t.layoutZone(this._viewZone.id))})}_initSash(){if(!this._resizeSash){this._resizeSash=this._disposables.add(new I.Sash(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.hide(),this._resizeSash.state=0);let s;this._disposables.add(this._resizeSash.onDidStart(t=>{this._viewZone&&(s={startY:t.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{s=void 0})),this._disposables.add(this._resizeSash.onDidChange(t=>{if(s){let o=(t.currentY-s.startY)/this.editor.getOption(55),h=o<0?Math.ceil(o):Math.floor(o),g=s.heightInLines+h;g>5&&g<35&&this._relayout(g)}}))}}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const s=this.editor.getLayoutInfo();return s.width-s.minimap.minimapWidth}}e.ZoneWidget=r}),define(J[246],ee([0,1,128,18,77,233]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTokenizationSupport=e.MonarchTokenizer=void 0;const S=5;class _{constructor(s){this._maxCacheDepth=s,this._entries=Object.create(null)}static create(s,t){return this._INSTANCE.create(s,t)}create(s,t){if(s!==null&&s.depth>=this._maxCacheDepth)return new C(s,t);let o=C.getStackElementId(s);o.length>0&&(o+="|"),o+=t;let h=this._entries[o];return h||(h=new C(s,t),this._entries[o]=h,h)}}_._INSTANCE=new _(S);class C{constructor(s,t){this.parent=s,this.state=t,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(s){let t="";for(;s!==null;)t.length>0&&(t+="|"),t+=s.state,s=s.parent;return t}static _equals(s,t){for(;s!==null&&t!==null;){if(s===t)return!0;if(s.state!==t.state)return!1;s=s.parent,t=t.parent}return s===null&&t===null}equals(s){return C._equals(this,s)}push(s){return _.create(this,s)}pop(){return this.parent}popall(){let s=this;for(;s.parent;)s=s.parent;return s}switchTo(s){return _.create(this.parent,s)}}class i{constructor(s,t){this.modeId=s,this.state=t}equals(s){return this.modeId===s.modeId&&this.state.equals(s.state)}clone(){return this.state.clone()===this.state?this:new i(this.modeId,this.state)}}class p{constructor(s){this._maxCacheDepth=s,this._entries=Object.create(null)}static create(s,t){return this._INSTANCE.create(s,t)}create(s,t){if(t!==null)return new u(s,t);if(s!==null&&s.depth>=this._maxCacheDepth)return new u(s,t);let o=C.getStackElementId(s),h=this._entries[o];return h||(h=new u(s,null),this._entries[o]=h,h)}}p._INSTANCE=new p(S);class u{constructor(s,t){this.stack=s,this.embeddedModeData=t}clone(){return(this.embeddedModeData?this.embeddedModeData.clone():null)===this.embeddedModeData?this:p.create(this.stack,this.embeddedModeData)}equals(s){return!(s instanceof u)||!this.stack.equals(s.stack)?!1:this.embeddedModeData===null&&s.embeddedModeData===null?!0:this.embeddedModeData===null||s.embeddedModeData===null?!1:this.embeddedModeData.equals(s.embeddedModeData)}}class a{constructor(){this._tokens=[],this._language=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterMode(s,t){this._language=t}emit(s,t){this._lastTokenType===t&&this._lastTokenLanguage===this._language||(this._lastTokenType=t,this._lastTokenLanguage=this._language,this._tokens.push(new v.Token(s,t,this._language)))}nestedModeTokenize(s,t,o,h){const g=o.modeId,m=o.state,f=I.TokenizationRegistry.get(g);if(!f)return this.enterMode(h,g),this.emit(h,""),m;let b=f.tokenize(s,t,m,h);return this._tokens=this._tokens.concat(b.tokens),this._lastTokenType=null,this._lastTokenLanguage=null,this._language=null,b.endState}finalize(s){return new v.TokenizationResult(this._tokens,s)}}class l{constructor(s,t){this._modeService=s,this._theme=t,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterMode(s,t){this._currentLanguageId=this._modeService.getLanguageIdentifier(t).id}emit(s,t){let o=this._theme.match(this._currentLanguageId,t);this._lastTokenMetadata!==o&&(this._lastTokenMetadata=o,this._tokens.push(s),this._tokens.push(o))}static _merge(s,t,o){let h=s!==null?s.length:0,g=t.length,m=o!==null?o.length:0;if(h===0&&g===0&&m===0)return new Uint32Array(0);if(h===0&&g===0)return o;if(g===0&&m===0)return s;let f=new Uint32Array(h+g+m);s!==null&&f.set(s);for(let b=0;b<g;b++)f[h+b]=t[b];return o!==null&&f.set(o,h+g),f}nestedModeTokenize(s,t,o,h){const g=o.modeId,m=o.state,f=I.TokenizationRegistry.get(g);if(!f)return this.enterMode(h,g),this.emit(h,""),m;let b=f.tokenize2(s,t,m,h);return this._prependTokens=l._merge(this._prependTokens,this._tokens,b.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,b.endState}finalize(s){return new v.TokenizationResult2(l._merge(this._prependTokens,this._tokens,null),s)}}class c{constructor(s,t,o,h){this._modeService=s,this._standaloneThemeService=t,this._modeId=o,this._lexer=h,this._embeddedModes=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let g=!1;this._tokenizationRegistryListener=I.TokenizationRegistry.onDidChange(m=>{if(!g){let f=!1;for(let b=0,y=m.changedLanguages.length;b<y;b++){let L=m.changedLanguages[b];if(this._embeddedModes[L]){f=!0;break}}f&&(g=!0,I.TokenizationRegistry.fire([this._modeId]),g=!1)}})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){let s=[];for(let t in this._embeddedModes){const o=I.TokenizationRegistry.get(t);if(o){if(o instanceof c){const g=o.getLoadStatus();g.loaded===!1&&s.push(g.promise)}continue}const h=I.TokenizationRegistry.getPromise(t);h&&s.push(h)}return s.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(s).then(t=>{})}}getInitialState(){let s=_.create(null,this._lexer.start);return p.create(s,null)}tokenize(s,t,o,h){let g=new a,m=this._tokenize(s,t,o,h,g);return g.finalize(m)}tokenize2(s,t,o,h){let g=new l(this._modeService,this._standaloneThemeService.getColorTheme().tokenTheme),m=this._tokenize(s,t,o,h,g);return g.finalize(m)}_tokenize(s,t,o,h,g){return o.embeddedModeData?this._nestedTokenize(s,t,o,h,g):this._myTokenize(s,t,o,h,g)}_findLeavingNestedModeOffset(s,t){let o=this._lexer.tokenizer[t.stack.state];if(!o&&(o=w.findRules(this._lexer,t.stack.state),!o))throw w.createError(this._lexer,"tokenizer state is not defined: "+t.stack.state);let h=-1,g=!1;for(const m of o)if(!(!w.isIAction(m.action)||m.action.nextEmbedded!=="@pop")){g=!0;let f=m.regex,b=m.regex.source;if(b.substr(0,4)==="^(?:"&&b.substr(b.length-1,1)===")"){let L=(f.ignoreCase?"i":"")+(f.unicode?"u":"");f=new RegExp(b.substr(4,b.length-5),L)}let y=s.search(f);y===-1||y!==0&&m.matchOnlyAtLineStart||(h===-1||y<h)&&(h=y)}if(!g)throw w.createError(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+t.stack.state);return h}_nestedTokenize(s,t,o,h,g){let m=this._findLeavingNestedModeOffset(s,o);if(m===-1){let y=g.nestedModeTokenize(s,t,o.embeddedModeData,h);return p.create(o.stack,new i(o.embeddedModeData.modeId,y))}let f=s.substring(0,m);f.length>0&&g.nestedModeTokenize(f,!1,o.embeddedModeData,h);let b=s.substring(m);return this._myTokenize(b,t,o,h+m,g)}_safeRuleName(s){return s?s.name:"(unknown)"}_myTokenize(s,t,o,h,g){g.enterMode(h,this._modeId);const m=s.length,f=t&&this._lexer.includeLF?s+`
`:s,b=f.length;let y=o.embeddedModeData,L=o.stack,N=0,M=null,D=!0;for(;D||N<b;){const R=N,P=L.depth,O=M?M.groups.length:0,W=L.state;let F=null,E=null,A=null,B=null,H=null;if(M){F=M.matches;const Y=M.groups.shift();E=Y.matched,A=Y.action,B=M.rule,M.groups.length===0&&(M=null)}else{if(!D&&N>=b)break;D=!1;let Y=this._lexer.tokenizer[W];if(!Y&&(Y=w.findRules(this._lexer,W),!Y))throw w.createError(this._lexer,"tokenizer state is not defined: "+W);let te=f.substr(N);for(const ie of Y)if((N===0||!ie.matchOnlyAtLineStart)&&(F=te.match(ie.regex),F)){E=F[0],A=ie.action;break}}if(F||(F=[""],E=""),A||(N<b&&(F=[f.charAt(N)],E=F[0]),A=this._lexer.defaultToken),E===null)break;for(N+=E.length;w.isFuzzyAction(A)&&w.isIAction(A)&&A.test;)A=A.test(E,F,W,N===b);let K=null;if(typeof A=="string"||Array.isArray(A))K=A;else if(A.group)K=A.group;else if(A.token!==null&&A.token!==void 0){if(A.tokenSubst?K=w.substituteMatches(this._lexer,A.token,E,F,W):K=A.token,A.nextEmbedded)if(A.nextEmbedded==="@pop"){if(!y)throw w.createError(this._lexer,"cannot pop embedded mode if not inside one");y=null}else{if(y)throw w.createError(this._lexer,"cannot enter embedded mode from within an embedded mode");H=w.substituteMatches(this._lexer,A.nextEmbedded,E,F,W)}if(A.goBack&&(N=Math.max(0,N-A.goBack)),A.switchTo&&typeof A.switchTo=="string"){let Y=w.substituteMatches(this._lexer,A.switchTo,E,F,W);if(Y[0]==="@"&&(Y=Y.substr(1)),w.findRules(this._lexer,Y))L=L.switchTo(Y);else throw w.createError(this._lexer,"trying to switch to a state '"+Y+"' that is undefined in rule: "+this._safeRuleName(B))}else{if(A.transform&&typeof A.transform=="function")throw w.createError(this._lexer,"action.transform not supported");if(A.next)if(A.next==="@push"){if(L.depth>=this._lexer.maxStack)throw w.createError(this._lexer,"maximum tokenizer stack size reached: ["+L.state+","+L.parent.state+",...]");L=L.push(W)}else if(A.next==="@pop"){if(L.depth<=1)throw w.createError(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(B));L=L.pop()}else if(A.next==="@popall")L=L.popall();else{let Y=w.substituteMatches(this._lexer,A.next,E,F,W);if(Y[0]==="@"&&(Y=Y.substr(1)),w.findRules(this._lexer,Y))L=L.push(Y);else throw w.createError(this._lexer,"trying to set a next state '"+Y+"' that is undefined in rule: "+this._safeRuleName(B))}}A.log&&typeof A.log=="string"&&w.log(this._lexer,this._lexer.languageId+": "+w.substituteMatches(this._lexer,A.log,E,F,W))}if(K===null)throw w.createError(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(B));const q=Y=>{let te=this._modeService.getModeIdForLanguageName(Y);te&&(Y=te);const ie=this._getNestedEmbeddedModeData(Y);if(N<b){const ae=s.substr(N);return this._nestedTokenize(ae,t,p.create(L,ie),h+N,g)}else return p.create(L,ie)};if(Array.isArray(K)){if(M&&M.groups.length>0)throw w.createError(this._lexer,"groups cannot be nested: "+this._safeRuleName(B));if(F.length!==K.length+1)throw w.createError(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(B));let Y=0;for(let te=1;te<F.length;te++)Y+=F[te].length;if(Y!==E.length)throw w.createError(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(B));M={rule:B,matches:F,groups:[]};for(let te=0;te<K.length;te++)M.groups[te]={action:K[te],matched:F[te+1]};N-=E.length;continue}else{if(K==="@rematch"&&(N-=E.length,E="",F=null,K="",H!==null))return q(H);if(E.length===0){if(b===0||P!==L.depth||W!==L.state||(M?M.groups.length:0)!==O)continue;throw w.createError(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(B))}let Y=null;if(w.isString(K)&&K.indexOf("@brackets")===0){let te=K.substr("@brackets".length),ie=d(this._lexer,E);if(!ie)throw w.createError(this._lexer,"@brackets token returned but no bracket defined as: "+E);Y=w.sanitize(ie.token+te)}else{let te=K===""?"":K+this._lexer.tokenPostfix;Y=w.sanitize(te)}R<m&&g.emit(R+h,Y)}if(H!==null)return q(H)}return p.create(L,y)}_getNestedEmbeddedModeData(s){let t=this._locateMode(s);if(t){let o=I.TokenizationRegistry.get(t);if(o)return new i(t,o.getInitialState())}return new i(t||k.NULL_MODE_ID,k.NULL_STATE)}_locateMode(s){if(!s||!this._modeService.isRegisteredMode(s))return null;if(s===this._modeId)return s;let t=this._modeService.getModeId(s);return t&&(this._modeService.triggerMode(t),this._embeddedModes[t]=!0),t}}e.MonarchTokenizer=c;function d(n,s){if(!s)return null;s=w.fixCase(n,s);let t=n.brackets;for(const o of t){if(o.open===s)return{token:o.token,bracketType:1};if(o.close===s)return{token:o.token,bracketType:-1}}return null}function r(n,s,t,o){return new c(n,s,t,o)}e.createTokenizationSupport=r}),define(J[547],ee([0,1,15,8,114,18,130,63,246]),function($,e,v,I,k,w,S,_,C){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.Colorizer=void 0;const p=(i=window.trustedTypes)===null||i===void 0?void 0:i.createPolicy("standaloneColorizer",{createHTML:d=>d});class u{static colorizeElement(r,n,s,t){t=t||{};let o=t.theme||"vs",h=t.mimeType||s.getAttribute("lang")||s.getAttribute("data-lang");if(!h)return console.error("Mode not detected"),Promise.resolve();r.setTheme(o);let g=s.firstChild?s.firstChild.nodeValue:"";s.className+=" "+o;let m=f=>{var b;const y=(b=p==null?void 0:p.createHTML(f))!==null&&b!==void 0?b:f;s.innerHTML=y};return this.colorize(n,g||"",h,t).then(m,f=>console.error(f))}static colorize(r,n,s,t){let o=4;t&&typeof t.tabSize=="number"&&(o=t.tabSize),I.startsWithUTF8BOM(n)&&(n=n.substr(1));let h=I.splitLines(n),g=r.getModeId(s);if(!g)return Promise.resolve(l(h,o));r.triggerMode(g);const m=w.TokenizationRegistry.get(g);if(m)return a(h,o,m);const f=w.TokenizationRegistry.getPromise(g);return f?new Promise((b,y)=>{f.then(L=>{a(h,o,L).then(b,y)},y)}):new Promise((b,y)=>{let L=null,N=null;const M=()=>{L&&(L.dispose(),L=null),N&&(N.dispose(),N=null);const D=w.TokenizationRegistry.get(g);if(D){a(h,o,D).then(b,y);return}b(l(h,o))};N=new v.TimeoutTimer,N.cancelAndSet(M,500),L=w.TokenizationRegistry.onDidChange(D=>{D.changedLanguages.indexOf(g)>=0&&M()})})}static colorizeLine(r,n,s,t,o=4){const h=_.ViewLineRenderingData.isBasicASCII(r,n),g=_.ViewLineRenderingData.containsRTL(r,h,s);return(0,S.renderViewLine2)(new S.RenderLineInput(!1,!0,r,!1,h,g,0,t,[],o,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(r,n,s=4){let t=r.getLineContent(n);r.forceTokenization(n);let h=r.getLineTokens(n).inflate();return this.colorizeLine(t,r.mightContainNonBasicASCII(),r.mightContainRTL(),h,s)}}e.Colorizer=u;function a(d,r,n){return new Promise((s,t)=>{const o=()=>{const h=c(d,r,n);if(n instanceof C.MonarchTokenizer){const g=n.getLoadStatus();if(g.loaded===!1){g.promise.then(o,t);return}}s(h)};o()})}function l(d,r){let n=[];const s=(0<<11|1<<14|2<<23)>>>0,t=new Uint32Array(2);t[0]=0,t[1]=s;for(let o=0,h=d.length;o<h;o++){let g=d[o];t[0]=g.length;const m=new k.LineTokens(t,g),f=_.ViewLineRenderingData.isBasicASCII(g,!0),b=_.ViewLineRenderingData.containsRTL(g,f,!0);let y=(0,S.renderViewLine2)(new S.RenderLineInput(!1,!0,g,!1,f,b,0,m,[],r,0,0,0,0,-1,"none",!1,!1,null));n=n.concat(y.html),n.push("<br/>")}return n.join("")}function c(d,r,n){let s=[],t=n.getInitialState();for(let o=0,h=d.length;o<h;o++){let g=d[o],m=n.tokenize2(g,!0,t,0);k.LineTokens.convertToEndOffset(m.tokens,g.length);let f=new k.LineTokens(m.tokens,g);const b=_.ViewLineRenderingData.isBasicASCII(g,!0),y=_.ViewLineRenderingData.containsRTL(g,b,!0);let L=(0,S.renderViewLine2)(new S.RenderLineInput(!1,!0,g,!1,b,y,0,f.inflate(),[],r,0,0,0,0,-1,"none",!1,!1,null));s=s.concat(L.html),s.push("<br/>"),t=m.endState}return s.join("")}}),define(J[115],ee([0,1,9]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IStandaloneThemeService=void 0,e.IStandaloneThemeService=(0,v.createDecorator)("themeService")}),define(J[84],ee([0,1,9]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IClipboardService=void 0,e.IClipboardService=(0,v.createDecorator)("clipboardService")}),define(J[26],ee([0,1,2,20,9,6,72,54]),function($,e,v,I,k,w,S,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsRegistry=e.ICommandService=void 0,e.ICommandService=(0,k.createDecorator)("commandService"),e.CommandsRegistry=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new w.Emitter,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(C,i){if(!C)throw new Error("invalid command");if(typeof C=="string"){if(!i)throw new Error("invalid command");return this.registerCommand({id:C,handler:i})}if(C.description){const c=[];for(let r of C.description.args)c.push(r.constraint);const d=C.handler;C.handler=function(r,...n){return(0,I.validateConstraints)(n,c),d(r,...n)}}const{id:p}=C;let u=this._commands.get(p);u||(u=new S.LinkedList,this._commands.set(p,u));let a=u.unshift(C),l=(0,v.toDisposable)(()=>{a();const c=this._commands.get(p);(c==null?void 0:c.isEmpty())&&this._commands.delete(p)});return this._onDidRegisterCommand.fire(p),l}registerCommandAlias(C,i){return e.CommandsRegistry.registerCommand(C,(p,...u)=>p.get(e.ICommandService).executeCommand(i,...u))}getCommand(C){const i=this._commands.get(C);if(!(!i||i.isEmpty()))return _.Iterable.first(i)}getCommands(){const C=new Map;for(const i of this._commands.keys()){const p=this.getCommand(i);p&&C.set(i,p)}return C}},e.CommandsRegistry.registerCommand("noop",()=>{})}),define(J[247],ee([0,1,23,11,24,18,36,26,20,384,3]),function($,e,v,I,k,w,S,_,C,i,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDocumentRangeSemanticTokensProvider=e.getDocumentSemanticTokens=e.isSemanticTokensEdits=e.isSemanticTokens=void 0;function u(r){return r&&!!r.data}e.isSemanticTokens=u;function a(r){return r&&Array.isArray(r.edits)}e.isSemanticTokensEdits=a;function l(r,n,s){const t=c(r);return t?{provider:t,request:Promise.resolve(t.provideDocumentSemanticTokens(r,n,s))}:null}e.getDocumentSemanticTokens=l;function c(r){const n=w.DocumentSemanticTokensProviderRegistry.ordered(r);return n.length>0?n[0]:null}function d(r){const n=w.DocumentRangeSemanticTokensProviderRegistry.ordered(r);return n.length>0?n[0]:null}e.getDocumentRangeSemanticTokensProvider=d,_.CommandsRegistry.registerCommand("_provideDocumentSemanticTokensLegend",(r,...n)=>Ie(void 0,void 0,void 0,function*(){const[s]=n;(0,C.assertType)(s instanceof k.URI);const t=r.get(S.IModelService).getModel(s);if(!!t){const o=c(t);return o?o.getLegend():r.get(_.ICommandService).executeCommand("_provideDocumentRangeSemanticTokensLegend",s)}})),_.CommandsRegistry.registerCommand("_provideDocumentSemanticTokens",(r,...n)=>Ie(void 0,void 0,void 0,function*(){const[s]=n;(0,C.assertType)(s instanceof k.URI);const t=r.get(S.IModelService).getModel(s);if(!!t){const o=l(t,null,v.CancellationToken.None);if(!o)return r.get(_.ICommandService).executeCommand("_provideDocumentRangeSemanticTokens",s,t.getFullModelRange());const{provider:h,request:g}=o;let m;try{m=yield g}catch(b){(0,I.onUnexpectedExternalError)(b);return}if(!(!m||!u(m))){const f=(0,i.encodeSemanticTokensDto)({id:0,type:"full",data:m.data});return m.resultId&&h.releaseDocumentSemanticTokens(m.resultId),f}}})),_.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokensLegend",(r,...n)=>Ie(void 0,void 0,void 0,function*(){const[s]=n;(0,C.assertType)(s instanceof k.URI);const t=r.get(S.IModelService).getModel(s);if(!!t){const o=d(t);if(!!o)return o.getLegend()}})),_.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokens",(r,...n)=>Ie(void 0,void 0,void 0,function*(){const[s,t]=n;(0,C.assertType)(s instanceof k.URI),(0,C.assertType)(p.Range.isIRange(t));const o=r.get(S.IModelService).getModel(s);if(!!o){const h=d(o);if(!!h){let g;try{g=yield h.provideDocumentRangeSemanticTokens(o,p.Range.lift(t),v.CancellationToken.None)}catch(m){(0,I.onUnexpectedExternalError)(m);return}if(!(!g||!u(g)))return(0,i.encodeSemanticTokensDto)({id:0,type:"full",data:g.data})}}}))}),define(J[248],ee([0,1,23,11,24,18,36,2,26,20]),function($,e,v,I,k,w,S,_,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeLensModel=e.CodeLensModel=void 0;class p{constructor(){this.lenses=[],this._disposables=new _.DisposableStore}dispose(){this._disposables.dispose()}add(l,c){this._disposables.add(l);for(const d of l.lenses)this.lenses.push({symbol:d,provider:c})}}e.CodeLensModel=p;function u(a,l){return Ie(this,void 0,void 0,function*(){const c=w.CodeLensProviderRegistry.ordered(a),d=new Map,r=new p,n=c.map((s,t)=>Ie(this,void 0,void 0,function*(){d.set(s,t);try{const o=yield Promise.resolve(s.provideCodeLenses(a,l));o&&r.add(o,s)}catch(o){(0,I.onUnexpectedExternalError)(o)}}));return yield Promise.all(n),r.lenses=r.lenses.sort((s,t)=>s.symbol.range.startLineNumber<t.symbol.range.startLineNumber?-1:s.symbol.range.startLineNumber>t.symbol.range.startLineNumber?1:d.get(s.provider)<d.get(t.provider)?-1:d.get(s.provider)>d.get(t.provider)?1:s.symbol.range.startColumn<t.symbol.range.startColumn?-1:s.symbol.range.startColumn>t.symbol.range.startColumn?1:0),r})}e.getCodeLensModel=u,C.CommandsRegistry.registerCommand("_executeCodeLensProvider",function(a,...l){let[c,d]=l;(0,i.assertType)(k.URI.isUri(c)),(0,i.assertType)(typeof d=="number"||!d);const r=a.get(S.IModelService).getModel(c);if(!r)throw(0,I.illegalArgument)();const n=[],s=new _.DisposableStore;return u(r,v.CancellationToken.None).then(t=>{s.add(t);let o=[];for(const h of t.lenses)d==null||Boolean(h.symbol.command)?n.push(h.symbol):d-- >0&&h.provider.resolveCodeLens&&o.push(Promise.resolve(h.provider.resolveCodeLens(r,h.symbol,v.CancellationToken.None)).then(g=>n.push(g||h.symbol)));return Promise.all(o)}).then(()=>n).finally(()=>{setTimeout(()=>s.dispose(),100)})})}),define(J[249],ee([0,1,23,11,24,3,18,36,26]),function($,e,v,I,k,w,S,_,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getColorPresentations=e.getColors=void 0;function i(u,a){const l=[],d=S.ColorProviderRegistry.ordered(u).reverse().map(r=>Promise.resolve(r.provideDocumentColors(u,a)).then(n=>{if(Array.isArray(n))for(let s of n)l.push({colorInfo:s,provider:r})}));return Promise.all(d).then(()=>l)}e.getColors=i;function p(u,a,l,c){return Promise.resolve(l.provideColorPresentations(u,a,c))}e.getColorPresentations=p,C.CommandsRegistry.registerCommand("_executeDocumentColorProvider",function(u,...a){const[l]=a;if(!(l instanceof k.URI))throw(0,I.illegalArgument)();const c=u.get(_.IModelService).getModel(l);if(!c)throw(0,I.illegalArgument)();const d=[],n=S.ColorProviderRegistry.ordered(c).reverse().map(s=>Promise.resolve(s.provideDocumentColors(c,v.CancellationToken.None)).then(t=>{if(Array.isArray(t))for(let o of t)d.push({range:o.range,color:[o.color.red,o.color.green,o.color.blue,o.color.alpha]})}));return Promise.all(n).then(()=>d)}),C.CommandsRegistry.registerCommand("_executeColorPresentationProvider",function(u,...a){const[l,c]=a,{uri:d,range:r}=c;if(!(d instanceof k.URI)||!Array.isArray(l)||l.length!==4||!w.Range.isIRange(r))throw(0,I.illegalArgument)();const[n,s,t,o]=l,h=u.get(_.IModelService).getModel(d);if(!h)throw(0,I.illegalArgument)();const g={range:r,color:{red:n,green:s,blue:t,alpha:o}},m=[],b=S.ColorProviderRegistry.ordered(h).reverse().map(y=>Promise.resolve(y.provideColorPresentations(h,g,v.CancellationToken.None)).then(L=>{Array.isArray(L)&&m.push(...L)}));return Promise.all(b).then(()=>m)})}),define(J[548],ee([0,1,24,36,23,67,245,26,20]),function($,e,v,I,k,w,S,_,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDocumentSymbols=void 0;function i(p,u,a){return Ie(this,void 0,void 0,function*(){const l=yield S.OutlineModel.create(p,a);return u?l.asListOfDocumentSymbols():l.getTopLevelSymbols()})}e.getDocumentSymbols=i,_.CommandsRegistry.registerCommand("_executeDocumentSymbolProvider",function(p,...u){return Ie(this,void 0,void 0,function*(){const[a]=u;(0,C.assertType)(v.URI.isUri(a));const l=p.get(I.IModelService).getModel(a);if(l)return i(l,!1,k.CancellationToken.None);const c=yield p.get(w.ITextModelService).createModelReference(a);try{return yield i(c.object.textEditorModel,!1,k.CancellationToken.None)}finally{c.dispose()}})})}),define(J[549],ee([0,1,23,11,24,3,18,36,26,2,19,20]),function($,e,v,I,k,w,S,_,C,i,p,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLinks=e.LinksList=e.Link=void 0;class a{constructor(r,n){this._link=r,this._provider=n}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(r){return Ie(this,void 0,void 0,function*(){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,r)).then(n=>(this._link=n||this._link,this._link.url?this.resolve(r):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}e.Link=a;class l{constructor(r){this._disposables=new i.DisposableStore;let n=[];for(const[s,t]of r){const o=s.links.map(h=>new a(h,t));n=l._union(n,o),(0,i.isDisposable)(s)&&this._disposables.add(s)}this.links=n}dispose(){this._disposables.dispose(),this.links.length=0}static _union(r,n){let s=[],t,o,h,g;for(t=0,h=0,o=r.length,g=n.length;t<o&&h<g;){const m=r[t],f=n[h];if(w.Range.areIntersectingOrTouching(m.range,f.range)){t++;continue}w.Range.compareRangesUsingStarts(m.range,f.range)<0?(s.push(m),t++):(s.push(f),h++)}for(;t<o;t++)s.push(r[t]);for(;h<g;h++)s.push(n[h]);return s}}e.LinksList=l;function c(d,r){const n=[],s=S.LinkProviderRegistry.ordered(d).reverse().map((t,o)=>Promise.resolve(t.provideLinks(d,r)).then(h=>{h&&(n[o]=[h,t])},I.onUnexpectedExternalError));return Promise.all(s).then(()=>{const t=new l((0,p.coalesce)(n));return r.isCancellationRequested?(t.dispose(),new l([])):t})}e.getLinks=c,C.CommandsRegistry.registerCommand("_executeLinkProvider",(d,...r)=>Ie(void 0,void 0,void 0,function*(){let[n,s]=r;(0,u.assertType)(n instanceof k.URI),typeof s!="number"&&(s=0);const t=d.get(_.IModelService).getModel(n);if(!t)return[];const o=yield c(t,v.CancellationToken.None);if(!o)return[];for(let g=0;g<Math.min(s,o.links.length);g++)yield o.links[g].resolve(v.CancellationToken.None);const h=o.links.slice(0);return o.dispose(),h}))}),define(J[16],ee([0,1,8,9,17]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SET_CONTEXT_COMMAND_ID=e.IContextKeyService=e.RawContextKey=e.ContextKeyOrExpr=e.ContextKeyAndExpr=e.ContextKeyNotRegexExpr=e.ContextKeyRegexExpr=e.ContextKeySmallerEqualsExpr=e.ContextKeySmallerExpr=e.ContextKeyGreaterEqualsExpr=e.ContextKeyGreaterExpr=e.ContextKeyNotExpr=e.ContextKeyNotEqualsExpr=e.ContextKeyNotInExpr=e.ContextKeyInExpr=e.ContextKeyEqualsExpr=e.ContextKeyDefinedExpr=e.ContextKeyTrueExpr=e.ContextKeyFalseExpr=e.ContextKeyExpr=void 0;let w=k.userAgent||"";const S=new Map;S.set("false",!1),S.set("true",!0),S.set("isMac",k.isMacintosh),S.set("isLinux",k.isLinux),S.set("isWindows",k.isWindows),S.set("isWeb",k.isWeb),S.set("isMacNative",k.isMacintosh&&!k.isWeb),S.set("isEdge",w.indexOf("Edg/")>=0),S.set("isFirefox",w.indexOf("Firefox")>=0),S.set("isChrome",w.indexOf("Chrome")>=0),S.set("isSafari",w.indexOf("Safari")>=0),S.set("isIPad",w.indexOf("iPad")>=0);const _=Object.prototype.hasOwnProperty;class C{static has(D){return a.create(D)}static equals(D,R){return l.create(D,R)}static regex(D,R){return g.create(D,R)}static not(D){return n.create(D)}static and(...D){return f.create(D)}static or(...D){return b.create(D)}static deserialize(D,R=!1){if(!!D)return this._deserializeOrExpression(D,R)}static _deserializeOrExpression(D,R){let P=D.split("||");return b.create(P.map(O=>this._deserializeAndExpression(O,R)))}static _deserializeAndExpression(D,R){let P=D.split("&&");return f.create(P.map(O=>this._deserializeOne(O,R)))}static _deserializeOne(D,R){if(D=D.trim(),D.indexOf("!=")>=0){let P=D.split("!=");return r.create(P[0].trim(),this._deserializeValue(P[1],R))}if(D.indexOf("==")>=0){let P=D.split("==");return l.create(P[0].trim(),this._deserializeValue(P[1],R))}if(D.indexOf("=~")>=0){let P=D.split("=~");return g.create(P[0].trim(),this._deserializeRegexValue(P[1],R))}if(D.indexOf(" in ")>=0){let P=D.split(" in ");return c.create(P[0].trim(),P[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(D)){const P=D.split(">=");return t.create(P[0].trim(),P[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(D)){const P=D.split(">");return s.create(P[0].trim(),P[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(D)){const P=D.split("<=");return h.create(P[0].trim(),P[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(D)){const P=D.split("<");return o.create(P[0].trim(),P[1].trim())}return/^\!\s*/.test(D)?n.create(D.substr(1).trim()):a.create(D)}static _deserializeValue(D,R){if(D=D.trim(),D==="true")return!0;if(D==="false")return!1;let P=/^'([^']*)'$/.exec(D);return P?P[1].trim():D}static _deserializeRegexValue(D,R){if((0,v.isFalsyOrWhitespace)(D)){if(R)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}let P=D.indexOf("/"),O=D.lastIndexOf("/");if(P===O||P<0){if(R)throw new Error(`bad regexp-value '${D}', missing /-enclosure`);return console.warn(`bad regexp-value '${D}', missing /-enclosure`),null}let W=D.slice(P+1,O),F=D[O+1]==="i"?"i":"";try{return new RegExp(W,F)}catch(E){if(R)throw new Error(`bad regexp-value '${D}', parse error: ${E}`);return console.warn(`bad regexp-value '${D}', parse error: ${E}`),null}}}e.ContextKeyExpr=C;function i(M,D){return M.cmp(D)}class p{constructor(){this.type=0}cmp(D){return this.type-D.type}equals(D){return D.type===this.type}evaluate(D){return!1}serialize(){return"false"}keys(){return[]}negate(){return u.INSTANCE}}e.ContextKeyFalseExpr=p,p.INSTANCE=new p;class u{constructor(){this.type=1}cmp(D){return this.type-D.type}equals(D){return D.type===this.type}evaluate(D){return!0}serialize(){return"true"}keys(){return[]}negate(){return p.INSTANCE}}e.ContextKeyTrueExpr=u,u.INSTANCE=new u;class a{constructor(D){this.key=D,this.type=2}static create(D){const R=S.get(D);return typeof R=="boolean"?R?u.INSTANCE:p.INSTANCE:new a(D)}cmp(D){return D.type!==this.type?this.type-D.type:L(this.key,D.key)}equals(D){return D.type===this.type?this.key===D.key:!1}evaluate(D){return!!D.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return n.create(this.key)}}e.ContextKeyDefinedExpr=a;class l{constructor(D,R){this.key=D,this.value=R,this.type=4}static create(D,R){if(typeof R=="boolean")return R?a.create(D):n.create(D);const P=S.get(D);return typeof P=="boolean"?R===(P?"true":"false")?u.INSTANCE:p.INSTANCE:new l(D,R)}cmp(D){return D.type!==this.type?this.type-D.type:N(this.key,this.value,D.key,D.value)}equals(D){return D.type===this.type?this.key===D.key&&this.value===D.value:!1}evaluate(D){return D.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return r.create(this.key,this.value)}}e.ContextKeyEqualsExpr=l;class c{constructor(D,R){this.key=D,this.valueKey=R,this.type=10}static create(D,R){return new c(D,R)}cmp(D){return D.type!==this.type?this.type-D.type:N(this.key,this.valueKey,D.key,D.valueKey)}equals(D){return D.type===this.type?this.key===D.key&&this.valueKey===D.valueKey:!1}evaluate(D){const R=D.getValue(this.valueKey),P=D.getValue(this.key);return Array.isArray(R)?R.indexOf(P)>=0:typeof P=="string"&&typeof R=="object"&&R!==null?_.call(R,P):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return d.create(this)}}e.ContextKeyInExpr=c;class d{constructor(D){this._actual=D,this.type=11}static create(D){return new d(D)}cmp(D){return D.type!==this.type?this.type-D.type:this._actual.cmp(D._actual)}equals(D){return D.type===this.type?this._actual.equals(D._actual):!1}evaluate(D){return!this._actual.evaluate(D)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}e.ContextKeyNotInExpr=d;class r{constructor(D,R){this.key=D,this.value=R,this.type=5}static create(D,R){if(typeof R=="boolean")return R?n.create(D):a.create(D);const P=S.get(D);return typeof P=="boolean"?R===(P?"true":"false")?p.INSTANCE:u.INSTANCE:new r(D,R)}cmp(D){return D.type!==this.type?this.type-D.type:N(this.key,this.value,D.key,D.value)}equals(D){return D.type===this.type?this.key===D.key&&this.value===D.value:!1}evaluate(D){return D.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return l.create(this.key,this.value)}}e.ContextKeyNotEqualsExpr=r;class n{constructor(D){this.key=D,this.type=3}static create(D){const R=S.get(D);return typeof R=="boolean"?R?p.INSTANCE:u.INSTANCE:new n(D)}cmp(D){return D.type!==this.type?this.type-D.type:L(this.key,D.key)}equals(D){return D.type===this.type?this.key===D.key:!1}evaluate(D){return!D.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return a.create(this.key)}}e.ContextKeyNotExpr=n;class s{constructor(D,R){this.key=D,this.value=R,this.type=12}static create(D,R){return new s(D,R)}cmp(D){return D.type!==this.type?this.type-D.type:N(this.key,this.value,D.key,D.value)}equals(D){return D.type===this.type?this.key===D.key&&this.value===D.value:!1}evaluate(D){return parseFloat(D.getValue(this.key))>parseFloat(this.value)}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return h.create(this.key,this.value)}}e.ContextKeyGreaterExpr=s;class t{constructor(D,R){this.key=D,this.value=R,this.type=13}static create(D,R){return new t(D,R)}cmp(D){return D.type!==this.type?this.type-D.type:N(this.key,this.value,D.key,D.value)}equals(D){return D.type===this.type?this.key===D.key&&this.value===D.value:!1}evaluate(D){return parseFloat(D.getValue(this.key))>=parseFloat(this.value)}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return o.create(this.key,this.value)}}e.ContextKeyGreaterEqualsExpr=t;class o{constructor(D,R){this.key=D,this.value=R,this.type=14}static create(D,R){return new o(D,R)}cmp(D){return D.type!==this.type?this.type-D.type:N(this.key,this.value,D.key,D.value)}equals(D){return D.type===this.type?this.key===D.key&&this.value===D.value:!1}evaluate(D){return parseFloat(D.getValue(this.key))<parseFloat(this.value)}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return t.create(this.key,this.value)}}e.ContextKeySmallerExpr=o;class h{constructor(D,R){this.key=D,this.value=R,this.type=15}static create(D,R){return new h(D,R)}cmp(D){return D.type!==this.type?this.type-D.type:N(this.key,this.value,D.key,D.value)}equals(D){return D.type===this.type?this.key===D.key&&this.value===D.value:!1}evaluate(D){return parseFloat(D.getValue(this.key))<=parseFloat(this.value)}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return s.create(this.key,this.value)}}e.ContextKeySmallerEqualsExpr=h;class g{constructor(D,R){this.key=D,this.regexp=R,this.type=7}static create(D,R){return new g(D,R)}cmp(D){if(D.type!==this.type)return this.type-D.type;if(this.key<D.key)return-1;if(this.key>D.key)return 1;const R=this.regexp?this.regexp.source:"",P=D.regexp?D.regexp.source:"";return R<P?-1:R>P?1:0}equals(D){if(D.type===this.type){const R=this.regexp?this.regexp.source:"",P=D.regexp?D.regexp.source:"";return this.key===D.key&&R===P}return!1}evaluate(D){let R=D.getValue(this.key);return this.regexp?this.regexp.test(R):!1}serialize(){const D=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${D}`}keys(){return[this.key]}negate(){return m.create(this)}}e.ContextKeyRegexExpr=g;class m{constructor(D){this._actual=D,this.type=8}static create(D){return new m(D)}cmp(D){return D.type!==this.type?this.type-D.type:this._actual.cmp(D._actual)}equals(D){return D.type===this.type?this._actual.equals(D._actual):!1}evaluate(D){return!this._actual.evaluate(D)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}e.ContextKeyNotRegexExpr=m;class f{constructor(D){this.expr=D,this.type=6}static create(D){return f._normalizeArr(D)}cmp(D){if(D.type!==this.type)return this.type-D.type;if(this.expr.length<D.expr.length)return-1;if(this.expr.length>D.expr.length)return 1;for(let R=0,P=this.expr.length;R<P;R++){const O=i(this.expr[R],D.expr[R]);if(O!==0)return O}return 0}equals(D){if(D.type===this.type){if(this.expr.length!==D.expr.length)return!1;for(let R=0,P=this.expr.length;R<P;R++)if(!this.expr[R].equals(D.expr[R]))return!1;return!0}return!1}evaluate(D){for(let R=0,P=this.expr.length;R<P;R++)if(!this.expr[R].evaluate(D))return!1;return!0}static _normalizeArr(D){const R=[];let P=!1;for(const O of D)if(!!O){if(O.type===1){P=!0;continue}if(O.type===0)return p.INSTANCE;if(O.type===6){R.push(...O.expr);continue}R.push(O)}if(R.length===0&&P)return u.INSTANCE;if(R.length!==0){if(R.length===1)return R[0];for(R.sort(i);R.length>1;){const O=R[R.length-1];if(O.type!==9)break;R.pop();const W=R.pop(),F=b.create(O.expr.map(E=>f.create([E,W])));F&&(R.push(F),R.sort(i))}return R.length===1?R[0]:new f(R)}}serialize(){return this.expr.map(D=>D.serialize()).join(" && ")}keys(){const D=[];for(let R of this.expr)D.push(...R.keys());return D}negate(){let D=[];for(let R of this.expr)D.push(R.negate());return b.create(D)}}e.ContextKeyAndExpr=f;class b{constructor(D){this.expr=D,this.type=9}static create(D){const R=b._normalizeArr(D);if(R.length!==0)return R.length===1?R[0]:new b(R)}cmp(D){if(D.type!==this.type)return this.type-D.type;if(this.expr.length<D.expr.length)return-1;if(this.expr.length>D.expr.length)return 1;for(let R=0,P=this.expr.length;R<P;R++){const O=i(this.expr[R],D.expr[R]);if(O!==0)return O}return 0}equals(D){if(D.type===this.type){if(this.expr.length!==D.expr.length)return!1;for(let R=0,P=this.expr.length;R<P;R++)if(!this.expr[R].equals(D.expr[R]))return!1;return!0}return!1}evaluate(D){for(let R=0,P=this.expr.length;R<P;R++)if(this.expr[R].evaluate(D))return!0;return!1}static _normalizeArr(D){let R=[],P=!1;if(D){for(let O=0,W=D.length;O<W;O++){const F=D[O];if(!!F){if(F.type===0){P=!0;continue}if(F.type===1)return[u.INSTANCE];if(F.type===9){R=R.concat(F.expr);continue}R.push(F)}}if(R.length===0&&P)return[p.INSTANCE];R.sort(i)}return R}serialize(){return this.expr.map(D=>D.serialize()).join(" || ")}keys(){const D=[];for(let R of this.expr)D.push(...R.keys());return D}negate(){let D=[];for(let P of this.expr)D.push(P.negate());const R=P=>P.type===9?P.expr:[P];for(;D.length>1;){const P=D.shift(),O=D.shift(),W=[];for(const F of R(P))for(const E of R(O))W.push(C.and(F,E));D.unshift(C.or(...W))}return D[0]}}e.ContextKeyOrExpr=b;class y extends a{constructor(D,R,P){super(D);this._defaultValue=R,typeof P=="object"?y._info.push(Object.assign(Object.assign({},P),{key:D})):P!==!0&&y._info.push({key:D,description:P,type:R!=null?typeof R:void 0})}static all(){return y._info.values()}bindTo(D){return D.createKey(this.key,this._defaultValue)}getValue(D){return D.getContextKeyValue(this.key)}toNegated(){return C.not(this.key)}isEqualTo(D){return C.equals(this.key,D)}}e.RawContextKey=y,y._info=[],e.IContextKeyService=(0,I.createDecorator)("contextKeyService"),e.SET_CONTEXT_COMMAND_ID="setContext";function L(M,D){return M<D?-1:M>D?1:0}function N(M,D,R,P){return M<R?-1:M>R?1:D<P?-1:D>P?1:0}}),define(J[25],ee([0,1,457,16]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorContextKeys=void 0;var k;(function(w){w.editorSimpleInput=new I.RawContextKey("editorSimpleInput",!1,!0),w.editorTextFocus=new I.RawContextKey("editorTextFocus",!1,v.localize(0,null)),w.focus=new I.RawContextKey("editorFocus",!1,v.localize(1,null)),w.textInputFocus=new I.RawContextKey("textInputFocus",!1,v.localize(2,null)),w.readOnly=new I.RawContextKey("editorReadonly",!1,v.localize(3,null)),w.inDiffEditor=new I.RawContextKey("inDiffEditor",!1,v.localize(4,null)),w.columnSelection=new I.RawContextKey("editorColumnSelection",!1,v.localize(5,null)),w.writable=w.readOnly.toNegated(),w.hasNonEmptySelection=new I.RawContextKey("editorHasSelection",!1,v.localize(6,null)),w.hasOnlyEmptySelection=w.hasNonEmptySelection.toNegated(),w.hasMultipleSelections=new I.RawContextKey("editorHasMultipleSelections",!1,v.localize(7,null)),w.hasSingleSelection=w.hasMultipleSelections.toNegated(),w.tabMovesFocus=new I.RawContextKey("editorTabMovesFocus",!1,v.localize(8,null)),w.tabDoesNotMoveFocus=w.tabMovesFocus.toNegated(),w.isInWalkThroughSnippet=new I.RawContextKey("isInEmbeddedEditor",!1,!0),w.canUndo=new I.RawContextKey("canUndo",!1,!0),w.canRedo=new I.RawContextKey("canRedo",!1,!0),w.hoverVisible=new I.RawContextKey("editorHoverVisible",!1,v.localize(9,null)),w.inCompositeEditor=new I.RawContextKey("inCompositeEditor",void 0,v.localize(10,null)),w.notInCompositeEditor=w.inCompositeEditor.toNegated(),w.languageId=new I.RawContextKey("editorLangId","",v.localize(11,null)),w.hasCompletionItemProvider=new I.RawContextKey("editorHasCompletionItemProvider",!1,v.localize(12,null)),w.hasCodeActionsProvider=new I.RawContextKey("editorHasCodeActionsProvider",!1,v.localize(13,null)),w.hasCodeLensProvider=new I.RawContextKey("editorHasCodeLensProvider",!1,v.localize(14,null)),w.hasDefinitionProvider=new I.RawContextKey("editorHasDefinitionProvider",!1,v.localize(15,null)),w.hasDeclarationProvider=new I.RawContextKey("editorHasDeclarationProvider",!1,v.localize(16,null)),w.hasImplementationProvider=new I.RawContextKey("editorHasImplementationProvider",!1,v.localize(17,null)),w.hasTypeDefinitionProvider=new I.RawContextKey("editorHasTypeDefinitionProvider",!1,v.localize(18,null)),w.hasHoverProvider=new I.RawContextKey("editorHasHoverProvider",!1,v.localize(19,null)),w.hasDocumentHighlightProvider=new I.RawContextKey("editorHasDocumentHighlightProvider",!1,v.localize(20,null)),w.hasDocumentSymbolProvider=new I.RawContextKey("editorHasDocumentSymbolProvider",!1,v.localize(21,null)),w.hasReferenceProvider=new I.RawContextKey("editorHasReferenceProvider",!1,v.localize(22,null)),w.hasRenameProvider=new I.RawContextKey("editorHasRenameProvider",!1,v.localize(23,null)),w.hasSignatureHelpProvider=new I.RawContextKey("editorHasSignatureHelpProvider",!1,v.localize(24,null)),w.hasInlineHintsProvider=new I.RawContextKey("editorHasInlineHintsProvider",!1,v.localize(25,null)),w.hasDocumentFormattingProvider=new I.RawContextKey("editorHasDocumentFormattingProvider",!1,v.localize(26,null)),w.hasDocumentSelectionFormattingProvider=new I.RawContextKey("editorHasDocumentSelectionFormattingProvider",!1,v.localize(27,null)),w.hasMultipleDocumentFormattingProvider=new I.RawContextKey("editorHasMultipleDocumentFormattingProvider",!1,v.localize(28,null)),w.hasMultipleDocumentSelectionFormattingProvider=new I.RawContextKey("editorHasMultipleDocumentSelectionFormattingProvider",!1,v.localize(29,null))})(k=e.EditorContextKeys||(e.EditorContextKeys={}))}),define(J[184],ee([0,1,11,14,18,16,23,26,24,20,67]),function($,e,v,I,k,w,S,_,C,i,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideSignatureHelp=e.Context=void 0,e.Context={Visible:new w.RawContextKey("parameterHintsVisible",!1),MultipleSignatures:new w.RawContextKey("parameterHintsMultipleSignatures",!1)};function u(a,l,c,d){return Ie(this,void 0,void 0,function*(){const r=k.SignatureHelpProviderRegistry.ordered(a);for(const n of r)try{const s=yield n.provideSignatureHelp(a,l,d,c);if(s)return s}catch(s){(0,v.onUnexpectedExternalError)(s)}})}e.provideSignatureHelp=u,_.CommandsRegistry.registerCommand("_executeSignatureHelpProvider",(a,...l)=>Ie(void 0,void 0,void 0,function*(){const[c,d,r]=l;(0,i.assertType)(C.URI.isUri(c)),(0,i.assertType)(I.Position.isIPosition(d)),(0,i.assertType)(typeof r=="string"||!r);const n=yield a.get(p.ITextModelService).createModelReference(c);try{const s=yield u(n.object.textEditorModel,I.Position.lift(d),{triggerKind:k.SignatureHelpTriggerKind.Invoke,isRetrigger:!1,triggerCharacter:r},S.CancellationToken.None);return s?(setTimeout(()=>s.dispose(),0),s.value):void 0}finally{n.dispose()}}))}),define(J[550],ee([0,1,15,11,6,2,91,18,184]),function($,e,v,I,k,w,S,_,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsModel=void 0;var i;(function(a){a.Default={type:0};class l{constructor(r,n){this.request=r,this.previouslyActiveHints=n,this.type=2}}a.Pending=l;class c{constructor(r){this.hints=r,this.type=1}}a.Active=c})(i||(i={}));class p extends w.Disposable{constructor(l,c=p.DEFAULT_DELAY){super();this._onChangedHints=this._register(new k.Emitter),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=i.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new w.MutableDisposable),this.triggerChars=new S.CharacterSet,this.retriggerChars=new S.CharacterSet,this.triggerId=0,this.editor=l,this.throttledDelayer=new v.Delayer(c),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(d=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(d=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(d=>this.onCursorChange(d))),this._register(this.editor.onDidChangeModelContent(d=>this.onModelContentChange())),this._register(_.SignatureHelpProviderRegistry.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(d=>this.onDidType(d))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(l){this._state.type===2&&this._state.request.cancel(),this._state=l}cancel(l=!1){this.state=i.Default,this.throttledDelayer.cancel(),l||this._onChangedHints.fire(void 0)}trigger(l,c){const d=this.editor.getModel();if(!(!d||!_.SignatureHelpProviderRegistry.has(d))){const r=++this.triggerId;this._pendingTriggers.push(l),this.throttledDelayer.trigger(()=>this.doTrigger(r),c).catch(I.onUnexpectedError)}}next(){if(this.state.type===1){const l=this.state.hints.signatures.length,c=this.state.hints.activeSignature,d=c%l==l-1,r=this.editor.getOption(72).cycle;if((l<2||d)&&!r){this.cancel();return}this.updateActiveSignature(d&&r?0:c+1)}}previous(){if(this.state.type===1){const l=this.state.hints.signatures.length,c=this.state.hints.activeSignature,d=c===0,r=this.editor.getOption(72).cycle;if((l<2||d)&&!r){this.cancel();return}this.updateActiveSignature(d&&r?l-1:c-1)}}updateActiveSignature(l){this.state.type===1&&(this.state=new i.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:l})),this._onChangedHints.fire(this.state.hints))}doTrigger(l){return Ie(this,void 0,void 0,function*(){const c=this.state.type===1||this.state.type===2,d=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const r=this._pendingTriggers.reduce(u);this._pendingTriggers=[];const n={triggerKind:r.triggerKind,triggerCharacter:r.triggerCharacter,isRetrigger:c,activeSignatureHelp:d};if(!this.editor.hasModel())return!1;const s=this.editor.getModel(),t=this.editor.getPosition();this.state=new i.Pending((0,v.createCancelablePromise)(o=>(0,C.provideSignatureHelp)(s,t,n,o)),d);try{const o=yield this.state.request;return l!==this.triggerId?(o==null||o.dispose(),!1):!o||!o.value.signatures||o.value.signatures.length===0?(o==null||o.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new i.Active(o.value),this._lastSignatureHelpResult.value=o,this._onChangedHints.fire(this.state.hints),!0)}catch(o){return l===this.triggerId&&(this.state=i.Default),(0,I.onUnexpectedError)(o),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new S.CharacterSet,this.retriggerChars=new S.CharacterSet;const l=this.editor.getModel();if(!!l)for(const c of _.SignatureHelpProviderRegistry.ordered(l)){for(const d of c.signatureHelpTriggerCharacters||[])this.triggerChars.add(d.charCodeAt(0)),this.retriggerChars.add(d.charCodeAt(0));for(const d of c.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(d.charCodeAt(0))}}onDidType(l){if(!!this.triggerOnType){const c=l.length-1,d=l.charCodeAt(c);(this.triggerChars.has(d)||this.isTriggered&&this.retriggerChars.has(d))&&this.trigger({triggerKind:_.SignatureHelpTriggerKind.TriggerCharacter,triggerCharacter:l.charAt(c)})}}onCursorChange(l){l.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:_.SignatureHelpTriggerKind.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:_.SignatureHelpTriggerKind.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(72).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}e.ParameterHintsModel=p,p.DEFAULT_DELAY=120;function u(a,l){switch(l.triggerKind){case _.SignatureHelpTriggerKind.Invoke:return l;case _.SignatureHelpTriggerKind.ContentChange:return a;case _.SignatureHelpTriggerKind.TriggerCharacter:default:return l}}});var pe=this&&this.__param||function($,e){return function(v,I){e(v,I,$)}};define(J[551],ee([0,1,16]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestAlternatives=void 0;let I=class at{constructor(w,S){this._editor=w,this._index=0,this._ckOtherSuggestions=at.OtherSuggestions.bindTo(S)}dispose(){this.reset()}reset(){var w;this._ckOtherSuggestions.reset(),(w=this._listener)===null||w===void 0||w.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:w,index:S},_){if(w.items.length===0){this.reset();return}if(at._moveIndex(!0,w,S)===S){this.reset();return}this._acceptNext=_,this._model=w,this._index=S,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(w,S,_){let C=_;for(;C=(C+S.items.length+(w?1:-1))%S.items.length,!(C===_||!S.items[C].completion.additionalTextEdits););return C}next(){this._move(!0)}prev(){this._move(!1)}_move(w){if(!!this._model)try{this._ignore=!0,this._index=at._moveIndex(w,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};I.OtherSuggestions=new v.RawContextKey("hasOtherSuggestions",!1),I=Me([pe(1,v.IContextKeyService)],I),e.SuggestAlternatives=I}),define(J[552],ee([0,1,16]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordContextKey=void 0;let I=class Mt{constructor(w,S){this._editor=w,this._enabled=!1,this._ckAtEnd=Mt.AtEnd.bindTo(S),this._configListener=this._editor.onDidChangeConfiguration(_=>_.hasChanged(108)&&this._update()),this._update()}dispose(){var w;this._configListener.dispose(),(w=this._selectionListener)===null||w===void 0||w.dispose(),this._ckAtEnd.reset()}_update(){const w=this._editor.getOption(108)==="on";if(this._enabled!==w)if(this._enabled=w,this._enabled){const S=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const _=this._editor.getModel(),C=this._editor.getSelection(),i=_.getWordAtPosition(C.getStartPosition());if(!i){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(i.endColumn===C.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(S),S()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};I.AtEnd=new v.RawContextKey("atEndOfWord",!1),I=Me([pe(1,v.IContextKeyService)],I),e.WordContextKey=I}),define(J[65],ee([0,1,9,16]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=e.IAccessibilityService=void 0,e.IAccessibilityService=(0,v.createDecorator)("accessibilityService"),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=new I.RawContextKey("accessibilityModeEnabled",!1)}),define(J[250],ee([0,1,524,16,17]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputFocusedContextKey=e.IsWindowsContext=void 0,e.IsWindowsContext=new I.RawContextKey("isWindows",k.isWindows,(0,v.localize)(0,null)),e.InputFocusedContextKey="inputFocus"}),define(J[68],ee([0,1,9]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IContextMenuService=e.IContextViewService=void 0,e.IContextViewService=(0,v.createDecorator)("contextViewService"),e.IContextMenuService=(0,v.createDecorator)("contextMenuService")}),define(J[185],ee([0,1,9]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IDialogService=void 0,e.IDialogService=(0,v.createDecorator)("dialogService")}),define(J[138],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ServiceCollection=void 0;class v{constructor(...k){this._entries=new Map;for(let[w,S]of k)this.set(w,S)}set(k,w){const S=this._entries.get(k);return this._entries.set(k,w),S}has(k){return this._entries.has(k)}get(k){return this._entries.get(k)}}e.ServiceCollection=v}),define(J[553],ee([0,1,11,536,238,9,138,15]),function($,e,v,I,k,w,S,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InstantiationService=void 0;const C=!1;class i extends Error{constructor(l){var c;super("cyclic dependency between services");this.message=(c=l.findCycleSlow())!==null&&c!==void 0?c:`UNABLE to detect cycle, dumping graph: 
${l.toString()}`}}class p{constructor(l=new S.ServiceCollection,c=!1,d){this._activeInstantiations=new Set,this._services=l,this._strict=c,this._parent=d,this._services.set(w.IInstantiationService,this)}createChild(l){return new p(l,this._strict,this)}invokeFunction(l,...c){let d=u.traceInvocation(l),r=!1;try{return l({get:(s,t)=>{if(r)throw(0,v.illegalState)("service accessor is only valid during the invocation of its target method");const o=this._getOrCreateServiceInstance(s,d);if(!o&&t!==w.optional)throw new Error(`[invokeFunction] unknown service '${s}'`);return o}},...c)}finally{r=!0,d.stop()}}createInstance(l,...c){let d,r;return l instanceof k.SyncDescriptor?(d=u.traceCreation(l.ctor),r=this._createInstance(l.ctor,l.staticArguments.concat(c),d)):(d=u.traceCreation(l),r=this._createInstance(l,c,d)),d.stop(),r}_createInstance(l,c=[],d){let r=w._util.getServiceDependencies(l).sort((t,o)=>t.index-o.index),n=[];for(const t of r){let o=this._getOrCreateServiceInstance(t.id,d);if(!o&&this._strict&&!t.optional)throw new Error(`[createInstance] ${l.name} depends on UNKNOWN service ${t.id}.`);n.push(o)}let s=r.length>0?r[0].index:c.length;if(c.length!==s){console.warn(`[createInstance] First service dependency of ${l.name} at position ${s+1} conflicts with ${c.length} static arguments`);let t=s-c.length;t>0?c=c.concat(new Array(t)):c=c.slice(0,s)}return new l(...[...c,...n])}_setServiceInstance(l,c){if(this._services.get(l)instanceof k.SyncDescriptor)this._services.set(l,c);else if(this._parent)this._parent._setServiceInstance(l,c);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(l){let c=this._services.get(l);return!c&&this._parent?this._parent._getServiceInstanceOrDescriptor(l):c}_getOrCreateServiceInstance(l,c){let d=this._getServiceInstanceOrDescriptor(l);return d instanceof k.SyncDescriptor?this._safeCreateAndCacheServiceInstance(l,d,c.branch(l,!0)):(c.branch(l,!1),d)}_safeCreateAndCacheServiceInstance(l,c,d){if(this._activeInstantiations.has(l))throw new Error(`illegal state - RECURSIVELY instantiating service '${l}'`);this._activeInstantiations.add(l);try{return this._createAndCacheServiceInstance(l,c,d)}finally{this._activeInstantiations.delete(l)}}_createAndCacheServiceInstance(l,c,d){const r=new I.Graph(t=>t.id.toString());let n=0;const s=[{id:l,desc:c,_trace:d}];for(;s.length;){const t=s.pop();if(r.lookupOrInsertNode(t),n++>1e3)throw new i(r);for(let o of w._util.getServiceDependencies(t.desc.ctor)){let h=this._getServiceInstanceOrDescriptor(o.id);if(!h&&!o.optional&&console.warn(`[createInstance] ${l} depends on ${o.id} which is NOT registered.`),h instanceof k.SyncDescriptor){const g={id:o.id,desc:h,_trace:t._trace.branch(o.id,!0)};r.insertEdge(t,g),s.push(g)}}}for(;;){const t=r.roots();if(t.length===0){if(!r.isEmpty())throw new i(r);break}for(const{data:o}of t){if(this._getServiceInstanceOrDescriptor(o.id)instanceof k.SyncDescriptor){const g=this._createServiceInstanceWithOwner(o.id,o.desc.ctor,o.desc.staticArguments,o.desc.supportsDelayedInstantiation,o._trace);this._setServiceInstance(o.id,g)}r.removeNode(o)}}return this._getServiceInstanceOrDescriptor(l)}_createServiceInstanceWithOwner(l,c,d=[],r,n){if(this._services.get(l)instanceof k.SyncDescriptor)return this._createServiceInstance(c,d,r,n);if(this._parent)return this._parent._createServiceInstanceWithOwner(l,c,d,r,n);throw new Error(`illegalState - creating UNKNOWN service instance ${c.name}`)}_createServiceInstance(l,c=[],d,r){if(d){const n=new _.IdleValue(()=>this._createInstance(l,c,r));return new Proxy(Object.create(null),{get(s,t){if(t in s)return s[t];let o=n.value,h=o[t];return typeof h!="function"||(h=h.bind(o),s[t]=h),h},set(s,t,o){return n.value[t]=o,!0}})}else return this._createInstance(l,c,r)}}e.InstantiationService=p;class u{constructor(l,c){this.type=l,this.name=c,this._start=Date.now(),this._dep=[]}static traceInvocation(l){return C?new u(1,l.name||l.toString().substring(0,42).replace(/\n/g,"")):u._None}static traceCreation(l){return C?new u(0,l.name):u._None}branch(l,c){let d=new u(2,l.toString());return this._dep.push([l,c,d]),d}stop(){let l=Date.now()-this._start;u._totals+=l;let c=!1;function d(n,s){let t=[],o=new Array(n+1).join("	");for(const[h,g,m]of s._dep)if(g&&m){c=!0,t.push(`${o}CREATES -> ${h}`);let f=d(n+1,m);f&&t.push(f)}else t.push(`${o}uses -> ${h}`);return t.join(`
`)}let r=[`${this.type===0?"CREATE":"CALL"} ${this.name}`,`${d(1,this)}`,`DONE, took ${l.toFixed(2)}ms (grand total ${u._totals.toFixed(2)}ms)`];(l>2||c)&&console.log(r.join(`
`))}}u._None=new class extends u{constructor(){super(-1,null)}stop(){}branch(){return this}},u._totals=0}),define(J[554],ee([0,1,525,15,6,2]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractKeybindingService=void 0;class S extends w.Disposable{constructor(C,i,p,u,a){super();this._contextKeyService=C,this._commandService=i,this._telemetryService=p,this._notificationService=u,this._logService=a,this._onDidUpdateKeybindings=this._register(new k.Emitter),this._currentChord=null,this._currentChordChecker=new I.IntervalTimer,this._currentChordStatusMessage=null,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new I.TimeoutTimer,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:k.Event.None}dispose(){super.dispose()}_log(C){this._logging&&this._logService.info(`[KeybindingService]: ${C}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(C){const i=this._getResolver().lookupPrimaryKeybinding(C);if(!!i)return i.resolvedKeybinding}dispatchEvent(C,i){return this._dispatch(C,i)}softDispatch(C,i){const p=this.resolveKeyboardEvent(C);if(p.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[u]=p.getDispatchParts();if(u===null)return null;const a=this._contextKeyService.getContext(i),l=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(a,l,u)}_enterChordMode(C,i){this._currentChord={keypress:C,label:i},this._currentChordStatusMessage=this._notificationService.status(v.localize(0,null,i));const p=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-p>5e3&&this._leaveChordMode()},500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(C,i){return this._doDispatch(this.resolveKeyboardEvent(C),i,!1)}_singleModifierDispatch(C,i){const p=this.resolveKeyboardEvent(C),[u]=p.getSingleModifierDispatchParts();return u!==null&&this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${u}.`),this._currentSingleModifier=u,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):u!==null&&u===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${u} ${u}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(p,i,!0)):(this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1)}_doDispatch(C,i,p=!1){let u=!1;if(C.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let a=null,l=null;if(p){const[n]=C.getSingleModifierDispatchParts();a=n,l=n}else[a]=C.getDispatchParts(),l=this._currentChord?this._currentChord.keypress:null;if(a===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),u;const c=this._contextKeyService.getContext(i),d=C.getLabel(),r=this._getResolver().resolve(c,l,a);return this._logService.trace("KeybindingService#dispatch",d,r==null?void 0:r.commandId),r&&r.enterChord?(u=!0,this._enterChordMode(a,d),u):(this._currentChord&&(!r||!r.commandId)&&(this._notificationService.status(v.localize(1,null,this._currentChord.label,d),{hideAfter:10*1e3}),u=!0),this._leaveChordMode(),r&&r.commandId&&(r.bubble||(u=!0),typeof r.commandArgs=="undefined"?this._commandService.executeCommand(r.commandId).then(void 0,n=>this._notificationService.warn(n)):this._commandService.executeCommand(r.commandId,r.commandArgs).then(void 0,n=>this._notificationService.warn(n)),this._telemetryService.publicLog2("workbenchActionExecuted",{id:r.commandId,from:"keybinding"})),u)}mightProducePrintableCharacter(C){return C.ctrlKey||C.metaKey?!1:C.keyCode>=31&&C.keyCode<=56||C.keyCode>=21&&C.keyCode<=30}}e.AbstractKeybindingService=S}),define(J[555],ee([0,1,11,178,39]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseResolvedKeybinding=void 0;class w extends k.ResolvedKeybinding{constructor(_,C){super();if(C.length===0)throw(0,v.illegalArgument)("parts");this._os=_,this._parts=C}getLabel(){return I.UILabelProvider.toLabel(this._os,this._parts,_=>this._getLabel(_))}getAriaLabel(){return I.AriaLabelProvider.toLabel(this._os,this._parts,_=>this._getAriaLabel(_))}isChord(){return this._parts.length>1}getParts(){return this._parts.map(_=>this._getPart(_))}_getPart(_){return new k.ResolvedKeybindingPart(_.ctrlKey,_.shiftKey,_.altKey,_.metaKey,this._getLabel(_),this._getAriaLabel(_))}getDispatchParts(){return this._parts.map(_=>this._getDispatchPart(_))}getSingleModifierDispatchParts(){return this._parts.map(_=>this._getSingleModifierDispatchPart(_))}}e.BaseResolvedKeybinding=w}),define(J[37],ee([0,1,9]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IKeybindingService=void 0,e.IKeybindingService=(0,v.createDecorator)("keybindingService")}),define(J[251],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingResolver=void 0;class v{constructor(S,_,C){this._log=C,this._defaultKeybindings=S,this._defaultBoundCommands=new Map;for(let i=0,p=S.length;i<p;i++){const u=S[i].command;u&&this._defaultBoundCommands.set(u,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=v.combine(S,_);for(let i=0,p=this._keybindings.length;i<p;i++){let u=this._keybindings[i];u.keypressParts.length!==0&&(u.when&&u.when.type===0||this._addKeyPress(u.keypressParts[0],u))}}static _isTargetedForRemoval(S,_,C,i,p){return!(S.command!==i||_&&S.keypressParts[0]!==_||C&&S.keypressParts[1]!==C||p&&(!S.when||!p.equals(S.when)))}static combine(S,_){S=S.slice(0);let C=[];for(const i of _){if(!i.command||i.command.length===0||i.command.charAt(0)!=="-"){C.push(i);continue}const p=i.command.substr(1),u=i.keypressParts[0],a=i.keypressParts[1],l=i.when;for(let c=S.length-1;c>=0;c--)this._isTargetedForRemoval(S[c],u,a,p,l)&&S.splice(c,1)}return S.concat(C)}_addKeyPress(S,_){const C=this._map.get(S);if(typeof C=="undefined"){this._map.set(S,[_]),this._addToLookupMap(_);return}for(let i=C.length-1;i>=0;i--){let p=C[i];if(p.command!==_.command){const u=p.keypressParts.length>1,a=_.keypressParts.length>1;u&&a&&p.keypressParts[1]!==_.keypressParts[1]||v.whenIsEntirelyIncluded(p.when,_.when)&&this._removeFromLookupMap(p)}}C.push(_),this._addToLookupMap(_)}_addToLookupMap(S){if(!!S.command){let _=this._lookupMap.get(S.command);typeof _=="undefined"?(_=[S],this._lookupMap.set(S.command,_)):_.push(S)}}_removeFromLookupMap(S){if(!!S.command){let _=this._lookupMap.get(S.command);if(typeof _!="undefined"){for(let C=0,i=_.length;C<i;C++)if(_[C]===S){_.splice(C,1);return}}}}static whenIsEntirelyIncluded(S,_){return _?S?this._implies(S,_):!1:!0}static _implies(S,_){const C=S.negate(),i=u=>u.type===9?u.expr:[u];let p=i(C).concat(i(_));for(let u=0;u<p.length;u++){const l=p[u].negate();for(let c=u+1;c<p.length;c++){const d=p[c];if(l.equals(d))return!0}}return!1}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(S){let _=this._lookupMap.get(S);return typeof _=="undefined"||_.length===0?null:_[_.length-1]}resolve(S,_,C){this._log(`| Resolving ${C}${_?` chorded from ${_}`:""}`);let i=null;if(_!==null){const u=this._map.get(_);if(typeof u=="undefined")return this._log("\\ No keybinding entries."),null;i=[];for(let a=0,l=u.length;a<l;a++){let c=u[a];c.keypressParts[1]===C&&i.push(c)}}else{const u=this._map.get(C);if(typeof u=="undefined")return this._log("\\ No keybinding entries."),null;i=u}let p=this._findCommand(S,i);return p?_===null&&p.keypressParts.length>1&&p.keypressParts[1]!==null?(this._log(`\\ From ${i.length} keybinding entries, matched chord, when: ${I(p.when)}, source: ${k(p)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${i.length} keybinding entries, matched ${p.command}, when: ${I(p.when)}, source: ${k(p)}.`),{enterChord:!1,leaveChord:p.keypressParts.length>1,commandId:p.command,commandArgs:p.commandArgs,bubble:p.bubble}):(this._log(`\\ From ${i.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(S,_){for(let C=_.length-1;C>=0;C--){let i=_[C];if(!!v.contextMatchesRules(S,i.when))return i}return null}static contextMatchesRules(S,_){return _?_.evaluate(S):!0}}e.KeybindingResolver=v;function I(w){return w?`${w.serialize()}`:"no when condition"}function k(w){return w.extensionId?w.isBuiltinExtension?`built-in extension ${w.extensionId}`:`user extension ${w.extensionId}`:w.isDefault?"built-in":"user"}}),define(J[556],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeElementsAfterNulls=e.ResolvedKeybindingItem=void 0;class v{constructor(w,S,_,C,i,p,u){this.resolvedKeybinding=w,this.keypressParts=w?I(w.getDispatchParts()):[],w&&this.keypressParts.length===0&&(this.keypressParts=I(w.getSingleModifierDispatchParts())),this.bubble=S?S.charCodeAt(0)===94:!1,this.command=this.bubble?S.substr(1):S,this.commandArgs=_,this.when=C,this.isDefault=i,this.extensionId=p,this.isBuiltinExtension=u}}e.ResolvedKeybindingItem=v;function I(k){let w=[];for(let S=0,_=k.length;S<_;S++){const C=k[S];if(!C)return w;w.push(C)}return w}e.removeElementsAfterNulls=I}),define(J[557],ee([0,1,39,555]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.USLayoutResolvedKeybinding=void 0;class k extends I.BaseResolvedKeybinding{constructor(S,_){super(_,S.parts)}_keyCodeToUILabel(S){if(this._os===2)switch(S){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return v.KeyCodeUtils.toString(S)}_getLabel(S){return S.isDuplicateModifierCase()?"":this._keyCodeToUILabel(S.keyCode)}_getAriaLabel(S){return S.isDuplicateModifierCase()?"":v.KeyCodeUtils.toString(S.keyCode)}_getDispatchPart(S){return k.getDispatchStr(S)}static getDispatchStr(S){if(S.isModifierKey())return null;let _="";return S.ctrlKey&&(_+="ctrl+"),S.shiftKey&&(_+="shift+"),S.altKey&&(_+="alt+"),S.metaKey&&(_+="meta+"),_+=v.KeyCodeUtils.toString(S.keyCode),_}_getSingleModifierDispatchPart(S){return S.keyCode===5&&!S.shiftKey&&!S.altKey&&!S.metaKey?"ctrl":S.keyCode===4&&!S.ctrlKey&&!S.altKey&&!S.metaKey?"shift":S.keyCode===6&&!S.ctrlKey&&!S.shiftKey&&!S.metaKey?"alt":S.keyCode===57&&!S.ctrlKey&&!S.shiftKey&&!S.altKey?"meta":null}}e.USLayoutResolvedKeybinding=k}),define(J[116],ee([0,1,9]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILabelService=void 0,e.ILabelService=(0,v.createDecorator)("labelService")}),define(J[139],ee([0,1,9]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILayoutService=void 0,e.ILayoutService=(0,v.createDecorator)("layoutService")}),define(J[558],ee([0,1,205,2,139]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextViewService=void 0;let w=class extends I.Disposable{constructor(_){super();this.layoutService=_,this.currentViewDisposable=I.Disposable.None,this.container=_.container,this.contextView=this._register(new v.ContextView(this.container,1)),this.layout(),this._register(_.onDidLayout(()=>this.layout()))}setContainer(_,C){this.contextView.setContainer(_,C||1)}showContextView(_,C,i){C?C!==this.container&&(this.container=C,this.setContainer(C,i?3:2)):this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.contextView.show(_);const p=(0,I.toDisposable)(()=>{this.currentViewDisposable===p&&this.hideContextView()});return this.currentViewDisposable=p,p}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(_){this.contextView.hide(_)}};w=Me([pe(0,k.ILayoutService)],w),e.ContextViewService=w}),define(J[69],ee([0,1,9,2,6]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LogService=e.ConsoleLogger=e.AbstractLogger=e.DEFAULT_LOG_LEVEL=e.LogLevel=e.ILogService=void 0,e.ILogService=(0,v.createDecorator)("logService");var w;(function(i){i[i.Trace=0]="Trace",i[i.Debug=1]="Debug",i[i.Info=2]="Info",i[i.Warning=3]="Warning",i[i.Error=4]="Error",i[i.Critical=5]="Critical",i[i.Off=6]="Off"})(w=e.LogLevel||(e.LogLevel={})),e.DEFAULT_LOG_LEVEL=w.Info;class S extends I.Disposable{constructor(){super(...arguments);this.level=e.DEFAULT_LOG_LEVEL,this._onDidChangeLogLevel=this._register(new k.Emitter)}setLevel(p){this.level!==p&&(this.level=p,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}e.AbstractLogger=S;class _ extends S{constructor(p=e.DEFAULT_LOG_LEVEL){super();this.setLevel(p)}trace(p,...u){this.getLevel()<=w.Trace&&console.log("%cTRACE","color: #888",p,...u)}debug(p,...u){this.getLevel()<=w.Debug&&console.log("%cDEBUG","background: #eee; color: #888",p,...u)}info(p,...u){this.getLevel()<=w.Info&&console.log("%c INFO","color: #33f",p,...u)}error(p,...u){this.getLevel()<=w.Error&&console.log("%c  ERR","color: #f33",p,...u)}dispose(){}}e.ConsoleLogger=_;class C extends I.Disposable{constructor(p){super();this.logger=p,this._register(p)}getLevel(){return this.logger.getLevel()}trace(p,...u){this.logger.trace(p,...u)}debug(p,...u){this.logger.debug(p,...u)}info(p,...u){this.logger.info(p,...u)}error(p,...u){this.logger.error(p,...u)}}e.LogService=C}),define(J[252],ee([0,1,15,2,202,295,3,18,42,390,36,137,8,19,69,81,11]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorWorkerClient=e.EditorWorkerHost=e.EditorWorkerServiceImpl=void 0;const n=60*1e3,s=5*60*1e3;function t(L,N){let M=L.getModel(N);return!(!M||M.isTooLargeForSyncing())}let o=class extends I.Disposable{constructor(N,M,D){super();this._modelService=N,this._workerManager=this._register(new g(this._modelService)),this._logService=D,this._register(_.LinkProviderRegistry.register("*",{provideLinks:(R,P)=>t(this._modelService,R.uri)?this._workerManager.withWorker().then(O=>O.computeLinks(R.uri)).then(O=>O&&{links:O}):Promise.resolve({links:[]})})),this._register(_.CompletionProviderRegistry.register("*",new h(this._workerManager,M,this._modelService)))}dispose(){super.dispose()}canComputeDiff(N,M){return t(this._modelService,N)&&t(this._modelService,M)}computeDiff(N,M,D,R){return this._workerManager.withWorker().then(P=>P.computeDiff(N,M,D,R))}computeMoreMinimalEdits(N,M){if((0,l.isNonEmptyArray)(M)){if(!t(this._modelService,N))return Promise.resolve(M);const D=d.StopWatch.create(!0),R=this._workerManager.withWorker().then(P=>P.computeMoreMinimalEdits(N,M));return R.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",N.toString(!0),D.elapsed())),Promise.race([R,(0,v.timeout)(1e3).then(()=>M)])}else return Promise.resolve(void 0)}canNavigateValueSet(N){return t(this._modelService,N)}navigateValueSet(N,M,D){return this._workerManager.withWorker().then(R=>R.navigateValueSet(N,M,D))}canComputeWordRanges(N){return t(this._modelService,N)}computeWordRanges(N,M){return this._workerManager.withWorker().then(D=>D.computeWordRanges(N,M))}};o=Me([pe(0,p.IModelService),pe(1,u.ITextResourceConfigurationService),pe(2,c.ILogService)],o),e.EditorWorkerServiceImpl=o;class h{constructor(N,M,D){this._debugDisplayName="wordbasedCompletions",this._workerManager=N,this._configurationService=M,this._modelService=D}provideCompletionItems(N,M){return Ie(this,void 0,void 0,function*(){const D=this._configurationService.getValue(N.uri,M,"editor");if(!!D.wordBasedSuggestions){const R=[];if(D.wordBasedSuggestionsMode==="currentDocument")t(this._modelService,N.uri)&&R.push(N.uri);else for(const B of this._modelService.getModels())!t(this._modelService,B.uri)||(B===N?R.unshift(B.uri):(D.wordBasedSuggestionsMode==="allDocuments"||B.getLanguageIdentifier().id===N.getLanguageIdentifier().id)&&R.push(B.uri));if(R.length!==0){const P=C.LanguageConfigurationRegistry.getWordDefinition(N.getLanguageIdentifier().id),O=N.getWordAtPosition(M),W=O?new S.Range(M.lineNumber,O.startColumn,M.lineNumber,O.endColumn):S.Range.fromPositions(M),F=W.setEndPosition(M.lineNumber,M.column),A=yield(yield this._workerManager.withWorker()).textualSuggest(R,O==null?void 0:O.word,P);if(!!A)return{duration:A.duration,suggestions:A.words.map(B=>({kind:18,label:B,insertText:B,range:{insert:F,replace:W}}))}}}})}}class g extends I.Disposable{constructor(N){super();this._modelService=N,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new v.IntervalTimer).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(s/2)),this._register(this._modelService.onModelRemoved(D=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){!this._editorWorkerClient||this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){!this._editorWorkerClient||new Date().getTime()-this._lastWorkerUsedTime>s&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new y(this._modelService,!1,"editorWorkerService")),Promise.resolve(this._editorWorkerClient)}}class m extends I.Disposable{constructor(N,M,D){super();if(this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=N,this._modelService=M,!D){let R=new v.IntervalTimer;R.cancelAndSet(()=>this._checkStopModelSync(),Math.round(n/2)),this._register(R)}}dispose(){for(let N in this._syncedModels)(0,I.dispose)(this._syncedModels[N]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(N){for(const M of N){let D=M.toString();this._syncedModels[D]||this._beginModelSync(M),this._syncedModels[D]&&(this._syncedModelsLastUsedTime[D]=new Date().getTime())}}_checkStopModelSync(){let N=new Date().getTime(),M=[];for(let D in this._syncedModelsLastUsedTime)N-this._syncedModelsLastUsedTime[D]>n&&M.push(D);for(const D of M)this._stopModelSync(D)}_beginModelSync(N){let M=this._modelService.getModel(N);if(!!M&&!M.isTooLargeForSyncing()){let D=N.toString();this._proxy.acceptNewModel({url:M.uri.toString(),lines:M.getLinesContent(),EOL:M.getEOL(),versionId:M.getVersionId()});const R=new I.DisposableStore;R.add(M.onDidChangeContent(P=>{this._proxy.acceptModelChanged(D.toString(),P)})),R.add(M.onWillDispose(()=>{this._stopModelSync(D)})),R.add((0,I.toDisposable)(()=>{this._proxy.acceptRemovedModel(D)})),this._syncedModels[D]=R}}_stopModelSync(N){let M=this._syncedModels[N];delete this._syncedModels[N],delete this._syncedModelsLastUsedTime[N],(0,I.dispose)(M)}}class f{constructor(N){this._instance=N,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class b{constructor(N){this._workerClient=N}fhr(N,M){return this._workerClient.fhr(N,M)}}e.EditorWorkerHost=b;class y extends I.Disposable{constructor(N,M,D){super();this._disposed=!1,this._modelService=N,this._keepIdleModels=M,this._workerFactory=new w.DefaultWorkerFactory(D),this._worker=null,this._modelManager=null}fhr(N,M){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new k.SimpleWorkerClient(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new b(this)))}catch(N){(0,k.logOnceWebWorkerWarning)(N),this._worker=new f(new i.EditorSimpleWorker(new b(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,N=>((0,k.logOnceWebWorkerWarning)(N),this._worker=new f(new i.EditorSimpleWorker(new b(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(N){return this._modelManager||(this._modelManager=this._register(new m(N,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(N){return this._disposed?Promise.reject((0,r.canceled)()):this._getProxy().then(M=>(this._getOrCreateModelManager(M).ensureSyncedResources(N),M))}computeDiff(N,M,D,R){return this._withSyncedResources([N,M]).then(P=>P.computeDiff(N.toString(),M.toString(),D,R))}computeMoreMinimalEdits(N,M){return this._withSyncedResources([N]).then(D=>D.computeMoreMinimalEdits(N.toString(),M))}computeLinks(N){return this._withSyncedResources([N]).then(M=>M.computeLinks(N.toString()))}textualSuggest(N,M,D){return Ie(this,void 0,void 0,function*(){const R=yield this._withSyncedResources(N),P=D.source,O=(0,a.regExpFlags)(D);return R.textualSuggest(N.map(W=>W.toString()),M,P,O)})}computeWordRanges(N,M){return this._withSyncedResources([N]).then(D=>{let R=this._modelService.getModel(N);if(!R)return Promise.resolve(null);let P=C.LanguageConfigurationRegistry.getWordDefinition(R.getLanguageIdentifier().id),O=P.source,W=(0,a.regExpFlags)(P);return D.computeWordRanges(N.toString(),M,O,W)})}navigateValueSet(N,M,D){return this._withSyncedResources([N]).then(R=>{let P=this._modelService.getModel(N);if(!P)return null;let O=C.LanguageConfigurationRegistry.getWordDefinition(P.getLanguageIdentifier().id),W=O.source,F=(0,a.regExpFlags)(O);return R.navigateValueSet(N.toString(),M,D,W,F)})}dispose(){super.dispose(),this._disposed=!0}}e.EditorWorkerClient=y}),define(J[253],ee([0,1,18,69,135]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toMultilineTokens2=e.SemanticTokensProviderStyling=void 0;class w{constructor(p,u,a){this._legend=p,this._themeService=u,this._logService=a,this._hashTable=new C,this._hasWarnedOverlappingTokens=!1}getMetadata(p,u,a){const l=this._hashTable.get(p,u,a.id);let c;if(l)c=l.metadata,this._logService.getLevel()===I.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${p} / ${u}: foreground ${v.TokenMetadata.getForeground(c)}, fontStyle ${v.TokenMetadata.getFontStyle(c).toString(2)}`);else{let d=this._legend.tokenTypes[p];const r=[];if(d){let n=u;for(let t=0;n>0&&t<this._legend.tokenModifiers.length;t++)n&1&&r.push(this._legend.tokenModifiers[t]),n=n>>1;n>0&&this._logService.getLevel()===I.LogLevel.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${u.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),r.push("not-in-legend"));const s=this._themeService.getColorTheme().getTokenStyleMetadata(d,r,a.language);typeof s=="undefined"?c=2147483647:(c=0,typeof s.italic!="undefined"&&(c|=(s.italic?1:0)<<11|1),typeof s.bold!="undefined"&&(c|=(s.bold?2:0)<<11|2),typeof s.underline!="undefined"&&(c|=(s.underline?4:0)<<11|4),s.foreground&&(c|=s.foreground<<14|8),c===0&&(c=2147483647))}else this._logService.getLevel()===I.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${p} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),c=2147483647,d="not-in-legend";this._hashTable.add(p,u,a.id,c),this._logService.getLevel()===I.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${p} (${d}) / ${u} (${r.join(" ")}): foreground ${v.TokenMetadata.getForeground(c)}, fontStyle ${v.TokenMetadata.getFontStyle(c).toString(2)}`)}return c}warnOverlappingSemanticTokens(p,u){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${p}, column ${u}`))}}e.SemanticTokensProviderStyling=w;function S(i,p,u){const a=i.data,l=i.data.length/5|0,c=Math.max(Math.ceil(l/1024),400),d=[];let r=0,n=1,s=0;for(;r<l;){const t=r;let o=Math.min(t+c,l);if(o<l){let N=o;for(;N-1>t&&a[5*N]===0;)N--;if(N-1===t){let M=o;for(;M+1<l&&a[5*M]===0;)M++;o=M}else o=N}let h=new Uint32Array((o-t)*4),g=0,m=0,f=0,b=0,y=0;for(;r<o;){const N=5*r,M=a[N],D=a[N+1],R=n+M,P=M===0?s+D:D,O=a[N+2],W=a[N+3],F=a[N+4],E=p.getMetadata(W,F,u);E!==2147483647&&(m===0&&(m=R),f===R&&y>P&&(p.warnOverlappingSemanticTokens(R,P+1),b<P?h[g-4+2]=P:g-=4),h[g]=R-m,h[g+1]=P,h[g+2]=P+O,h[g+3]=E,g+=4,f=R,b=P,y=P+O),n=R,s=P,r++}g!==h.length&&(h=h.subarray(0,g));const L=new k.MultilineTokens2(m,new k.SparseEncodedTokens(h));d.push(L)}return d}e.toMultilineTokens2=S;class _{constructor(p,u,a,l){this.tokenTypeIndex=p,this.tokenModifierSet=u,this.languageId=a,this.metadata=l,this.next=null}}class C{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=C._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<C._SIZES.length?2/3*this._currentLength:0),this._elements=[],C._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(p,u){for(let a=0;a<u;a++)p[a]=null}_hash2(p,u){return(p<<5)-p+u|0}_hashFunc(p,u,a){return this._hash2(this._hash2(p,u),a)%this._currentLength}get(p,u,a){const l=this._hashFunc(p,u,a);let c=this._elements[l];for(;c;){if(c.tokenTypeIndex===p&&c.tokenModifierSet===u&&c.languageId===a)return c;c=c.next}return null}add(p,u,a,l){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const c=this._elements;this._currentLengthIndex++,this._currentLength=C._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<C._SIZES.length?2/3*this._currentLength:0),this._elements=[],C._nullOutEntries(this._elements,this._currentLength);for(const d of c){let r=d;for(;r;){const n=r.next;r.next=null,this._add(r),r=n}}}this._add(new _(p,u,a,l))}_add(p){const u=this._hashFunc(p.tokenTypeIndex,p.tokenModifierSet,p.languageId);p.next=this._elements[u],this._elements[u]=p}}C._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]}),define(J[559],ee([0,1,252,20]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createWebWorker=void 0;function k(S,_){return new w(S,_)}e.createWebWorker=k;class w extends v.EditorWorkerClient{constructor(_,C){super(_,C.keepIdleModels||!1,C.label);this._foreignModuleId=C.moduleId,this._foreignModuleCreateData=C.createData||null,this._foreignModuleHost=C.host||null,this._foreignProxy=null}fhr(_,C){if(!this._foreignModuleHost||typeof this._foreignModuleHost[_]!="function")return Promise.reject(new Error("Missing method "+_+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[_].apply(this._foreignModuleHost,C))}catch(i){return Promise.reject(i)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(_=>{const C=this._foreignModuleHost?I.getAllMethodNames(this._foreignModuleHost):[];return _.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,C).then(i=>{this._foreignModuleCreateData=null;const p=(l,c)=>_.fmr(l,c),u=(l,c)=>function(){const d=Array.prototype.slice.call(arguments,0);return c(l,d)};let a={};for(const l of i)a[l]=u(l,p);return a})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(_){return this._withSyncedResources(_).then(C=>this.getProxy())}}}),define(J[85],ee([0,1,9,527,82]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerService=e.IMarkerData=e.MarkerSeverity=void 0;var w;(function(_){_[_.Hint=1]="Hint",_[_.Info=2]="Info",_[_.Warning=4]="Warning",_[_.Error=8]="Error"})(w=e.MarkerSeverity||(e.MarkerSeverity={})),function(_){function C(l,c){return c-l}_.compare=C;const i=Object.create(null);i[_.Error]=(0,I.localize)(0,null),i[_.Warning]=(0,I.localize)(1,null),i[_.Info]=(0,I.localize)(2,null);function p(l){return i[l]||""}_.toString=p;function u(l){switch(l){case k.default.Error:return _.Error;case k.default.Warning:return _.Warning;case k.default.Info:return _.Info;case k.default.Ignore:return _.Hint}}_.fromSeverity=u;function a(l){switch(l){case _.Error:return k.default.Error;case _.Warning:return k.default.Warning;case _.Info:return k.default.Info;case _.Hint:return k.default.Ignore}}_.toSeverity=a}(w=e.MarkerSeverity||(e.MarkerSeverity={}));var S;(function(_){const C="";function i(u){return p(u,!0)}_.makeKey=i;function p(u,a){let l=[C];return u.source?l.push(u.source.replace("\xA6","\\\xA6")):l.push(C),u.code?typeof u.code=="string"?l.push(u.code.replace("\xA6","\\\xA6")):l.push(u.code.value.replace("\xA6","\\\xA6")):l.push(C),u.severity!==void 0&&u.severity!==null?l.push(w.toString(u.severity)):l.push(C),u.message&&a?l.push(u.message.replace("\xA6","\\\xA6")):l.push(C),u.startLineNumber!==void 0&&u.startLineNumber!==null?l.push(u.startLineNumber.toString()):l.push(C),u.startColumn!==void 0&&u.startColumn!==null?l.push(u.startColumn.toString()):l.push(C),u.endLineNumber!==void 0&&u.endLineNumber!==null?l.push(u.endLineNumber.toString()):l.push(C),u.endColumn!==void 0&&u.endColumn!==null?l.push(u.endColumn.toString()):l.push(C),l.push(C),l.join("\xA6")}_.makeKeyOptionalMessage=p})(S=e.IMarkerData||(e.IMarkerData={})),e.IMarkerService=(0,v.createDecorator)("markerService")}),define(J[560],ee([0,1,85,24,6,2,3,8,19,9,75,72]),function($,e,v,I,k,w,S,_,C,i,p,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerNavigationService=e.MarkerList=e.MarkerCoordinate=void 0;class a{constructor(r,n,s){this.marker=r,this.index=n,this.total=s}}e.MarkerCoordinate=a;let l=class Tt{constructor(r,n){this._markerService=n,this._onDidChange=new k.Emitter,this.onDidChange=this._onDidChange.event,this._dispoables=new w.DisposableStore,this._markers=[],this._nextIdx=-1,I.URI.isUri(r)?this._resourceFilter=t=>t.toString()===r.toString():r&&(this._resourceFilter=r);const s=()=>{this._markers=this._markerService.read({resource:I.URI.isUri(r)?r:void 0,severities:v.MarkerSeverity.Error|v.MarkerSeverity.Warning|v.MarkerSeverity.Info}),typeof r=="function"&&(this._markers=this._markers.filter(t=>this._resourceFilter(t.resource))),this._markers.sort(Tt._compareMarker)};s(),this._dispoables.add(n.onMarkerChanged(t=>{(!this._resourceFilter||t.some(o=>this._resourceFilter(o)))&&(s(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(r){return!this._resourceFilter&&!r?!0:!this._resourceFilter||!r?!1:this._resourceFilter(r)}get selected(){const r=this._markers[this._nextIdx];return r&&new a(r,this._nextIdx+1,this._markers.length)}_initIdx(r,n,s){let t=!1,o=this._markers.findIndex(h=>h.resource.toString()===r.uri.toString());o<0&&(o=(0,C.binarySearch)(this._markers,{resource:r.uri},(h,g)=>(0,_.compare)(h.resource.toString(),g.resource.toString())),o<0&&(o=~o));for(let h=o;h<this._markers.length;h++){let g=S.Range.lift(this._markers[h]);if(g.isEmpty()){const m=r.getWordAtPosition(g.getStartPosition());m&&(g=new S.Range(g.startLineNumber,m.startColumn,g.startLineNumber,m.endColumn))}if(n&&(g.containsPosition(n)||n.isBeforeOrEqual(g.getStartPosition()))){this._nextIdx=h,t=!0;break}if(this._markers[h].resource.toString()!==r.uri.toString())break}t||(this._nextIdx=s?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(r,n,s){if(this._markers.length===0)return!1;let t=this._nextIdx;return this._nextIdx===-1?this._initIdx(n,s,r):r?this._nextIdx=(this._nextIdx+1)%this._markers.length:r||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),t!==this._nextIdx}find(r,n){let s=this._markers.findIndex(t=>t.resource.toString()===r.toString());if(!(s<0)){for(;s<this._markers.length;s++)if(S.Range.containsPosition(this._markers[s],n))return new a(this._markers[s],s+1,this._markers.length)}}static _compareMarker(r,n){let s=(0,_.compare)(r.resource.toString(),n.resource.toString());return s===0&&(s=v.MarkerSeverity.compare(r.severity,n.severity)),s===0&&(s=S.Range.compareRangesUsingStarts(r,n)),s}};l=Me([pe(1,v.IMarkerService)],l),e.MarkerList=l,e.IMarkerNavigationService=(0,i.createDecorator)("IMarkerNavigationService");let c=class{constructor(r){this._markerService=r,this._provider=new u.LinkedList}getMarkerList(r){for(let n of this._provider){const s=n.getMarkerList(r);if(s)return s}return new l(r,this._markerService)}};c=Me([pe(0,v.IMarkerService)],c),(0,p.registerSingleton)(e.IMarkerNavigationService,c,!0)}),define(J[561],ee([0,1,19,44,24,6,85,51,54]),function($,e,v,I,k,w,S,_,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerService=void 0;class i{constructor(){this._byResource=new _.ResourceMap,this._byOwner=new Map}set(l,c,d){let r=this._byResource.get(l);r||(r=new Map,this._byResource.set(l,r)),r.set(c,d);let n=this._byOwner.get(c);n||(n=new _.ResourceMap,this._byOwner.set(c,n)),n.set(l,d)}get(l,c){let d=this._byResource.get(l);return d==null?void 0:d.get(c)}delete(l,c){let d=!1,r=!1,n=this._byResource.get(l);n&&(d=n.delete(c));let s=this._byOwner.get(c);if(s&&(r=s.delete(l)),d!==r)throw new Error("illegal state");return d&&r}values(l){var c,d,r,n;return typeof l=="string"?(d=(c=this._byOwner.get(l))===null||c===void 0?void 0:c.values())!==null&&d!==void 0?d:C.Iterable.empty():k.URI.isUri(l)?(n=(r=this._byResource.get(l))===null||r===void 0?void 0:r.values())!==null&&n!==void 0?n:C.Iterable.empty():C.Iterable.map(C.Iterable.concat(...this._byOwner.values()),s=>s[1])}}class p{constructor(l){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new _.ResourceMap,this._service=l,this._subscription=l.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(l){for(const c of l){const d=this._data.get(c);d&&this._substract(d);const r=this._resourceStats(c);this._add(r),this._data.set(c,r)}}_resourceStats(l){const c={errors:0,warnings:0,infos:0,unknowns:0};if(l.scheme===I.Schemas.inMemory||l.scheme===I.Schemas.walkThrough||l.scheme===I.Schemas.walkThroughSnippet)return c;for(const{severity:d}of this._service.read({resource:l}))d===S.MarkerSeverity.Error?c.errors+=1:d===S.MarkerSeverity.Warning?c.warnings+=1:d===S.MarkerSeverity.Info?c.infos+=1:c.unknowns+=1;return c}_substract(l){this.errors-=l.errors,this.warnings-=l.warnings,this.infos-=l.infos,this.unknowns-=l.unknowns}_add(l){this.errors+=l.errors,this.warnings+=l.warnings,this.infos+=l.infos,this.unknowns+=l.unknowns}}class u{constructor(){this._onMarkerChanged=new w.Emitter,this.onMarkerChanged=w.Event.debounce(this._onMarkerChanged.event,u._debouncer,0),this._data=new i,this._stats=new p(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(l,c){for(const d of c||[])this.changeOne(l,d,[])}changeOne(l,c,d){if((0,v.isFalsyOrEmpty)(d))this._data.delete(c,l)&&this._onMarkerChanged.fire([c]);else{const r=[];for(const n of d){const s=u._toMarker(l,c,n);s&&r.push(s)}this._data.set(c,l,r),this._onMarkerChanged.fire([c])}}static _toMarker(l,c,d){let{code:r,severity:n,message:s,source:t,startLineNumber:o,startColumn:h,endLineNumber:g,endColumn:m,relatedInformation:f,tags:b}=d;if(!!s)return o=o>0?o:1,h=h>0?h:1,g=g>=o?g:o,m=m>0?m:h,{resource:c,owner:l,code:r,severity:n,message:s,source:t,startLineNumber:o,startColumn:h,endLineNumber:g,endColumn:m,relatedInformation:f,tags:b}}read(l=Object.create(null)){let{owner:c,resource:d,severities:r,take:n}=l;if((!n||n<0)&&(n=-1),c&&d){const s=this._data.get(d,c);if(s){const t=[];for(const o of s)if(u._accept(o,r)){const h=t.push(o);if(n>0&&h===n)break}return t}else return[]}else if(!c&&!d){const s=[];for(let t of this._data.values())for(let o of t)if(u._accept(o,r)){const h=s.push(o);if(n>0&&h===n)return s}return s}else{const s=this._data.values(d!=null?d:c),t=[];for(const o of s)for(const h of o)if(u._accept(h,r)){const g=t.push(h);if(n>0&&g===n)return t}return t}}static _accept(l,c){return c===void 0||(c&l.severity)===l.severity}static _debouncer(l,c){l||(u._dedupeMap=new _.ResourceMap,l=[]);for(const d of c)u._dedupeMap.has(d)||(u._dedupeMap.set(d,!0),l.push(d));return l}}e.MarkerService=u}),define(J[32],ee([0,1,82,9]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoOpNotification=e.INotificationService=e.Severity=void 0,e.Severity=v.default,e.INotificationService=(0,I.createDecorator)("notificationService");class k{}e.NoOpNotification=k}),define(J[58],ee([0,1,2,8,24,9]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchesScheme=e.NullOpenerService=e.IOpenerService=void 0,e.IOpenerService=(0,w.createDecorator)("openerService"),e.NullOpenerService=Object.freeze({_serviceBrand:void 0,registerOpener(){return v.Disposable.None},registerValidator(){return v.Disposable.None},registerExternalUriResolver(){return v.Disposable.None},setDefaultExternalOpener(){},registerExternalOpener(){return v.Disposable.None},open(){return Ie(this,void 0,void 0,function*(){return!1})},resolveExternalUri(_){return Ie(this,void 0,void 0,function*(){return{resolved:_,dispose(){}}})}});function S(_,C){return k.URI.isUri(_)?(0,I.equalsIgnoreCase)(_.scheme,C):(0,I.startsWithIgnoreCase)(_,C+":")}e.matchesScheme=S}),define(J[140],ee([0,1,291,58,57,11,243,6,2,18]),function($,e,v,I,k,w,S,_,C,i){"use strict";var p;Object.defineProperty(e,"__esModule",{value:!0}),e.MarkdownRenderer=void 0;let u=class Rt{constructor(l,c,d){this._options=l,this._modeService=c,this._openerService=d,this._onDidRenderAsync=new _.Emitter,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(l,c,d){const r=new C.DisposableStore;let n;return l?n=(0,v.renderMarkdown)(l,Object.assign(Object.assign({},this._getRenderOptions(l,r)),c),d):n=document.createElement("span"),{element:n,dispose:()=>r.dispose()}}_getRenderOptions(l,c){return{baseUrl:this._options.baseUrl,codeBlockRenderer:(d,r)=>Ie(this,void 0,void 0,function*(){var n,s,t,o;let h;d?h=this._modeService.getModeIdForLanguageName(d):this._options.editor&&(h=(n=this._options.editor.getModel())===null||n===void 0?void 0:n.getLanguageIdentifier().language),h||(h="plaintext"),this._modeService.triggerMode(h);const g=(s=yield i.TokenizationRegistry.getPromise(h))!==null&&s!==void 0?s:void 0,m=document.createElement("span");m.innerHTML=(o=(t=Rt._ttpTokenizer)===null||t===void 0?void 0:t.createHTML(r,g))!==null&&o!==void 0?o:(0,S.tokenizeToString)(r,g);let f=this._options.codeBlockFontFamily;return this._options.editor&&(f=this._options.editor.getOption(40).fontFamily),f&&(m.style.fontFamily=f),m}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:d=>this._openerService.open(d,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:l.isTrusted}).catch(w.onUnexpectedError),disposeables:c}}}};u._ttpTokenizer=(p=window.trustedTypes)===null||p===void 0?void 0:p.createPolicy("tokenizeToString",{createHTML(a,l){return(0,S.tokenizeToString)(a,l)}}),u=Me([pe(1,k.IModeService),pe(2,I.IOpenerService)],u),e.MarkdownRenderer=u}),define(J[562],ee([0,1,7,23,72,51,200,44,45,24,28,26,534,58]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpenerService=void 0;let c=class{constructor(s){this._commandService=s}open(s,t){return Ie(this,void 0,void 0,function*(){if(!(0,l.matchesScheme)(s,_.Schemas.command))return!1;if(!(t==null?void 0:t.allowCommands))return!0;typeof s=="string"&&(s=i.URI.parse(s));let o=[];try{o=(0,S.parse)(decodeURIComponent(s.query))}catch(h){try{o=(0,S.parse)(s.query)}catch(g){}}return Array.isArray(o)||(o=[o]),yield this._commandService.executeCommand(s.path,...o),!0})}};c=Me([pe(0,u.ICommandService)],c);let d=class{constructor(s){this._editorService=s}open(s,t){return Ie(this,void 0,void 0,function*(){typeof s=="string"&&(s=i.URI.parse(s));let o;const h=/^L?(\d+)(?:,(\d+))?/.exec(s.fragment);return h&&(o={startLineNumber:parseInt(h[1]),startColumn:h[2]?parseInt(h[2]):1},s=s.with({fragment:""})),s.scheme===_.Schemas.file&&(s=(0,C.normalizePath)(s)),yield this._editorService.openCodeEditor({resource:s,options:Object.assign({selection:o,context:(t==null?void 0:t.fromUserGesture)?a.EditorOpenContext.USER:a.EditorOpenContext.API},t==null?void 0:t.editorOptions)},this._editorService.getFocusedCodeEditor(),t==null?void 0:t.openToSide),!0})}};d=Me([pe(0,p.ICodeEditorService)],d);let r=class{constructor(s,t){this._openers=new k.LinkedList,this._validators=new k.LinkedList,this._resolvers=new k.LinkedList,this._resolvedUriTargets=new w.ResourceMap(o=>o.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new k.LinkedList,this._defaultExternalOpener={openExternal:o=>Ie(this,void 0,void 0,function*(){return(0,l.matchesScheme)(o,_.Schemas.http)||(0,l.matchesScheme)(o,_.Schemas.https)?v.windowOpenNoOpener(o):window.location.href=o,!0})},this._openers.push({open:(o,h)=>Ie(this,void 0,void 0,function*(){return(h==null?void 0:h.openExternal)||(0,l.matchesScheme)(o,_.Schemas.mailto)||(0,l.matchesScheme)(o,_.Schemas.http)||(0,l.matchesScheme)(o,_.Schemas.https)?(yield this._doOpenExternal(o,h),!0):!1})}),this._openers.push(new c(t)),this._openers.push(new d(s))}registerOpener(s){return{dispose:this._openers.unshift(s)}}registerValidator(s){return{dispose:this._validators.push(s)}}registerExternalUriResolver(s){return{dispose:this._resolvers.push(s)}}setDefaultExternalOpener(s){this._defaultExternalOpener=s}registerExternalOpener(s){return{dispose:this._externalOpeners.push(s)}}open(s,t){var o;return Ie(this,void 0,void 0,function*(){const h=typeof s=="string"?i.URI.parse(s):s,g=(o=this._resolvedUriTargets.get(h))!==null&&o!==void 0?o:s;for(const m of this._validators)if(!(yield m.shouldOpen(g)))return!1;for(const m of this._openers)if(yield m.open(s,t))return!0;return!1})}resolveExternalUri(s,t){return Ie(this,void 0,void 0,function*(){for(const o of this._resolvers){const h=yield o.resolveExternalUri(s,t);if(h)return this._resolvedUriTargets.has(h.resolved)||this._resolvedUriTargets.set(h.resolved,s),h}return{resolved:s,dispose:()=>{}}})}_doOpenExternal(s,t){return Ie(this,void 0,void 0,function*(){const o=typeof s=="string"?i.URI.parse(s):s,{resolved:h}=yield this.resolveExternalUri(o,t);let g;if(typeof s=="string"&&o.toString()===h.toString()?g=s:g=encodeURI(h.toString(!0)),t==null?void 0:t.allowContributedOpeners){const m=typeof(t==null?void 0:t.allowContributedOpeners)=="string"?t==null?void 0:t.allowContributedOpeners:void 0;for(const f of this._externalOpeners)if(yield f.openExternal(g,{sourceUri:o,preferredOpenerId:m},I.CancellationToken.None))return!0}return this._defaultExternalOpener.openExternal(g,{sourceUri:o},I.CancellationToken.None)})}dispose(){this._validators.clear()}};r=Me([pe(0,p.ICodeEditorService),pe(1,u.ICommandService)],r),e.OpenerService=r}),define(J[563],ee([0,1,7,74,2,229,409,140,58,19]),function($,e,v,I,k,w,S,_,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModesGlyphHoverWidget=void 0;class p{constructor(l){this._editor=l,this._lineNumber=-1,this._result=[]}setLineNumber(l){this._lineNumber=l,this._result=[]}clearResult(){this._result=[]}computeSync(){const l=r=>({value:r}),c=this._editor.getLineDecorations(this._lineNumber),d=[];if(!c)return d;for(const r of c)if(!!r.options.glyphMarginClassName){const n=r.options.glyphMarginHoverMessage;!n||(0,I.isEmptyMarkdownString)(n)||d.push(...(0,i.asArray)(n).map(l))}return d}onResult(l,c){this._result=this._result.concat(l)}getResult(){return this._result}getResultWithLoadingMessage(){return this.getResult()}}class u extends S.GlyphHoverWidget{constructor(l,c,d=C.NullOpenerService){super(u.ID,l);this._renderDisposeables=this._register(new k.DisposableStore),this._messages=[],this._lastLineNumber=-1,this._markdownRenderer=this._register(new _.MarkdownRenderer({editor:this._editor},c,d)),this._computer=new p(this._editor),this._hoverOperation=new w.HoverOperation(this._computer,r=>this._withResult(r),void 0,r=>this._withResult(r),300)}dispose(){this._hoverOperation.cancel(),super.dispose()}onModelDecorationsChanged(){this.isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start(0))}startShowingAt(l){this._lastLineNumber!==l&&(this._hoverOperation.cancel(),this.hide(),this._lastLineNumber=l,this._computer.setLineNumber(l),this._hoverOperation.start(0))}hide(){this._lastLineNumber=-1,this._hoverOperation.cancel(),super.hide()}_withResult(l){this._messages=l,this._messages.length>0?this._renderMessages(this._lastLineNumber,this._messages):this.hide()}_renderMessages(l,c){this._renderDisposeables.clear();const d=document.createDocumentFragment();for(const r of c){const n=this._markdownRenderer.render(r.value);this._renderDisposeables.add(n),d.appendChild((0,v.$)("div.hover-row",void 0,n.element))}this.updateContents(d),this.showAt(l)}}e.ModesGlyphHoverWidget=u,u.ID="editor.contrib.modesGlyphHoverWidget"}),define(J[254],ee([0,1,512,2,7,61,140,74,27,6,232,9]),function($,e,v,I,k,w,S,_,C,i,p,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestDetailsOverlay=e.SuggestDetailsWidget=e.canExpandCompletionItem=void 0;function a(d){return!!d&&Boolean(d.completion.documentation||d.completion.detail&&d.completion.detail!==d.completion.label)}e.canExpandCompletionItem=a;let l=class{constructor(r,n){this._editor=r,this._onDidClose=new i.Emitter,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new i.Emitter,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new I.DisposableStore,this._renderDisposeable=new I.DisposableStore,this._borderWidth=1,this._size=new k.Dimension(330,0),this.domNode=k.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=n.createInstance(S.MarkdownRenderer,{editor:r}),this._body=k.$(".body"),this._scrollbar=new w.DomScrollableElement(this._body,{}),k.append(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=k.append(this._body,k.$(".header")),this._close=k.append(this._header,k.$("span"+C.Codicon.close.cssSelector)),this._close.title=v.localize(0,null),this._type=k.append(this._header,k.$("p.type")),this._docs=k.append(this._body,k.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(s=>{s.hasChanged(40)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const r=this._editor.getOptions(),n=r.get(40),s=n.fontFamily,t=r.get(104)||n.fontSize,o=r.get(105)||n.lineHeight,h=n.fontWeight,g=`${t}px`,m=`${o}px`;this.domNode.style.fontSize=g,this.domNode.style.lineHeight=m,this.domNode.style.fontWeight=h,this.domNode.style.fontFeatureSettings=n.fontFeatureSettings,this._type.style.fontFamily=s,this._close.style.height=m,this._close.style.width=m}getLayoutInfo(){const r=this._editor.getOption(105)||this._editor.getOption(40).lineHeight,n=this._borderWidth,s=n*2;return{lineHeight:r,borderWidth:n,borderHeight:s,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=v.localize(1,null),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(r,n){var s,t;this._renderDisposeable.clear();let{detail:o,documentation:h}=r.completion;if(n){let g="";g+=`score: ${r.score[0]}
`,g+=`prefix: ${(s=r.word)!==null&&s!==void 0?s:"(no prefix)"}
`,g+=`word: ${r.completion.filterText?r.completion.filterText+" (filterText)":r.textLabel}
`,g+=`distance: ${r.distance} (localityBonus-setting)
`,g+=`index: ${r.idx}, based on ${r.completion.sortText&&`sortText: "${r.completion.sortText}"`||"label"}
`,g+=`commit_chars: ${(t=r.completion.commitCharacters)===null||t===void 0?void 0:t.join("")}
`,h=new _.MarkdownString().appendCodeblock("empty",g),o=`Provider: ${r.provider._debugDisplayName}`}if(!n&&!a(r)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),o){const g=o.length>1e5?`${o.substr(0,1e5)}\u2026`:o;this._type.textContent=g,this._type.title=g,k.show(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(g))}else k.clearNode(this._type),this._type.title="",k.hide(this._type),this.domNode.classList.add("no-type");if(k.clearNode(this._docs),typeof h=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=h;else if(h){this._docs.classList.add("markdown-docs"),k.clearNode(this._docs);const g=this._markdownRenderer.render(h);this._docs.appendChild(g.element),this._renderDisposeable.add(g),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=g=>{g.preventDefault(),g.stopPropagation()},this._close.onclick=g=>{g.preventDefault(),g.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(r,n){const s=new k.Dimension(r,n);k.Dimension.equals(s,this._size)||(this._size=s,k.size(this.domNode,r,n)),this._scrollbar.scanDomNode()}scrollDown(r=8){this._body.scrollTop+=r}scrollUp(r=8){this._body.scrollTop-=r}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(r){this._borderWidth=r}get borderWidth(){return this._borderWidth}};l=Me([pe(1,u.IInstantiationService)],l),e.SuggestDetailsWidget=l;class c{constructor(r,n){this.widget=r,this._editor=n,this._disposables=new I.DisposableStore,this._added=!1,this._resizable=new p.ResizableHTMLElement,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(r.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let s,t,o=0,h=0;this._disposables.add(this._resizable.onDidWillResize(()=>{s=this._topLeft,t=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(g=>{if(s&&t){this.widget.layout(g.dimension.width,g.dimension.height);let m=!1;g.west&&(h=t.width-g.dimension.width,m=!0),g.north&&(o=t.height-g.dimension.height,m=!0),m&&this._applyTopLeft({top:s.top+o,left:s.left+h})}g.done&&(s=void 0,t=void 0,o=0,h=0,this._userSize=g.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var g;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(g=this._userSize)!==null&&g!==void 0?g:this.widget.size)}))}dispose(){this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(r=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),r&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(r){var n;const s=k.getDomNodePagePosition(r);this._anchorBox=s,this._placeAtAnchor(this._anchorBox,(n=this._userSize)!==null&&n!==void 0?n:this.widget.size)}_placeAtAnchor(r,n){const s=k.getClientArea(document.body),t=this.widget.getLayoutInfo();let o,h,g=new k.Dimension(220,2*t.lineHeight),m=0,f=r.top,b=r.top+r.height-t.borderHeight,y,L,N=s.width-(r.left+r.width+t.borderWidth+t.horizontalPadding);m=-t.borderWidth+r.left+r.width,L=!0,o=new k.Dimension(N,s.height-r.top-t.borderHeight-t.verticalPadding),h=o.with(void 0,r.top+r.height-t.borderHeight-t.verticalPadding),n.width>N&&(r.left>N&&(N=r.left-t.borderWidth-t.horizontalPadding,L=!1,m=Math.max(t.horizontalPadding,r.left-n.width-t.borderWidth),o=o.with(N),h=o.with(void 0,h.height)),r.width>N*1.3&&s.height-(r.top+r.height)>r.height&&(N=r.width,m=r.left,f=-t.borderWidth+r.top+r.height,o=new k.Dimension(r.width-t.borderHeight,s.height-r.top-r.height-t.verticalPadding),h=o.with(void 0,r.top-t.verticalPadding),g=g.with(o.width)));let M=n.height,D=Math.max(o.height,h.height);M>D&&(M=D);let R;M<=o.height?(y=!0,R=o):(y=!1,R=h),this._applyTopLeft({left:m,top:y?f:b-M}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!y,L,y,!L),this._resizable.minSize=g,this._resizable.maxSize=R,this._resizable.layout(M,Math.min(R.width,n.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(r){this._topLeft=r,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}e.SuggestDetailsOverlay=c}),define(J[59],ee([0,1,9]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorProgressService=e.Progress=void 0;class I{constructor(w){this.callback=w}report(w){this._value=w,this.callback(this._value)}}e.Progress=I,I.None=Object.freeze({report(){}}),e.IEditorProgressService=(0,v.createDecorator)("editorProgressService")}),define(J[564],ee([0,1,23,2,15]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PickerQuickAccessProvider=e.TriggerAction=void 0;var w;(function(i){i[i.NO_ACTION=0]="NO_ACTION",i[i.CLOSE_PICKER=1]="CLOSE_PICKER",i[i.REFRESH_PICKER=2]="REFRESH_PICKER",i[i.REMOVE_ITEM=3]="REMOVE_ITEM"})(w=e.TriggerAction||(e.TriggerAction={}));function S(i){const p=i;return Array.isArray(p.items)}function _(i){const p=i;return!!p.picks&&p.additionalPicks instanceof Promise}class C extends I.Disposable{constructor(p,u){super();this.prefix=p,this.options=u}provide(p,u){var a;const l=new I.DisposableStore;p.canAcceptInBackground=!!((a=this.options)===null||a===void 0?void 0:a.canAcceptInBackground),p.matchOnLabel=p.matchOnDescription=p.matchOnDetail=p.sortByLabel=!1;let c;const d=l.add(new I.MutableDisposable),r=()=>Ie(this,void 0,void 0,function*(){const n=d.value=new I.DisposableStore;c==null||c.dispose(!0),p.busy=!1,c=new v.CancellationTokenSource(u);const s=c.token,t=p.value.substr(this.prefix.length).trim(),o=this.getPicks(t,n,s),h=(g,m)=>{var f;let b,y;if(S(g)?(b=g.items,y=g.active):b=g,b.length===0){if(m)return!1;t.length>0&&((f=this.options)===null||f===void 0?void 0:f.noResultsPick)&&(b=[this.options.noResultsPick])}return p.items=b,y&&(p.activeItems=[y]),!0};if(o!==null)if(_(o)){let g=!1,m=!1;yield Promise.all([(()=>Ie(this,void 0,void 0,function*(){yield(0,k.timeout)(C.FAST_PICKS_RACE_DELAY),!s.isCancellationRequested&&(m||(g=h(o.picks,!0)))}))(),(()=>Ie(this,void 0,void 0,function*(){p.busy=!0;try{const f=yield o.additionalPicks;if(s.isCancellationRequested)return;let b,y;S(o.picks)?(b=o.picks.items,y=o.picks.active):b=o.picks;let L,N;if(S(f)?(L=f.items,N=f.active):L=f,L.length>0||!g){let M;if(!y&&!N){const D=p.activeItems[0];D&&b.indexOf(D)!==-1&&(M=D)}h({items:[...b,...L],active:y||N||M})}}finally{s.isCancellationRequested||(p.busy=!1),m=!0}}))()])}else if(!(o instanceof Promise))h(o);else{p.busy=!0;try{const g=yield o;if(s.isCancellationRequested)return;h(g)}finally{s.isCancellationRequested||(p.busy=!1)}}});return l.add(p.onDidChangeValue(()=>r())),r(),l.add(p.onDidAccept(n=>{const[s]=p.selectedItems;typeof(s==null?void 0:s.accept)=="function"&&(n.inBackground||p.hide(),s.accept(p.keyMods,n))})),l.add(p.onDidTriggerItemButton(({button:n,item:s})=>Ie(this,void 0,void 0,function*(){var t,o;if(typeof s.trigger=="function"){const h=(o=(t=s.buttons)===null||t===void 0?void 0:t.indexOf(n))!==null&&o!==void 0?o:-1;if(h>=0){const g=s.trigger(h,p.keyMods),m=typeof g=="number"?g:yield g;if(u.isCancellationRequested)return;switch(m){case w.NO_ACTION:break;case w.CLOSE_PICKER:p.hide();break;case w.REFRESH_PICKER:r();break;case w.REMOVE_ITEM:const f=p.items.indexOf(s);if(f!==-1){const b=p.items.slice();b.splice(f,1),p.items=b}break}}}}))),l}}e.PickerQuickAccessProvider=C,C.FAST_PICKS_RACE_DELAY=200});var mt=this&&this.__createBinding||(Object.create?function($,e,v,I){I===void 0&&(I=v),Object.defineProperty($,I,{enumerable:!0,get:function(){return e[v]}})}:function($,e,v,I){I===void 0&&(I=v),$[I]=e[v]}),pt=this&&this.__exportStar||function($,e){for(var v in $)v!=="default"&&!Object.prototype.hasOwnProperty.call(e,v)&&mt(e,$,v)};define(J[78],ee([0,1,9,203]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IQuickInputService=void 0,pt(I,e),e.IQuickInputService=(0,v.createDecorator)("quickInputService")}),define(J[33],ee([0,1,20,196]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Registry=void 0;class k{constructor(){this.data=new Map}add(S,_){I.ok(v.isString(S)),I.ok(v.isObject(_)),I.ok(!this.data.has(S),"There is already an extension with this id"),this.data.set(S,_)}as(S){return this.data.get(S)||null}}e.Registry=new k}),define(J[141],ee([0,1,459,6,18,42,33]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PLAINTEXT_LANGUAGE_IDENTIFIER=e.PLAINTEXT_EXTENSION=e.PLAINTEXT_MODE_ID=e.ModesRegistry=e.EditorModesRegistry=e.Extensions=void 0,e.Extensions={ModesRegistry:"editor.modesRegistry"};class _{constructor(){this._onDidChangeLanguages=new I.Emitter,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[],this._dynamicLanguages=[]}registerLanguage(i){return this._languages.push(i),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let p=0,u=this._languages.length;p<u;p++)if(this._languages[p]===i){this._languages.splice(p,1);return}}}}getLanguages(){return[].concat(this._languages).concat(this._dynamicLanguages)}}e.EditorModesRegistry=_,e.ModesRegistry=new _,S.Registry.add(e.Extensions.ModesRegistry,e.ModesRegistry),e.PLAINTEXT_MODE_ID="plaintext",e.PLAINTEXT_EXTENSION=".txt",e.PLAINTEXT_LANGUAGE_IDENTIFIER=new k.LanguageIdentifier(e.PLAINTEXT_MODE_ID,1),e.ModesRegistry.registerLanguage({id:e.PLAINTEXT_MODE_ID,extensions:[e.PLAINTEXT_EXTENSION],aliases:[v.localize(0,null),"text"],mimetypes:["text/plain"]}),w.LanguageConfigurationRegistry.register(e.PLAINTEXT_LANGUAGE_IDENTIFIER,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],folding:{offSide:!0}},0)}),define(J[565],ee([0,1,44,45,141,237]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cssEscape=e.detectModeId=e.getIconClasses=void 0;function S(i,p,u,a){const l=a===w.FileKind.ROOT_FOLDER?["rootfolder-icon"]:a===w.FileKind.FOLDER?["folder-icon"]:["file-icon"];if(u){let c;if(u.scheme===v.Schemas.data?c=I.DataUri.parseMetaData(u).get(I.DataUri.META_DATA_LABEL):c=C((0,I.basenameOrAuthority)(u).toLowerCase()),a===w.FileKind.FOLDER)l.push(`${c}-name-folder-icon`);else{if(c){if(l.push(`${c}-name-file-icon`),c.length<=255){const r=c.split(".");for(let n=1;n<r.length;n++)l.push(`${r.slice(n).join(".")}-ext-file-icon`)}l.push("ext-file-icon")}const d=_(i,p,u);d&&l.push(`${C(d)}-lang-file-icon`)}}return l}e.getIconClasses=S;function _(i,p,u){if(!u)return null;let a=null;if(u.scheme===v.Schemas.data){const c=I.DataUri.parseMetaData(u).get(I.DataUri.META_DATA_MIME);c&&(a=p.getModeId(c))}else{const l=i.getModel(u);l&&(a=l.getModeId())}return a&&a!==k.PLAINTEXT_MODE_ID?a:p.getModeIdByFilepathOrFirstLine(u)}e.detectModeId=_;function C(i){return i.replace(/[\11\12\14\15\40]/g,"/")}e.cssEscape=C}),define(J[186],ee([0,1,33,6]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=void 0,e.Extensions={JSONContribution:"base.contributions.json"};function k(_){return _.length>0&&_.charAt(_.length-1)==="#"?_.substring(0,_.length-1):_}class w{constructor(){this._onDidChangeSchema=new I.Emitter,this.schemasById={}}registerSchema(C,i){this.schemasById[k(C)]=i,this._onDidChangeSchema.fire(C)}notifySchemaChanged(C){this._onDidChangeSchema.fire(C)}}const S=new w;v.Registry.add(e.Extensions.JSONContribution,S)}),define(J[95],ee([0,1,522,6,33,20,186]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateProperty=e.getDefaultValue=e.overrideIdentifierFromKey=e.OVERRIDE_PROPERTY_PATTERN=e.resourceLanguageSettingsSchemaId=e.resourceSettings=e.windowSettings=e.machineOverridableSettings=e.machineSettings=e.applicationSettings=e.allSettings=e.Extensions=void 0,e.Extensions={Configuration:"base.contributions.configuration"},e.allSettings={properties:{},patternProperties:{}},e.applicationSettings={properties:{},patternProperties:{}},e.machineSettings={properties:{},patternProperties:{}},e.machineOverridableSettings={properties:{},patternProperties:{}},e.windowSettings={properties:{},patternProperties:{}},e.resourceSettings={properties:{},patternProperties:{}},e.resourceLanguageSettingsSchemaId="vscode://schemas/settings/resourceLanguage";const _=k.Registry.as(S.Extensions.JSONContribution);class C{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new I.Emitter,this._onDidUpdateConfiguration=new I.Emitter,this.defaultValues={},this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:v.localize(0,null),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},_.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema)}registerConfiguration(d,r=!0){this.registerConfigurations([d],r)}registerConfigurations(d,r=!0){const n=[];d.forEach(s=>{n.push(...this.validateAndRegisterProperties(s,r,s.extensionInfo)),this.configurationContributors.push(s),this.registerJSONConfiguration(s)}),_.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire(n)}registerOverrideIdentifiers(d){for(const r of d)this.overrideIdentifiers.add(r);this.updateOverridePropertyPatternKey()}validateAndRegisterProperties(d,r=!0,n,s=3){var t;s=w.isUndefinedOrNull(d.scope)?s:d.scope;let o=[],h=d.properties;if(h)for(let m in h){if(r&&l(m)){delete h[m];continue}const f=h[m];if(this.updatePropertyDefaultValue(m,f),e.OVERRIDE_PROPERTY_PATTERN.test(m)?f.scope=void 0:(f.scope=w.isUndefinedOrNull(f.scope)?s:f.scope,f.restricted=w.isUndefinedOrNull(f.restricted)?!!((t=n==null?void 0:n.restrictedConfigurations)===null||t===void 0?void 0:t.includes(m)):f.restricted),h[m].hasOwnProperty("included")&&!h[m].included){this.excludedConfigurationProperties[m]=h[m],delete h[m];continue}else this.configurationProperties[m]=h[m];!h[m].deprecationMessage&&h[m].markdownDeprecationMessage&&(h[m].deprecationMessage=h[m].markdownDeprecationMessage),o.push(m)}let g=d.allOf;if(g)for(let m of g)o.push(...this.validateAndRegisterProperties(m,r,n,s));return o}getConfigurationProperties(){return this.configurationProperties}registerJSONConfiguration(d){const r=n=>{let s=n.properties;if(s)for(const o in s)this.updateSchema(o,s[o]);let t=n.allOf;t&&t.forEach(r)};r(d)}updateSchema(d,r){switch(e.allSettings.properties[d]=r,r.scope){case 1:e.applicationSettings.properties[d]=r;break;case 2:e.machineSettings.properties[d]=r;break;case 6:e.machineOverridableSettings.properties[d]=r;break;case 3:e.windowSettings.properties[d]=r;break;case 4:e.resourceSettings.properties[d]=r;break;case 5:e.resourceSettings.properties[d]=r,this.resourceLanguageSettingsSchema.properties[d]=r;break}}updateOverridePropertyPatternKey(){for(const d of this.overrideIdentifiers.values()){const r=`[${d}]`,n={type:"object",description:v.localize(1,null),errorMessage:v.localize(2,null),$ref:e.resourceLanguageSettingsSchemaId};this.updatePropertyDefaultValue(r,n),e.allSettings.properties[r]=n,e.applicationSettings.properties[r]=n,e.machineSettings.properties[r]=n,e.machineOverridableSettings.properties[r]=n,e.windowSettings.properties[r]=n,e.resourceSettings.properties[r]=n}this._onDidSchemaChange.fire()}updatePropertyDefaultValue(d,r){let n=this.defaultValues[d];w.isUndefined(n)&&(n=r.default),w.isUndefined(n)&&(n=u(r.type)),r.default=n}}const i="\\[.*\\]$";e.OVERRIDE_PROPERTY_PATTERN=new RegExp(i);function p(c){return c.substring(1,c.length-1)}e.overrideIdentifierFromKey=p;function u(c){switch(Array.isArray(c)?c[0]:c){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}e.getDefaultValue=u;const a=new C;k.Registry.add(e.Extensions.Configuration,a);function l(c){return c.trim()?e.OVERRIDE_PROPERTY_PATTERN.test(c)?v.localize(4,null,c):a.getConfigurationProperties()[c]!==void 0?v.localize(5,null,c):null:v.localize(3,null)}e.validateProperty=l}),define(J[187],ee([0,1,454,6,2,40,19,38,127,163,95,33,197]),function($,e,v,I,k,w,S,_,C,i,p,u,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDiffEditorConfigurationKey=e.isEditorConfigurationKey=e.editorConfigurationBaseNode=e.CommonEditorConfiguration=e.ComputedEditorOptions=e.TabFocus=void 0,e.TabFocus=new class{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new I.Emitter,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(L){this._tabFocus!==L&&(this._tabFocus=L,this._onDidChangeTabFocus.fire(this._tabFocus))}};const l=Object.hasOwnProperty;class c{constructor(){this._values=[]}_read(N){return this._values[N]}get(N){return this._values[N]}_write(N,M){this._values[N]=M}}e.ComputedEditorOptions=c;class d{constructor(){this._values=[]}_read(N){return this._values[N]}_write(N,M){this._values[N]=M}}class r{static readOptions(N){const M=N,D=new d;for(const R of _.editorOptionsRegistry){const P=R.name==="_never_"?void 0:M[R.name];D._write(R.id,P)}return D}static validateOptions(N){const M=new _.ValidatedEditorOptions;for(const D of _.editorOptionsRegistry)M._write(D.id,D.validate(N._read(D.id)));return M}static computeOptions(N,M){const D=new c;for(const R of _.editorOptionsRegistry)D._write(R.id,R.compute(M,D,N._read(R.id)));return D}static _deepEquals(N,M){if(typeof N!="object"||typeof M!="object")return N===M;if(Array.isArray(N)||Array.isArray(M))return Array.isArray(N)&&Array.isArray(M)?S.equals(N,M):!1;for(let D in N)if(!r._deepEquals(N[D],M[D]))return!1;return!0}static checkEquals(N,M){const D=[];let R=!1;for(const P of _.editorOptionsRegistry){const O=!r._deepEquals(N._read(P.id),M._read(P.id));D[P.id]=O,O&&(R=!0)}return R?new _.ConfigurationChangedEvent(D):null}}function n(L){const N=L.wordWrap;N===!0?L.wordWrap="on":N===!1&&(L.wordWrap="off");const M=L.lineNumbers;M===!0?L.lineNumbers="on":M===!1&&(L.lineNumbers="off"),L.autoClosingBrackets===!1&&(L.autoClosingBrackets="never",L.autoClosingQuotes="never",L.autoSurround="never"),L.cursorBlinking==="visible"&&(L.cursorBlinking="solid");const P=L.renderWhitespace;P===!0?L.renderWhitespace="boundary":P===!1&&(L.renderWhitespace="none");const O=L.renderLineHighlight;O===!0?L.renderLineHighlight="line":O===!1&&(L.renderLineHighlight="none");const W=L.acceptSuggestionOnEnter;W===!0?L.acceptSuggestionOnEnter="on":W===!1&&(L.acceptSuggestionOnEnter="off");const F=L.tabCompletion;F===!1?L.tabCompletion="off":F===!0&&(L.tabCompletion="onlySnippets");const E=L.suggest;if(E&&typeof E.filteredTypes=="object"&&E.filteredTypes){const q={};q.method="showMethods",q.function="showFunctions",q.constructor="showConstructors",q.field="showFields",q.variable="showVariables",q.class="showClasses",q.struct="showStructs",q.interface="showInterfaces",q.module="showModules",q.property="showProperties",q.event="showEvents",q.operator="showOperators",q.unit="showUnits",q.value="showValues",q.constant="showConstants",q.enum="showEnums",q.enumMember="showEnumMembers",q.keyword="showKeywords",q.text="showWords",q.color="showColors",q.file="showFiles",q.reference="showReferences",q.folder="showFolders",q.typeParameter="showTypeParameters",q.snippet="showSnippets",(0,a.forEach)(q,Y=>{const te=E.filteredTypes[Y.key];te===!1&&(E[Y.value]=te)})}const A=L.hover;A===!0?L.hover={enabled:!0}:A===!1&&(L.hover={enabled:!1});const B=L.parameterHints;B===!0?L.parameterHints={enabled:!0}:B===!1&&(L.parameterHints={enabled:!1});const H=L.autoIndent;H===!0?L.autoIndent="full":H===!1&&(L.autoIndent="advanced");const K=L.matchBrackets;K===!0?L.matchBrackets="always":K===!1&&(L.matchBrackets="never")}function s(L){const N=w.deepClone(L);return n(N),N}class t extends k.Disposable{constructor(N,M){super();this._onDidChange=this._register(new I.Emitter),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new I.Emitter),this.onDidChangeFast=this._onDidChangeFast.event,this.isSimpleWidget=N,this._isDominatedByLongLines=!1,this._computeOptionsMemory=new _.ComputeOptionsMemory,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._rawOptions=s(M),this._readOptions=r.readOptions(this._rawOptions),this._validatedOptions=r.validateOptions(this._readOptions),this._register(C.EditorZoom.onDidChangeZoomLevel(D=>this._recomputeOptions())),this._register(e.TabFocus.onDidChangeTabFocus(D=>this._recomputeOptions()))}observeReferenceElement(N){}updatePixelRatio(){}_recomputeOptions(){const N=this.options,M=this._computeInternalOptions();if(!N)this.options=M;else{const D=r.checkEquals(N,M);if(D===null)return;this.options=M,this._onDidChangeFast.fire(D),this._onDidChange.fire(D)}}getRawOptions(){return this._rawOptions}_computeInternalOptions(){const N=this._getEnvConfiguration(),M=i.BareFontInfo.createFromValidatedSettings(this._validatedOptions,N.zoomLevel,N.pixelRatio,this.isSimpleWidget),D={memory:this._computeOptionsMemory,outerWidth:N.outerWidth,outerHeight:N.outerHeight,fontInfo:this.readConfiguration(M),extraEditorClassName:N.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:N.emptySelectionClipboard,pixelRatio:N.pixelRatio,tabFocusMode:e.TabFocus.getTabFocusMode(),accessibilitySupport:N.accessibilitySupport};return r.computeOptions(this._validatedOptions,D)}static _subsetEquals(N,M){for(const D in M)if(l.call(M,D)){const R=M[D],P=N[D];if(P===R)continue;if(Array.isArray(P)&&Array.isArray(R)){if(!S.equals(P,R))return!1;continue}if(P&&typeof P=="object"&&R&&typeof R=="object"){if(!this._subsetEquals(P,R))return!1;continue}return!1}return!0}updateOptions(N){if(typeof N!="undefined"){const M=s(N);t._subsetEquals(this._rawOptions,M)||(this._rawOptions=w.mixin(this._rawOptions,M||{}),this._readOptions=r.readOptions(this._rawOptions),this._validatedOptions=r.validateOptions(this._readOptions),this._recomputeOptions())}}setIsDominatedByLongLines(N){this._isDominatedByLongLines=N,this._recomputeOptions()}setMaxLineNumber(N){const M=t._digitCount(N);this._lineNumbersDigitCount!==M&&(this._lineNumbersDigitCount=M,this._recomputeOptions())}setViewLineCount(N){this._viewLineCount!==N&&(this._viewLineCount=N,this._recomputeOptions())}static _digitCount(N){let M=0;for(;N;)N=Math.floor(N/10),M++;return M||1}}e.CommonEditorConfiguration=t,e.editorConfigurationBaseNode=Object.freeze({id:"editor",order:5,type:"object",title:v.localize(0,null),scope:5});const o=u.Registry.as(p.Extensions.Configuration),h=Object.assign(Object.assign({},e.editorConfigurationBaseNode),{properties:{"editor.tabSize":{type:"number",default:_.EDITOR_MODEL_DEFAULTS.tabSize,minimum:1,markdownDescription:v.localize(1,null)},"editor.insertSpaces":{type:"boolean",default:_.EDITOR_MODEL_DEFAULTS.insertSpaces,markdownDescription:v.localize(2,null)},"editor.detectIndentation":{type:"boolean",default:_.EDITOR_MODEL_DEFAULTS.detectIndentation,markdownDescription:v.localize(3,null)},"editor.trimAutoWhitespace":{type:"boolean",default:_.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,description:v.localize(4,null)},"editor.largeFileOptimizations":{type:"boolean",default:_.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,description:v.localize(5,null)},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:v.localize(6,null)},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[v.localize(7,null),v.localize(8,null),v.localize(9,null)],description:v.localize(10,null)},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[v.localize(11,null),v.localize(12,null),v.localize(13,null)],default:"configuredByTheme",description:v.localize(14,null)},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:v.localize(15,null)},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:v.localize(16,null)},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:v.localize(17,null)},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:v.localize(18,null)},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:v.localize(19,null)},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:v.localize(20,null)},"diffEditor.codeLens":{type:"boolean",default:!1,description:v.localize(21,null)},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[v.localize(22,null),v.localize(23,null),v.localize(24,null)]}}});function g(L){return typeof L.type!="undefined"||typeof L.anyOf!="undefined"}for(const L of _.editorOptionsRegistry){const N=L.schema;if(typeof N!="undefined")if(g(N))h.properties[`editor.${L.name}`]=N;else for(let M in N)l.call(N,M)&&(h.properties[M]=N[M])}let m=null;function f(){return m===null&&(m=Object.create(null),Object.keys(h.properties).forEach(L=>{m[L]=!0})),m}function b(L){return f()[`editor.${L}`]||!1}e.isEditorConfigurationKey=b;function y(L){return f()[`diffEditor.${L}`]||!1}e.isDiffEditorConfigurationKey=y,o.registerConfiguration(h)}),define(J[70],ee([0,1,35,6,2,17,362,213,187,38,163]),function($,e,v,I,k,w,S,_,C,i,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Configuration=e.clearAllFontInfos=void 0;class u{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(r){const n=r.getId();return!!this._values[n]}get(r){const n=r.getId();return this._values[n]}put(r,n){const s=r.getId();this._keys[s]=r,this._values[s]=n}remove(r){const n=r.getId();delete this._keys[n],delete this._values[n]}getValues(){return Object.keys(this._keys).map(r=>this._values[r])}}function a(){l.INSTANCE.clearCache()}e.clearAllFontInfos=a;class l extends k.Disposable{constructor(){super();this._onDidChange=this._register(new I.Emitter),this.onDidChange=this._onDidChange.event,this._cache=new u,this._evictUntrustedReadingsTimeout=-1}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearCache(){this._cache=new u,this._onDidChange.fire()}_writeToCache(r,n){this._cache.put(r,n),!n.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const r=this._cache.getValues();let n=!1;for(const s of r)s.isTrusted||(n=!0,this._cache.remove(s));n&&this._onDidChange.fire()}readConfiguration(r){if(!this._cache.has(r)){let n=l._actualReadConfiguration(r);(n.typicalHalfwidthCharacterWidth<=2||n.typicalFullwidthCharacterWidth<=2||n.spaceWidth<=2||n.maxDigitWidth<=2)&&(n=new p.FontInfo({zoomLevel:v.getZoomLevel(),pixelRatio:v.getPixelRatio(),fontFamily:n.fontFamily,fontWeight:n.fontWeight,fontSize:n.fontSize,fontFeatureSettings:n.fontFeatureSettings,lineHeight:n.lineHeight,letterSpacing:n.letterSpacing,isMonospace:n.isMonospace,typicalHalfwidthCharacterWidth:Math.max(n.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(n.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:n.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(n.spaceWidth,5),middotWidth:Math.max(n.middotWidth,5),wsmiddotWidth:Math.max(n.wsmiddotWidth,5),maxDigitWidth:Math.max(n.maxDigitWidth,5)},!1)),this._writeToCache(r,n)}return this._cache.get(r)}static createRequest(r,n,s,t){const o=new S.CharWidthRequest(r,n);return s.push(o),t&&t.push(o),o}static _actualReadConfiguration(r){const n=[],s=[],t=this.createRequest("n",0,n,s),o=this.createRequest("\uFF4D",0,n,null),h=this.createRequest(" ",0,n,s),g=this.createRequest("0",0,n,s),m=this.createRequest("1",0,n,s),f=this.createRequest("2",0,n,s),b=this.createRequest("3",0,n,s),y=this.createRequest("4",0,n,s),L=this.createRequest("5",0,n,s),N=this.createRequest("6",0,n,s),M=this.createRequest("7",0,n,s),D=this.createRequest("8",0,n,s),R=this.createRequest("9",0,n,s),P=this.createRequest("\u2192",0,n,s),O=this.createRequest("\uFFEB",0,n,null),W=this.createRequest("\xB7",0,n,s),F=this.createRequest(String.fromCharCode(11825),0,n,null);this.createRequest("|",0,n,s),this.createRequest("/",0,n,s),this.createRequest("-",0,n,s),this.createRequest("_",0,n,s),this.createRequest("i",0,n,s),this.createRequest("l",0,n,s),this.createRequest("m",0,n,s),this.createRequest("|",1,n,s),this.createRequest("_",1,n,s),this.createRequest("i",1,n,s),this.createRequest("l",1,n,s),this.createRequest("m",1,n,s),this.createRequest("n",1,n,s),this.createRequest("|",2,n,s),this.createRequest("_",2,n,s),this.createRequest("i",2,n,s),this.createRequest("l",2,n,s),this.createRequest("m",2,n,s),this.createRequest("n",2,n,s),(0,S.readCharWidths)(r,n);const E=Math.max(g.width,m.width,f.width,b.width,y.width,L.width,N.width,M.width,D.width,R.width);let A=r.fontFeatureSettings===i.EditorFontLigatures.OFF;const B=s[0].width;for(let q=1,Y=s.length;A&&q<Y;q++){const te=B-s[q].width;if(te<-.001||te>.001){A=!1;break}}let H=!0;A&&O.width!==B&&(H=!1),O.width>P.width&&(H=!1);const K=v.getTimeSinceLastZoomLevelChanged()>2e3;return new p.FontInfo({zoomLevel:v.getZoomLevel(),pixelRatio:v.getPixelRatio(),fontFamily:r.fontFamily,fontWeight:r.fontWeight,fontSize:r.fontSize,fontFeatureSettings:r.fontFeatureSettings,lineHeight:r.lineHeight,letterSpacing:r.letterSpacing,isMonospace:A,typicalHalfwidthCharacterWidth:t.width,typicalFullwidthCharacterWidth:o.width,canUseHalfwidthRightwardsArrow:H,spaceWidth:h.width,middotWidth:W.width,wsmiddotWidth:F.width,maxDigitWidth:E},K)}}l.INSTANCE=new l;class c extends C.CommonEditorConfiguration{constructor(r,n,s=null,t){super(r,n);this.accessibilityService=t,this._elementSizeObserver=this._register(new _.ElementSizeObserver(s,n.dimension,()=>this._recomputeOptions())),this._register(l.INSTANCE.onDidChange(()=>this._recomputeOptions())),this._validatedOptions.get(10)&&this._elementSizeObserver.startObserving(),this._register(v.onDidChangeZoomLevel(o=>this._recomputeOptions())),this._register(this.accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions())),this._recomputeOptions()}static applyFontInfoSlow(r,n){r.style.fontFamily=n.getMassagedFontFamily(),r.style.fontWeight=n.fontWeight,r.style.fontSize=n.fontSize+"px",r.style.fontFeatureSettings=n.fontFeatureSettings,r.style.lineHeight=n.lineHeight+"px",r.style.letterSpacing=n.letterSpacing+"px"}static applyFontInfo(r,n){r.setFontFamily(n.getMassagedFontFamily()),r.setFontWeight(n.fontWeight),r.setFontSize(n.fontSize),r.setFontFeatureSettings(n.fontFeatureSettings),r.setLineHeight(n.lineHeight),r.setLetterSpacing(n.letterSpacing)}observeReferenceElement(r){this._elementSizeObserver.observe(r)}updatePixelRatio(){this._recomputeOptions()}static _getExtraEditorClassName(){let r="";return!v.isSafari&&!v.isWebkitWebView&&(r+="no-user-select "),v.isSafari&&(r+="no-minimap-shadow "),w.isMacintosh&&(r+="mac "),r}_getEnvConfiguration(){return{extraEditorClassName:c._getExtraEditorClassName(),outerWidth:this._elementSizeObserver.getWidth(),outerHeight:this._elementSizeObserver.getHeight(),emptySelectionClipboard:v.isWebKit||v.isFirefox,pixelRatio:v.getPixelRatio(),zoomLevel:v.getZoomLevel(),accessibilitySupport:this.accessibilityService.isScreenReaderOptimized()?2:this.accessibilityService.getAccessibilitySupport()}}readConfiguration(r){return l.INSTANCE.readConfiguration(r)}}e.Configuration=c}),define(J[566],ee([0,1,93,8,70,63]),function($,e,v,I,k,w){"use strict";var S;Object.defineProperty(e,"__esModule",{value:!0}),e.DOMLineBreaksComputerFactory=void 0;const _=(S=window.trustedTypes)===null||S===void 0?void 0:S.createPolicy("domLineBreaksComputer",{createHTML:c=>c});class C{static create(){return new C}constructor(){}createLineBreaksComputer(d,r,n,s){r=r|0,n=+n;let t=[];return{addRequest:(o,h)=>{t.push(o)},finalize:()=>i(t,d,r,n,s)}}}e.DOMLineBreaksComputerFactory=C;function i(c,d,r,n,s){var t;if(n===-1){const O=[];for(let W=0,F=c.length;W<F;W++)O[W]=null;return O}const o=Math.round(n*d.typicalHalfwidthCharacterWidth);(s===2||s===3)&&(s=1);const h=document.createElement("div");k.Configuration.applyFontInfoSlow(h,d);const g=(0,v.createStringBuilder)(1e4),m=[],f=[],b=[],y=[],L=[];for(let O=0;O<c.length;O++){const W=c[O];let F=0,E=0,A=o;if(s!==0)if(F=I.firstNonWhitespaceIndex(W),F===-1)F=0;else{for(let q=0;q<F;q++)E+=W.charCodeAt(q)===9?r-E%r:1;const K=Math.ceil(d.spaceWidth*E);K+d.typicalFullwidthCharacterWidth>o?(F=0,E=0):A=o-K}const B=W.substr(F),H=p(B,E,r,A,g);m[O]=F,f[O]=E,b[O]=B,y[O]=H[0],L[O]=H[1]}const N=g.build(),M=(t=_==null?void 0:_.createHTML(N))!==null&&t!==void 0?t:N;h.innerHTML=M,h.style.position="absolute",h.style.top="10000",h.style.wordWrap="break-word",document.body.appendChild(h);let D=document.createRange();const R=Array.prototype.slice.call(h.children,0);let P=[];for(let O=0;O<c.length;O++){const W=R[O],F=u(D,W,b[O],y[O]);if(F===null){P[O]=null;continue}const E=m[O],A=f[O],B=L[O],H=[];for(let K=0,q=F.length;K<q;K++)H[K]=B[F[K]];if(E!==0)for(let K=0,q=F.length;K<q;K++)F[K]+=E;P[O]=new w.LineBreakData(F,H,A)}return document.body.removeChild(h),P}function p(c,d,r,n,s){s.appendASCIIString('<div style="width:'),s.appendASCIIString(String(n)),s.appendASCIIString('px;">');const t=c.length;let o=d,h=0,g=[],m=[],f=0<t?c.charCodeAt(0):0;s.appendASCIIString("<span>");for(let b=0;b<t;b++){b!==0&&b%16384==0&&s.appendASCIIString("</span><span>"),g[b]=h,m[b]=o;const y=f;f=b+1<t?c.charCodeAt(b+1):0;let L=1,N=1;switch(y){case 9:L=r-o%r,N=L;for(let M=1;M<=L;M++)M<L?s.write1(160):s.appendASCII(32);break;case 32:f===32?s.write1(160):s.appendASCII(32);break;case 60:s.appendASCIIString("&lt;");break;case 62:s.appendASCIIString("&gt;");break;case 38:s.appendASCIIString("&amp;");break;case 0:s.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:s.write1(65533);break;default:I.isFullWidthCharacter(y)&&N++,y<32?s.write1(9216+y):s.write1(y)}h+=L,o+=N}return s.appendASCIIString("</span>"),g[c.length]=h,m[c.length]=o,s.appendASCIIString("</div>"),[g,m]}function u(c,d,r,n){if(r.length<=1)return null;const s=Array.prototype.slice.call(d.children,0),t=[];try{a(c,s,n,0,null,r.length-1,null,t)}catch(o){return console.log(o),null}return t.length===0?null:(t.push(r.length),t)}function a(c,d,r,n,s,t,o,h){if(n!==t&&(s=s||l(c,d,r[n],r[n+1]),o=o||l(c,d,r[t],r[t+1]),!(Math.abs(s[0].top-o[0].top)<=.1))){if(n+1===t){h.push(t);return}const g=n+(t-n)/2|0,m=l(c,d,r[g],r[g+1]);a(c,d,r,n,s,g,m,h),a(c,d,r,g,m,t,o,h)}}function l(c,d,r,n){return c.setStart(d[r/16384|0].firstChild,r%16384),c.setEnd(d[n/16384|0].firstChild,n%16384),c.getClientRects()}}),define(J[567],ee([0,1,30,70,165,46]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewOverlays=e.ContentViewOverlays=e.ViewOverlayLine=e.ViewOverlays=void 0;class S extends w.ViewPart{constructor(u){super(u);this._visibleLines=new k.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let u=0,a=this._dynamicOverlays.length;u<a;u++)if(this._dynamicOverlays[u].shouldRender())return!0;return!1}dispose(){super.dispose();for(let u=0,a=this._dynamicOverlays.length;u<a;u++)this._dynamicOverlays[u].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new _(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(u){this._dynamicOverlays.push(u)}onConfigurationChanged(u){this._visibleLines.onConfigurationChanged(u);const a=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();for(let c=a;c<=l;c++)this._visibleLines.getVisibleLine(c).onConfigurationChanged(u);return!0}onFlushed(u){return this._visibleLines.onFlushed(u)}onFocusChanged(u){return this._isFocused=u.isFocused,!0}onLinesChanged(u){return this._visibleLines.onLinesChanged(u)}onLinesDeleted(u){return this._visibleLines.onLinesDeleted(u)}onLinesInserted(u){return this._visibleLines.onLinesInserted(u)}onScrollChanged(u){return this._visibleLines.onScrollChanged(u)||!0}onTokensChanged(u){return this._visibleLines.onTokensChanged(u)}onZonesChanged(u){return this._visibleLines.onZonesChanged(u)}prepareRender(u){const a=this._dynamicOverlays.filter(l=>l.shouldRender());for(let l=0,c=a.length;l<c;l++){const d=a[l];d.prepareRender(u),d.onDidRender()}}render(u){this._viewOverlaysRender(u),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(u){this._visibleLines.renderLines(u.viewportData)}}e.ViewOverlays=S;class _{constructor(u,a){this._configuration=u,this._lineHeight=this._configuration.options.get(55),this._dynamicOverlays=a,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(u){this._domNode=(0,v.createFastDomNode)(u)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(u){this._lineHeight=this._configuration.options.get(55)}renderLine(u,a,l,c){let d="";for(let r=0,n=this._dynamicOverlays.length;r<n;r++)d+=this._dynamicOverlays[r].render(l.startLineNumber,u);return this._renderedContent===d?!1:(this._renderedContent=d,c.appendASCIIString('<div style="position:absolute;top:'),c.appendASCIIString(String(a)),c.appendASCIIString("px;width:100%;height:"),c.appendASCIIString(String(this._lineHeight)),c.appendASCIIString('px;">'),c.appendASCIIString(d),c.appendASCIIString("</div>"),!0)}layoutLine(u,a){this._domNode&&(this._domNode.setTop(a),this._domNode.setHeight(this._lineHeight))}}e.ViewOverlayLine=_;class C extends S{constructor(u){super(u);const l=this._context.configuration.options.get(127);this._contentWidth=l.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(u){const l=this._context.configuration.options.get(127);return this._contentWidth=l.contentWidth,super.onConfigurationChanged(u)||!0}onScrollChanged(u){return super.onScrollChanged(u)||u.scrollWidthChanged}_viewOverlaysRender(u){super._viewOverlaysRender(u),this.domNode.setWidth(Math.max(u.scrollWidth,this._contentWidth))}}e.ContentViewOverlays=C;class i extends S{constructor(u){super(u);const a=this._context.configuration.options,l=a.get(127);this._contentLeft=l.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),I.Configuration.applyFontInfo(this.domNode,a.get(40))}onConfigurationChanged(u){const a=this._context.configuration.options;I.Configuration.applyFontInfo(this.domNode,a.get(40));const l=a.get(127);return this._contentLeft=l.contentLeft,super.onConfigurationChanged(u)||!0}onScrollChanged(u){return super.onScrollChanged(u)||u.scrollHeightChanged}_viewOverlaysRender(u){super._viewOverlaysRender(u);const a=Math.min(u.scrollHeight,1e6);this.domNode.setHeight(a),this.domNode.setWidth(this._contentLeft)}}e.MarginViewOverlays=i}),define(J[568],ee([0,1,7,30,8,70,38,14,3,125]),function($,e,v,I,k,w,S,_,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursor=void 0;class p{constructor(l,c,d,r,n,s){this.top=l,this.left=c,this.width=d,this.height=r,this.textContent=n,this.textContentClassName=s}}class u{constructor(l){this._context=l;const c=this._context.configuration.options,d=c.get(40);this._cursorStyle=c.get(22),this._lineHeight=c.get(55),this._typicalHalfwidthCharacterWidth=d.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(c.get(25),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,I.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(`cursor ${i.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),w.Configuration.applyFontInfo(this._domNode,d),this._domNode.setDisplay("none"),this._position=new _.Position(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(l){const c=this._context.configuration.options,d=c.get(40);return this._cursorStyle=c.get(22),this._lineHeight=c.get(55),this._typicalHalfwidthCharacterWidth=d.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(c.get(25),this._typicalHalfwidthCharacterWidth),w.Configuration.applyFontInfo(this._domNode,d),!0}onCursorPositionChanged(l){return this._position=l,!0}_prepareRender(l){let c="";if(this._cursorStyle===S.TextEditorCursorStyle.Line||this._cursorStyle===S.TextEditorCursorStyle.LineThin){const f=l.visibleRangeForPosition(this._position);if(!f||f.outsideRenderedLine)return null;let b;if(this._cursorStyle===S.TextEditorCursorStyle.Line){if(b=v.computeScreenAwareSize(this._lineCursorWidth>0?this._lineCursorWidth:2),b>2){const N=this._context.model.getLineContent(this._position.lineNumber),M=k.nextCharLength(N,this._position.column-1);c=N.substr(this._position.column-1,M)}}else b=v.computeScreenAwareSize(1);let y=f.left;b>=2&&y>=1&&(y-=1);const L=l.getVerticalOffsetForLineNumber(this._position.lineNumber)-l.bigNumbersDelta;return new p(L,y,b,this._lineHeight,c,"")}const d=this._context.model.getLineContent(this._position.lineNumber),r=k.nextCharLength(d,this._position.column-1),n=l.linesVisibleRangesForRange(new C.Range(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column+r),!1);if(!n||n.length===0)return null;const s=n[0];if(s.outsideRenderedLine||s.ranges.length===0)return null;const t=s.ranges[0],o=t.width<1?this._typicalHalfwidthCharacterWidth:t.width;let h="";if(this._cursorStyle===S.TextEditorCursorStyle.Block){const f=this._context.model.getViewLineData(this._position.lineNumber);c=d.substr(this._position.column-1,r);const b=f.tokens.findTokenIndexAtOffset(this._position.column-1);h=f.tokens.getClassName(b)}let g=l.getVerticalOffsetForLineNumber(this._position.lineNumber)-l.bigNumbersDelta,m=this._lineHeight;return(this._cursorStyle===S.TextEditorCursorStyle.Underline||this._cursorStyle===S.TextEditorCursorStyle.UnderlineThin)&&(g+=this._lineHeight-2,m=2),new p(g,t.left,o,m,c,h)}prepareRender(l){this._renderData=this._prepareRender(l)}render(l){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${i.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}e.ViewCursor=u}),define(J[569],ee([0,1,11,6,2,292,8,18,141,77,95,33]),function($,e,v,I,k,w,S,_,C,i,p,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguagesRegistry=void 0;const a=Object.prototype.hasOwnProperty;class l extends k.Disposable{constructor(d=!0,r=!1){super();this._onDidChange=this._register(new I.Emitter),this.onDidChange=this._onDidChange.event,this._warnOnOverwrite=r,this._nextLanguageId2=1,this._languageIdToLanguage=[],this._languageToLanguageId=Object.create(null),this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},d&&(this._initializeFromRegistry(),this._register(C.ModesRegistry.onDidChangeLanguages(n=>this._initializeFromRegistry())))}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={};const d=C.ModesRegistry.getLanguages();this._registerLanguages(d)}_registerLanguages(d){for(const r of d)this._registerLanguage(r);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(r=>{let n=this._languages[r];n.name&&(this._nameMap[n.name]=n.identifier),n.aliases.forEach(s=>{this._lowercaseNameMap[s.toLowerCase()]=n.identifier}),n.mimetypes.forEach(s=>{this._mimeTypesMap[s]=n.identifier})}),u.Registry.as(p.Extensions.Configuration).registerOverrideIdentifiers(C.ModesRegistry.getLanguages().map(r=>r.id)),this._onDidChange.fire()}_getLanguageId(d){if(this._languageToLanguageId[d])return this._languageToLanguageId[d];const r=this._nextLanguageId2++;return this._languageIdToLanguage[r]=d,this._languageToLanguageId[d]=r,r}_registerLanguage(d){const r=d.id;let n;if(a.call(this._languages,r))n=this._languages[r];else{const s=this._getLanguageId(r);n={identifier:new _.LanguageIdentifier(r,s),name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[]},this._languages[r]=n}this._mergeLanguage(n,d)}_mergeLanguage(d,r){const n=r.id;let s=null;if(Array.isArray(r.mimetypes)&&r.mimetypes.length>0&&(d.mimetypes.push(...r.mimetypes),s=r.mimetypes[0]),s||(s=`text/x-${n}`,d.mimetypes.push(s)),Array.isArray(r.extensions)){r.configuration?d.extensions=r.extensions.concat(d.extensions):d.extensions=d.extensions.concat(r.extensions);for(let h of r.extensions)w.registerTextMime({id:n,mime:s,extension:h},this._warnOnOverwrite)}if(Array.isArray(r.filenames))for(let h of r.filenames)w.registerTextMime({id:n,mime:s,filename:h},this._warnOnOverwrite),d.filenames.push(h);if(Array.isArray(r.filenamePatterns))for(let h of r.filenamePatterns)w.registerTextMime({id:n,mime:s,filepattern:h},this._warnOnOverwrite);if(typeof r.firstLine=="string"&&r.firstLine.length>0){let h=r.firstLine;h.charAt(0)!=="^"&&(h="^"+h);try{let g=new RegExp(h);S.regExpLeadsToEndlessLoop(g)||w.registerTextMime({id:n,mime:s,firstline:g},this._warnOnOverwrite)}catch(g){(0,v.onUnexpectedError)(g)}}d.aliases.push(n);let t=null;if(typeof r.aliases!="undefined"&&Array.isArray(r.aliases)&&(r.aliases.length===0?t=[null]:t=r.aliases),t!==null)for(const h of t)!h||h.length===0||d.aliases.push(h);let o=t!==null&&t.length>0;if(!(o&&t[0]===null)){let h=(o?t[0]:null)||n;(o||!d.name)&&(d.name=h)}r.configuration&&d.configurationFiles.push(r.configuration)}isRegisteredMode(d){return a.call(this._mimeTypesMap,d)?!0:a.call(this._languages,d)}getModeIdForLanguageNameLowercase(d){return a.call(this._lowercaseNameMap,d)?this._lowercaseNameMap[d].language:null}extractModeIds(d){return d?d.split(",").map(r=>r.trim()).map(r=>a.call(this._mimeTypesMap,r)?this._mimeTypesMap[r].language:r).filter(r=>a.call(this._languages,r)):[]}getLanguageIdentifier(d){if(d===i.NULL_MODE_ID||d===0)return i.NULL_LANGUAGE_IDENTIFIER;let r;if(typeof d=="string")r=d;else if(r=this._languageIdToLanguage[d],!r)return null;return a.call(this._languages,r)?this._languages[r].identifier:null}getModeIdsFromFilepathOrFirstLine(d,r){if(!d&&!r)return[];let n=w.guessMimeTypes(d,r);return this.extractModeIds(n.join(","))}}e.LanguagesRegistry=l}),define(J[570],ee([0,1,6,2,374,77,569,19]),function($,e,v,I,k,w,S,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModeServiceImpl=void 0;class C{constructor(u,a){this._selector=a,this.languageIdentifier=this._selector();let l;this._onDidChange=new v.Emitter({onFirstListenerAdd:()=>{l=u(()=>this._evaluate())},onLastListenerRemove:()=>{l.dispose()}}),this.onDidChange=this._onDidChange.event}_evaluate(){let u=this._selector();u.id!==this.languageIdentifier.id&&(this.languageIdentifier=u,this._onDidChange.fire(this.languageIdentifier))}}class i extends I.Disposable{constructor(u=!1){super();this._onDidCreateMode=this._register(new v.Emitter),this.onDidCreateMode=this._onDidCreateMode.event,this._onLanguagesMaybeChanged=this._register(new v.Emitter({leakWarningThreshold:200})),this.onLanguagesMaybeChanged=this._onLanguagesMaybeChanged.event,this._instantiatedModes={},this._registry=this._register(new S.LanguagesRegistry(!0,u)),this._register(this._registry.onDidChange(()=>this._onLanguagesMaybeChanged.fire()))}isRegisteredMode(u){return this._registry.isRegisteredMode(u)}getModeIdForLanguageName(u){return this._registry.getModeIdForLanguageNameLowercase(u)}getModeIdByFilepathOrFirstLine(u,a){const l=this._registry.getModeIdsFromFilepathOrFirstLine(u,a);return(0,_.firstOrDefault)(l,null)}getModeId(u){const a=this._registry.extractModeIds(u);return(0,_.firstOrDefault)(a,null)}getLanguageIdentifier(u){return this._registry.getLanguageIdentifier(u)}create(u){return new C(this.onLanguagesMaybeChanged,()=>{const a=this.getModeId(u);return this._createModeAndGetLanguageIdentifier(a)})}createByFilepathOrFirstLine(u,a){return new C(this.onLanguagesMaybeChanged,()=>{const l=this.getModeIdByFilepathOrFirstLine(u,a);return this._createModeAndGetLanguageIdentifier(l)})}_createModeAndGetLanguageIdentifier(u){const a=this.getLanguageIdentifier(u||"plaintext")||w.NULL_LANGUAGE_IDENTIFIER;return this._getOrCreateMode(a.language),a}triggerMode(u){const a=this.getModeId(u);this._getOrCreateMode(a||"plaintext")}_getOrCreateMode(u){if(!this._instantiatedModes.hasOwnProperty(u)){let a=this.getLanguageIdentifier(u)||w.NULL_LANGUAGE_IDENTIFIER;this._instantiatedModes[u]=new k.FrankensteinMode(a),this._onDidCreateMode.fire(this._instantiatedModes[u])}return this._instantiatedModes[u]}}e.ModeServiceImpl=i}),define(J[47],ee([0,1,33,9,95]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDefaultValues=e.getConfigurationKeys=e.getConfigurationValue=e.removeFromValueTree=e.addToValueTree=e.toValuesTree=e.IConfigurationService=void 0,e.IConfigurationService=(0,I.createDecorator)("configurationService");function w(a,l){const c=Object.create(null);for(let d in a)S(c,d,a[d],l);return c}e.toValuesTree=w;function S(a,l,c,d){const r=l.split("."),n=r.pop();let s=a;for(let t=0;t<r.length;t++){let o=r[t],h=s[o];switch(typeof h){case"undefined":h=s[o]=Object.create(null);break;case"object":break;default:d(`Ignoring ${l} as ${r.slice(0,t+1).join(".")} is ${JSON.stringify(h)}`);return}s=h}if(typeof s=="object"&&s!==null)try{s[n]=c}catch(t){d(`Ignoring ${l} as ${r.join(".")} is ${JSON.stringify(s)}`)}else d(`Ignoring ${l} as ${r.join(".")} is ${JSON.stringify(s)}`)}e.addToValueTree=S;function _(a,l){const c=l.split(".");C(a,c)}e.removeFromValueTree=_;function C(a,l){const c=l.shift();if(l.length===0){delete a[c];return}if(Object.keys(a).indexOf(c)!==-1){const d=a[c];typeof d=="object"&&!Array.isArray(d)&&(C(d,l),Object.keys(d).length===0&&delete a[c])}}function i(a,l,c){function d(s,t){let o=s;for(const h of t){if(typeof o!="object"||o===null)return;o=o[h]}return o}const r=l.split("."),n=d(a,r);return typeof n=="undefined"?c:n}e.getConfigurationValue=i;function p(){const a=v.Registry.as(k.Extensions.Configuration).getConfigurationProperties();return Object.keys(a)}e.getConfigurationKeys=p;function u(){const a=Object.create(null),l=v.Registry.as(k.Extensions.Configuration).getConfigurationProperties();for(let c in l){let d=l[c].default;S(a,c,d,r=>console.error(`Conflict in default settings: ${r}`))}return a}e.getDefaultValues=u}),define(J[571],ee([0,1,2,65,6,16,47]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityService=void 0;let _=class extends v.Disposable{constructor(i,p){super();this._contextKeyService=i,this._configurationService=p,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new k.Emitter,this._accessibilityModeEnabledContext=I.CONTEXT_ACCESSIBILITY_MODE_ENABLED.bindTo(this._contextKeyService);const u=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(a=>{a.affectsConfiguration("editor.accessibilitySupport")&&(u(),this._onDidChangeScreenReaderOptimized.fire())})),u(),this.onDidChangeScreenReaderOptimized(()=>u())}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const i=this._configurationService.getValue("editor.accessibilitySupport");return i==="on"||i==="auto"&&this._accessibilitySupport===2}getAccessibilitySupport(){return this._accessibilitySupport}};_=Me([pe(0,w.IContextKeyService),pe(1,S.IConfigurationService)],_),e.AccessibilityService=_}),define(J[572],ee([0,1,51,19,20,40,24,95,47]),function($,e,v,I,k,w,S,_,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationChangeEvent=e.Configuration=e.DefaultConfigurationModel=e.ConfigurationModel=void 0;class i{constructor(c={},d=[],r=[]){this._contents=c,this._keys=d,this._overrides=r,this.isFrozen=!1}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(c){return c?(0,C.getConfigurationValue)(this.contents,c):this.contents}override(c){const d=this.getContentsForOverrideIdentifer(c);if(!d||typeof d!="object"||!Object.keys(d).length)return this;let r={};for(const n of I.distinct([...Object.keys(this.contents),...Object.keys(d)])){let s=this.contents[n],t=d[n];t&&(typeof s=="object"&&typeof t=="object"?(s=w.deepClone(s),this.mergeContents(s,t)):s=t),r[n]=s}return new i(r,this.keys,this.overrides)}merge(...c){const d=w.deepClone(this.contents),r=w.deepClone(this.overrides),n=[...this.keys];for(const s of c){this.mergeContents(d,s.contents);for(const t of s.overrides){const[o]=r.filter(h=>I.equals(h.identifiers,t.identifiers));o?this.mergeContents(o.contents,t.contents):r.push(w.deepClone(t))}for(const t of s.keys)n.indexOf(t)===-1&&n.push(t)}return new i(d,n,r)}freeze(){return this.isFrozen=!0,this}mergeContents(c,d){for(const r of Object.keys(d)){if(r in c&&k.isObject(c[r])&&k.isObject(d[r])){this.mergeContents(c[r],d[r]);continue}c[r]=w.deepClone(d[r])}}checkAndFreeze(c){return this.isFrozen&&!Object.isFrozen(c)?w.deepFreeze(c):c}getContentsForOverrideIdentifer(c){for(const d of this.overrides)if(d.identifiers.indexOf(c)!==-1)return d.contents;return null}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(c,d){this.addKey(c),(0,C.addToValueTree)(this.contents,c,d,r=>{throw new Error(r)})}removeValue(c){this.removeKey(c)&&(0,C.removeFromValueTree)(this.contents,c)}addKey(c){let d=this.keys.length;for(let r=0;r<d;r++)c.indexOf(this.keys[r])===0&&(d=r);this.keys.splice(d,1,c)}removeKey(c){let d=this.keys.indexOf(c);return d!==-1?(this.keys.splice(d,1),!0):!1}}e.ConfigurationModel=i;class p extends i{constructor(){const c=(0,C.getDefaultValues)(),d=(0,C.getConfigurationKeys)(),r=[];for(const n of Object.keys(c))_.OVERRIDE_PROPERTY_PATTERN.test(n)&&r.push({identifiers:[(0,_.overrideIdentifierFromKey)(n).trim()],keys:Object.keys(c[n]),contents:(0,C.toValuesTree)(c[n],s=>console.error(`Conflict in default settings file: ${s}`))});super(c,d,r)}}e.DefaultConfigurationModel=p;class u{constructor(c,d,r=new i,n=new i,s=new v.ResourceMap,t=new i,o=new v.ResourceMap,h=!0){this._defaultConfiguration=c,this._localUserConfiguration=d,this._remoteUserConfiguration=r,this._workspaceConfiguration=n,this._folderConfigurations=s,this._memoryConfiguration=t,this._memoryConfigurationByResource=o,this._freeze=h,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new v.ResourceMap,this._userConfiguration=null}getValue(c,d,r){return this.getConsolidateConfigurationModel(d,r).getValue(c)}updateValue(c,d,r={}){let n;r.resource?(n=this._memoryConfigurationByResource.get(r.resource),n||(n=new i,this._memoryConfigurationByResource.set(r.resource,n))):n=this._memoryConfiguration,d===void 0?n.removeValue(c):n.setValue(c,d),r.resource||(this._workspaceConsolidatedConfiguration=null)}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}getConsolidateConfigurationModel(c,d){let r=this.getConsolidatedConfigurationModelForResource(c,d);return c.overrideIdentifier?r.override(c.overrideIdentifier):r}getConsolidatedConfigurationModelForResource({resource:c},d){let r=this.getWorkspaceConsolidatedConfiguration();if(d&&c){const n=d.getFolder(c);n&&(r=this.getFolderConsolidatedConfiguration(n.uri)||r);const s=this._memoryConfigurationByResource.get(c);s&&(r=r.merge(s))}return r}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(c){let d=this._foldersConsolidatedConfigurations.get(c);if(!d){const r=this.getWorkspaceConsolidatedConfiguration(),n=this._folderConfigurations.get(c);n?(d=r.merge(n),this._freeze&&(d=d.freeze()),this._foldersConsolidatedConfigurations.set(c,d)):d=r}return d}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((c,d)=>{const{contents:r,overrides:n,keys:s}=this._folderConfigurations.get(d);return c.push([d,{contents:r,overrides:n,keys:s}]),c},[])}}static parse(c){const d=this.parseConfigurationModel(c.defaults),r=this.parseConfigurationModel(c.user),n=this.parseConfigurationModel(c.workspace),s=c.folders.reduce((t,o)=>(t.set(S.URI.revive(o[0]),this.parseConfigurationModel(o[1])),t),new v.ResourceMap);return new u(d,r,new i,n,s,new i,new v.ResourceMap,!1)}static parseConfigurationModel(c){return new i(c.contents,c.keys,c.overrides).freeze()}}e.Configuration=u;class a{constructor(c,d,r,n){this.change=c,this.previous=d,this.currentConfiguraiton=r,this.currentWorkspace=n,this._previousConfiguration=void 0;const s=new Set;c.keys.forEach(o=>s.add(o)),c.overrides.forEach(([,o])=>o.forEach(h=>s.add(h))),this.affectedKeys=[...s.values()];const t=new i;this.affectedKeys.forEach(o=>t.setValue(o,{})),this.affectedKeysTree=t.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=u.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(c,d){var r;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,c)){if(d){const n=this.previousConfiguration?this.previousConfiguration.getValue(c,d,(r=this.previous)===null||r===void 0?void 0:r.workspace):void 0,s=this.currentConfiguraiton.getValue(c,d,this.currentWorkspace);return!w.equals(n,s)}return!0}return!1}doesAffectedKeysTreeContains(c,d){let r=(0,C.toValuesTree)({[d]:!0},()=>{}),n;for(;typeof r=="object"&&(n=Object.keys(r)[0]);){if(c=c[n],!c)return!1;r=r[n]}return!0}}e.ConfigurationChangeEvent=a}),define(J[573],ee([0,1,6,54,2,51,523,26,47,16,251]),function($,e,v,I,k,w,S,_,C,i,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextKeyService=e.AbstractContextKeyService=e.Context=void 0;const u="data-keybinding-context";class a{constructor(f,b){this._id=f,this._parent=b,this._value=Object.create(null),this._value._contextId=f}setValue(f,b){return this._value[f]!==b?(this._value[f]=b,!0):!1}removeValue(f){return f in this._value?(delete this._value[f],!0):!1}getValue(f){const b=this._value[f];return typeof b=="undefined"&&this._parent?this._parent.getValue(f):b}}e.Context=a;class l extends a{constructor(){super(-1,null)}setValue(f,b){return!1}removeValue(f){return!1}getValue(f){}}l.INSTANCE=new l;class c extends a{constructor(f,b,y){super(f,null);this._configurationService=b,this._values=w.TernarySearchTree.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(L=>{if(L.source===6){const N=Array.from(I.Iterable.map(this._values,([M])=>M));this._values.clear(),y.fire(new n(N))}else{const N=[];for(const M of L.affectedKeys){const D=`config.${M}`,R=this._values.findSuperstr(D);R!==void 0&&(N.push(...I.Iterable.map(R,([P])=>P)),this._values.deleteSuperstr(D)),this._values.has(D)&&(N.push(D),this._values.delete(D))}y.fire(new n(N))}})}dispose(){this._listener.dispose()}getValue(f){if(f.indexOf(c._keyPrefix)!==0)return super.getValue(f);if(this._values.has(f))return this._values.get(f);const b=f.substr(c._keyPrefix.length),y=this._configurationService.getValue(b);let L;switch(typeof y){case"number":case"boolean":case"string":L=y;break;default:Array.isArray(y)?L=JSON.stringify(y):L=y}return this._values.set(f,L),L}setValue(f,b){return super.setValue(f,b)}removeValue(f){return super.removeValue(f)}}c._keyPrefix="config.";class d{constructor(f,b,y){this._service=f,this._key=b,this._defaultValue=y,this.reset()}set(f){this._service.setContext(this._key,f)}reset(){typeof this._defaultValue=="undefined"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class r{constructor(f){this.key=f}affectsSome(f){return f.has(this.key)}}class n{constructor(f){this.keys=f}affectsSome(f){for(const b of this.keys)if(f.has(b))return!0;return!1}}class s{constructor(f){this.events=f}affectsSome(f){for(const b of this.events)if(b.affectsSome(f))return!0;return!1}}class t{constructor(f){this._onDidChangeContext=new v.PauseableEmitter({merge:b=>new s(b)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=f}createKey(f,b){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new d(this,f,b)}bufferChangeEvents(f){this._onDidChangeContext.pause();try{f()}finally{this._onDidChangeContext.resume()}}createScoped(f){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new h(this,f)}contextMatchesRules(f){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const b=this.getContextValuesContainer(this._myContextId);return p.KeybindingResolver.contextMatchesRules(b,f)}getContextKeyValue(f){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(f)}setContext(f,b){if(!this._isDisposed){const y=this.getContextValuesContainer(this._myContextId);!y||y.setValue(f,b)&&this._onDidChangeContext.fire(new r(f))}}removeContext(f){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(f)&&this._onDidChangeContext.fire(new r(f))}getContext(f){return this._isDisposed?l.INSTANCE:this.getContextValuesContainer(g(f))}}e.AbstractContextKeyService=t;let o=class extends t{constructor(f){super(0);this._contexts=new Map,this._toDispose=new k.DisposableStore,this._lastContextId=0;const b=new c(this._myContextId,f,this._onDidChangeContext);this._contexts.set(this._myContextId,b),this._toDispose.add(b)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(f){return this._isDisposed?l.INSTANCE:this._contexts.get(f)||l.INSTANCE}createChildContext(f=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");let b=++this._lastContextId;return this._contexts.set(b,new a(b,this.getContextValuesContainer(f))),b}disposeContext(f){this._isDisposed||this._contexts.delete(f)}};o=Me([pe(0,C.IConfigurationService)],o),e.ContextKeyService=o;class h extends t{constructor(f,b){super(f.createChildContext());if(this._parentChangeListener=new k.MutableDisposable,this._parent=f,this._updateParentChangeListener(),this._domNode=b,this._domNode.hasAttribute(u)){let y="";this._domNode.classList&&(y=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${y?": "+y:""}`)}this._domNode.setAttribute(u,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(this._onDidChangeContext.fire,this._onDidChangeContext)}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(u),this._isDisposed=!0)}getContextValuesContainer(f){return this._isDisposed?l.INSTANCE:this._parent.getContextValuesContainer(f)}createChildContext(f=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(f)}disposeContext(f){this._isDisposed||this._parent.disposeContext(f)}}function g(m){for(;m;){if(m.hasAttribute(u)){const f=m.getAttribute(u);return f?parseInt(f,10):NaN}m=m.parentElement}return 0}_.CommandsRegistry.registerCommand(i.SET_CONTEXT_COMMAND_ID,function(m,f,b){m.get(i.IContextKeyService).createKey(String(f),b)}),_.CommandsRegistry.registerCommand({id:"getContextKeyInfo",handler(){return[...i.RawContextKey.all()].sort((m,f)=>m.key.localeCompare(f.key))},description:{description:(0,S.localize)(0,null),args:[]}}),_.CommandsRegistry.registerCommand("_generateContextKeyInfo",function(){const m=[],f=new Set;for(let b of i.RawContextKey.all())f.has(b.key)||(f.add(b.key),m.push(b));m.sort((b,y)=>b.key.localeCompare(y.key)),console.log(JSON.stringify(m,void 0,2))})}),define(J[86],ee([0,1,39,17,26,33]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=e.KeybindingsRegistry=void 0;class S{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(i){if(I.OS===1){if(i&&i.win)return i.win}else if(I.OS===2){if(i&&i.mac)return i.mac}else if(i&&i.linux)return i.linux;return i}registerKeybindingRule(i){const p=S.bindToCurrentPlatform(i);if(p&&p.primary){const u=(0,v.createKeybinding)(p.primary,I.OS);u&&this._registerDefaultKeybinding(u,i.id,i.args,i.weight,0,i.when)}if(p&&Array.isArray(p.secondary))for(let u=0,a=p.secondary.length;u<a;u++){const l=p.secondary[u],c=(0,v.createKeybinding)(l,I.OS);c&&this._registerDefaultKeybinding(c,i.id,i.args,i.weight,-u-1,i.when)}}registerCommandAndKeybindingRule(i){this.registerKeybindingRule(i),k.CommandsRegistry.registerCommand(i)}static _mightProduceChar(i){return i>=21&&i<=30||i>=31&&i<=56?!0:i===80||i===81||i===82||i===83||i===84||i===85||i===86||i===110||i===111||i===87||i===88||i===89||i===90||i===91||i===92}_assertNoCtrlAlt(i,p){i.ctrlKey&&i.altKey&&!i.metaKey&&S._mightProduceChar(i.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",i," for ",p)}_registerDefaultKeybinding(i,p,u,a,l,c){I.OS===1&&this._assertNoCtrlAlt(i.parts[0],p),this._coreKeybindings.push({keybinding:i,command:p,commandArgs:u,when:c,weight1:a,weight2:l,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(_)),this._cachedMergedKeybindings.slice(0)}}e.KeybindingsRegistry=new S,e.Extensions={EditorModes:"platform.keybindingsRegistry"},w.Registry.add(e.Extensions.EditorModes,e.KeybindingsRegistry);function _(C,i){return C.weight1!==i.weight1?C.weight1-i.weight1:C.command<i.command?-1:C.command>i.command?1:C.weight2-i.weight2}}),define(J[574],ee([0,1,16,433,86,434]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextScopedReplaceInput=e.ContextScopedFindInput=e.createAndBindHistoryNavigationWidgetScopedContextKeyService=e.HistoryNavigationEnablementContext=e.HistoryNavigationWidgetContext=void 0,e.HistoryNavigationWidgetContext="historyNavigationWidget",e.HistoryNavigationEnablementContext="historyNavigationEnabled";function S(a,l,c){new v.RawContextKey(c,l).bindTo(a)}function _(a,l){return a.createScoped(l.target)}function C(a,l){return a.getContext(document.activeElement).getValue(l)}function i(a,l){const c=_(a,l);S(c,l,e.HistoryNavigationWidgetContext);const d=new v.RawContextKey(e.HistoryNavigationEnablementContext,!0).bindTo(c);return{scopedContextKeyService:c,historyNavigationEnablement:d}}e.createAndBindHistoryNavigationWidgetScopedContextKeyService=i;let p=class extends I.FindInput{constructor(l,c,d,r,n=!1){super(l,c,n,d);this._register(i(r,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};p=Me([pe(3,v.IContextKeyService)],p),e.ContextScopedFindInput=p;let u=class extends w.ReplaceInput{constructor(l,c,d,r,n=!1){super(l,c,n,d);this._register(i(r,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};u=Me([pe(3,v.IContextKeyService)],u),e.ContextScopedReplaceInput=u,k.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:v.ContextKeyExpr.and(v.ContextKeyExpr.has(e.HistoryNavigationWidgetContext),v.ContextKeyExpr.equals(e.HistoryNavigationEnablementContext,!0)),primary:16,secondary:[512|16],handler:(a,l)=>{const c=C(a.get(v.IContextKeyService),e.HistoryNavigationWidgetContext);c&&c.historyNavigator.showPreviousValue()}}),k.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:v.ContextKeyExpr.and(v.ContextKeyExpr.has(e.HistoryNavigationWidgetContext),v.ContextKeyExpr.equals(e.HistoryNavigationEnablementContext,!0)),primary:18,secondary:[512|18],handler:(a,l)=>{const c=C(a.get(v.IContextKeyService),e.HistoryNavigationWidgetContext);c&&c.historyNavigator.showNextValue()}})}),define(J[96],ee([0,1,33,19,2]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessRegistry=e.Extensions=e.DefaultQuickAccessFilterValue=void 0;var w;(function(_){_[_.PRESERVE=0]="PRESERVE",_[_.LAST=1]="LAST"})(w=e.DefaultQuickAccessFilterValue||(e.DefaultQuickAccessFilterValue={})),e.Extensions={Quickaccess:"workbench.contributions.quickaccess"};class S{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(C){return C.prefix.length===0?this.defaultProvider=C:this.providers.push(C),this.providers.sort((i,p)=>p.prefix.length-i.prefix.length),(0,k.toDisposable)(()=>{this.providers.splice(this.providers.indexOf(C),1),this.defaultProvider===C&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,I.coalesce)([this.defaultProvider,...this.providers])}getQuickAccessProvider(C){return C&&this.providers.find(p=>C.startsWith(p.prefix))||void 0||this.defaultProvider}}e.QuickAccessRegistry=S,v.Registry.add(e.Extensions.Quickaccess,new S)}),define(J[575],ee([0,1,78,96,33,529,2]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HelpQuickAccessProvider=void 0;let _=class lt{constructor(i){this.quickInputService=i,this.registry=k.Registry.as(I.Extensions.Quickaccess)}provide(i){const p=new S.DisposableStore;p.add(i.onDidAccept(()=>{const[l]=i.selectedItems;l&&this.quickInputService.quickAccess.show(l.prefix,{preserveValue:!0})})),p.add(i.onDidChangeValue(l=>{const c=this.registry.getQuickAccessProvider(l.substr(lt.PREFIX.length));c&&c.prefix&&c.prefix!==lt.PREFIX&&this.quickInputService.quickAccess.show(c.prefix,{preserveValue:!0})}));const{editorProviders:u,globalProviders:a}=this.getQuickAccessProviders();return i.items=u.length===0||a.length===0?[...u.length===0?a:u]:[{label:(0,w.localize)(0,null),type:"separator"},...a,{label:(0,w.localize)(1,null),type:"separator"},...u],p}getQuickAccessProviders(){const i=[],p=[];for(const u of this.registry.getQuickAccessProviders().sort((a,l)=>a.prefix.localeCompare(l.prefix)))if(u.prefix!==lt.PREFIX)for(const a of u.helpEntries){const l=a.prefix||u.prefix,c=l||"\u2026";(a.needsEditor?p:i).push({prefix:l,label:c,ariaLabel:(0,w.localize)(2,null,c,a.description),description:a.description})}return{editorProviders:p,globalProviders:i}}};_.PREFIX="?",_=Me([pe(0,v.IQuickInputService)],_),e.HelpQuickAccessProvider=_}),define(J[576],ee([0,1,33,96,64,575]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),v.Registry.as(I.Extensions.Quickaccess).registerQuickAccessProvider({ctor:w.HelpQuickAccessProvider,prefix:"",helpEntries:[{description:k.QuickHelpNLS.helpQuickAccessActionLabel,needsEditor:!0}]})}),define(J[577],ee([0,1,78,2,96,33,23,9,88]),function($,e,v,I,k,w,S,_,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessController=void 0;let i=class extends I.Disposable{constructor(u,a){super();this.quickInputService=u,this.instantiationService=a,this.registry=w.Registry.as(k.Extensions.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(u="",a){var l;const[c,d]=this.getOrInstantiateProvider(u),r=this.visibleQuickAccess,n=r==null?void 0:r.descriptor;if(r&&d&&n===d){u!==d.prefix&&!(a==null?void 0:a.preserveValue)&&(r.picker.value=u),this.adjustValueSelection(r.picker,d,a);return}if(d&&!(a==null?void 0:a.preserveValue)){let h;if(r&&n&&n!==d){const g=r.value.substr(n.prefix.length);g&&(h=`${d.prefix}${g}`)}if(!h){const g=c==null?void 0:c.defaultFilterValue;g===k.DefaultQuickAccessFilterValue.LAST?h=this.lastAcceptedPickerValues.get(d):typeof g=="string"&&(h=`${d.prefix}${g}`)}typeof h=="string"&&(u=h)}const s=new I.DisposableStore,t=s.add(this.quickInputService.createQuickPick());t.value=u,this.adjustValueSelection(t,d,a),t.placeholder=d==null?void 0:d.placeholder,t.quickNavigate=a==null?void 0:a.quickNavigateConfiguration,t.hideInput=!!t.quickNavigate&&!r,(typeof(a==null?void 0:a.itemActivation)=="number"||(a==null?void 0:a.quickNavigateConfiguration))&&(t.itemActivation=(l=a==null?void 0:a.itemActivation)!==null&&l!==void 0?l:v.ItemActivation.SECOND),t.contextKey=d==null?void 0:d.contextKey,t.filterValue=h=>h.substring(d?d.prefix.length:0),(d==null?void 0:d.placeholder)&&(t.ariaLabel=d==null?void 0:d.placeholder),s.add(this.registerPickerListeners(t,c,d,u));const o=s.add(new S.CancellationTokenSource);c&&s.add(c.provide(t,o.token)),(0,C.once)(t.onDidHide)(()=>{t.selectedItems.length===0&&o.cancel(),s.dispose()}),t.show()}adjustValueSelection(u,a,l){var c;let d;(l==null?void 0:l.preserveValue)?d=[u.value.length,u.value.length]:d=[(c=a==null?void 0:a.prefix.length)!==null&&c!==void 0?c:0,u.value.length],u.valueSelection=d}registerPickerListeners(u,a,l,c){const d=new I.DisposableStore,r=this.visibleQuickAccess={picker:u,descriptor:l,value:c};return d.add((0,I.toDisposable)(()=>{r===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),d.add(u.onDidChangeValue(n=>{const[s]=this.getOrInstantiateProvider(n);s!==a?this.show(n,{preserveValue:!0}):r.value=n})),l&&d.add(u.onDidAccept(()=>{this.lastAcceptedPickerValues.set(l,u.value)})),d}getOrInstantiateProvider(u){const a=this.registry.getQuickAccessProvider(u);if(!a)return[void 0,void 0];let l=this.mapProviderToDescriptor.get(a);return l||(l=this.instantiationService.createInstance(a.ctor),this.mapProviderToDescriptor.set(a,l)),[l,a]}};i=Me([pe(0,v.IQuickInputService),pe(1,_.IInstantiationService)],i),e.QuickAccessController=i}),define(J[79],ee([0,1,9,6,2,20,294]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageService=e.AbstractStorageService=e.WillSaveStateReason=e.IStorageService=void 0;const _="__$__targetStorageMarker";e.IStorageService=(0,v.createDecorator)("storageService");var C;(function(u){u[u.NONE=0]="NONE",u[u.SHUTDOWN=1]="SHUTDOWN"})(C=e.WillSaveStateReason||(e.WillSaveStateReason={}));class i extends k.Disposable{constructor(a={flushInterval:i.DEFAULT_FLUSH_INTERVAL}){super();this.options=a,this._onDidChangeValue=this._register(new I.PauseableEmitter),this._onDidChangeTarget=this._register(new I.PauseableEmitter),this._onWillSaveState=this._register(new I.Emitter),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._globalKeyTargets=void 0}emitDidChangeValue(a,l){l===_?(a===0?this._globalKeyTargets=void 0:a===1&&(this._workspaceKeyTargets=void 0),this._onDidChangeTarget.fire({scope:a})):this._onDidChangeValue.fire({scope:a,key:l,target:this.getKeyTargets(a)[l]})}get(a,l,c){var d;return(d=this.getStorage(l))===null||d===void 0?void 0:d.get(a,c)}getBoolean(a,l,c){var d;return(d=this.getStorage(l))===null||d===void 0?void 0:d.getBoolean(a,c)}getNumber(a,l,c){var d;return(d=this.getStorage(l))===null||d===void 0?void 0:d.getNumber(a,c)}store(a,l,c,d){if((0,w.isUndefinedOrNull)(l)){this.remove(a,c);return}this.withPausedEmitters(()=>{var r;this.updateKeyTarget(a,c,d),(r=this.getStorage(c))===null||r===void 0||r.set(a,l)})}remove(a,l){this.withPausedEmitters(()=>{var c;this.updateKeyTarget(a,l,void 0),(c=this.getStorage(l))===null||c===void 0||c.delete(a)})}withPausedEmitters(a){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{a()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(a,l,c){var d,r;const n=this.getKeyTargets(l);typeof c=="number"?n[a]!==c&&(n[a]=c,(d=this.getStorage(l))===null||d===void 0||d.set(_,JSON.stringify(n))):typeof n[a]=="number"&&(delete n[a],(r=this.getStorage(l))===null||r===void 0||r.set(_,JSON.stringify(n)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get globalKeyTargets(){return this._globalKeyTargets||(this._globalKeyTargets=this.loadKeyTargets(0)),this._globalKeyTargets}getKeyTargets(a){return a===0?this.globalKeyTargets:this.workspaceKeyTargets}loadKeyTargets(a){const l=this.get(_,a);if(l)try{return JSON.parse(l)}catch(c){}return Object.create(null)}}e.AbstractStorageService=i,i.DEFAULT_FLUSH_INTERVAL=60*1e3;class p extends i{constructor(){super();this.globalStorage=new S.Storage(new S.InMemoryStorageDatabase),this.workspaceStorage=new S.Storage(new S.InMemoryStorageDatabase),this._register(this.workspaceStorage.onDidChangeStorage(a=>this.emitDidChangeValue(1,a))),this._register(this.globalStorage.onDidChangeStorage(a=>this.emitDidChangeValue(0,a)))}getStorage(a){return a===0?this.globalStorage:this.workspaceStorage}}e.InMemoryStorageService=p}),define(J[578],ee([0,1,9,75,248,51,79,3,15,88]),function($,e,v,I,k,w,S,_,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensCache=e.ICodeLensCache=void 0,e.ICodeLensCache=(0,v.createDecorator)("ICodeLensCache");class p{constructor(l,c){this.lineCount=l,this.data=c}}let u=class{constructor(l){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new w.LRUCache(20,.75);const c="codelens/cache";(0,C.runWhenIdle)(()=>l.remove(c,1));const d="codelens/cache2",r=l.get(d,1,"{}");this._deserialize(r),(0,i.once)(l.onWillSaveState)(n=>{n.reason===S.WillSaveStateReason.SHUTDOWN&&l.store(d,this._serialize(),1,1)})}put(l,c){const d=c.lenses.map(s=>{var t;return{range:s.symbol.range,command:s.symbol.command&&{id:"",title:(t=s.symbol.command)===null||t===void 0?void 0:t.title}}}),r=new k.CodeLensModel;r.add({lenses:d,dispose:()=>{}},this._fakeProvider);const n=new p(l.getLineCount(),r);this._cache.set(l.uri.toString(),n)}get(l){const c=this._cache.get(l.uri.toString());return c&&c.lineCount===l.getLineCount()?c.data:void 0}delete(l){this._cache.delete(l.uri.toString())}_serialize(){const l=Object.create(null);for(const[c,d]of this._cache){const r=new Set;for(const n of d.data.lenses)r.add(n.symbol.range.startLineNumber);l[c]={lineCount:d.lineCount,lines:[...r.values()]}}return JSON.stringify(l)}_deserialize(l){try{const c=JSON.parse(l);for(const d in c){const r=c[d],n=[];for(const t of r.lines)n.push({range:new _.Range(t,1,t,11)});const s=new k.CodeLensModel;s.add({lenses:n,dispose(){}},this._fakeProvider),this._cache.set(d,new p(r.lineCount,s))}}catch(c){}}};u=Me([pe(0,S.IStorageService)],u),e.CodeLensCache=u,(0,I.registerSingleton)(e.ICodeLensCache,u)}),define(J[579],ee([0,1,51,79,18,2,15,9,47,75,57]),function($,e,v,I,k,w,S,_,C,i,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISuggestMemoryService=e.SuggestMemoryService=e.PrefixMemory=e.LRUMemory=e.NoMemory=e.Memory=void 0;class u{constructor(n){this.name=n}select(n,s,t){if(t.length===0)return 0;let o=t[0].score[0];for(let h=0;h<t.length;h++){const{score:g,completion:m}=t[h];if(g[0]!==o)break;if(m.preselect)return h}return 0}}e.Memory=u;class a extends u{constructor(){super("first")}memorize(n,s,t){}toJSON(){}fromJSON(){}}e.NoMemory=a;class l extends u{constructor(){super("recentlyUsed");this._cache=new v.LRUCache(300,.66),this._seq=0}memorize(n,s,t){const o=`${n.getLanguageIdentifier().language}/${t.textLabel}`;this._cache.set(o,{touch:this._seq++,type:t.completion.kind,insertText:t.completion.insertText})}select(n,s,t){if(t.length===0)return 0;const o=n.getLineContent(s.lineNumber).substr(s.column-10,s.column-1);if(/\s$/.test(o))return super.select(n,s,t);let h=t[0].score[0],g=-1,m=-1,f=-1;for(let b=0;b<t.length&&t[b].score[0]===h;b++){const y=`${n.getLanguageIdentifier().language}/${t[b].textLabel}`,L=this._cache.peek(y);if(L&&L.touch>f&&L.type===t[b].completion.kind&&L.insertText===t[b].completion.insertText&&(f=L.touch,m=b),t[b].completion.preselect&&g===-1)return g=b}return m!==-1?m:g!==-1?g:0}toJSON(){return this._cache.toJSON()}fromJSON(n){this._cache.clear();let s=0;for(const[t,o]of n)o.touch=s,o.type=typeof o.type=="number"?o.type:(0,k.completionKindFromString)(o.type),this._cache.set(t,o);this._seq=this._cache.size}}e.LRUMemory=l;class c extends u{constructor(){super("recentlyUsedByPrefix");this._trie=v.TernarySearchTree.forStrings(),this._seq=0}memorize(n,s,t){const{word:o}=n.getWordUntilPosition(s),h=`${n.getLanguageIdentifier().language}/${o}`;this._trie.set(h,{type:t.completion.kind,insertText:t.completion.insertText,touch:this._seq++})}select(n,s,t){let{word:o}=n.getWordUntilPosition(s);if(!o)return super.select(n,s,t);let h=`${n.getLanguageIdentifier().language}/${o}`,g=this._trie.get(h);if(g||(g=this._trie.findSubstr(h)),g)for(let m=0;m<t.length;m++){let{kind:f,insertText:b}=t[m].completion;if(f===g.type&&b===g.insertText)return m}return super.select(n,s,t)}toJSON(){let n=[];return this._trie.forEach((s,t)=>n.push([t,s])),n.sort((s,t)=>-(s[1].touch-t[1].touch)).forEach((s,t)=>s[1].touch=t),n.slice(0,200)}fromJSON(n){if(this._trie.clear(),n.length>0){this._seq=n[0][1].touch+1;for(const[s,t]of n)t.type=typeof t.type=="number"?t.type:(0,k.completionKindFromString)(t.type),this._trie.set(s,t)}}}e.PrefixMemory=c;let d=class dt{constructor(n,s,t){this._storageService=n,this._modeService=s,this._configService=t,this._disposables=new w.DisposableStore,this._persistSoon=new S.RunOnceScheduler(()=>this._saveState(),500),this._disposables.add(n.onWillSaveState(o=>{o.reason===I.WillSaveStateReason.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(n,s,t){this._withStrategy(n,s).memorize(n,s,t),this._persistSoon.schedule()}select(n,s,t){return this._withStrategy(n,s).select(n,s,t)}_withStrategy(n,s){var t,o;const h=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:(t=this._modeService.getLanguageIdentifier(n.getLanguageIdAtPosition(s.lineNumber,s.column)))===null||t===void 0?void 0:t.language,resource:n.uri});if(((o=this._strategy)===null||o===void 0?void 0:o.name)!==h){this._saveState();const g=dt._strategyCtors.get(h)||a;this._strategy=new g;try{const f=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,b=this._storageService.get(`${dt._storagePrefix}/${h}`,f);b&&this._strategy.fromJSON(JSON.parse(b))}catch(m){}}return this._strategy}_saveState(){if(this._strategy){const s=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,t=JSON.stringify(this._strategy);this._storageService.store(`${dt._storagePrefix}/${this._strategy.name}`,t,s,1)}}};d._strategyCtors=new Map([["recentlyUsedByPrefix",c],["recentlyUsed",l],["first",a]]),d._storagePrefix="suggest/memories",d=Me([pe(0,I.IStorageService),pe(1,p.IModeService),pe(2,C.IConfigurationService)],d),e.SuggestMemoryService=d,e.ISuggestMemoryService=(0,_.createDecorator)("ISuggestMemories"),(0,i.registerSingleton)(e.ISuggestMemoryService,d,!0)}),define(J[87],ee([0,1,9]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITelemetryService=void 0,e.ITelemetryService=(0,v.createDecorator)("telemetryService")}),define(J[580],ee([0,1,528,564,2,66,20,51,79,47,9,37,26,87,11,32,438]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsHistory=e.AbstractCommandsQuickAccessProvider=void 0;let n=class ut extends I.PickerQuickAccessProvider{constructor(o,h,g,m,f,b){super(ut.PREFIX,o);this.instantiationService=h,this.keybindingService=g,this.commandService=m,this.telemetryService=f,this.notificationService=b,this.commandsHistory=this._register(this.instantiationService.createInstance(s)),this.options=o}getPicks(o,h,g){return Ie(this,void 0,void 0,function*(){const m=yield this.getCommandPicks(h,g);if(g.isCancellationRequested)return[];const f=[];for(const N of m){const M=(0,S.withNullAsUndefined)(ut.WORD_FILTER(o,N.label)),D=N.commandAlias?(0,S.withNullAsUndefined)(ut.WORD_FILTER(o,N.commandAlias)):void 0;M||D?(N.highlights={label:M,detail:this.options.showAlias?D:void 0},f.push(N)):o===N.commandId&&f.push(N)}const b=new Map;for(const N of f){const M=b.get(N.label);M?(N.description=N.commandId,M.description=M.commandId):b.set(N.label,N)}f.sort((N,M)=>{const D=this.commandsHistory.peek(N.commandId),R=this.commandsHistory.peek(M.commandId);return D&&R?D>R?-1:1:D?-1:R?1:N.label.localeCompare(M.label)});const y=[];let L=!1;for(let N=0;N<f.length;N++){const M=f[N],D=this.keybindingService.lookupKeybinding(M.commandId),R=D?(0,v.localize)(0,null,M.label,D.getAriaLabel()):M.label;N===0&&this.commandsHistory.peek(M.commandId)&&(y.push({type:"separator",label:(0,v.localize)(1,null)}),L=!0),N!==0&&L&&!this.commandsHistory.peek(M.commandId)&&(y.push({type:"separator",label:(0,v.localize)(2,null)}),L=!1),y.push(Object.assign(Object.assign({},M),{ariaLabel:R,detail:this.options.showAlias&&M.commandAlias!==M.label?M.commandAlias:void 0,keybinding:D,accept:()=>Ie(this,void 0,void 0,function*(){this.commandsHistory.push(M.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:M.commandId,from:"quick open"});try{yield this.commandService.executeCommand(M.commandId)}catch(P){(0,c.isPromiseCanceledError)(P)||this.notificationService.error((0,v.localize)(3,null,M.label,(0,r.toErrorMessage)(P)))}})}))}return y})}};n.PREFIX=">",n.WORD_FILTER=(0,w.or)(w.matchesPrefix,w.matchesWords,w.matchesContiguousSubString),n=Me([pe(1,p.IInstantiationService),pe(2,u.IKeybindingService),pe(3,a.ICommandService),pe(4,l.ITelemetryService),pe(5,d.INotificationService)],n),e.AbstractCommandsQuickAccessProvider=n;let s=class qe extends k.Disposable{constructor(o,h){super();this.storageService=o,this.configurationService=h,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(()=>this.updateConfiguration()))}updateConfiguration(){this.configuredCommandsHistoryLength=qe.getConfiguredCommandHistoryLength(this.configurationService),qe.cache&&qe.cache.limit!==this.configuredCommandsHistoryLength&&(qe.cache.limit=this.configuredCommandsHistoryLength,qe.saveState(this.storageService))}load(){const o=this.storageService.get(qe.PREF_KEY_CACHE,0);let h;if(o)try{h=JSON.parse(o)}catch(m){}const g=qe.cache=new _.LRUCache(this.configuredCommandsHistoryLength,1);if(h){let m;h.usesLRU?m=h.entries:m=h.entries.sort((f,b)=>f.value-b.value),m.forEach(f=>g.set(f.key,f.value))}qe.counter=this.storageService.getNumber(qe.PREF_KEY_COUNTER,0,qe.counter)}push(o){!qe.cache||(qe.cache.set(o,qe.counter++),qe.saveState(this.storageService))}peek(o){var h;return(h=qe.cache)===null||h===void 0?void 0:h.peek(o)}static saveState(o){if(!!qe.cache){const h={usesLRU:!0,entries:[]};qe.cache.forEach((g,m)=>h.entries.push({key:m,value:g})),o.store(qe.PREF_KEY_CACHE,JSON.stringify(h),0,0),o.store(qe.PREF_KEY_COUNTER,qe.counter,0,0)}}static getConfiguredCommandHistoryLength(o){var h,g;const f=(g=(h=o.getValue().workbench)===null||h===void 0?void 0:h.commandPalette)===null||g===void 0?void 0:g.history;return typeof f=="number"?f:qe.DEFAULT_COMMANDS_HISTORY_LENGTH}};s.DEFAULT_COMMANDS_HISTORY_LENGTH=50,s.PREF_KEY_CACHE="commandPalette.mru.cache",s.PREF_KEY_COUNTER="commandPalette.mru.counter",s.counter=1,s=Me([pe(0,C.IStorageService),pe(1,i.IConfigurationService)],s),e.CommandsHistory=s}),define(J[581],ee([0,1,580,102]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorCommandsQuickAccessProvider=void 0;class k extends v.AbstractCommandsQuickAccessProvider{constructor(S,_,C,i,p,u){super(S,_,C,i,p,u)}getCodeEditorCommandPicks(){const S=this.activeTextEditorControl;if(!S)return[];const _=[];for(const C of S.getSupportedActions())_.push({commandId:C.id,commandAlias:C.alias,label:(0,I.stripIcons)(C.label)||C.id});return _}}e.AbstractEditorCommandsQuickAccessProvider=k}),define(J[22],ee([0,1,33,29,6,530,186,15]),function($,e,v,I,k,w,S,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.workbenchColorsSchemaId=e.resolveColorValue=e.oneOf=e.transparent=e.lighten=e.darken=e.problemsInfoIconForeground=e.problemsWarningIconForeground=e.problemsErrorIconForeground=e.minimapSliderActiveBackground=e.minimapSliderHoverBackground=e.minimapSliderBackground=e.minimapBackground=e.minimapWarning=e.minimapError=e.minimapSelection=e.minimapFindMatch=e.overviewRulerSelectionHighlightForeground=e.overviewRulerFindMatchForeground=e.snippetFinalTabstopHighlightBorder=e.snippetFinalTabstopHighlightBackground=e.snippetTabstopHighlightBorder=e.snippetTabstopHighlightBackground=e.menuSeparatorBackground=e.menuSelectionBorder=e.menuSelectionBackground=e.menuSelectionForeground=e.menuBackground=e.menuForeground=e.menuBorder=e.quickInputListFocusBackground=e._deprecatedQuickInputListFocusBackground=e.tableColumnsBorder=e.treeIndentGuidesStroke=e.listFilterWidgetNoMatchesOutline=e.listFilterWidgetOutline=e.listFilterWidgetBackground=e.listHighlightForeground=e.listDropBackground=e.listHoverForeground=e.listHoverBackground=e.listInactiveFocusOutline=e.listInactiveFocusBackground=e.listInactiveSelectionForeground=e.listInactiveSelectionBackground=e.listActiveSelectionForeground=e.listActiveSelectionBackground=e.listFocusOutline=e.listFocusForeground=e.listFocusBackground=e.diffDiagonalFill=e.diffBorder=e.diffRemovedOutline=e.diffInsertedOutline=e.diffRemoved=e.diffInserted=e.defaultRemoveColor=e.defaultInsertColor=e.editorLightBulbAutoFixForeground=e.editorLightBulbForeground=e.editorInlineHintBackground=e.editorInlineHintForeground=e.editorActiveLinkForeground=e.editorHoverStatusBarBackground=e.editorHoverBorder=e.editorHoverForeground=e.editorHoverBackground=e.editorHoverHighlight=e.editorFindRangeHighlightBorder=e.editorFindMatchHighlightBorder=e.editorFindMatchBorder=e.editorFindRangeHighlight=e.editorFindMatchHighlight=e.editorFindMatch=e.editorSelectionHighlightBorder=e.editorSelectionHighlight=e.editorInactiveSelection=e.editorSelectionForeground=e.editorSelectionBackground=e.keybindingLabelBottomBorder=e.keybindingLabelBorder=e.keybindingLabelForeground=e.keybindingLabelBackground=e.pickerGroupBorder=e.pickerGroupForeground=e.quickInputTitleBackground=e.quickInputForeground=e.quickInputBackground=e.editorWidgetResizeBorder=e.editorWidgetBorder=e.editorWidgetForeground=e.editorWidgetBackground=e.editorForeground=e.editorBackground=e.editorHintBorder=e.editorHintForeground=e.editorInfoBorder=e.editorInfoForeground=e.editorInfoBackground=e.editorWarningBorder=e.editorWarningForeground=e.editorWarningBackground=e.editorErrorBorder=e.editorErrorForeground=e.editorErrorBackground=e.progressBarBackground=e.scrollbarSliderActiveBackground=e.scrollbarSliderHoverBackground=e.scrollbarSliderBackground=e.scrollbarShadow=e.badgeForeground=e.badgeBackground=e.buttonHoverBackground=e.buttonBackground=e.buttonForeground=e.selectForeground=e.selectBackground=e.inputValidationErrorBorder=e.inputValidationErrorForeground=e.inputValidationErrorBackground=e.inputValidationWarningBorder=e.inputValidationWarningForeground=e.inputValidationWarningBackground=e.inputValidationInfoBorder=e.inputValidationInfoForeground=e.inputValidationInfoBackground=e.inputActiveOptionForeground=e.inputActiveOptionBackground=e.inputActiveOptionBorder=e.inputBorder=e.inputForeground=e.inputBackground=e.widgetShadow=e.textCodeBlockBackground=e.textLinkForeground=e.activeContrastBorder=e.contrastBorder=e.focusBorder=e.iconForeground=e.errorForeground=e.foreground=e.registerColor=e.Extensions=void 0,e.Extensions={ColorContribution:"base.contributions.colors"};class C{constructor(){this._onDidChangeSchema=new k.Emitter,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(o,h,g,m=!1,f){let b={id:o,description:g,defaults:h,needsTransparency:m,deprecationMessage:f};this.colorsById[o]=b;let y={type:"string",description:g,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return f&&(y.deprecationMessage=f),this.colorSchema.properties[o]=y,this.colorReferenceSchema.enum.push(o),this.colorReferenceSchema.enumDescriptions.push(g),this._onDidChangeSchema.fire(),o}resolveDefaultColor(o,h){const g=this.colorsById[o];if(g&&g.defaults){const m=g.defaults[h.type];return r(m,h)}}getColorSchema(){return this.colorSchema}toString(){let o=(h,g)=>{let m=h.indexOf(".")===-1?0:1,f=g.indexOf(".")===-1?0:1;return m!==f?m-f:h.localeCompare(g)};return Object.keys(this.colorsById).sort(o).map(h=>`- \`${h}\`: ${this.colorsById[h].description}`).join(`
`)}}const i=new C;v.Registry.add(e.Extensions.ColorContribution,i);function p(t,o,h,g,m){return i.registerColor(t,o,h,g,m)}e.registerColor=p,e.foreground=p("foreground",{dark:"#CCCCCC",light:"#616161",hc:"#FFFFFF"},w.localize(0,null)),e.errorForeground=p("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},w.localize(1,null)),e.iconForeground=p("icon.foreground",{dark:"#C5C5C5",light:"#424242",hc:"#FFFFFF"},w.localize(2,null)),e.focusBorder=p("focusBorder",{dark:"#007FD4",light:"#0090F1",hc:"#F38518"},w.localize(3,null)),e.contrastBorder=p("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},w.localize(4,null)),e.activeContrastBorder=p("contrastActiveBorder",{light:null,dark:null,hc:e.focusBorder},w.localize(5,null)),e.textLinkForeground=p("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},w.localize(6,null)),e.textCodeBlockBackground=p("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:I.Color.black},w.localize(7,null)),e.widgetShadow=p("widget.shadow",{dark:l(I.Color.black,.36),light:l(I.Color.black,.16),hc:null},w.localize(8,null)),e.inputBackground=p("input.background",{dark:"#3C3C3C",light:I.Color.white,hc:I.Color.black},w.localize(9,null)),e.inputForeground=p("input.foreground",{dark:e.foreground,light:e.foreground,hc:e.foreground},w.localize(10,null)),e.inputBorder=p("input.border",{dark:null,light:null,hc:e.contrastBorder},w.localize(11,null)),e.inputActiveOptionBorder=p("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hc:e.contrastBorder},w.localize(12,null)),e.inputActiveOptionBackground=p("inputOption.activeBackground",{dark:l(e.focusBorder,.4),light:l(e.focusBorder,.2),hc:I.Color.transparent},w.localize(13,null)),e.inputActiveOptionForeground=p("inputOption.activeForeground",{dark:I.Color.white,light:I.Color.black,hc:null},w.localize(14,null)),e.inputValidationInfoBackground=p("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:I.Color.black},w.localize(15,null)),e.inputValidationInfoForeground=p("inputValidation.infoForeground",{dark:null,light:null,hc:null},w.localize(16,null)),e.inputValidationInfoBorder=p("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:e.contrastBorder},w.localize(17,null)),e.inputValidationWarningBackground=p("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:I.Color.black},w.localize(18,null)),e.inputValidationWarningForeground=p("inputValidation.warningForeground",{dark:null,light:null,hc:null},w.localize(19,null)),e.inputValidationWarningBorder=p("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:e.contrastBorder},w.localize(20,null)),e.inputValidationErrorBackground=p("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:I.Color.black},w.localize(21,null)),e.inputValidationErrorForeground=p("inputValidation.errorForeground",{dark:null,light:null,hc:null},w.localize(22,null)),e.inputValidationErrorBorder=p("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:e.contrastBorder},w.localize(23,null)),e.selectBackground=p("dropdown.background",{dark:"#3C3C3C",light:I.Color.white,hc:I.Color.black},w.localize(24,null)),e.selectForeground=p("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:I.Color.white},w.localize(25,null)),e.buttonForeground=p("button.foreground",{dark:I.Color.white,light:I.Color.white,hc:I.Color.white},w.localize(26,null)),e.buttonBackground=p("button.background",{dark:"#0E639C",light:"#007ACC",hc:null},w.localize(27,null)),e.buttonHoverBackground=p("button.hoverBackground",{dark:a(e.buttonBackground,.2),light:u(e.buttonBackground,.2),hc:null},w.localize(28,null)),e.badgeBackground=p("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hc:I.Color.black},w.localize(29,null)),e.badgeForeground=p("badge.foreground",{dark:I.Color.white,light:"#333",hc:I.Color.white},w.localize(30,null)),e.scrollbarShadow=p("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},w.localize(31,null)),e.scrollbarSliderBackground=p("scrollbarSlider.background",{dark:I.Color.fromHex("#797979").transparent(.4),light:I.Color.fromHex("#646464").transparent(.4),hc:l(e.contrastBorder,.6)},w.localize(32,null)),e.scrollbarSliderHoverBackground=p("scrollbarSlider.hoverBackground",{dark:I.Color.fromHex("#646464").transparent(.7),light:I.Color.fromHex("#646464").transparent(.7),hc:l(e.contrastBorder,.8)},w.localize(33,null)),e.scrollbarSliderActiveBackground=p("scrollbarSlider.activeBackground",{dark:I.Color.fromHex("#BFBFBF").transparent(.4),light:I.Color.fromHex("#000000").transparent(.6),hc:e.contrastBorder},w.localize(34,null)),e.progressBarBackground=p("progressBar.background",{dark:I.Color.fromHex("#0E70C0"),light:I.Color.fromHex("#0E70C0"),hc:e.contrastBorder},w.localize(35,null)),e.editorErrorBackground=p("editorError.background",{dark:null,light:null,hc:null},w.localize(36,null),!0),e.editorErrorForeground=p("editorError.foreground",{dark:"#F48771",light:"#E51400",hc:null},w.localize(37,null)),e.editorErrorBorder=p("editorError.border",{dark:null,light:null,hc:I.Color.fromHex("#E47777").transparent(.8)},w.localize(38,null)),e.editorWarningBackground=p("editorWarning.background",{dark:null,light:null,hc:null},w.localize(39,null),!0),e.editorWarningForeground=p("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hc:null},w.localize(40,null)),e.editorWarningBorder=p("editorWarning.border",{dark:null,light:null,hc:I.Color.fromHex("#FFCC00").transparent(.8)},w.localize(41,null)),e.editorInfoBackground=p("editorInfo.background",{dark:null,light:null,hc:null},w.localize(42,null),!0),e.editorInfoForeground=p("editorInfo.foreground",{dark:"#75BEFF",light:"#75BEFF",hc:null},w.localize(43,null)),e.editorInfoBorder=p("editorInfo.border",{dark:null,light:null,hc:I.Color.fromHex("#75BEFF").transparent(.8)},w.localize(44,null)),e.editorHintForeground=p("editorHint.foreground",{dark:I.Color.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hc:null},w.localize(45,null)),e.editorHintBorder=p("editorHint.border",{dark:null,light:null,hc:I.Color.fromHex("#eeeeee").transparent(.8)},w.localize(46,null)),e.editorBackground=p("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:I.Color.black},w.localize(47,null)),e.editorForeground=p("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:I.Color.white},w.localize(48,null)),e.editorWidgetBackground=p("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hc:"#0C141F"},w.localize(49,null)),e.editorWidgetForeground=p("editorWidget.foreground",{dark:e.foreground,light:e.foreground,hc:e.foreground},w.localize(50,null)),e.editorWidgetBorder=p("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:e.contrastBorder},w.localize(51,null)),e.editorWidgetResizeBorder=p("editorWidget.resizeBorder",{light:null,dark:null,hc:null},w.localize(52,null)),e.quickInputBackground=p("quickInput.background",{dark:e.editorWidgetBackground,light:e.editorWidgetBackground,hc:e.editorWidgetBackground},w.localize(53,null)),e.quickInputForeground=p("quickInput.foreground",{dark:e.editorWidgetForeground,light:e.editorWidgetForeground,hc:e.editorWidgetForeground},w.localize(54,null)),e.quickInputTitleBackground=p("quickInputTitle.background",{dark:new I.Color(new I.RGBA(255,255,255,.105)),light:new I.Color(new I.RGBA(0,0,0,.06)),hc:"#000000"},w.localize(55,null)),e.pickerGroupForeground=p("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hc:I.Color.white},w.localize(56,null)),e.pickerGroupBorder=p("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:I.Color.white},w.localize(57,null)),e.keybindingLabelBackground=p("keybindingLabel.background",{dark:new I.Color(new I.RGBA(128,128,128,.17)),light:new I.Color(new I.RGBA(221,221,221,.4)),hc:I.Color.transparent},w.localize(58,null)),e.keybindingLabelForeground=p("keybindingLabel.foreground",{dark:I.Color.fromHex("#CCCCCC"),light:I.Color.fromHex("#555555"),hc:I.Color.white},w.localize(59,null)),e.keybindingLabelBorder=p("keybindingLabel.border",{dark:new I.Color(new I.RGBA(51,51,51,.6)),light:new I.Color(new I.RGBA(204,204,204,.4)),hc:new I.Color(new I.RGBA(111,195,223))},w.localize(60,null)),e.keybindingLabelBottomBorder=p("keybindingLabel.bottomBorder",{dark:new I.Color(new I.RGBA(68,68,68,.6)),light:new I.Color(new I.RGBA(187,187,187,.4)),hc:new I.Color(new I.RGBA(111,195,223))},w.localize(61,null)),e.editorSelectionBackground=p("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},w.localize(62,null)),e.editorSelectionForeground=p("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},w.localize(63,null)),e.editorInactiveSelection=p("editor.inactiveSelectionBackground",{light:l(e.editorSelectionBackground,.5),dark:l(e.editorSelectionBackground,.5),hc:l(e.editorSelectionBackground,.5)},w.localize(64,null),!0),e.editorSelectionHighlight=p("editor.selectionHighlightBackground",{light:d(e.editorSelectionBackground,e.editorBackground,.3,.6),dark:d(e.editorSelectionBackground,e.editorBackground,.3,.6),hc:null},w.localize(65,null),!0),e.editorSelectionHighlightBorder=p("editor.selectionHighlightBorder",{light:null,dark:null,hc:e.activeContrastBorder},w.localize(66,null)),e.editorFindMatch=p("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},w.localize(67,null)),e.editorFindMatchHighlight=p("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},w.localize(68,null),!0),e.editorFindRangeHighlight=p("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},w.localize(69,null),!0),e.editorFindMatchBorder=p("editor.findMatchBorder",{light:null,dark:null,hc:e.activeContrastBorder},w.localize(70,null)),e.editorFindMatchHighlightBorder=p("editor.findMatchHighlightBorder",{light:null,dark:null,hc:e.activeContrastBorder},w.localize(71,null)),e.editorFindRangeHighlightBorder=p("editor.findRangeHighlightBorder",{dark:null,light:null,hc:l(e.activeContrastBorder,.4)},w.localize(72,null),!0),e.editorHoverHighlight=p("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},w.localize(73,null),!0),e.editorHoverBackground=p("editorHoverWidget.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hc:e.editorWidgetBackground},w.localize(74,null)),e.editorHoverForeground=p("editorHoverWidget.foreground",{light:e.editorWidgetForeground,dark:e.editorWidgetForeground,hc:e.editorWidgetForeground},w.localize(75,null)),e.editorHoverBorder=p("editorHoverWidget.border",{light:e.editorWidgetBorder,dark:e.editorWidgetBorder,hc:e.editorWidgetBorder},w.localize(76,null)),e.editorHoverStatusBarBackground=p("editorHoverWidget.statusBarBackground",{dark:a(e.editorHoverBackground,.2),light:u(e.editorHoverBackground,.05),hc:e.editorWidgetBackground},w.localize(77,null)),e.editorActiveLinkForeground=p("editorLink.activeForeground",{dark:"#4E94CE",light:I.Color.blue,hc:I.Color.cyan},w.localize(78,null)),e.editorInlineHintForeground=p("editorInlineHint.foreground",{dark:e.editorWidgetBackground,light:e.editorWidgetForeground,hc:e.editorWidgetBackground},w.localize(79,null)),e.editorInlineHintBackground=p("editorInlineHint.background",{dark:e.editorWidgetForeground,light:e.editorWidgetBackground,hc:e.editorWidgetForeground},w.localize(80,null)),e.editorLightBulbForeground=p("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hc:"#FFCC00"},w.localize(81,null)),e.editorLightBulbAutoFixForeground=p("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},w.localize(82,null)),e.defaultInsertColor=new I.Color(new I.RGBA(155,185,85,.2)),e.defaultRemoveColor=new I.Color(new I.RGBA(255,0,0,.2)),e.diffInserted=p("diffEditor.insertedTextBackground",{dark:e.defaultInsertColor,light:e.defaultInsertColor,hc:null},w.localize(83,null),!0),e.diffRemoved=p("diffEditor.removedTextBackground",{dark:e.defaultRemoveColor,light:e.defaultRemoveColor,hc:null},w.localize(84,null),!0),e.diffInsertedOutline=p("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},w.localize(85,null)),e.diffRemovedOutline=p("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},w.localize(86,null)),e.diffBorder=p("diffEditor.border",{dark:null,light:null,hc:e.contrastBorder},w.localize(87,null)),e.diffDiagonalFill=p("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hc:null},w.localize(88,null)),e.listFocusBackground=p("list.focusBackground",{dark:null,light:null,hc:null},w.localize(89,null)),e.listFocusForeground=p("list.focusForeground",{dark:null,light:null,hc:null},w.localize(90,null)),e.listFocusOutline=p("list.focusOutline",{dark:e.focusBorder,light:e.focusBorder,hc:e.activeContrastBorder},w.localize(91,null)),e.listActiveSelectionBackground=p("list.activeSelectionBackground",{dark:"#094771",light:"#0060C0",hc:null},w.localize(92,null)),e.listActiveSelectionForeground=p("list.activeSelectionForeground",{dark:I.Color.white,light:I.Color.white,hc:null},w.localize(93,null)),e.listInactiveSelectionBackground=p("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hc:null},w.localize(94,null)),e.listInactiveSelectionForeground=p("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},w.localize(95,null)),e.listInactiveFocusBackground=p("list.inactiveFocusBackground",{dark:null,light:null,hc:null},w.localize(96,null)),e.listInactiveFocusOutline=p("list.inactiveFocusOutline",{dark:null,light:null,hc:null},w.localize(97,null)),e.listHoverBackground=p("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},w.localize(98,null)),e.listHoverForeground=p("list.hoverForeground",{dark:null,light:null,hc:null},w.localize(99,null)),e.listDropBackground=p("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hc:null},w.localize(100,null)),e.listHighlightForeground=p("list.highlightForeground",{dark:"#0097fb",light:"#0066BF",hc:e.focusBorder},w.localize(101,null)),e.listFilterWidgetBackground=p("listFilterWidget.background",{light:"#efc1ad",dark:"#653723",hc:I.Color.black},w.localize(102,null)),e.listFilterWidgetOutline=p("listFilterWidget.outline",{dark:I.Color.transparent,light:I.Color.transparent,hc:"#f38518"},w.localize(103,null)),e.listFilterWidgetNoMatchesOutline=p("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hc:e.contrastBorder},w.localize(104,null)),e.treeIndentGuidesStroke=p("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hc:"#a9a9a9"},w.localize(105,null)),e.tableColumnsBorder=p("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hc:null},w.localize(106,null)),e._deprecatedQuickInputListFocusBackground=p("quickInput.list.focusBackground",{dark:null,light:null,hc:null},"",void 0,w.localize(107,null)),e.quickInputListFocusBackground=p("quickInputList.focusBackground",{dark:c(e._deprecatedQuickInputListFocusBackground,e.listFocusBackground,"#062F4A"),light:c(e._deprecatedQuickInputListFocusBackground,e.listFocusBackground,"#D6EBFF"),hc:null},w.localize(108,null)),e.menuBorder=p("menu.border",{dark:null,light:null,hc:e.contrastBorder},w.localize(109,null)),e.menuForeground=p("menu.foreground",{dark:e.selectForeground,light:e.foreground,hc:e.selectForeground},w.localize(110,null)),e.menuBackground=p("menu.background",{dark:e.selectBackground,light:e.selectBackground,hc:e.selectBackground},w.localize(111,null)),e.menuSelectionForeground=p("menu.selectionForeground",{dark:e.listActiveSelectionForeground,light:e.listActiveSelectionForeground,hc:e.listActiveSelectionForeground},w.localize(112,null)),e.menuSelectionBackground=p("menu.selectionBackground",{dark:e.listActiveSelectionBackground,light:e.listActiveSelectionBackground,hc:e.listActiveSelectionBackground},w.localize(113,null)),e.menuSelectionBorder=p("menu.selectionBorder",{dark:null,light:null,hc:e.activeContrastBorder},w.localize(114,null)),e.menuSeparatorBackground=p("menu.separatorBackground",{dark:"#BBBBBB",light:"#888888",hc:e.contrastBorder},w.localize(115,null)),e.snippetTabstopHighlightBackground=p("editor.snippetTabstopHighlightBackground",{dark:new I.Color(new I.RGBA(124,124,124,.3)),light:new I.Color(new I.RGBA(10,50,100,.2)),hc:new I.Color(new I.RGBA(124,124,124,.3))},w.localize(116,null)),e.snippetTabstopHighlightBorder=p("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hc:null},w.localize(117,null)),e.snippetFinalTabstopHighlightBackground=p("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hc:null},w.localize(118,null)),e.snippetFinalTabstopHighlightBorder=p("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new I.Color(new I.RGBA(10,50,100,.5)),hc:"#525252"},w.localize(119,null)),e.overviewRulerFindMatchForeground=p("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},w.localize(120,null),!0),e.overviewRulerSelectionHighlightForeground=p("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},w.localize(121,null),!0),e.minimapFindMatch=p("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},w.localize(122,null),!0),e.minimapSelection=p("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hc:"#ffffff"},w.localize(123,null),!0),e.minimapError=p("minimap.errorHighlight",{dark:new I.Color(new I.RGBA(255,18,18,.7)),light:new I.Color(new I.RGBA(255,18,18,.7)),hc:new I.Color(new I.RGBA(255,50,50,1))},w.localize(124,null)),e.minimapWarning=p("minimap.warningHighlight",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hc:e.editorWarningBorder},w.localize(125,null)),e.minimapBackground=p("minimap.background",{dark:null,light:null,hc:null},w.localize(126,null)),e.minimapSliderBackground=p("minimapSlider.background",{light:l(e.scrollbarSliderBackground,.5),dark:l(e.scrollbarSliderBackground,.5),hc:l(e.scrollbarSliderBackground,.5)},w.localize(127,null)),e.minimapSliderHoverBackground=p("minimapSlider.hoverBackground",{light:l(e.scrollbarSliderHoverBackground,.5),dark:l(e.scrollbarSliderHoverBackground,.5),hc:l(e.scrollbarSliderHoverBackground,.5)},w.localize(128,null)),e.minimapSliderActiveBackground=p("minimapSlider.activeBackground",{light:l(e.scrollbarSliderActiveBackground,.5),dark:l(e.scrollbarSliderActiveBackground,.5),hc:l(e.scrollbarSliderActiveBackground,.5)},w.localize(129,null)),e.problemsErrorIconForeground=p("problemsErrorIcon.foreground",{dark:e.editorErrorForeground,light:e.editorErrorForeground,hc:e.editorErrorForeground},w.localize(130,null)),e.problemsWarningIconForeground=p("problemsWarningIcon.foreground",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hc:e.editorWarningForeground},w.localize(131,null)),e.problemsInfoIconForeground=p("problemsInfoIcon.foreground",{dark:e.editorInfoForeground,light:e.editorInfoForeground,hc:e.editorInfoForeground},w.localize(132,null));function u(t,o){return h=>{let g=r(t,h);if(g)return g.darken(o)}}e.darken=u;function a(t,o){return h=>{let g=r(t,h);if(g)return g.lighten(o)}}e.lighten=a;function l(t,o){return h=>{let g=r(t,h);if(g)return g.transparent(o)}}e.transparent=l;function c(...t){return o=>{for(let h of t){let g=r(h,o);if(g)return g}}}e.oneOf=c;function d(t,o,h,g){return m=>{let f=r(t,m);if(f){let b=r(o,m);return b?f.isDarkerThan(b)?I.Color.getLighterColor(f,b,h).transparent(g):I.Color.getDarkerColor(f,b,h).transparent(g):f.transparent(h*g)}}}function r(t,o){if(t!==null){if(typeof t=="string")return t[0]==="#"?I.Color.fromHex(t):o.getColor(t);if(t instanceof I.Color)return t;if(typeof t=="function")return t(o)}}e.resolveColorValue=r,e.workbenchColorsSchemaId="vscode://schemas/workbench-colors";let n=v.Registry.as(S.Extensions.JSONContribution);n.registerSchema(e.workbenchColorsSchemaId,i.getColorSchema());const s=new _.RunOnceScheduler(()=>n.notifySchemaChanged(e.workbenchColorsSchemaId),200);i.onDidChangeSchema(()=>{s.isScheduled()||s.schedule()})}),define(J[117],ee([0,1,22]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.attachMenuStyler=e.defaultMenuStyles=e.defaultListStyles=e.attachListStyler=e.attachBadgeStyler=e.attachStyler=e.computeStyles=void 0;function I(C,i){const p=Object.create(null);for(let u in i){const a=i[u];a&&(p[u]=(0,v.resolveColorValue)(a,C))}return p}e.computeStyles=I;function k(C,i,p){function u(a){const l=I(C.getColorTheme(),i);typeof p=="function"?p(l):p.style(l)}return u(C.getColorTheme()),C.onDidColorThemeChange(u)}e.attachStyler=k;function w(C,i,p){return k(i,{badgeBackground:(p==null?void 0:p.badgeBackground)||v.badgeBackground,badgeForeground:(p==null?void 0:p.badgeForeground)||v.badgeForeground,badgeBorder:v.contrastBorder},C)}e.attachBadgeStyler=w;function S(C,i,p){return k(i,Object.assign(Object.assign({},e.defaultListStyles),p||{}),C)}e.attachListStyler=S,e.defaultListStyles={listFocusBackground:v.listFocusBackground,listFocusForeground:v.listFocusForeground,listFocusOutline:v.listFocusOutline,listActiveSelectionBackground:v.listActiveSelectionBackground,listActiveSelectionForeground:v.listActiveSelectionForeground,listFocusAndSelectionBackground:v.listActiveSelectionBackground,listFocusAndSelectionForeground:v.listActiveSelectionForeground,listInactiveSelectionBackground:v.listInactiveSelectionBackground,listInactiveSelectionForeground:v.listInactiveSelectionForeground,listInactiveFocusBackground:v.listInactiveFocusBackground,listInactiveFocusOutline:v.listInactiveFocusOutline,listHoverBackground:v.listHoverBackground,listHoverForeground:v.listHoverForeground,listDropBackground:v.listDropBackground,listSelectionOutline:v.activeContrastBorder,listHoverOutline:v.activeContrastBorder,listFilterWidgetBackground:v.listFilterWidgetBackground,listFilterWidgetOutline:v.listFilterWidgetOutline,listFilterWidgetNoMatchesOutline:v.listFilterWidgetNoMatchesOutline,listMatchesShadow:v.widgetShadow,treeIndentGuidesStroke:v.treeIndentGuidesStroke,tableColumnsBorder:v.tableColumnsBorder},e.defaultMenuStyles={shadowColor:v.widgetShadow,borderColor:v.menuBorder,foregroundColor:v.menuForeground,backgroundColor:v.menuBackground,selectionForegroundColor:v.menuSelectionForeground,selectionBackgroundColor:v.menuSelectionBackground,selectionBorderColor:v.menuSelectionBorder,separatorColor:v.menuSeparatorBackground};function _(C,i,p){return k(i,Object.assign(Object.assign({},e.defaultMenuStyles),p),C)}e.attachMenuStyler=_}),define(J[582],ee([0,1,48,2,435,7,117,55,50,11,361]),function($,e,v,I,k,w,S,_,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuHandler=void 0;class p{constructor(a,l,c,d,r){this.contextViewService=a,this.telemetryService=l,this.notificationService=c,this.keybindingService=d,this.themeService=r,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(a){this.options=a}showContextMenu(a){const l=a.getActions();if(!!l.length){this.focusToReturn=document.activeElement;let c,d=(0,w.isHTMLElement)(a.domForShadowRoot)?a.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>a.getAnchor(),canRelayout:!1,anchorAlignment:a.anchorAlignment,anchorAxisAlignment:a.anchorAxisAlignment,render:r=>{let n=a.getMenuClassName?a.getMenuClassName():"";n&&(r.className+=" "+n),this.options.blockMouse&&(this.block=r.appendChild((0,w.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(0,_.domEvent)(this.block,w.EventType.MOUSE_DOWN)(o=>o.stopPropagation()));const s=new I.DisposableStore,t=a.actionRunner||new v.ActionRunner;return t.onBeforeRun(this.onActionRun,this,s),t.onDidRun(this.onDidActionRun,this,s),c=new k.Menu(r,l,{actionViewItemProvider:a.getActionViewItem,context:a.getActionsContext?a.getActionsContext():null,actionRunner:t,getKeyBinding:a.getKeyBinding?a.getKeyBinding:o=>this.keybindingService.lookupKeybinding(o.id)}),s.add((0,S.attachMenuStyler)(c,this.themeService)),c.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,s),c.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,s),(0,_.domEvent)(window,w.EventType.BLUR)(()=>{this.contextViewService.hideContextView(!0)},null,s),(0,_.domEvent)(window,w.EventType.MOUSE_DOWN)(o=>{if(!o.defaultPrevented){let h=new C.StandardMouseEvent(o),g=h.target;if(!h.rightButton){for(;g;){if(g===r)return;g=g.parentElement}this.contextViewService.hideContextView(!0)}}},null,s),(0,I.combinedDisposable)(s,c)},focus:()=>{c&&c.focus(!!a.autoSelectFirstItem)},onHide:r=>{a.onHide&&a.onHide(!!r),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},d,!!d)}}onActionRun(a){this.telemetryService.publicLog2("workbenchActionExecuted",{id:a.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(a){a.error&&!(0,i.isPromiseCanceledError)(a.error)&&this.notificationService.error(a.error)}}e.ContextMenuHandler=p}),define(J[97],ee([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorScheme=void 0;var v;(function(I){I.DARK="dark",I.LIGHT="light",I.HIGH_CONTRAST="hc"})(v=e.ColorScheme||(e.ColorScheme={}))}),define(J[255],ee([0,1,35,30,17,385,110,171,130,97,38]),function($,e,v,I,k,w,S,_,C,i,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLine=e.ViewLineOptions=e.DomReadingContext=void 0;const u=function(){return k.isNative?!0:!(k.isLinux||v.isFirefox||v.isSafari)}();let a=!0;class l{constructor(m,f){this._domNode=m,this._clientRectDeltaLeft=0,this._clientRectDeltaLeftRead=!1,this.endNode=f}get clientRectDeltaLeft(){return this._clientRectDeltaLeftRead||(this._clientRectDeltaLeftRead=!0,this._clientRectDeltaLeft=this._domNode.getBoundingClientRect().left),this._clientRectDeltaLeft}}e.DomReadingContext=l;class c{constructor(m,f){this.themeType=f;const b=m.options,y=b.get(40);this.renderWhitespace=b.get(85),this.renderControlCharacters=b.get(79),this.spaceWidth=y.spaceWidth,this.middotWidth=y.middotWidth,this.wsmiddotWidth=y.wsmiddotWidth,this.useMonospaceOptimizations=y.isMonospace&&!b.get(27),this.canUseHalfwidthRightwardsArrow=y.canUseHalfwidthRightwardsArrow,this.lineHeight=b.get(55),this.stopRenderingLineAfter=b.get(102),this.fontLigatures=b.get(41)}equals(m){return this.themeType===m.themeType&&this.renderWhitespace===m.renderWhitespace&&this.renderControlCharacters===m.renderControlCharacters&&this.spaceWidth===m.spaceWidth&&this.middotWidth===m.middotWidth&&this.wsmiddotWidth===m.wsmiddotWidth&&this.useMonospaceOptimizations===m.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===m.canUseHalfwidthRightwardsArrow&&this.lineHeight===m.lineHeight&&this.stopRenderingLineAfter===m.stopRenderingLineAfter&&this.fontLigatures===m.fontLigatures}}e.ViewLineOptions=c;class d{constructor(m){this._options=m,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(m){if(this._renderedViewLine)this._renderedViewLine.domNode=(0,I.createFastDomNode)(m);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(m){this._isMaybeInvalid=!0,this._options=m}onSelectionChanged(){return this._options.themeType===i.ColorScheme.HIGH_CONTRAST||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(m,f,b,y){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const L=b.getViewLineRenderingData(m),N=this._options,M=_.LineDecoration.filter(L.inlineDecorations,m,L.minColumn,L.maxColumn);let D=null;if(N.themeType===i.ColorScheme.HIGH_CONTRAST||this._options.renderWhitespace==="selection"){const W=b.selections;for(const F of W)if(!(F.endLineNumber<m||F.startLineNumber>m)){const E=F.startLineNumber===m?F.startColumn:L.minColumn,A=F.endLineNumber===m?F.endColumn:L.maxColumn;E<A&&(N.themeType===i.ColorScheme.HIGH_CONTRAST||this._options.renderWhitespace!=="selection"?M.push(new _.LineDecoration(E,A,"inline-selected-text",0)):(D||(D=[]),D.push(new C.LineRange(E-1,A-1))))}}const R=new C.RenderLineInput(N.useMonospaceOptimizations,N.canUseHalfwidthRightwardsArrow,L.content,L.continuesWithWrappedLine,L.isBasicASCII,L.containsRTL,L.minColumn-1,L.tokens,M,L.tabSize,L.startVisibleColumn,N.spaceWidth,N.middotWidth,N.wsmiddotWidth,N.stopRenderingLineAfter,N.renderWhitespace,N.renderControlCharacters,N.fontLigatures!==p.EditorFontLigatures.OFF,D);if(this._renderedViewLine&&this._renderedViewLine.input.equals(R))return!1;y.appendASCIIString('<div style="top:'),y.appendASCIIString(String(f)),y.appendASCIIString("px;height:"),y.appendASCIIString(String(this._options.lineHeight)),y.appendASCIIString('px;" class="'),y.appendASCIIString(d.CLASS_NAME),y.appendASCIIString('">');const P=(0,C.renderViewLine)(R,y);y.appendASCIIString("</div>");let O=null;return a&&u&&L.isBasicASCII&&N.useMonospaceOptimizations&&P.containsForeignElements===0&&L.content.length<300&&R.lineTokens.getCount()<100&&(O=new r(this._renderedViewLine?this._renderedViewLine.domNode:null,R,P.characterMapping)),O||(O=t(this._renderedViewLine?this._renderedViewLine.domNode:null,R,P.characterMapping,P.containsRTL,P.containsForeignElements)),this._renderedViewLine=O,!0}layoutLine(m,f){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(f),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof r:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof r?this._renderedViewLine.monospaceAssumptionsAreValid():a}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof r&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(m,f,b){if(!this._renderedViewLine)return null;m=m|0,f=f|0,m=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,m)),f=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,f));const y=this._renderedViewLine.input.stopRenderingLineAfter|0;let L=!1;y!==-1&&m>y+1&&f>y+1&&(L=!0),y!==-1&&m>y+1&&(m=y+1),y!==-1&&f>y+1&&(f=y+1);const N=this._renderedViewLine.getVisibleRangesForRange(m,f,b);return N&&N.length>0?new S.VisibleRanges(L,N):null}getColumnOfNodeOffset(m,f,b){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(m,f,b):1}}e.ViewLine=d,d.CLASS_NAME="view-line";class r{constructor(m,f,b){this.domNode=m,this.input=f,this._characterMapping=b,this._charWidth=f.spaceWidth}getWidth(){return this._getCharPosition(this._characterMapping.length)}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return a;const m=this.getWidth(),f=this.domNode.domNode.firstChild.offsetWidth;return Math.abs(m-f)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),a=!1),a}toSlowRenderedLine(){return t(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(m,f,b){const y=this._getCharPosition(m),L=this._getCharPosition(f);return[new S.HorizontalRange(y,L-y)]}_getCharPosition(m){const f=this._characterMapping.getAbsoluteOffsets();return f.length===0?0:Math.round(this._charWidth*f[m-1])}getColumnOfNodeOffset(m,f,b){const y=f.textContent.length;let L=-1;for(;f;)f=f.previousSibling,L++;return this._characterMapping.partDataToCharOffset(L,y,b)+1}}class n{constructor(m,f,b,y,L){if(this.domNode=m,this.input=f,this._characterMapping=b,this._isWhitespaceOnly=/^\s*$/.test(f.lineContent),this._containsForeignElements=L,this._cachedWidth=-1,this._pixelOffsetCache=null,!y||this._characterMapping.length===0){this._pixelOffsetCache=new Int32Array(Math.max(2,this._characterMapping.length+1));for(let N=0,M=this._characterMapping.length;N<=M;N++)this._pixelOffsetCache[N]=-1}}_getReadingTarget(m){return m.domNode.firstChild}getWidth(){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(m,f,b){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const y=this._readPixelOffset(this.domNode,m,b);if(y===-1)return null;const L=this._readPixelOffset(this.domNode,f,b);return L===-1?null:[new S.HorizontalRange(y,L-y)]}return this._readVisibleRangesForRange(this.domNode,m,f,b)}_readVisibleRangesForRange(m,f,b,y){if(f===b){const L=this._readPixelOffset(m,f,y);return L===-1?null:[new S.HorizontalRange(L,0)]}else return this._readRawVisibleRangesForRange(m,f,b,y)}_readPixelOffset(m,f,b){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth();const y=this._getReadingTarget(m);return y.firstChild?y.firstChild.offsetWidth:0}if(this._pixelOffsetCache!==null){const y=this._pixelOffsetCache[f];if(y!==-1)return y;const L=this._actualReadPixelOffset(m,f,b);return this._pixelOffsetCache[f]=L,L}return this._actualReadPixelOffset(m,f,b)}_actualReadPixelOffset(m,f,b){if(this._characterMapping.length===0){const R=w.RangeUtil.readHorizontalRanges(this._getReadingTarget(m),0,0,0,0,b.clientRectDeltaLeft,b.endNode);return!R||R.length===0?-1:R[0].left}if(f===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth();const y=this._characterMapping.charOffsetToPartData(f-1),L=C.CharacterMapping.getPartIndex(y),N=C.CharacterMapping.getCharIndex(y),M=w.RangeUtil.readHorizontalRanges(this._getReadingTarget(m),L,N,L,N,b.clientRectDeltaLeft,b.endNode);if(!M||M.length===0)return-1;const D=M[0].left;if(this.input.isBasicASCII){const R=this._characterMapping.getAbsoluteOffsets(),P=Math.round(this.input.spaceWidth*R[f-1]);if(Math.abs(P-D)<=1)return P}return D}_readRawVisibleRangesForRange(m,f,b,y){if(f===1&&b===this._characterMapping.length)return[new S.HorizontalRange(0,this.getWidth())];const L=this._characterMapping.charOffsetToPartData(f-1),N=C.CharacterMapping.getPartIndex(L),M=C.CharacterMapping.getCharIndex(L),D=this._characterMapping.charOffsetToPartData(b-1),R=C.CharacterMapping.getPartIndex(D),P=C.CharacterMapping.getCharIndex(D);return w.RangeUtil.readHorizontalRanges(this._getReadingTarget(m),N,M,R,P,y.clientRectDeltaLeft,y.endNode)}getColumnOfNodeOffset(m,f,b){const y=f.textContent.length;let L=-1;for(;f;)f=f.previousSibling,L++;return this._characterMapping.partDataToCharOffset(L,y,b)+1}}class s extends n{_readVisibleRangesForRange(m,f,b,y){const L=super._readVisibleRangesForRange(m,f,b,y);if(!L||L.length===0||f===b||f===1&&b===this._characterMapping.length)return L;if(!this.input.containsRTL){const N=this._readPixelOffset(m,b,y);if(N!==-1){const M=L[L.length-1];M.left<N&&(M.width=N-M.left)}}return L}}const t=function(){return v.isWebKit?o:h}();function o(g,m,f,b,y){return new s(g,m,f,b,y)}function h(g,m,f,b,y){return new n(g,m,f,b,y)}}),define(J[188],ee([0,1,162,46,255,14,3,43,7,240]),function($,e,v,I,k,w,S,_,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shadowCaretRangeFromPoint=e.MouseTargetFactory=e.HitTestContext=e.MouseTarget=e.PointerHandlerLastRenderData=void 0;class p{constructor(g,m){this.lastViewCursorsRenderData=g,this.lastTextareaPosition=m}}e.PointerHandlerLastRenderData=p;class u{constructor(g,m,f=0,b=null,y=null,L=null){this.element=g,this.type=m,this.mouseColumn=f,this.position=b,!y&&b&&(y=new S.Range(b.lineNumber,b.column,b.lineNumber,b.column)),this.range=y,this.detail=L}static _typeToString(g){return g===1?"TEXTAREA":g===2?"GUTTER_GLYPH_MARGIN":g===3?"GUTTER_LINE_NUMBERS":g===4?"GUTTER_LINE_DECORATIONS":g===5?"GUTTER_VIEW_ZONE":g===6?"CONTENT_TEXT":g===7?"CONTENT_EMPTY":g===8?"CONTENT_VIEW_ZONE":g===9?"CONTENT_WIDGET":g===10?"OVERVIEW_RULER":g===11?"SCROLLBAR":g===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(g){return this._typeToString(g.type)+": "+g.position+" - "+g.range+" - "+g.detail}toString(){return u.toString(this)}}e.MouseTarget=u;class a{static isTextArea(g){return g.length===2&&g[0]===3&&g[1]===6}static isChildOfViewLines(g){return g.length>=4&&g[0]===3&&g[3]===7}static isStrictChildOfViewLines(g){return g.length>4&&g[0]===3&&g[3]===7}static isChildOfScrollableElement(g){return g.length>=2&&g[0]===3&&g[1]===5}static isChildOfMinimap(g){return g.length>=2&&g[0]===3&&g[1]===8}static isChildOfContentWidgets(g){return g.length>=4&&g[0]===3&&g[3]===1}static isChildOfOverflowingContentWidgets(g){return g.length>=1&&g[0]===2}static isChildOfOverlayWidgets(g){return g.length>=2&&g[0]===3&&g[1]===4}}class l{constructor(g,m,f){this.model=g.model;const b=g.configuration.options;this.layoutInfo=b.get(127),this.viewDomNode=m.viewDomNode,this.lineHeight=b.get(55),this.stickyTabStops=b.get(101),this.typicalHalfwidthCharacterWidth=b.get(40).typicalHalfwidthCharacterWidth,this.lastRenderData=f,this._context=g,this._viewHelper=m}getZoneAtCoord(g){return l.getZoneAtCoord(this._context,g)}static getZoneAtCoord(g,m){const f=g.viewLayout.getWhitespaceAtVerticalOffset(m);if(f){const b=f.verticalOffset+f.height/2,y=g.model.getLineCount();let L=null,N,M=null;return f.afterLineNumber!==y&&(M=new w.Position(f.afterLineNumber+1,1)),f.afterLineNumber>0&&(L=new w.Position(f.afterLineNumber,g.model.getLineMaxColumn(f.afterLineNumber))),M===null?N=L:L===null?N=M:m<b?N=L:N=M,{viewZoneId:f.id,afterLineNumber:f.afterLineNumber,positionBefore:L,positionAfter:M,position:N}}return null}getFullLineRangeAtCoord(g){if(this._context.viewLayout.isAfterLines(g)){const b=this._context.model.getLineCount(),y=this._context.model.getLineMaxColumn(b);return{range:new S.Range(b,y,b,y),isAfterLines:!0}}const m=this._context.viewLayout.getLineNumberAtVerticalOffset(g),f=this._context.model.getLineMaxColumn(m);return{range:new S.Range(m,1,m,f),isAfterLines:!1}}getLineNumberAtVerticalOffset(g){return this._context.viewLayout.getLineNumberAtVerticalOffset(g)}isAfterLines(g){return this._context.viewLayout.isAfterLines(g)}isInTopPadding(g){return this._context.viewLayout.isInTopPadding(g)}isInBottomPadding(g){return this._context.viewLayout.isInBottomPadding(g)}getVerticalOffsetForLineNumber(g){return this._context.viewLayout.getVerticalOffsetForLineNumber(g)}findAttribute(g,m){return l._findAttribute(g,m,this._viewHelper.viewDomNode)}static _findAttribute(g,m,f){for(;g&&g!==document.body;){if(g.hasAttribute&&g.hasAttribute(m))return g.getAttribute(m);if(g===f)return null;g=g.parentNode}return null}getLineWidth(g){return this._viewHelper.getLineWidth(g)}visibleRangeForPosition(g,m){return this._viewHelper.visibleRangeForPosition(g,m)}getPositionFromDOMInfo(g,m){return this._viewHelper.getPositionFromDOMInfo(g,m)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}e.HitTestContext=l;class c{constructor(g,m,f){this.editorPos=m,this.pos=f,this.mouseVerticalOffset=Math.max(0,g.getCurrentScrollTop()+f.y-m.y),this.mouseContentHorizontalOffset=g.getCurrentScrollLeft()+f.x-m.x-g.layoutInfo.contentLeft,this.isInMarginArea=f.x-m.x<g.layoutInfo.contentLeft&&f.x-m.x>=g.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,s._getMouseColumn(this.mouseContentHorizontalOffset,g.typicalHalfwidthCharacterWidth))}}class d extends c{constructor(g,m,f,b){super(g,m,f);this._ctx=g,b?(this.target=b,this.targetPath=I.PartFingerprints.collect(b,g.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}fulfill(g,m=null,f=null,b=null){let y=this.mouseColumn;return m&&m.column<this._ctx.model.getLineMaxColumn(m.lineNumber)&&(y=_.CursorColumns.visibleColumnFromColumn(this._ctx.model.getLineContent(m.lineNumber),m.column,this._ctx.model.getTextModelOptions().tabSize)+1),new u(this.target,g,y,m,f,b)}withTarget(g){return new d(this._ctx,this.editorPos,this.pos,g)}}const r={isAfterLines:!0};function n(h){return{isAfterLines:!1,horizontalDistanceToText:h}}class s{constructor(g,m){this._context=g,this._viewHelper=m}mouseTargetIsWidget(g){const m=g.target,f=I.PartFingerprints.collect(m,this._viewHelper.viewDomNode);return!!(a.isChildOfContentWidgets(f)||a.isChildOfOverflowingContentWidgets(f)||a.isChildOfOverlayWidgets(f))}createMouseTarget(g,m,f,b){const y=new l(this._context,this._viewHelper,g),L=new d(y,m,f,b);try{return s._createMouseTarget(y,L,!1)}catch(N){return L.fulfill(0)}}static _createMouseTarget(g,m,f){if(m.target===null){if(f)return m.fulfill(0);const L=s._doHitTest(g,m);return L.position?s.createMouseTargetFromHitTestPosition(g,m,L.position.lineNumber,L.position.column):this._createMouseTarget(g,m.withTarget(L.hitTarget),!0)}const b=m;let y=null;return y=y||s._hitTestContentWidget(g,b),y=y||s._hitTestOverlayWidget(g,b),y=y||s._hitTestMinimap(g,b),y=y||s._hitTestScrollbarSlider(g,b),y=y||s._hitTestViewZone(g,b),y=y||s._hitTestMargin(g,b),y=y||s._hitTestViewCursor(g,b),y=y||s._hitTestTextArea(g,b),y=y||s._hitTestViewLines(g,b,f),y=y||s._hitTestScrollbar(g,b),y||m.fulfill(0)}static _hitTestContentWidget(g,m){if(a.isChildOfContentWidgets(m.targetPath)||a.isChildOfOverflowingContentWidgets(m.targetPath)){const f=g.findAttribute(m.target,"widgetId");return f?m.fulfill(9,null,null,f):m.fulfill(0)}return null}static _hitTestOverlayWidget(g,m){if(a.isChildOfOverlayWidgets(m.targetPath)){const f=g.findAttribute(m.target,"widgetId");return f?m.fulfill(12,null,null,f):m.fulfill(0)}return null}static _hitTestViewCursor(g,m){if(m.target){const f=g.lastRenderData.lastViewCursorsRenderData;for(const b of f)if(m.target===b.domNode)return m.fulfill(6,b.position)}if(m.isInContentArea){const f=g.lastRenderData.lastViewCursorsRenderData,b=m.mouseContentHorizontalOffset,y=m.mouseVerticalOffset;for(const L of f)if(!(b<L.contentLeft)&&!(b>L.contentLeft+L.width)){const N=g.getVerticalOffsetForLineNumber(L.position.lineNumber);if(N<=y&&y<=N+L.height)return m.fulfill(6,L.position)}}return null}static _hitTestViewZone(g,m){const f=g.getZoneAtCoord(m.mouseVerticalOffset);if(f){const b=m.isInContentArea?8:5;return m.fulfill(b,f.position,null,f)}return null}static _hitTestTextArea(g,m){return a.isTextArea(m.targetPath)?g.lastRenderData.lastTextareaPosition?m.fulfill(6,g.lastRenderData.lastTextareaPosition):m.fulfill(1,g.lastRenderData.lastTextareaPosition):null}static _hitTestMargin(g,m){if(m.isInMarginArea){const f=g.getFullLineRangeAtCoord(m.mouseVerticalOffset),b=f.range.getStartPosition();let y=Math.abs(m.pos.x-m.editorPos.x);const L={isAfterLines:f.isAfterLines,glyphMarginLeft:g.layoutInfo.glyphMarginLeft,glyphMarginWidth:g.layoutInfo.glyphMarginWidth,lineNumbersWidth:g.layoutInfo.lineNumbersWidth,offsetX:y};return y-=g.layoutInfo.glyphMarginLeft,y<=g.layoutInfo.glyphMarginWidth?m.fulfill(2,b,f.range,L):(y-=g.layoutInfo.glyphMarginWidth,y<=g.layoutInfo.lineNumbersWidth?m.fulfill(3,b,f.range,L):(y-=g.layoutInfo.lineNumbersWidth,m.fulfill(4,b,f.range,L)))}return null}static _hitTestViewLines(g,m,f){if(!a.isChildOfViewLines(m.targetPath))return null;if(g.isInTopPadding(m.mouseVerticalOffset))return m.fulfill(7,new w.Position(1,1),void 0,r);if(g.isAfterLines(m.mouseVerticalOffset)||g.isInBottomPadding(m.mouseVerticalOffset)){const y=g.model.getLineCount(),L=g.model.getLineMaxColumn(y);return m.fulfill(7,new w.Position(y,L),void 0,r)}if(f){if(a.isStrictChildOfViewLines(m.targetPath)){const y=g.getLineNumberAtVerticalOffset(m.mouseVerticalOffset);if(g.model.getLineLength(y)===0){const N=g.getLineWidth(y),M=n(m.mouseContentHorizontalOffset-N);return m.fulfill(7,new w.Position(y,1),void 0,M)}const L=g.getLineWidth(y);if(m.mouseContentHorizontalOffset>=L){const N=n(m.mouseContentHorizontalOffset-L),M=new w.Position(y,g.model.getLineMaxColumn(y));return m.fulfill(7,M,void 0,N)}}return m.fulfill(0)}const b=s._doHitTest(g,m);return b.position?s.createMouseTargetFromHitTestPosition(g,m,b.position.lineNumber,b.position.column):this._createMouseTarget(g,m.withTarget(b.hitTarget),!0)}static _hitTestMinimap(g,m){if(a.isChildOfMinimap(m.targetPath)){const f=g.getLineNumberAtVerticalOffset(m.mouseVerticalOffset),b=g.model.getLineMaxColumn(f);return m.fulfill(11,new w.Position(f,b))}return null}static _hitTestScrollbarSlider(g,m){if(a.isChildOfScrollableElement(m.targetPath)&&m.target&&m.target.nodeType===1){const f=m.target.className;if(f&&/\b(slider|scrollbar)\b/.test(f)){const b=g.getLineNumberAtVerticalOffset(m.mouseVerticalOffset),y=g.model.getLineMaxColumn(b);return m.fulfill(11,new w.Position(b,y))}}return null}static _hitTestScrollbar(g,m){if(a.isChildOfScrollableElement(m.targetPath)){const f=g.getLineNumberAtVerticalOffset(m.mouseVerticalOffset),b=g.model.getLineMaxColumn(f);return m.fulfill(11,new w.Position(f,b))}return null}getMouseColumn(g,m){const f=this._context.configuration.options,b=f.get(127),y=this._context.viewLayout.getCurrentScrollLeft()+m.x-g.x-b.contentLeft;return s._getMouseColumn(y,f.get(40).typicalHalfwidthCharacterWidth)}static _getMouseColumn(g,m){return g<0?1:Math.round(g/m)+1}static createMouseTargetFromHitTestPosition(g,m,f,b){const y=new w.Position(f,b),L=g.getLineWidth(f);if(m.mouseContentHorizontalOffset>L){const P=n(m.mouseContentHorizontalOffset-L);return m.fulfill(7,y,void 0,P)}const N=g.visibleRangeForPosition(f,b);if(!N)return m.fulfill(0,y);const M=N.left;if(m.mouseContentHorizontalOffset===M)return m.fulfill(6,y);const D=[];if(D.push({offset:N.left,column:b}),b>1){const P=g.visibleRangeForPosition(f,b-1);P&&D.push({offset:P.left,column:b-1})}const R=g.model.getLineMaxColumn(f);if(b<R){const P=g.visibleRangeForPosition(f,b+1);P&&D.push({offset:P.left,column:b+1})}D.sort((P,O)=>P.offset-O.offset);for(let P=1;P<D.length;P++){const O=D[P-1],W=D[P];if(O.offset<=m.mouseContentHorizontalOffset&&m.mouseContentHorizontalOffset<=W.offset){const F=new S.Range(f,O.column,f,W.column);return m.fulfill(6,y,F)}}return m.fulfill(6,y)}static _doHitTestWithCaretRangeFromPoint(g,m){const f=g.getLineNumberAtVerticalOffset(m.mouseVerticalOffset),y=g.getVerticalOffsetForLineNumber(f)+Math.floor(g.lineHeight/2);let L=m.pos.y+(y-m.mouseVerticalOffset);L<=m.editorPos.y&&(L=m.editorPos.y+1),L>=m.editorPos.y+g.layoutInfo.height&&(L=m.editorPos.y+g.layoutInfo.height-1);const N=new v.PageCoordinates(m.pos.x,L),M=this._actualDoHitTestWithCaretRangeFromPoint(g,N.toClientCoordinates());return M.position?M:this._actualDoHitTestWithCaretRangeFromPoint(g,m.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(g,m){const f=C.getShadowRoot(g.viewDomNode);let b;if(f?typeof f.caretRangeFromPoint=="undefined"?b=t(f,m.clientX,m.clientY):b=f.caretRangeFromPoint(m.clientX,m.clientY):b=document.caretRangeFromPoint(m.clientX,m.clientY),!b||!b.startContainer)return{position:null,hitTarget:null};const y=b.startContainer;let L=null;if(y.nodeType===y.TEXT_NODE){const N=y.parentNode,M=N?N.parentNode:null,D=M?M.parentNode:null;if((D&&D.nodeType===D.ELEMENT_NODE?D.className:null)===k.ViewLine.CLASS_NAME)return{position:g.getPositionFromDOMInfo(N,b.startOffset),hitTarget:null};L=y.parentNode}else if(y.nodeType===y.ELEMENT_NODE){const N=y.parentNode,M=N?N.parentNode:null;if((M&&M.nodeType===M.ELEMENT_NODE?M.className:null)===k.ViewLine.CLASS_NAME)return{position:g.getPositionFromDOMInfo(y,y.textContent.length),hitTarget:null};L=y}return{position:null,hitTarget:L}}static _doHitTestWithCaretPositionFromPoint(g,m){const f=document.caretPositionFromPoint(m.clientX,m.clientY);if(f.offsetNode.nodeType===f.offsetNode.TEXT_NODE){const b=f.offsetNode.parentNode,y=b?b.parentNode:null,L=y?y.parentNode:null;return(L&&L.nodeType===L.ELEMENT_NODE?L.className:null)===k.ViewLine.CLASS_NAME?{position:g.getPositionFromDOMInfo(f.offsetNode.parentNode,f.offset),hitTarget:null}:{position:null,hitTarget:f.offsetNode.parentNode}}if(f.offsetNode.nodeType===f.offsetNode.ELEMENT_NODE){const b=f.offsetNode.parentNode,y=b&&b.nodeType===b.ELEMENT_NODE?b.className:null,L=b?b.parentNode:null,N=L&&L.nodeType===L.ELEMENT_NODE?L.className:null;if(y===k.ViewLine.CLASS_NAME){const M=f.offsetNode.childNodes[Math.min(f.offset,f.offsetNode.childNodes.length-1)];if(M)return{position:g.getPositionFromDOMInfo(M,0),hitTarget:null}}else if(N===k.ViewLine.CLASS_NAME)return{position:g.getPositionFromDOMInfo(f.offsetNode,0),hitTarget:null}}return{position:null,hitTarget:f.offsetNode}}static _snapToSoftTabBoundary(g,m){const f=m.getLineContent(g.lineNumber),{tabSize:b}=m.getTextModelOptions(),y=i.AtomicTabMoveOperations.atomicPosition(f,g.column-1,b,2);return y!==-1?new w.Position(g.lineNumber,y+1):g}static _doHitTest(g,m){let f;return typeof document.caretRangeFromPoint=="function"?f=this._doHitTestWithCaretRangeFromPoint(g,m):document.caretPositionFromPoint?f=this._doHitTestWithCaretPositionFromPoint(g,m.pos.toClientCoordinates()):f={position:null,hitTarget:null},f.position&&g.stickyTabStops&&(f.position=this._snapToSoftTabBoundary(f.position,g.model)),f}}e.MouseTargetFactory=s;function t(h,g,m){const f=document.createRange();let b=h.elementFromPoint(g,m);if(b!==null){for(;b&&b.firstChild&&b.firstChild.nodeType!==b.firstChild.TEXT_NODE&&b.lastChild&&b.lastChild.firstChild;)b=b.lastChild;const y=b.getBoundingClientRect(),L=window.getComputedStyle(b,null).getPropertyValue("font"),N=b.innerText;let M=y.left,D=0,R;if(g>y.left+y.width)D=N.length;else{const P=o.getInstance();for(let O=0;O<N.length+1;O++){if(R=P.getCharWidth(N.charAt(O),L)/2,M+=R,g<M){D=O;break}M+=R}}f.setStart(b.firstChild,D),f.setEnd(b.firstChild,D)}return f}e.shadowCaretRangeFromPoint=t;class o{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return o._INSTANCE||(o._INSTANCE=new o),o._INSTANCE}getCharWidth(g,m){const f=g+m;if(this._cache[f])return this._cache[f];const b=this._canvas.getContext("2d");b.font=m;const L=b.measureText(g).width;return this._cache[f]=L,L}}o._INSTANCE=null}),define(J[583],ee([0,1,7,50,15,2,17,188,162,127,14,21,111]),function($,e,v,I,k,w,S,_,C,i,p,u,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandler=e.createMouseMoveEventMerger=void 0;function l(n){return function(s,t){let o=!1;return n&&(o=n.mouseTargetIsWidget(t)),o||t.preventDefault(),t}}e.createMouseMoveEventMerger=l;class c extends a.ViewEventHandler{constructor(s,t,o){super();this._context=s,this.viewController=t,this.viewHelper=o,this.mouseTargetFactory=new _.MouseTargetFactory(this._context,o),this._mouseDownOperation=this._register(new d(this._context,this.viewController,this.viewHelper,(m,f)=>this._createMouseTarget(m,f),m=>this._getMouseColumn(m))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(127).height;const h=new C.EditorMouseEventFactory(this.viewHelper.viewDomNode);this._register(h.onContextMenu(this.viewHelper.viewDomNode,m=>this._onContextMenu(m,!0))),this._register(h.onMouseMoveThrottled(this.viewHelper.viewDomNode,m=>this._onMouseMove(m),l(this.mouseTargetFactory),c.MOUSE_MOVE_MINIMUM_TIME)),this._register(h.onMouseUp(this.viewHelper.viewDomNode,m=>this._onMouseUp(m))),this._register(h.onMouseLeave(this.viewHelper.viewDomNode,m=>this._onMouseLeave(m))),this._register(h.onMouseDown(this.viewHelper.viewDomNode,m=>this._onMouseDown(m)));const g=m=>{if(this.viewController.emitMouseWheel(m),!!this._context.configuration.options.get(64)){const f=new I.StandardWheelEvent(m);if(S.isMacintosh?(m.metaKey||m.ctrlKey)&&!m.shiftKey&&!m.altKey:m.ctrlKey&&!m.metaKey&&!m.shiftKey&&!m.altKey){const y=i.EditorZoom.getZoomLevel(),L=f.deltaY>0?1:-1;i.EditorZoom.setZoomLevel(y+L),f.preventDefault(),f.stopPropagation()}}};this._register(v.addDisposableListener(this.viewHelper.viewDomNode,v.EventType.MOUSE_WHEEL,g,{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(s){if(s.hasChanged(127)){const t=this._context.configuration.options.get(127).height;this._height!==t&&(this._height=t,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(s){return this._mouseDownOperation.onCursorStateChanged(s),!1}onFocusChanged(s){return!1}onScrollChanged(s){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(s,t){const h=new C.ClientCoordinates(s,t).toPageCoordinates(),g=(0,C.createEditorPagePosition)(this.viewHelper.viewDomNode);return h.y<g.y||h.y>g.y+g.height||h.x<g.x||h.x>g.x+g.width?null:this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),g,h,null)}_createMouseTarget(s,t){return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),s.editorPos,s.pos,t?s.target:null)}_getMouseColumn(s){return this.mouseTargetFactory.getMouseColumn(s.editorPos,s.pos)}_onContextMenu(s,t){this.viewController.emitContextMenu({event:s,target:this._createMouseTarget(s,t)})}_onMouseMove(s){this._mouseDownOperation.isActive()||s.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:s,target:this._createMouseTarget(s,!0)})}_onMouseLeave(s){this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:s,target:null})}_onMouseUp(s){this.viewController.emitMouseUp({event:s,target:this._createMouseTarget(s,!0)})}_onMouseDown(s){const t=this._createMouseTarget(s,!0),o=t.type===6||t.type===7,h=t.type===2||t.type===3||t.type===4,g=t.type===3,m=this._context.configuration.options.get(95),f=t.type===8||t.type===5,b=t.type===9;let y=s.leftButton||s.middleButton;S.isMacintosh&&s.leftButton&&s.ctrlKey&&(y=!1);const L=()=>{s.preventDefault(),this.viewHelper.focusTextArea()};if(y&&(o||g&&m))L(),this._mouseDownOperation.start(t.type,s);else if(h)s.preventDefault();else if(f){const N=t.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(N.viewZoneId)&&(L(),this._mouseDownOperation.start(t.type,s),s.preventDefault())}else b&&this.viewHelper.shouldSuppressMouseDownOnWidget(t.detail)&&(L(),s.preventDefault());this.viewController.emitMouseDown({event:s,target:t})}}e.MouseHandler=c,c.MOUSE_MOVE_MINIMUM_TIME=100;class d extends w.Disposable{constructor(s,t,o,h,g){super();this._context=s,this._viewController=t,this._viewHelper=o,this._createMouseTarget=h,this._getMouseColumn=g,this._mouseMoveMonitor=this._register(new C.GlobalEditorMouseMoveMonitor(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new k.TimeoutTimer),this._mouseState=new r,this._currentSelection=new u.Selection(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(s){this._lastMouseEvent=s,this._mouseState.setModifiers(s);const t=this._findMousePosition(s,!0);!t||(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:s,target:t}):this._dispatchMouse(t,!0))}start(s,t){this._lastMouseEvent=t,this._mouseState.setStartedOnLineNumbers(s===3),this._mouseState.setStartButtons(t),this._mouseState.setModifiers(t);const o=this._findMousePosition(t,!0);if(!(!o||!o.position)){this._mouseState.trySetCount(t.detail,o.position),t.detail=this._mouseState.count;const h=this._context.configuration.options;if(!h.get(77)&&h.get(29)&&!h.get(16)&&!this._mouseState.altKey&&t.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&o.type===6&&o.position&&this._currentSelection.containsPosition(o.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,l(null),g=>this._onMouseDownThenMove(g),g=>{const m=this._findMousePosition(this._lastMouseEvent,!0);g&&g instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:m?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(o,t.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,l(null),g=>this._onMouseDownThenMove(g),()=>this._stop()))}}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){!this._isActive||this._onScrollTimeout.setIfNotSet(()=>{if(!!this._lastMouseEvent){const s=this._findMousePosition(this._lastMouseEvent,!1);!s||this._mouseState.isDragAndDrop||this._dispatchMouse(s,!0)}},10)}onCursorStateChanged(s){this._currentSelection=s.selections[0]}_getPositionOutsideEditor(s){const t=s.editorPos,o=this._context.model,h=this._context.viewLayout,g=this._getMouseColumn(s);if(s.posy<t.y){const f=Math.max(h.getCurrentScrollTop()-(t.y-s.posy),0),b=_.HitTestContext.getZoneAtCoord(this._context,f);if(b){const L=this._helpPositionJumpOverViewZone(b);if(L)return new _.MouseTarget(null,13,g,L)}const y=h.getLineNumberAtVerticalOffset(f);return new _.MouseTarget(null,13,g,new p.Position(y,1))}if(s.posy>t.y+t.height){const f=h.getCurrentScrollTop()+(s.posy-t.y),b=_.HitTestContext.getZoneAtCoord(this._context,f);if(b){const L=this._helpPositionJumpOverViewZone(b);if(L)return new _.MouseTarget(null,13,g,L)}const y=h.getLineNumberAtVerticalOffset(f);return new _.MouseTarget(null,13,g,new p.Position(y,o.getLineMaxColumn(y)))}const m=h.getLineNumberAtVerticalOffset(h.getCurrentScrollTop()+(s.posy-t.y));return s.posx<t.x?new _.MouseTarget(null,13,g,new p.Position(m,1)):s.posx>t.x+t.width?new _.MouseTarget(null,13,g,new p.Position(m,o.getLineMaxColumn(m))):null}_findMousePosition(s,t){const o=this._getPositionOutsideEditor(s);if(o)return o;const h=this._createMouseTarget(s,t);if(!h.position)return null;if(h.type===8||h.type===5){const m=this._helpPositionJumpOverViewZone(h.detail);if(m)return new _.MouseTarget(h.element,h.type,h.mouseColumn,m,null,h.detail)}return h}_helpPositionJumpOverViewZone(s){const t=new p.Position(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),o=s.positionBefore,h=s.positionAfter;return o&&h?o.isBefore(t)?o:h:null}_dispatchMouse(s,t){!s.position||this._viewController.dispatchMouse({position:s.position,mouseColumn:s.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:t,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton})}}class r{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(s){this._altKey=s.altKey,this._ctrlKey=s.ctrlKey,this._metaKey=s.metaKey,this._shiftKey=s.shiftKey}setStartButtons(s){this._leftButton=s.leftButton,this._middleButton=s.middleButton}setStartedOnLineNumbers(s){this._startedOnLineNumbers=s}trySetCount(s,t){const o=new Date().getTime();o-this._lastSetMouseDownCountTime>r.CLEAR_MOUSE_DOWN_COUNT_TIME&&(s=1),this._lastSetMouseDownCountTime=o,s>this._lastMouseDownCount+1&&(s=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(t)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=t,this._lastMouseDownCount=Math.min(s,this._lastMouseDownPositionEqualCount)}}r.CLEAR_MOUSE_DOWN_COUNT_TIME=400}),define(J[584],ee([0,1,7,17,60,2,583,162,151,164]),function($,e,v,I,k,w,S,_,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PointerHandler=e.PointerEventHandler=void 0;class p extends S.MouseHandler{constructor(c,d,r){super(c,d,r);this._register(k.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(v.addDisposableListener(this.viewHelper.linesContentDomNode,k.EventType.Tap,s=>this.onTap(s))),this._register(v.addDisposableListener(this.viewHelper.linesContentDomNode,k.EventType.Change,s=>this.onChange(s))),this._register(v.addDisposableListener(this.viewHelper.linesContentDomNode,k.EventType.Contextmenu,s=>this._onContextMenu(new _.EditorMouseEvent(s,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(v.addDisposableListener(this.viewHelper.linesContentDomNode,"pointerdown",s=>{const t=s.pointerType;if(t==="mouse"){this._lastPointerType="mouse";return}else t==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const n=new _.EditorPointerEventFactory(this.viewHelper.viewDomNode);this._register(n.onPointerMoveThrottled(this.viewHelper.viewDomNode,s=>this._onMouseMove(s),(0,S.createMouseMoveEventMerger)(this.mouseTargetFactory),S.MouseHandler.MOUSE_MOVE_MINIMUM_TIME)),this._register(n.onPointerUp(this.viewHelper.viewDomNode,s=>this._onMouseUp(s))),this._register(n.onPointerLeave(this.viewHelper.viewDomNode,s=>this._onMouseLeave(s))),this._register(n.onPointerDown(this.viewHelper.viewDomNode,s=>this._onMouseDown(s)))}onTap(c){if(!(!c.initialTarget||!this.viewHelper.linesContentDomNode.contains(c.initialTarget))){c.preventDefault(),this.viewHelper.focusTextArea();const d=this._createMouseTarget(new _.EditorMouseEvent(c,this.viewHelper.viewDomNode),!1);d.position&&this.viewController.dispatchMouse({position:d.position,mouseColumn:d.position.column,startedOnLineNumbers:!1,mouseDownCount:c.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1})}}onChange(c){this._lastPointerType==="touch"&&this._context.model.deltaScrollNow(-c.translationX,-c.translationY)}_onMouseDown(c){c.browserEvent.pointerType!=="touch"&&super._onMouseDown(c)}}e.PointerEventHandler=p;class u extends S.MouseHandler{constructor(c,d,r){super(c,d,r);this._register(k.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(v.addDisposableListener(this.viewHelper.linesContentDomNode,k.EventType.Tap,n=>this.onTap(n))),this._register(v.addDisposableListener(this.viewHelper.linesContentDomNode,k.EventType.Change,n=>this.onChange(n))),this._register(v.addDisposableListener(this.viewHelper.linesContentDomNode,k.EventType.Contextmenu,n=>this._onContextMenu(new _.EditorMouseEvent(n,this.viewHelper.viewDomNode),!1)))}onTap(c){c.preventDefault(),this.viewHelper.focusTextArea();const d=this._createMouseTarget(new _.EditorMouseEvent(c,this.viewHelper.viewDomNode),!1);if(d.position){const r=document.createEvent("CustomEvent");r.initEvent(i.TextAreaSyntethicEvents.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(r),this.viewController.moveTo(d.position)}}onChange(c){this._context.model.deltaScrollNow(-c.translationX,-c.translationY)}}class a extends w.Disposable{constructor(c,d,r){super();I.isIOS&&C.BrowserFeatures.pointerEvents?this.handler=this._register(new p(c,d,r)):window.TouchEvent?this.handler=this._register(new u(c,d,r)):this.handler=this._register(new S.MouseHandler(c,d,r))}getTargetAtClientPoint(c,d){return this.handler.getTargetAtClientPoint(c,d)}}e.PointerHandler=a}),define(J[256],ee([0,1,188]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewUserInputEvents=void 0;class I{constructor(S){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=S}emitKeyDown(S){this.onKeyDown&&this.onKeyDown(S)}emitKeyUp(S){this.onKeyUp&&this.onKeyUp(S)}emitContextMenu(S){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(S))}emitMouseMove(S){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(S))}emitMouseLeave(S){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(S))}emitMouseDown(S){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(S))}emitMouseUp(S){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(S))}emitMouseDrag(S){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(S))}emitMouseDrop(S){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(S))}emitMouseDropCanceled(){this.onMouseDropCanceled&&this.onMouseDropCanceled()}emitMouseWheel(S){this.onMouseWheel&&this.onMouseWheel(S)}_convertViewToModelMouseEvent(S){return S.target?{event:S.event,target:this._convertViewToModelMouseTarget(S.target)}:S}_convertViewToModelMouseTarget(S){return I.convertViewToModelMouseTarget(S,this._coordinatesConverter)}static convertViewToModelMouseTarget(S,_){return new k(S.element,S.type,S.mouseColumn,S.position?_.convertViewPositionToModelPosition(S.position):null,S.range?_.convertViewRangeToModelRange(S.range):null,S.detail)}}e.ViewUserInputEvents=I;class k{constructor(S,_,C,i,p,u){this.element=S,this.type=_,this.mouseColumn=C,this.position=i,this.range=p,this.detail=u}toString(){return v.MouseTarget.toString(this)}}}),define(J[585],ee([0,1,17,15,70,165,46,255,14,3,110,125,324]),function($,e,v,I,k,w,S,_,C,i,p,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLines=void 0;class a{constructor(){this._currentVisibleRange=new i.Range(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(n){this._currentVisibleRange=n}}class l{constructor(n,s,t,o,h,g){this.lineNumber=n,this.startColumn=s,this.endColumn=t,this.startScrollTop=o,this.stopScrollTop=h,this.scrollType=g,this.type="range",this.minLineNumber=n,this.maxLineNumber=n}}class c{constructor(n,s,t,o){this.selections=n,this.startScrollTop=s,this.stopScrollTop=t,this.scrollType=o,this.type="selections";let h=n[0].startLineNumber,g=n[0].endLineNumber;for(let m=1,f=n.length;m<f;m++){const b=n[m];h=Math.min(h,b.startLineNumber),g=Math.max(g,b.endLineNumber)}this.minLineNumber=h,this.maxLineNumber=g}}class d extends S.ViewPart{constructor(n,s){super(n);this._linesContent=s,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new w.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode;const t=this._context.configuration,o=this._context.configuration.options,h=o.get(40),g=o.get(128);this._lineHeight=o.get(55),this._typicalHalfwidthCharacterWidth=h.typicalHalfwidthCharacterWidth,this._isViewportWrapping=g.isViewportWrapping,this._revealHorizontalRightPadding=o.get(86),this._cursorSurroundingLines=o.get(23),this._cursorSurroundingLinesStyle=o.get(24),this._canUseLayerHinting=!o.get(26),this._viewLineOptions=new _.ViewLineOptions(t,this._context.theme.type),S.PartFingerprints.write(this.domNode,7),this.domNode.setClassName(`view-lines ${u.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),k.Configuration.applyFontInfo(this.domNode,h),this._maxLineWidth=0,this._asyncUpdateLineWidths=new I.RunOnceScheduler(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new I.RunOnceScheduler(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new a,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new _.ViewLine(this._viewLineOptions)}onConfigurationChanged(n){this._visibleLines.onConfigurationChanged(n),n.hasChanged(128)&&(this._maxLineWidth=0);const s=this._context.configuration.options,t=s.get(40),o=s.get(128);return this._lineHeight=s.get(55),this._typicalHalfwidthCharacterWidth=t.typicalHalfwidthCharacterWidth,this._isViewportWrapping=o.isViewportWrapping,this._revealHorizontalRightPadding=s.get(86),this._cursorSurroundingLines=s.get(23),this._cursorSurroundingLinesStyle=s.get(24),this._canUseLayerHinting=!s.get(26),k.Configuration.applyFontInfo(this.domNode,t),this._onOptionsMaybeChanged(),n.hasChanged(127)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const n=this._context.configuration,s=new _.ViewLineOptions(n,this._context.theme.type);if(!this._viewLineOptions.equals(s)){this._viewLineOptions=s;const t=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();for(let h=t;h<=o;h++)this._visibleLines.getVisibleLine(h).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(n){const s=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();let o=!1;for(let h=s;h<=t;h++)o=this._visibleLines.getVisibleLine(h).onSelectionChanged()||o;return o}onDecorationsChanged(n){{const s=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();for(let o=s;o<=t;o++)this._visibleLines.getVisibleLine(o).onDecorationsChanged()}return!0}onFlushed(n){const s=this._visibleLines.onFlushed(n);return this._maxLineWidth=0,s}onLinesChanged(n){return this._visibleLines.onLinesChanged(n)}onLinesDeleted(n){return this._visibleLines.onLinesDeleted(n)}onLinesInserted(n){return this._visibleLines.onLinesInserted(n)}onRevealRangeRequest(n){const s=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),n.source,n.range,n.selections,n.verticalType);if(s===-1)return!1;let t=this._context.viewLayout.validateScrollPosition({scrollTop:s});n.revealHorizontal?n.range&&n.range.startLineNumber!==n.range.endLineNumber?t={scrollTop:t.scrollTop,scrollLeft:0}:n.range?this._horizontalRevealRequest=new l(n.range.startLineNumber,n.range.startColumn,n.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),t.scrollTop,n.scrollType):n.selections&&n.selections.length>0&&(this._horizontalRevealRequest=new c(n.selections,this._context.viewLayout.getCurrentScrollTop(),t.scrollTop,n.scrollType)):this._horizontalRevealRequest=null;const h=Math.abs(this._context.viewLayout.getCurrentScrollTop()-t.scrollTop)<=this._lineHeight?1:n.scrollType;return this._context.model.setScrollPosition(t,h),!0}onScrollChanged(n){if(this._horizontalRevealRequest&&n.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&n.scrollTopChanged){const s=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),t=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(n.scrollTop<s||n.scrollTop>t)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(n.scrollWidth),this._visibleLines.onScrollChanged(n)||!0}onTokensChanged(n){return this._visibleLines.onTokensChanged(n)}onZonesChanged(n){return this._context.model.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(n)}onThemeChanged(n){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(n,s){const t=this._getViewLineDomNode(n);if(t===null)return null;const o=this._getLineNumberFor(t);if(o===-1||o<1||o>this._context.model.getLineCount())return null;if(this._context.model.getLineMaxColumn(o)===1)return new C.Position(o,1);const h=this._visibleLines.getStartLineNumber(),g=this._visibleLines.getEndLineNumber();if(o<h||o>g)return null;let m=this._visibleLines.getVisibleLine(o).getColumnOfNodeOffset(o,n,s);const f=this._context.model.getLineMinColumn(o);return m<f&&(m=f),new C.Position(o,m)}_getViewLineDomNode(n){for(;n&&n.nodeType===1;){if(n.className===_.ViewLine.CLASS_NAME)return n;n=n.parentElement}return null}_getLineNumberFor(n){const s=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();for(let o=s;o<=t;o++){const h=this._visibleLines.getVisibleLine(o);if(n===h.getDomNode())return o}return-1}getLineWidth(n){const s=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();return n<s||n>t?-1:this._visibleLines.getVisibleLine(n).getWidth()}linesVisibleRangesForRange(n,s){if(this.shouldRender())return null;const t=n.endLineNumber,o=i.Range.intersectRanges(n,this._lastRenderedData.getCurrentVisibleRange());if(!o)return null;let h=[],g=0;const m=new _.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot);let f=0;s&&(f=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new C.Position(o.startLineNumber,1)).lineNumber);const b=this._visibleLines.getStartLineNumber(),y=this._visibleLines.getEndLineNumber();for(let L=o.startLineNumber;L<=o.endLineNumber;L++)if(!(L<b||L>y)){const N=L===o.startLineNumber?o.startColumn:1,M=L===o.endLineNumber?o.endColumn:this._context.model.getLineMaxColumn(L),D=this._visibleLines.getVisibleLine(L).getVisibleRangesForRange(N,M,m);if(!!D){if(s&&L<t){const R=f;f=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new C.Position(L+1,1)).lineNumber,R!==f&&(D.ranges[D.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}h[g++]=new p.LineVisibleRanges(D.outsideRenderedLine,L,D.ranges)}}return g===0?null:h}_visibleRangesForLineRange(n,s,t){return this.shouldRender()||n<this._visibleLines.getStartLineNumber()||n>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(n).getVisibleRangesForRange(s,t,new _.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(n){const s=this._visibleRangesForLineRange(n.lineNumber,n.column,n.column);return s?new p.HorizontalPosition(s.outsideRenderedLine,s.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(n){const s=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();let o=1,h=!0;for(let g=s;g<=t;g++){const m=this._visibleLines.getVisibleLine(g);if(n&&!m.getWidthIsFast()){h=!1;continue}o=Math.max(o,m.getWidth())}return h&&s===1&&t===this._context.model.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(o),h}_checkMonospaceFontAssumptions(){let n=-1,s=-1;const t=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();for(let h=t;h<=o;h++){const g=this._visibleLines.getVisibleLine(h);if(g.needsMonospaceFontCheck()){const m=g.getWidth();m>s&&(s=m,n=h)}}if(n!==-1&&!this._visibleLines.getVisibleLine(n).monospaceAssumptionsAreValid())for(let h=t;h<=o;h++)this._visibleLines.getVisibleLine(h).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(n){if(this._visibleLines.renderLines(n),this._lastRenderedData.setCurrentVisibleRange(n.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const t=this._horizontalRevealRequest;if(n.startLineNumber<=t.minLineNumber&&t.maxLineNumber<=n.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const o=this._computeScrollLeftToReveal(t);o&&(this._isViewportWrapping||this._ensureMaxLineWidth(o.maxHorizontalOffset),this._context.model.setScrollPosition({scrollLeft:o.scrollLeft},t.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),v.isLinux&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const t=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();for(let h=t;h<=o;h++)if(this._visibleLines.getVisibleLine(h).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const s=this._context.viewLayout.getCurrentScrollTop()-n.bigNumbersDelta;this._linesContent.setTop(-s),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(n){const s=Math.ceil(n);this._maxLineWidth<s&&(this._maxLineWidth=s,this._context.model.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(n,s,t,o,h){const g=n.top,m=n.height,f=g+m;let b,y,L;if(o&&o.length>0){let D=o[0].startLineNumber,R=o[0].endLineNumber;for(let P=1,O=o.length;P<O;P++){const W=o[P];D=Math.min(D,W.startLineNumber),R=Math.max(R,W.endLineNumber)}b=!1,y=this._context.viewLayout.getVerticalOffsetForLineNumber(D),L=this._context.viewLayout.getVerticalOffsetForLineNumber(R)+this._lineHeight}else if(t)b=!0,y=this._context.viewLayout.getVerticalOffsetForLineNumber(t.startLineNumber),L=this._context.viewLayout.getVerticalOffsetForLineNumber(t.endLineNumber)+this._lineHeight;else return-1;if(!(s==="mouse"&&this._cursorSurroundingLinesStyle==="default")){const D=Math.min(m/this._lineHeight/2,this._cursorSurroundingLines);y-=D*this._lineHeight,L+=Math.max(0,D-1)*this._lineHeight}(h===0||h===4)&&(L+=this._lineHeight);let M;if(L-y>m){if(!b)return-1;M=y}else if(h===5||h===6)if(h===6&&g<=y&&L<=f)M=g;else{const D=Math.max(5*this._lineHeight,m*.2),R=y-D,P=L-m;M=Math.max(P,R)}else if(h===1||h===2)if(h===2&&g<=y&&L<=f)M=g;else{const D=(y+L)/2;M=Math.max(0,D-m/2)}else M=this._computeMinimumScrolling(g,f,y,L,h===3,h===4);return M}_computeScrollLeftToReveal(n){const s=this._context.viewLayout.getCurrentViewport(),t=s.left,o=t+s.width;let h=1073741824,g=0;if(n.type==="range"){const f=this._visibleRangesForLineRange(n.lineNumber,n.startColumn,n.endColumn);if(!f)return null;for(const b of f.ranges)h=Math.min(h,b.left),g=Math.max(g,b.left+b.width)}else for(const f of n.selections){if(f.startLineNumber!==f.endLineNumber)return null;const b=this._visibleRangesForLineRange(f.startLineNumber,f.startColumn,f.endColumn);if(!b)return null;for(const y of b.ranges)h=Math.min(h,y.left),g=Math.max(g,y.left+y.width)}return h=Math.max(0,h-d.HORIZONTAL_EXTRA_PX),g+=this._revealHorizontalRightPadding,n.type==="selections"&&g-h>s.width?null:{scrollLeft:this._computeMinimumScrolling(t,o,h,g),maxHorizontalOffset:g}}_computeMinimumScrolling(n,s,t,o,h,g){n=n|0,s=s|0,t=t|0,o=o|0,h=!!h,g=!!g;const m=s-n;if(o-t<m){if(h)return t;if(g)return Math.max(0,o-m);if(t<n)return t;if(o>s)return Math.max(0,o-m)}else return t;return n}}e.ViewLines=d,d.HORIZONTAL_EXTRA_PX=30}),define(J[12],ee([0,1,9,2,33,6,97,27]),function($,e,v,I,k,w,S,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Themable=e.registerThemingParticipant=e.Extensions=e.getThemeTypeSelector=e.ThemeIcon=e.themeColorFromId=e.ThemeColor=e.IThemeService=void 0,e.IThemeService=(0,v.createDecorator)("themeService");var C;(function(r){function n(s){return s&&typeof s=="object"&&typeof s.id=="string"}r.isThemeColor=n})(C=e.ThemeColor||(e.ThemeColor={}));function i(r){return{id:r}}e.themeColorFromId=i;var p;(function(r){function n(g){return g&&typeof g=="object"&&typeof g.id=="string"&&(typeof g.color=="undefined"||C.isThemeColor(g.color))}r.isThemeIcon=n;const s=new RegExp(`^\\$\\((${_.CSSIcon.iconNameExpression}(?:${_.CSSIcon.iconModifierExpression})?)\\)$`);function t(g){const m=s.exec(g);if(!!m){let[,f]=m;return{id:f}}}r.fromString=t;function o(g,m){let f=g.id;const b=f.lastIndexOf("~");return b!==-1&&(f=f.substring(0,b)),m&&(f=`${f}~${m}`),{id:f}}r.modify=o;function h(g,m){var f,b;return g.id===m.id&&((f=g.color)===null||f===void 0?void 0:f.id)===((b=m.color)===null||b===void 0?void 0:b.id)}r.isEqual=h,r.asClassNameArray=_.CSSIcon.asClassNameArray,r.asClassName=_.CSSIcon.asClassName,r.asCSSSelector=_.CSSIcon.asCSSSelector})(p=e.ThemeIcon||(e.ThemeIcon={}));function u(r){switch(r){case S.ColorScheme.DARK:return"vs-dark";case S.ColorScheme.HIGH_CONTRAST:return"hc-black";default:return"vs"}}e.getThemeTypeSelector=u,e.Extensions={ThemingContribution:"base.contributions.theming"};class a{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new w.Emitter}onColorThemeChange(n){return this.themingParticipants.push(n),this.onThemingParticipantAddedEmitter.fire(n),(0,I.toDisposable)(()=>{const s=this.themingParticipants.indexOf(n);this.themingParticipants.splice(s,1)})}getThemingParticipants(){return this.themingParticipants}}let l=new a;k.Registry.add(e.Extensions.ThemingContribution,l);function c(r){return l.onColorThemeChange(r)}e.registerThemingParticipant=c;class d extends I.Disposable{constructor(n){super();this.themeService=n,this.theme=n.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(s=>this.onThemeChange(s)))}onThemeChange(n){this.theme=n,this.updateStyles()}updateStyles(){}}e.Themable=d}),define(J[586],ee([0,1,7,2,8,24,363,107,53,12]),function($,e,v,I,k,w,S,_,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._CSS_MAP=e.DecorationTypeOptionsProvider=e.DecorationSubTypeOptionsProvider=e.CodeEditorServiceImpl=e.GlobalStyleSheet=e.RefCountedStyleSheet=void 0;class p{constructor(s,t,o){this._parent=s,this._editorId=t,this._styleSheet=o,this._refCount=0}ref(){this._refCount++}unref(){var s;this._refCount--,this._refCount===0&&((s=this._styleSheet.parentNode)===null||s===void 0||s.removeChild(this._styleSheet),this._parent._removeEditorStyleSheets(this._editorId))}insertRule(s,t){this._styleSheet.sheet.insertRule(s,t)}removeRulesContainingSelector(s){v.removeCSSRulesContainingSelector(s,this._styleSheet)}}e.RefCountedStyleSheet=p;class u{constructor(s){this._styleSheet=s}ref(){}unref(){}insertRule(s,t){this._styleSheet.sheet.insertRule(s,t)}removeRulesContainingSelector(s){v.removeCSSRulesContainingSelector(s,this._styleSheet)}}e.GlobalStyleSheet=u;let a=class extends S.AbstractCodeEditorService{constructor(s,t){super();this._decorationOptionProviders=new Map,this._editorStyleSheets=new Map,this._globalStyleSheet=s||null,this._themeService=t}_getOrCreateGlobalStyleSheet(){return this._globalStyleSheet||(this._globalStyleSheet=new u(v.createStyleSheet())),this._globalStyleSheet}_getOrCreateStyleSheet(s){if(!s)return this._getOrCreateGlobalStyleSheet();const t=s.getContainerDomNode();if(!v.isInShadowDOM(t))return this._getOrCreateGlobalStyleSheet();const o=s.getId();if(!this._editorStyleSheets.has(o)){const h=new p(this,o,v.createStyleSheet(t));this._editorStyleSheets.set(o,h)}return this._editorStyleSheets.get(o)}_removeEditorStyleSheets(s){this._editorStyleSheets.delete(s)}registerDecorationType(s,t,o,h){let g=this._decorationOptionProviders.get(s);if(!g){const m=this._getOrCreateStyleSheet(h),f={styleSheet:m,key:s,parentTypeKey:o,options:t||Object.create(null)};o?g=new l(this._themeService,m,f):g=new c(this._themeService,m,f),this._decorationOptionProviders.set(s,g),this._onDecorationTypeRegistered.fire(s)}g.refCount++}removeDecorationType(s){const t=this._decorationOptionProviders.get(s);t&&(t.refCount--,t.refCount<=0&&(this._decorationOptionProviders.delete(s),t.dispose(),this.listCodeEditors().forEach(o=>o.removeDecorations(s))))}resolveDecorationOptions(s,t){const o=this._decorationOptionProviders.get(s);if(!o)throw new Error("Unknown decoration type key: "+s);return o.getOptions(this,t)}};a=Me([pe(1,i.IThemeService)],a),e.CodeEditorServiceImpl=a;class l{constructor(s,t,o){this._styleSheet=t,this._styleSheet.ref(),this._parentTypeKey=o.parentTypeKey,this.refCount=0,this._beforeContentRules=new d(3,o,s),this._afterContentRules=new d(4,o,s)}getOptions(s,t){const o=s.resolveDecorationOptions(this._parentTypeKey,!0);return this._beforeContentRules&&(o.beforeContentClassName=this._beforeContentRules.className),this._afterContentRules&&(o.afterContentClassName=this._afterContentRules.className),o}dispose(){this._beforeContentRules&&(this._beforeContentRules.dispose(),this._beforeContentRules=null),this._afterContentRules&&(this._afterContentRules.dispose(),this._afterContentRules=null),this._styleSheet.unref()}}e.DecorationSubTypeOptionsProvider=l;class c{constructor(s,t,o){this._disposables=new I.DisposableStore,this._styleSheet=t,this._styleSheet.ref(),this.refCount=0;const h=L=>{const N=new d(L,o,s);if(this._disposables.add(N),N.hasContent)return N.className},g=L=>{const N=new d(L,o,s);return this._disposables.add(N),N.hasContent?{className:N.className,hasLetterSpacing:N.hasLetterSpacing}:null};this.className=h(0);const m=g(1);m&&(this.inlineClassName=m.className,this.inlineClassNameAffectsLetterSpacing=m.hasLetterSpacing),this.beforeContentClassName=h(3),this.afterContentClassName=h(4),this.glyphMarginClassName=h(2);const f=o.options;this.isWholeLine=Boolean(f.isWholeLine),this.stickiness=f.rangeBehavior;const b=f.light&&f.light.overviewRulerColor||f.overviewRulerColor,y=f.dark&&f.dark.overviewRulerColor||f.overviewRulerColor;(typeof b!="undefined"||typeof y!="undefined")&&(this.overviewRuler={color:b||y,darkColor:y||b,position:f.overviewRulerLane||C.OverviewRulerLane.Center})}getOptions(s,t){return t?{inlineClassName:this.inlineClassName,beforeContentClassName:this.beforeContentClassName,afterContentClassName:this.afterContentClassName,className:this.className,glyphMarginClassName:this.glyphMarginClassName,isWholeLine:this.isWholeLine,overviewRuler:this.overviewRuler,stickiness:this.stickiness}:this}dispose(){this._disposables.dispose(),this._styleSheet.unref()}}e.DecorationTypeOptionsProvider=c,e._CSS_MAP={color:"color:{0} !important;",opacity:"opacity:{0};",backgroundColor:"background-color:{0};",outline:"outline:{0};",outlineColor:"outline-color:{0};",outlineStyle:"outline-style:{0};",outlineWidth:"outline-width:{0};",border:"border:{0};",borderColor:"border-color:{0};",borderRadius:"border-radius:{0};",borderSpacing:"border-spacing:{0};",borderStyle:"border-style:{0};",borderWidth:"border-width:{0};",fontStyle:"font-style:{0};",fontWeight:"font-weight:{0};",fontSize:"font-size:{0};",fontFamily:"font-family:{0};",textDecoration:"text-decoration:{0};",cursor:"cursor:{0};",letterSpacing:"letter-spacing:{0};",gutterIconPath:"background:{0} center center no-repeat;",gutterIconSize:"background-size:{0};",contentText:"content:'{0}';",contentIconPath:"content:{0};",margin:"margin:{0};",padding:"padding:{0};",width:"width:{0};",height:"height:{0};"};class d{constructor(s,t,o){this._theme=o.getColorTheme(),this._ruleType=s,this._providerArgs=t,this._usesThemeColors=!1,this._hasContent=!1,this._hasLetterSpacing=!1;let h=r.getClassName(this._providerArgs.key,s);this._providerArgs.parentTypeKey&&(h=h+" "+r.getClassName(this._providerArgs.parentTypeKey,s)),this._className=h,this._unThemedSelector=r.getSelector(this._providerArgs.key,this._providerArgs.parentTypeKey,s),this._buildCSS(),this._usesThemeColors?this._themeListener=o.onDidColorThemeChange(g=>{this._theme=o.getColorTheme(),this._removeCSS(),this._buildCSS()}):this._themeListener=null}dispose(){this._hasContent&&(this._removeCSS(),this._hasContent=!1),this._themeListener&&(this._themeListener.dispose(),this._themeListener=null)}get hasContent(){return this._hasContent}get hasLetterSpacing(){return this._hasLetterSpacing}get className(){return this._className}_buildCSS(){const s=this._providerArgs.options;let t,o,h;switch(this._ruleType){case 0:t=this.getCSSTextForModelDecorationClassName(s),o=this.getCSSTextForModelDecorationClassName(s.light),h=this.getCSSTextForModelDecorationClassName(s.dark);break;case 1:t=this.getCSSTextForModelDecorationInlineClassName(s),o=this.getCSSTextForModelDecorationInlineClassName(s.light),h=this.getCSSTextForModelDecorationInlineClassName(s.dark);break;case 2:t=this.getCSSTextForModelDecorationGlyphMarginClassName(s),o=this.getCSSTextForModelDecorationGlyphMarginClassName(s.light),h=this.getCSSTextForModelDecorationGlyphMarginClassName(s.dark);break;case 3:t=this.getCSSTextForModelDecorationContentClassName(s.before),o=this.getCSSTextForModelDecorationContentClassName(s.light&&s.light.before),h=this.getCSSTextForModelDecorationContentClassName(s.dark&&s.dark.before);break;case 4:t=this.getCSSTextForModelDecorationContentClassName(s.after),o=this.getCSSTextForModelDecorationContentClassName(s.light&&s.light.after),h=this.getCSSTextForModelDecorationContentClassName(s.dark&&s.dark.after);break;default:throw new Error("Unknown rule type: "+this._ruleType)}const g=this._providerArgs.styleSheet;let m=!1;t.length>0&&(g.insertRule(`${this._unThemedSelector} {${t}}`,0),m=!0),o.length>0&&(g.insertRule(`.vs${this._unThemedSelector} {${o}}`,0),m=!0),h.length>0&&(g.insertRule(`.vs-dark${this._unThemedSelector}, .hc-black${this._unThemedSelector} {${h}}`,0),m=!0),this._hasContent=m}_removeCSS(){this._providerArgs.styleSheet.removeRulesContainingSelector(this._unThemedSelector)}getCSSTextForModelDecorationClassName(s){if(!s)return"";const t=[];return this.collectCSSText(s,["backgroundColor"],t),this.collectCSSText(s,["outline","outlineColor","outlineStyle","outlineWidth"],t),this.collectBorderSettingsCSSText(s,t),t.join("")}getCSSTextForModelDecorationInlineClassName(s){if(!s)return"";const t=[];return this.collectCSSText(s,["fontStyle","fontWeight","textDecoration","cursor","color","opacity","letterSpacing"],t),s.letterSpacing&&(this._hasLetterSpacing=!0),t.join("")}getCSSTextForModelDecorationContentClassName(s){if(!s)return"";const t=[];if(typeof s!="undefined"){if(this.collectBorderSettingsCSSText(s,t),typeof s.contentIconPath!="undefined"&&t.push(k.format(e._CSS_MAP.contentIconPath,v.asCSSUrl(w.URI.revive(s.contentIconPath)))),typeof s.contentText=="string"){const h=s.contentText.match(/^.*$/m)[0].replace(/['\\]/g,"\\$&");t.push(k.format(e._CSS_MAP.contentText,h))}this.collectCSSText(s,["fontStyle","fontWeight","fontSize","fontFamily","textDecoration","color","opacity","backgroundColor","margin","padding"],t),this.collectCSSText(s,["width","height"],t)&&t.push("display:inline-block;")}return t.join("")}getCSSTextForModelDecorationGlyphMarginClassName(s){if(!s)return"";const t=[];return typeof s.gutterIconPath!="undefined"&&(t.push(k.format(e._CSS_MAP.gutterIconPath,v.asCSSUrl(w.URI.revive(s.gutterIconPath)))),typeof s.gutterIconSize!="undefined"&&t.push(k.format(e._CSS_MAP.gutterIconSize,s.gutterIconSize))),t.join("")}collectBorderSettingsCSSText(s,t){return this.collectCSSText(s,["border","borderColor","borderRadius","borderSpacing","borderStyle","borderWidth"],t)?(t.push(k.format("box-sizing: border-box;")),!0):!1}collectCSSText(s,t,o){const h=o.length;for(let g of t){const m=this.resolveValue(s[g]);typeof m=="string"&&o.push(k.format(e._CSS_MAP[g],m))}return o.length!==h}resolveValue(s){if((0,_.isThemeColor)(s)){this._usesThemeColors=!0;const t=this._theme.getColor(s.id);return t?t.toString():"transparent"}return s}}class r{static getClassName(s,t){return"ced-"+s+"-"+t}static getSelector(s,t,o){let h=".monaco-editor ."+this.getClassName(s,o);return t&&(h=h+"."+this.getClassName(t,o)),o===3?h+="::before":o===4&&(h+="::after"),h}}}),define(J[587],ee([0,1,7,30,61,46,12]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScrollbar=void 0;class _ extends w.ViewPart{constructor(i,p,u,a){super(i);const l=this._context.configuration.options,c=l.get(89),d=l.get(63),r=l.get(32),n=l.get(92),s={listenOnDomNode:u.domNode,className:"editor-scrollable "+(0,S.getThemeTypeSelector)(i.theme.type),useShadows:!1,lazyRender:!0,vertical:c.vertical,horizontal:c.horizontal,verticalHasArrows:c.verticalHasArrows,horizontalHasArrows:c.horizontalHasArrows,verticalScrollbarSize:c.verticalScrollbarSize,verticalSliderSize:c.verticalSliderSize,horizontalScrollbarSize:c.horizontalScrollbarSize,horizontalSliderSize:c.horizontalSliderSize,handleMouseWheel:c.handleMouseWheel,alwaysConsumeMouseWheel:c.alwaysConsumeMouseWheel,arrowSize:c.arrowSize,mouseWheelScrollSensitivity:d,fastScrollSensitivity:r,scrollPredominantAxis:n,scrollByPage:c.scrollByPage};this.scrollbar=this._register(new k.SmoothScrollableElement(p.domNode,s,this._context.viewLayout.getScrollable())),w.PartFingerprints.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=(0,I.createFastDomNode)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const t=(o,h,g)=>{const m={};if(h){const f=o.scrollTop;f&&(m.scrollTop=this._context.viewLayout.getCurrentScrollTop()+f,o.scrollTop=0)}if(g){const f=o.scrollLeft;f&&(m.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+f,o.scrollLeft=0)}this._context.model.setScrollPosition(m,1)};this._register(v.addDisposableListener(u.domNode,"scroll",o=>t(u.domNode,!0,!0))),this._register(v.addDisposableListener(p.domNode,"scroll",o=>t(p.domNode,!0,!1))),this._register(v.addDisposableListener(a.domNode,"scroll",o=>t(a.domNode,!0,!1))),this._register(v.addDisposableListener(this.scrollbarDomNode.domNode,"scroll",o=>t(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const i=this._context.configuration.options,p=i.get(127);this.scrollbarDomNode.setLeft(p.contentLeft),i.get(61).side==="right"?this.scrollbarDomNode.setWidth(p.contentWidth+p.minimap.minimapWidth):this.scrollbarDomNode.setWidth(p.contentWidth),this.scrollbarDomNode.setHeight(p.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarMouseDown(i){this.scrollbar.delegateVerticalScrollbarMouseDown(i)}onConfigurationChanged(i){if(i.hasChanged(89)||i.hasChanged(63)||i.hasChanged(32)){const p=this._context.configuration.options,u=p.get(89),a=p.get(63),l=p.get(32),c=p.get(92),d={handleMouseWheel:u.handleMouseWheel,mouseWheelScrollSensitivity:a,fastScrollSensitivity:l,scrollPredominantAxis:c};this.scrollbar.updateOptions(d)}return i.hasChanged(127)&&this._setLayout(),!0}onScrollChanged(i){return!0}onThemeChanged(i){return this.scrollbar.updateClassName("editor-scrollable "+(0,S.getThemeTypeSelector)(this._context.theme.type)),!0}prepareRender(i){}render(i){this.scrollbar.renderNow()}}e.EditorScrollbar=_}),define(J[588],ee([0,1,7,30,90,2,17,8,165,46,38,3,217,244,63,22,12,21,60,366,53,88,327]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n,s,t,o,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Minimap=void 0;const g=140,m=2;class f{constructor(O,W,F){const E=O.options,A=E.get(125),B=E.get(127),H=B.minimap,K=E.get(40),q=E.get(61);this.renderMinimap=H.renderMinimap,this.size=q.size,this.minimapHeightIsEditorHeight=H.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=E.get(91),this.showSlider=q.showSlider,this.pixelRatio=A,this.typicalHalfwidthCharacterWidth=K.typicalHalfwidthCharacterWidth,this.lineHeight=E.get(55),this.minimapLeft=H.minimapLeft,this.minimapWidth=H.minimapWidth,this.minimapHeight=B.height,this.canvasInnerWidth=H.minimapCanvasInnerWidth,this.canvasInnerHeight=H.minimapCanvasInnerHeight,this.canvasOuterWidth=H.minimapCanvasOuterWidth,this.canvasOuterHeight=H.minimapCanvasOuterHeight,this.isSampling=H.minimapIsSampling,this.editorHeight=B.height,this.fontScale=H.minimapScale,this.minimapLineHeight=H.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,h.once)(()=>t.MinimapCharRendererFactory.create(this.fontScale,K.fontFamily)),this.backgroundColor=f._getMinimapBackground(W,F)}static _getMinimapBackground(O,W){const F=O.getColor(d.minimapBackground);return F?new a.RGBA8(F.rgba.r,F.rgba.g,F.rgba.b,F.rgba.a):W.getColor(2)}equals(O){return this.renderMinimap===O.renderMinimap&&this.size===O.size&&this.minimapHeightIsEditorHeight===O.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===O.scrollBeyondLastLine&&this.showSlider===O.showSlider&&this.pixelRatio===O.pixelRatio&&this.typicalHalfwidthCharacterWidth===O.typicalHalfwidthCharacterWidth&&this.lineHeight===O.lineHeight&&this.minimapLeft===O.minimapLeft&&this.minimapWidth===O.minimapWidth&&this.minimapHeight===O.minimapHeight&&this.canvasInnerWidth===O.canvasInnerWidth&&this.canvasInnerHeight===O.canvasInnerHeight&&this.canvasOuterWidth===O.canvasOuterWidth&&this.canvasOuterHeight===O.canvasOuterHeight&&this.isSampling===O.isSampling&&this.editorHeight===O.editorHeight&&this.fontScale===O.fontScale&&this.minimapLineHeight===O.minimapLineHeight&&this.minimapCharWidth===O.minimapCharWidth&&this.backgroundColor&&this.backgroundColor.equals(O.backgroundColor)}}class b{constructor(O,W,F,E,A,B,H,K){this.scrollTop=O,this.scrollHeight=W,this.sliderNeeded=F,this._computedSliderRatio=E,this.sliderTop=A,this.sliderHeight=B,this.startLineNumber=H,this.endLineNumber=K}getDesiredScrollTopFromDelta(O){return Math.round(this.scrollTop+O/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(O){return Math.round((O-this.sliderHeight/2)/this._computedSliderRatio)}static create(O,W,F,E,A,B,H,K,q,Y,te){const ie=O.pixelRatio,ae=O.minimapLineHeight,le=Math.floor(O.canvasInnerHeight/ae),Z=O.lineHeight;if(O.minimapHeightIsEditorHeight){const Q=K*O.lineHeight+(O.scrollBeyondLastLine?A-O.lineHeight:0),se=Math.max(1,Math.floor(A*A/Q)),oe=Math.max(0,O.minimapHeight-se),G=oe/(Y-A),j=q*G,ne=oe>0,X=Math.floor(O.canvasInnerHeight/O.minimapLineHeight);return new b(q,Y,ne,G,j,se,1,Math.min(H,X))}let T;if(B&&F!==H){const Q=F-W+1;T=Math.floor(Q*ae/ie)}else{const Q=A/Z;T=Math.floor(Q*ae/ie)}let x;O.scrollBeyondLastLine?x=(H-1)*ae/ie:x=Math.max(0,H*ae/ie-T),x=Math.min(O.minimapHeight-T,x);const z=x/(Y-A),V=q*z;let U=0;if(O.scrollBeyondLastLine&&(U=A/Z-1),le>=H+U){const Q=1,se=H,oe=x>0;return new b(q,Y,oe,z,V,T,Q,se)}else{let Q=Math.max(1,Math.floor(W-V*ie/ae));te&&te.scrollHeight===Y&&(te.scrollTop>q&&(Q=Math.min(Q,te.startLineNumber)),te.scrollTop<q&&(Q=Math.max(Q,te.startLineNumber)));const se=Math.min(H,Q+le-1),oe=(q-E)/Z,G=(W-Q+oe)*ae/ie;return new b(q,Y,!0,z,G,T,Q,se)}}}class y{constructor(O){this.dy=O}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}y.INVALID=new y(-1);class L{constructor(O,W,F){this.renderedLayout=O,this._imageData=W,this._renderedLines=new C.RenderedLinesCollection(()=>y.INVALID),this._renderedLines._set(O.startLineNumber,F)}linesEquals(O){if(!this.scrollEquals(O))return!1;const F=this._renderedLines._get().lines;for(let E=0,A=F.length;E<A;E++)if(F[E].dy===-1)return!1;return!0}scrollEquals(O){return this.renderedLayout.startLineNumber===O.startLineNumber&&this.renderedLayout.endLineNumber===O.endLineNumber}_get(){const O=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:O.rendLineNumberStart,lines:O.lines}}onLinesChanged(O,W){return this._renderedLines.onLinesChanged(O,W)}onLinesDeleted(O,W){this._renderedLines.onLinesDeleted(O,W)}onLinesInserted(O,W){this._renderedLines.onLinesInserted(O,W)}onTokensChanged(O){return this._renderedLines.onTokensChanged(O)}}class N{constructor(O,W,F,E){this._backgroundFillData=N._createBackgroundFillData(W,F,E),this._buffers=[O.createImageData(W,F),O.createImageData(W,F)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const O=this._buffers[this._lastUsedBuffer];return O.data.set(this._backgroundFillData),O}static _createBackgroundFillData(O,W,F){const E=F.r,A=F.g,B=F.b,H=new Uint8ClampedArray(O*W*4);let K=0;for(let q=0;q<W;q++)for(let Y=0;Y<O;Y++)H[K]=E,H[K+1]=A,H[K+2]=B,H[K+3]=255,K+=4;return H}}class M{constructor(O,W){this.samplingRatio=O,this.minimapLines=W}static compute(O,W,F){if(O.renderMinimap===0||!O.isSampling)return[null,[]];const E=O.pixelRatio,A=O.lineHeight,B=O.scrollBeyondLastLine,{minimapLineCount:H}=p.EditorLayoutInfoComputer.computeContainedMinimapLineCount({viewLineCount:W,scrollBeyondLastLine:B,height:O.editorHeight,lineHeight:A,pixelRatio:E}),K=W/H,q=K/2;if(!F||F.minimapLines.length===0){let V=[];if(V[0]=1,H>1){for(let U=0,Q=H-1;U<Q;U++)V[U]=Math.round(U*K+q);V[H-1]=W}return[new M(K,V),[]]}const Y=F.minimapLines,te=Y.length;let ie=[],ae=0,le=0,Z=1;const T=10;let x=[],z=null;for(let V=0;V<H;V++){const U=Math.max(Z,Math.round(V*K)),Q=Math.max(U,Math.round((V+1)*K));for(;ae<te&&Y[ae]<U;){if(x.length<T){const oe=ae+1+le;z&&z.type==="deleted"&&z._oldIndex===ae-1?z.deleteToLineNumber++:(z={type:"deleted",_oldIndex:ae,deleteFromLineNumber:oe,deleteToLineNumber:oe},x.push(z)),le--}ae++}let se;if(ae<te&&Y[ae]<=Q)se=Y[ae],ae++;else if(V===0?se=1:V+1===H?se=W:se=Math.round(V*K+q),x.length<T){const oe=ae+1+le;z&&z.type==="inserted"&&z._i===V-1?z.insertToLineNumber++:(z={type:"inserted",_i:V,insertFromLineNumber:oe,insertToLineNumber:oe},x.push(z)),le++}ie[V]=se,Z=se}if(x.length<T)for(;ae<te;){const V=ae+1+le;z&&z.type==="deleted"&&z._oldIndex===ae-1?z.deleteToLineNumber++:(z={type:"deleted",_oldIndex:ae,deleteFromLineNumber:V,deleteToLineNumber:V},x.push(z)),le--,ae++}else x=[{type:"flush"}];return[new M(K,ie),x]}modelLineToMinimapLine(O){return Math.min(this.minimapLines.length,Math.max(1,Math.round(O/this.samplingRatio)))}modelLineRangeToMinimapLineRange(O,W){let F=this.modelLineToMinimapLine(O)-1;for(;F>0&&this.minimapLines[F-1]>=O;)F--;let E=this.modelLineToMinimapLine(W)-1;for(;E+1<this.minimapLines.length&&this.minimapLines[E+1]<=W;)E++;if(F===E){const A=this.minimapLines[F];if(A<O||A>W)return null}return[F+1,E+1]}decorationLineRangeToMinimapLineRange(O,W){let F=this.modelLineToMinimapLine(O),E=this.modelLineToMinimapLine(W);return O!==W&&E===F&&(E===this.minimapLines.length?F>1&&F--:E++),[F,E]}onLinesDeleted(O){const W=O.toLineNumber-O.fromLineNumber+1;let F=this.minimapLines.length,E=0;for(let A=this.minimapLines.length-1;A>=0&&!(this.minimapLines[A]<O.fromLineNumber);A--)this.minimapLines[A]<=O.toLineNumber?(this.minimapLines[A]=Math.max(1,O.fromLineNumber-1),F=Math.min(F,A),E=Math.max(E,A)):this.minimapLines[A]-=W;return[F,E]}onLinesInserted(O){const W=O.toLineNumber-O.fromLineNumber+1;for(let F=this.minimapLines.length-1;F>=0&&!(this.minimapLines[F]<O.fromLineNumber);F--)this.minimapLines[F]+=W}}class D extends i.ViewPart{constructor(O){super(O);this.tokensColorTracker=l.MinimapTokensColorTracker.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new f(this._context.configuration,this._context.theme,this.tokensColorTracker);const[W]=M.compute(this.options,this._context.model.getLineCount(),null);this._samplingState=W,this._shouldCheckSampling=!1,this._actual=new R(O.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const O=new f(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(O)?!1:(this.options=O,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(O){return this._onOptionsMaybeChanged()}onCursorStateChanged(O){return this._selections=O.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(O){return O.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(O){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(O){if(this._samplingState){const W=this._samplingState.modelLineRangeToMinimapLineRange(O.fromLineNumber,O.toLineNumber);return W?this._actual.onLinesChanged(W[0],W[1]):!1}else return this._actual.onLinesChanged(O.fromLineNumber,O.toLineNumber)}onLinesDeleted(O){if(this._samplingState){const[W,F]=this._samplingState.onLinesDeleted(O);return W<=F&&this._actual.onLinesChanged(W+1,F+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(O.fromLineNumber,O.toLineNumber)}onLinesInserted(O){return this._samplingState?(this._samplingState.onLinesInserted(O),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(O.fromLineNumber,O.toLineNumber)}onScrollChanged(O){return this._actual.onScrollChanged()}onThemeChanged(O){return this._context.model.invalidateMinimapColorCache(),this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(O){if(this._samplingState){let W=[];for(const F of O.ranges){const E=this._samplingState.modelLineRangeToMinimapLineRange(F.fromLineNumber,F.toLineNumber);E&&W.push({fromLineNumber:E[0],toLineNumber:E[1]})}return W.length?this._actual.onTokensChanged(W):!1}else return this._actual.onTokensChanged(O.ranges)}onTokensColorsChanged(O){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(O){return this._actual.onZonesChanged()}prepareRender(O){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(O){let W=O.visibleRange.startLineNumber,F=O.visibleRange.endLineNumber;this._samplingState&&(W=this._samplingState.modelLineToMinimapLine(W),F=this._samplingState.modelLineToMinimapLine(F));const E={viewportContainsWhitespaceGaps:O.viewportData.whitespaceViewportData.length>0,scrollWidth:O.scrollWidth,scrollHeight:O.scrollHeight,viewportStartLineNumber:W,viewportEndLineNumber:F,viewportStartLineNumberVerticalOffset:O.getVerticalOffsetForLineNumber(W),scrollTop:O.scrollTop,scrollLeft:O.scrollLeft,viewportWidth:O.viewportWidth,viewportHeight:O.viewportHeight};this._actual.render(E)}_recreateLineSampling(){this._minimapSelections=null;const O=Boolean(this._samplingState),[W,F]=M.compute(this.options,this._context.model.getLineCount(),this._samplingState);if(this._samplingState=W,O&&this._samplingState)for(const E of F)switch(E.type){case"deleted":this._actual.onLinesDeleted(E.deleteFromLineNumber,E.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(E.insertFromLineNumber,E.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.model.getLineCount()}getRealLineCount(){return this._context.model.getLineCount()}getLineContent(O){return this._samplingState?this._context.model.getLineContent(this._samplingState.minimapLines[O-1]):this._context.model.getLineContent(O)}getMinimapLinesRenderingData(O,W,F){if(this._samplingState){let E=[];for(let A=0,B=W-O+1;A<B;A++)F[A]?E[A]=this._context.model.getViewLineData(this._samplingState.minimapLines[O+A-1]):E[A]=null;return E}return this._context.model.getMinimapLinesRenderingData(O,W,F).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const O of this._selections){const[W,F]=this._samplingState.decorationLineRangeToMinimapLineRange(O.startLineNumber,O.endLineNumber);this._minimapSelections.push(new n.Selection(W,O.startColumn,F,O.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(O,W){let F;if(this._samplingState){const A=this._samplingState.minimapLines[O-1],B=this._samplingState.minimapLines[W-1];F=new u.Range(A,1,B,this._context.model.getLineMaxColumn(B))}else F=new u.Range(O,1,W,this._context.model.getLineMaxColumn(W));const E=this._context.model.getDecorationsInViewport(F);if(this._samplingState){let A=[];for(const B of E)if(!!B.options.minimap){const H=B.range,K=this._samplingState.modelLineToMinimapLine(H.startLineNumber),q=this._samplingState.modelLineToMinimapLine(H.endLineNumber);A.push(new c.ViewModelDecoration(new u.Range(K,H.startColumn,q,H.endColumn),B.options))}return A}return E}getOptions(){return this._context.model.getTextModelOptions()}revealLineNumber(O){this._samplingState&&(O=this._samplingState.minimapLines[O-1]),this._context.model.revealRange("mouse",!1,new u.Range(O,1,O,1),1,0)}setScrollTop(O){this._context.model.setScrollPosition({scrollTop:O},1)}}e.Minimap=D;class R extends w.Disposable{constructor(O,W){super();this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=O,this._model=W,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(d.minimapSelection),this._domNode=(0,I.createFastDomNode)(document.createElement("div")),i.PartFingerprints.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,I.createFastDomNode)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,I.createFastDomNode)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,I.createFastDomNode)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,I.createFastDomNode)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,I.createFastDomNode)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._mouseDownListener=v.addStandardDisposableListener(this._domNode.domNode,"mousedown",F=>{if(F.preventDefault(),this._model.options.renderMinimap!==0&&!!this._lastRenderData){if(this._model.options.size!=="proportional"){if(F.leftButton&&this._lastRenderData){const q=v.getDomNodePagePosition(this._slider.domNode),Y=q.top+q.height/2;this._startSliderDragging(F.buttons,F.posx,Y,F.posy,this._lastRenderData.renderedLayout)}return}const A=this._model.options.minimapLineHeight,B=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*F.browserEvent.offsetY;let K=Math.floor(B/A)+this._lastRenderData.renderedLayout.startLineNumber;K=Math.min(K,this._model.getLineCount()),this._model.revealLineNumber(K)}}),this._sliderMouseMoveMonitor=new k.GlobalMouseMoveMonitor,this._sliderMouseDownListener=v.addStandardDisposableListener(this._slider.domNode,"mousedown",F=>{F.preventDefault(),F.stopPropagation(),F.leftButton&&this._lastRenderData&&this._startSliderDragging(F.buttons,F.posx,F.posy,F.posy,this._lastRenderData.renderedLayout)}),this._gestureDisposable=s.Gesture.addTarget(this._domNode.domNode),this._sliderTouchStartListener=v.addDisposableListener(this._domNode.domNode,s.EventType.Start,F=>{F.preventDefault(),F.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(F))},{passive:!1}),this._sliderTouchMoveListener=v.addDisposableListener(this._domNode.domNode,s.EventType.Change,F=>{F.preventDefault(),F.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(F)},{passive:!1}),this._sliderTouchEndListener=v.addStandardDisposableListener(this._domNode.domNode,s.EventType.End,F=>{F.preventDefault(),F.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(O,W,F,E,A){this._slider.toggleClassName("active",!0);const B=(H,K)=>{const q=Math.abs(K-W);if(S.isWindows&&q>g){this._model.setScrollTop(A.scrollTop);return}const Y=H-F;this._model.setScrollTop(A.getDesiredScrollTopFromDelta(Y))};E!==F&&B(E,W),this._sliderMouseMoveMonitor.startMonitoring(this._slider.domNode,O,k.standardMouseMoveMerger,H=>B(H.posy,H.posx),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(O){const W=this._domNode.domNode.getBoundingClientRect().top,F=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(O.pageY-W);this._model.setScrollTop(F)}dispose(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){return this._model.options.showSlider==="always"?"minimap slider-always":"minimap slider-mouseover"}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new N(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(O,W){return this._lastRenderData?this._lastRenderData.onLinesChanged(O,W):!1}onLinesDeleted(O,W){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(O,W),!0}onLinesInserted(O,W){return this._lastRenderData&&this._lastRenderData.onLinesInserted(O,W),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(d.minimapSelection),this._renderDecorations=!0,!0}onTokensChanged(O){return this._lastRenderData?this._lastRenderData.onTokensChanged(O):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(O){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}O.scrollLeft+O.viewportWidth>=O.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const F=b.create(this._model.options,O.viewportStartLineNumber,O.viewportEndLineNumber,O.viewportStartLineNumberVerticalOffset,O.viewportHeight,O.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),O.scrollTop,O.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(F.sliderNeeded?"block":"none"),this._slider.setTop(F.sliderTop),this._slider.setHeight(F.sliderHeight);const E=O.scrollLeft/this._model.options.typicalHalfwidthCharacterWidth,A=Math.min(this._model.options.minimapWidth,Math.round(E*this._model.options.minimapCharWidth/this._model.options.pixelRatio));this._sliderHorizontal.setLeft(A),this._sliderHorizontal.setWidth(this._model.options.minimapWidth-A),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(F.sliderHeight),this.renderDecorations(F),this._lastRenderData=this.renderLines(F)}renderDecorations(O){if(this._renderDecorations){this._renderDecorations=!1;const W=this._model.getSelections(),F=this._model.getMinimapDecorationsInViewport(O.startLineNumber,O.endLineNumber),{canvasInnerWidth:E,canvasInnerHeight:A}=this._model.options,B=this._model.options.minimapLineHeight,H=this._model.options.minimapCharWidth,K=this._model.getOptions().tabSize,q=this._decorationsCanvas.domNode.getContext("2d");q.clearRect(0,0,E,A);const Y=new Map;for(let te=0;te<W.length;te++){const ie=W[te];for(let ae=ie.startLineNumber;ae<=ie.endLineNumber;ae++)this.renderDecorationOnLine(q,Y,ie,this._selectionColor,O,ae,B,B,K,H)}for(let te=0;te<F.length;te++){const ie=F[te];if(!!ie.options.minimap){const ae=ie.options.minimap.getColor(this._theme);for(let le=ie.range.startLineNumber;le<=ie.range.endLineNumber;le++)switch(ie.options.minimap.position){case o.MinimapPosition.Inline:this.renderDecorationOnLine(q,Y,ie.range,ae,O,le,B,B,K,H);continue;case o.MinimapPosition.Gutter:const Z=(le-O.startLineNumber)*B,T=2;this.renderDecoration(q,ae,T,Z,m,B);continue}}}}}renderDecorationOnLine(O,W,F,E,A,B,H,K,q,Y){const te=(B-A.startLineNumber)*K;if(!(te+H<0||te>this._model.options.canvasInnerHeight)){let ie=W.get(B);const ae=!ie;if(!ie){const U=this._model.getLineContent(B);ie=[p.MINIMAP_GUTTER_WIDTH];for(let Q=1;Q<U.length+1;Q++){const se=U.charCodeAt(Q-1),oe=se===9?q*Y:_.isFullWidthCharacter(se)?2*Y:Y;ie[Q]=ie[Q-1]+oe}W.set(B,ie)}const{startColumn:le,endColumn:Z,startLineNumber:T,endLineNumber:x}=F,z=T===B?ie[le-1]:p.MINIMAP_GUTTER_WIDTH,V=x>B?ie.length-1:Z-1;if(V>0){const U=ie[V]-z||2;this.renderDecoration(O,E,z,te,U,H)}ae&&this.renderLineHighlight(O,E,te,H)}}renderLineHighlight(O,W,F,E){O.fillStyle=W&&W.transparent(.5).toString()||"",O.fillRect(p.MINIMAP_GUTTER_WIDTH,F,O.canvas.width,E)}renderDecoration(O,W,F,E,A,B){O.fillStyle=W&&W.toString()||"",O.fillRect(F,E,A,B)}renderLines(O){const W=O.startLineNumber,F=O.endLineNumber,E=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(O)){const X=this._lastRenderData._get();return new L(O,X.imageData,X.lines)}const A=this._getBuffer();if(!A)return null;let[B,H,K]=R._renderUntouchedLines(A,W,F,E,this._lastRenderData);const q=this._model.getMinimapLinesRenderingData(W,F,K),Y=this._model.getOptions().tabSize,te=this._model.options.backgroundColor,ie=this._model.tokensColorTracker,ae=ie.backgroundIsLight(),le=this._model.options.renderMinimap,Z=this._model.options.charRenderer(),T=this._model.options.fontScale,x=this._model.options.minimapCharWidth,V=(le===1?2:2+1)*T,U=E>V?Math.floor((E-V)/2):0;let Q=0;const se=[];for(let X=0,de=F-W+1;X<de;X++)K[X]&&R._renderLine(A,te,ae,le,x,ie,Z,Q,U,Y,q[X],T,E),se[X]=new y(Q),Q+=E;const oe=B===-1?0:B,j=(H===-1?A.height:H)-oe;return this._canvas.domNode.getContext("2d").putImageData(A,0,0,0,oe,A.width,j),new L(O,A,se)}static _renderUntouchedLines(O,W,F,E,A){const B=[];if(!A){for(let G=0,j=F-W+1;G<j;G++)B[G]=!0;return[-1,-1,B]}const H=A._get(),K=H.imageData.data,q=H.rendLineNumberStart,Y=H.lines,te=Y.length,ie=O.width,ae=O.data,le=(F-W+1)*E*ie*4;let Z=-1,T=-1,x=-1,z=-1,V=-1,U=-1,Q=0;for(let G=W;G<=F;G++){const j=G-W,ne=G-q,X=ne>=0&&ne<te?Y[ne].dy:-1;if(X===-1){B[j]=!0,Q+=E;continue}const de=X*ie*4,he=(X+E)*ie*4,re=Q*ie*4,ue=(Q+E)*ie*4;z===de&&U===re?(z=he,U=ue):(x!==-1&&(ae.set(K.subarray(x,z),V),Z===-1&&x===0&&x===V&&(Z=z),T===-1&&z===le&&x===V&&(T=x)),x=de,z=he,V=re,U=ue),B[j]=!1,Q+=E}x!==-1&&(ae.set(K.subarray(x,z),V),Z===-1&&x===0&&x===V&&(Z=z),T===-1&&z===le&&x===V&&(T=x));const se=Z===-1?-1:Z/(ie*4),oe=T===-1?-1:T/(ie*4);return[se,oe,B]}static _renderLine(O,W,F,E,A,B,H,K,q,Y,te,ie,ae){const le=te.content,Z=te.tokens,T=O.width-A,x=ae===1;let z=p.MINIMAP_GUTTER_WIDTH,V=0,U=0;for(let Q=0,se=Z.getCount();Q<se;Q++){const oe=Z.getEndOffset(Q),G=Z.getForeground(Q),j=B.getColor(G);for(;V<oe;V++){if(z>T)return;const ne=le.charCodeAt(V);if(ne===9){const X=Y-(V+U)%Y;U+=X-1,z+=X*A}else if(ne===32)z+=A;else{const X=_.isFullWidthCharacter(ne)?2:1;for(let de=0;de<X;de++)if(E===2?H.blockRenderChar(O,z,K+q,j,W,F,x):H.renderChar(O,z,K+q,ne,j,W,ie,F,x),z+=A,z>T)return}}}}}(0,r.registerThemingParticipant)((P,O)=>{const W=P.getColor(d.minimapBackground);W&&O.addRule(`.monaco-editor .minimap > canvas { opacity: ${W.rgba.a}; will-change: opacity; }`);const F=P.getColor(d.minimapSliderBackground);F&&O.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${F}; }`);const E=P.getColor(d.minimapSliderHoverBackground);E&&O.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${E}; }`);const A=P.getColor(d.minimapSliderActiveBackground);A&&O.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${A}; }`);const B=P.getColor(d.scrollbarShadow);B&&O.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${B} -6px 0 6px -6px inset; }`)})}),define(J[589],ee([0,1,30,46,22,12,330]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollDecorationViewPart=void 0;class S extends I.ViewPart{constructor(C){super(C);this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const p=this._context.configuration.options.get(89);this._useShadows=p.useShadows,this._domNode=(0,v.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const C=this._useShadows&&this._scrollTop>0;return this._shouldShow!==C?(this._shouldShow=C,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const i=this._context.configuration.options.get(127);i.minimap.renderMinimap===0||i.minimap.minimapWidth>0&&i.minimap.minimapLeft===0?this._width=i.width:this._width=i.width-i.minimap.minimapWidth-i.verticalScrollbarWidth}onConfigurationChanged(C){const p=this._context.configuration.options.get(89);return this._useShadows=p.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(C){return this._scrollTop=C.scrollTop,this._updateShouldShow()}prepareRender(C){}render(C){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}e.ScrollDecorationViewPart=S,(0,w.registerThemingParticipant)((_,C)=>{const i=_.getColor(k.scrollbarShadow);i&&C.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${i} 0 6px 6px -6px inset; }`)})}),define(J[590],ee([0,1,94,22,12,331]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionsOverlay=void 0;class w{constructor(a){this.left=a.left,this.width=a.width,this.startStyle=null,this.endStyle=null}}class S{constructor(a,l){this.lineNumber=a,this.ranges=l}}function _(u){return new w(u)}function C(u){return new S(u.lineNumber,u.ranges.map(_))}class i extends v.DynamicViewOverlay{constructor(a){super();this._previousFrameVisibleRangesWithStyle=[],this._context=a;const l=this._context.configuration.options;this._lineHeight=l.get(55),this._roundedSelection=l.get(87),this._typicalHalfwidthCharacterWidth=l.get(40).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(a){const l=this._context.configuration.options;return this._lineHeight=l.get(55),this._roundedSelection=l.get(87),this._typicalHalfwidthCharacterWidth=l.get(40).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(a){return this._selections=a.selections.slice(0),!0}onDecorationsChanged(a){return!0}onFlushed(a){return!0}onLinesChanged(a){return!0}onLinesDeleted(a){return!0}onLinesInserted(a){return!0}onScrollChanged(a){return a.scrollTopChanged}onZonesChanged(a){return!0}_visibleRangesHaveGaps(a){for(let l=0,c=a.length;l<c;l++)if(a[l].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(a,l,c){const d=this._typicalHalfwidthCharacterWidth/4;let r=null,n=null;if(c&&c.length>0&&l.length>0){const s=l[0].lineNumber;if(s===a.startLineNumber)for(let o=0;!r&&o<c.length;o++)c[o].lineNumber===s&&(r=c[o].ranges[0]);const t=l[l.length-1].lineNumber;if(t===a.endLineNumber)for(let o=c.length-1;!n&&o>=0;o--)c[o].lineNumber===t&&(n=c[o].ranges[0]);r&&!r.startStyle&&(r=null),n&&!n.startStyle&&(n=null)}for(let s=0,t=l.length;s<t;s++){const o=l[s].ranges[0],h=o.left,g=o.left+o.width,m={top:0,bottom:0},f={top:0,bottom:0};if(s>0){const b=l[s-1].ranges[0].left,y=l[s-1].ranges[0].left+l[s-1].ranges[0].width;p(h-b)<d?m.top=2:h>b&&(m.top=1),p(g-y)<d?f.top=2:b<g&&g<y&&(f.top=1)}else r&&(m.top=r.startStyle.top,f.top=r.endStyle.top);if(s+1<t){const b=l[s+1].ranges[0].left,y=l[s+1].ranges[0].left+l[s+1].ranges[0].width;p(h-b)<d?m.bottom=2:b<h&&h<y&&(m.bottom=1),p(g-y)<d?f.bottom=2:g<y&&(f.bottom=1)}else n&&(m.bottom=n.startStyle.bottom,f.bottom=n.endStyle.bottom);o.startStyle=m,o.endStyle=f}}_getVisibleRangesWithStyle(a,l,c){const r=(l.linesVisibleRangesForRange(a,!0)||[]).map(C);return!this._visibleRangesHaveGaps(r)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(l.visibleRange,r,c),r}_createSelectionPiece(a,l,c,d,r){return'<div class="cslr '+c+'" style="top:'+a.toString()+"px;left:"+d.toString()+"px;width:"+r.toString()+"px;height:"+l+'px;"></div>'}_actualRenderOneSelection(a,l,c,d){if(d.length!==0){const r=!!d[0].ranges[0].startStyle,n=this._lineHeight.toString(),s=(this._lineHeight-1).toString(),t=d[0].lineNumber,o=d[d.length-1].lineNumber;for(let h=0,g=d.length;h<g;h++){const m=d[h],f=m.lineNumber,b=f-l,y=c&&(f===o||f===t)?s:n,L=c&&f===t?1:0;let N="",M="";for(let D=0,R=m.ranges.length;D<R;D++){const P=m.ranges[D];if(r){const W=P.startStyle,F=P.endStyle;if(W.top===1||W.bottom===1){N+=this._createSelectionPiece(L,y,i.SELECTION_CLASS_NAME,P.left-i.ROUNDED_PIECE_WIDTH,i.ROUNDED_PIECE_WIDTH);let E=i.EDITOR_BACKGROUND_CLASS_NAME;W.top===1&&(E+=" "+i.SELECTION_TOP_RIGHT),W.bottom===1&&(E+=" "+i.SELECTION_BOTTOM_RIGHT),N+=this._createSelectionPiece(L,y,E,P.left-i.ROUNDED_PIECE_WIDTH,i.ROUNDED_PIECE_WIDTH)}if(F.top===1||F.bottom===1){N+=this._createSelectionPiece(L,y,i.SELECTION_CLASS_NAME,P.left+P.width,i.ROUNDED_PIECE_WIDTH);let E=i.EDITOR_BACKGROUND_CLASS_NAME;F.top===1&&(E+=" "+i.SELECTION_TOP_LEFT),F.bottom===1&&(E+=" "+i.SELECTION_BOTTOM_LEFT),N+=this._createSelectionPiece(L,y,E,P.left+P.width,i.ROUNDED_PIECE_WIDTH)}}let O=i.SELECTION_CLASS_NAME;if(r){const W=P.startStyle,F=P.endStyle;W.top===0&&(O+=" "+i.SELECTION_TOP_LEFT),W.bottom===0&&(O+=" "+i.SELECTION_BOTTOM_LEFT),F.top===0&&(O+=" "+i.SELECTION_TOP_RIGHT),F.bottom===0&&(O+=" "+i.SELECTION_BOTTOM_RIGHT)}M+=this._createSelectionPiece(L,y,O,P.left,P.width)}a[b][0]+=N,a[b][1]+=M}}}prepareRender(a){const l=[],c=a.visibleRange.startLineNumber,d=a.visibleRange.endLineNumber;for(let n=c;n<=d;n++){const s=n-c;l[s]=["",""]}const r=[];for(let n=0,s=this._selections.length;n<s;n++){const t=this._selections[n];if(t.isEmpty()){r[n]=null;continue}const o=this._getVisibleRangesWithStyle(t,a,this._previousFrameVisibleRangesWithStyle[n]);r[n]=o,this._actualRenderOneSelection(l,c,this._selections.length>1,o)}this._previousFrameVisibleRangesWithStyle=r,this._renderResult=l.map(([n,s])=>n+s)}render(a,l){if(!this._renderResult)return"";const c=l-a;return c<0||c>=this._renderResult.length?"":this._renderResult[c]}}e.SelectionsOverlay=i,i.SELECTION_CLASS_NAME="selected-text",i.SELECTION_TOP_LEFT="top-left-radius",i.SELECTION_BOTTOM_LEFT="bottom-left-radius",i.SELECTION_TOP_RIGHT="top-right-radius",i.SELECTION_BOTTOM_RIGHT="bottom-right-radius",i.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",i.ROUNDED_PIECE_WIDTH=10,(0,k.registerThemingParticipant)((u,a)=>{const l=u.getColor(I.editorSelectionBackground);l&&a.addRule(`.monaco-editor .focused .selected-text { background-color: ${l}; }`);const c=u.getColor(I.editorInactiveSelection);c&&a.addRule(`.monaco-editor .selected-text { background-color: ${c}; }`);const d=u.getColor(I.editorSelectionForeground);d&&!d.isTransparent()&&a.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${d}; }`)});function p(u){return u<0?-u:u}}),define(J[49],ee([0,1,461,29,22,12]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.overviewRulerInfo=e.overviewRulerWarning=e.overviewRulerError=e.overviewRulerRangeHighlight=e.editorUnnecessaryCodeOpacity=e.editorUnnecessaryCodeBorder=e.editorGutter=e.editorOverviewRulerBackground=e.editorOverviewRulerBorder=e.editorBracketMatchBorder=e.editorBracketMatchBackground=e.editorCodeLensForeground=e.editorRuler=e.editorActiveLineNumber=e.editorLineNumbers=e.editorActiveIndentGuides=e.editorIndentGuides=e.editorWhitespaces=e.editorCursorBackground=e.editorCursorForeground=e.editorSymbolHighlightBorder=e.editorSymbolHighlight=e.editorRangeHighlightBorder=e.editorRangeHighlight=e.editorLineHighlightBorder=e.editorLineHighlight=void 0,e.editorLineHighlight=(0,k.registerColor)("editor.lineHighlightBackground",{dark:null,light:null,hc:null},v.localize(0,null)),e.editorLineHighlightBorder=(0,k.registerColor)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},v.localize(1,null)),e.editorRangeHighlight=(0,k.registerColor)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},v.localize(2,null),!0),e.editorRangeHighlightBorder=(0,k.registerColor)("editor.rangeHighlightBorder",{dark:null,light:null,hc:k.activeContrastBorder},v.localize(3,null),!0),e.editorSymbolHighlight=(0,k.registerColor)("editor.symbolHighlightBackground",{dark:k.editorFindMatchHighlight,light:k.editorFindMatchHighlight,hc:null},v.localize(4,null),!0),e.editorSymbolHighlightBorder=(0,k.registerColor)("editor.symbolHighlightBorder",{dark:null,light:null,hc:k.activeContrastBorder},v.localize(5,null),!0),e.editorCursorForeground=(0,k.registerColor)("editorCursor.foreground",{dark:"#AEAFAD",light:I.Color.black,hc:I.Color.white},v.localize(6,null)),e.editorCursorBackground=(0,k.registerColor)("editorCursor.background",null,v.localize(7,null)),e.editorWhitespaces=(0,k.registerColor)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},v.localize(8,null)),e.editorIndentGuides=(0,k.registerColor)("editorIndentGuide.background",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hc:e.editorWhitespaces},v.localize(9,null)),e.editorActiveIndentGuides=(0,k.registerColor)("editorIndentGuide.activeBackground",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hc:e.editorWhitespaces},v.localize(10,null)),e.editorLineNumbers=(0,k.registerColor)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:I.Color.white},v.localize(11,null));const S=(0,k.registerColor)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:k.activeContrastBorder},v.localize(12,null),!1,v.localize(13,null));e.editorActiveLineNumber=(0,k.registerColor)("editorLineNumber.activeForeground",{dark:S,light:S,hc:S},v.localize(14,null)),e.editorRuler=(0,k.registerColor)("editorRuler.foreground",{dark:"#5A5A5A",light:I.Color.lightgrey,hc:I.Color.white},v.localize(15,null)),e.editorCodeLensForeground=(0,k.registerColor)("editorCodeLens.foreground",{dark:"#999999",light:"#999999",hc:"#999999"},v.localize(16,null)),e.editorBracketMatchBackground=(0,k.registerColor)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},v.localize(17,null)),e.editorBracketMatchBorder=(0,k.registerColor)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:k.contrastBorder},v.localize(18,null)),e.editorOverviewRulerBorder=(0,k.registerColor)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},v.localize(19,null)),e.editorOverviewRulerBackground=(0,k.registerColor)("editorOverviewRuler.background",null,v.localize(20,null)),e.editorGutter=(0,k.registerColor)("editorGutter.background",{dark:k.editorBackground,light:k.editorBackground,hc:k.editorBackground},v.localize(21,null)),e.editorUnnecessaryCodeBorder=(0,k.registerColor)("editorUnnecessaryCode.border",{dark:null,light:null,hc:I.Color.fromHex("#fff").transparent(.8)},v.localize(22,null)),e.editorUnnecessaryCodeOpacity=(0,k.registerColor)("editorUnnecessaryCode.opacity",{dark:I.Color.fromHex("#000a"),light:I.Color.fromHex("#0007"),hc:null},v.localize(23,null));const _=new I.Color(new I.RGBA(0,122,204,.6));e.overviewRulerRangeHighlight=(0,k.registerColor)("editorOverviewRuler.rangeHighlightForeground",{dark:_,light:_,hc:_},v.localize(24,null),!0),e.overviewRulerError=(0,k.registerColor)("editorOverviewRuler.errorForeground",{dark:new I.Color(new I.RGBA(255,18,18,.7)),light:new I.Color(new I.RGBA(255,18,18,.7)),hc:new I.Color(new I.RGBA(255,50,50,1))},v.localize(25,null)),e.overviewRulerWarning=(0,k.registerColor)("editorOverviewRuler.warningForeground",{dark:k.editorWarningForeground,light:k.editorWarningForeground,hc:k.editorWarningBorder},v.localize(26,null)),e.overviewRulerInfo=(0,k.registerColor)("editorOverviewRuler.infoForeground",{dark:k.editorInfoForeground,light:k.editorInfoForeground,hc:k.editorInfoBorder},v.localize(27,null)),(0,w.registerThemingParticipant)((C,i)=>{const p=C.getColor(k.editorBackground);p&&i.addRule(`.monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: ${p}; }`);const u=C.getColor(k.editorForeground);u&&i.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${u}; }`);const a=C.getColor(e.editorGutter);a&&i.addRule(`.monaco-editor .margin { background-color: ${a}; }`);const l=C.getColor(e.editorRangeHighlight);l&&i.addRule(`.monaco-editor .rangeHighlight { background-color: ${l}; }`);const c=C.getColor(e.editorRangeHighlightBorder);c&&i.addRule(`.monaco-editor .rangeHighlight { border: 1px ${C.type==="hc"?"dotted":"solid"} ${c}; }`);const d=C.getColor(e.editorSymbolHighlight);d&&i.addRule(`.monaco-editor .symbolHighlight { background-color: ${d}; }`);const r=C.getColor(e.editorSymbolHighlightBorder);r&&i.addRule(`.monaco-editor .symbolHighlight { border: 1px ${C.type==="hc"?"dotted":"solid"} ${r}; }`);const n=C.getColor(e.editorWhitespaces);n&&(i.addRule(`.monaco-editor .mtkw { color: ${n} !important; }`),i.addRule(`.monaco-editor .mtkz { color: ${n} !important; }`))})}),define(J[591],ee([0,1,94,49,19,12,21,319]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CurrentLineMarginHighlightOverlay=e.CurrentLineHighlightOverlay=e.AbstractLineHighlightOverlay=void 0;let _=!0;class C extends v.DynamicViewOverlay{constructor(a){super();this._context=a;const l=this._context.configuration.options,c=l.get(127);this._lineHeight=l.get(55),this._renderLineHighlight=l.get(82),this._renderLineHighlightOnlyWhenFocus=l.get(83),this._contentLeft=c.contentLeft,this._contentWidth=c.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new S.Selection(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let a=!1;const l=_?this._selections.slice(0,1):this._selections,c=l.map(r=>r.positionLineNumber);c.sort((r,n)=>r-n),k.equals(this._cursorLineNumbers,c)||(this._cursorLineNumbers=c,a=!0);const d=l.every(r=>r.isEmpty());return this._selectionIsEmpty!==d&&(this._selectionIsEmpty=d,a=!0),a}onThemeChanged(a){return this._readFromSelections()}onConfigurationChanged(a){const l=this._context.configuration.options,c=l.get(127);return this._lineHeight=l.get(55),this._renderLineHighlight=l.get(82),this._renderLineHighlightOnlyWhenFocus=l.get(83),this._contentLeft=c.contentLeft,this._contentWidth=c.contentWidth,!0}onCursorStateChanged(a){return this._selections=a.selections,this._readFromSelections()}onFlushed(a){return!0}onLinesDeleted(a){return!0}onLinesInserted(a){return!0}onScrollChanged(a){return a.scrollWidthChanged||a.scrollTopChanged}onZonesChanged(a){return!0}onFocusChanged(a){return this._renderLineHighlightOnlyWhenFocus?(this._focused=a.isFocused,!0):!1}prepareRender(a){if(!this._shouldRenderThis()){this._renderData=null;return}const l=this._renderOne(a),c=a.visibleRange.startLineNumber,d=a.visibleRange.endLineNumber,r=this._cursorLineNumbers.length;let n=0;const s=[];for(let t=c;t<=d;t++){const o=t-c;for(;n<r&&this._cursorLineNumbers[n]<t;)n++;n<r&&this._cursorLineNumbers[n]===t?s[o]=l:s[o]=""}this._renderData=s}render(a,l){if(!this._renderData)return"";const c=l-a;return c>=this._renderData.length?"":this._renderData[c]}}e.AbstractLineHighlightOverlay=C;class i extends C{_renderOne(a){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(a.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderOther(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}e.CurrentLineHighlightOverlay=i;class p extends C{_renderOne(a){return`<div class="${"current-line"+(this._shouldRenderMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderThis(){return!0}_shouldRenderOther(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}e.CurrentLineMarginHighlightOverlay=p,(0,w.registerThemingParticipant)((u,a)=>{_=!1;const l=u.getColor(I.editorLineHighlight);if(l&&(a.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${l}; }`),a.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${l}; border: none; }`)),!l||l.isTransparent()||u.defines(I.editorLineHighlightBorder)){const c=u.getColor(I.editorLineHighlightBorder);c&&(_=!0,a.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${c}; }`),a.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${c}; }`),u.type==="hc"&&(a.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),a.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}})}),define(J[592],ee([0,1,94,14,49,12,322]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentGuidesOverlay=void 0;class S extends v.DynamicViewOverlay{constructor(C){super();this._context=C,this._primaryLineNumber=0;const i=this._context.configuration.options,p=i.get(128),u=i.get(40);this._lineHeight=i.get(55),this._spaceWidth=u.spaceWidth,this._enabled=i.get(80),this._activeIndentEnabled=i.get(49),this._maxIndentLeft=p.wrappingColumn===-1?-1:p.wrappingColumn*u.typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(C){const i=this._context.configuration.options,p=i.get(128),u=i.get(40);return this._lineHeight=i.get(55),this._spaceWidth=u.spaceWidth,this._enabled=i.get(80),this._activeIndentEnabled=i.get(49),this._maxIndentLeft=p.wrappingColumn===-1?-1:p.wrappingColumn*u.typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(C){const i=C.selections[0],p=i.isEmpty()?i.positionLineNumber:0;return this._primaryLineNumber!==p?(this._primaryLineNumber=p,!0):!1}onDecorationsChanged(C){return!0}onFlushed(C){return!0}onLinesChanged(C){return!0}onLinesDeleted(C){return!0}onLinesInserted(C){return!0}onScrollChanged(C){return C.scrollTopChanged}onZonesChanged(C){return!0}onLanguageConfigurationChanged(C){return!0}prepareRender(C){if(!this._enabled){this._renderResult=null;return}const i=C.visibleRange.startLineNumber,p=C.visibleRange.endLineNumber,{indentSize:u}=this._context.model.getTextModelOptions(),a=u*this._spaceWidth,l=C.scrollWidth,c=this._lineHeight,d=this._context.model.getLinesIndentGuides(i,p);let r=0,n=0,s=0;if(this._activeIndentEnabled&&this._primaryLineNumber){const o=this._context.model.getActiveIndentGuide(this._primaryLineNumber,i,p);r=o.startLineNumber,n=o.endLineNumber,s=o.indent}const t=[];for(let o=i;o<=p;o++){const h=r<=o&&o<=n,g=o-i,m=d[g];let f="";if(m>=1){const b=C.visibleRangeForPosition(new I.Position(o,1));let y=b?b.left:0;for(let L=1;L<=m&&(f+=`<div class="${h&&L===s?"cigra":"cigr"}" style="left:${y}px;height:${c}px;width:${a}px"></div>`,y+=a,!(y>l||this._maxIndentLeft>0&&y>this._maxIndentLeft));L++);}t[g]=f}this._renderResult=t}render(C,i){if(!this._renderResult)return"";const p=i-C;return p<0||p>=this._renderResult.length?"":this._renderResult[p]}}e.IndentGuidesOverlay=S,(0,w.registerThemingParticipant)((_,C)=>{const i=_.getColor(k.editorIndentGuides);i&&C.addRule(`.monaco-editor .lines-content .cigr { box-shadow: 1px 0 0 0 ${i} inset; }`);const p=_.getColor(k.editorActiveIndentGuides)||i;p&&C.addRule(`.monaco-editor .lines-content .cigra { box-shadow: 1px 0 0 0 ${p} inset; }`)})}),define(J[257],ee([0,1,17,94,14,49,12,323]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineNumbersOverlay=void 0;class _ extends I.DynamicViewOverlay{constructor(i){super();this._context=i,this._readConfig(),this._lastCursorModelPosition=new k.Position(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const i=this._context.configuration.options;this._lineHeight=i.get(55);const p=i.get(56);this._renderLineNumbers=p.renderType,this._renderCustomLineNumbers=p.renderFn,this._renderFinalNewline=i.get(81);const u=i.get(127);this._lineNumbersLeft=u.lineNumbersLeft,this._lineNumbersWidth=u.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){return this._readConfig(),!0}onCursorStateChanged(i){const p=i.selections[0].getPosition();this._lastCursorModelPosition=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(p);let u=!1;return this._activeLineNumber!==p.lineNumber&&(this._activeLineNumber=p.lineNumber,u=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(u=!0),u}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}_getLineRenderLineNumber(i){const p=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new k.Position(i,1));if(p.column!==1)return"";const u=p.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(u);if(this._renderLineNumbers===2){const a=Math.abs(this._lastCursorModelPosition.lineNumber-u);return a===0?'<span class="relative-current-line-number">'+u+"</span>":String(a)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===u||u%10==0?String(u):"":String(u)}prepareRender(i){if(this._renderLineNumbers===0){this._renderResult=null;return}const p=v.isLinux?this._lineHeight%2==0?" lh-even":" lh-odd":"",u=i.visibleRange.startLineNumber,a=i.visibleRange.endLineNumber,l='<div class="'+_.CLASS_NAME+p+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">',c=this._context.model.getLineCount(),d=[];for(let r=u;r<=a;r++){const n=r-u;if(!this._renderFinalNewline&&r===c&&this._context.model.getLineLength(r)===0){d[n]="";continue}const s=this._getLineRenderLineNumber(r);s?r===this._activeLineNumber?d[n]='<div class="active-line-number '+_.CLASS_NAME+p+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+s+"</div>":d[n]=l+s+"</div>":d[n]=""}this._renderResult=d}render(i,p){if(!this._renderResult)return"";const u=p-i;return u<0||u>=this._renderResult.length?"":this._renderResult[u]}}e.LineNumbersOverlay=_,_.CLASS_NAME="line-numbers",(0,S.registerThemingParticipant)((C,i)=>{const p=C.getColor(w.editorLineNumbers);p&&i.addRule(`.monaco-editor .line-numbers { color: ${p}; }`);const u=C.getColor(w.editorActiveLineNumber);u&&i.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${u}; }`)})}),define(J[593],ee([0,1,446,35,30,17,8,70,164,215,46,257,224,38,106,14,3,21,125,318]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaHandler=void 0;class t{constructor(y,L,N){this.top=y,this.left=L,this.width=N}setWidth(y){return new t(this.top,this.left,y)}}const o=I.isFirefox;class h extends p.ViewPart{constructor(y,L,N){super(y);this._primaryCursorPosition=new d.Position(1,1),this._primaryCursorVisibleRange=null,this._viewController=L,this._viewHelper=N,this._scrollLeft=0,this._scrollTop=0;const M=this._context.configuration.options,D=M.get(127);this._setAccessibilityOptions(M),this._contentLeft=D.contentLeft,this._contentWidth=D.contentWidth,this._contentHeight=D.height,this._fontInfo=M.get(40),this._lineHeight=M.get(55),this._emptySelectionClipboard=M.get(30),this._copyWithSyntaxHighlighting=M.get(19),this._visibleTextArea=null,this._selections=[new n.Selection(1,1,1,1)],this._modelSelections=[new n.Selection(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,k.createFastDomNode)(document.createElement("textarea")),p.PartFingerprints.write(this.textArea,6),this.textArea.setClassName(`inputarea ${s.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(M)),this.textArea.setAttribute("tabindex",String(M.get(109))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",v.localize(0,null)),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),M.get(28)&&M.get(77)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=(0,k.createFastDomNode)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const R={getLineCount:()=>this._context.model.getLineCount(),getLineMaxColumn:O=>this._context.model.getLineMaxColumn(O),getValueInRange:(O,W)=>this._context.model.getValueInRange(O,W)},P={getDataToCopy:O=>{const W=this._context.model.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,w.isWindows),F=this._context.model.getEOL(),E=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),A=Array.isArray(W)?W:null,B=Array.isArray(W)?W.join(F):W;let H,K=null;if(O&&(C.CopyOptions.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&B.length<65536)){const q=this._context.model.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);q&&(H=q.html,K=q.mode)}return{isFromEmptySelection:E,multicursorText:A,text:B,html:H,mode:K}},getScreenReaderContent:O=>{if(this._accessibilitySupport===1){if(w.isMacintosh){const W=this._selections[0];if(W.isEmpty()){const F=W.getStartPosition();let E=this._getWordBeforePosition(F);if(E.length===0&&(E=this._getCharacterBeforePosition(F)),E.length>0)return new i.TextAreaState(E,E.length,E.length,F,F)}}return i.TextAreaState.EMPTY}if(I.isAndroid){const W=this._selections[0];if(W.isEmpty()){const F=W.getStartPosition(),[E,A]=this._getAndroidWordAtPosition(F);if(E.length>0)return new i.TextAreaState(E,A,A,F,F)}return i.TextAreaState.EMPTY}return i.PagedScreenReaderStrategy.fromEditorSelection(O,R,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(O,W,F)=>this._context.model.deduceModelPositionRelativeToViewPosition(O,W,F)};this._textAreaInput=this._register(new C.TextAreaInput(P,this.textArea)),this._register(this._textAreaInput.onKeyDown(O=>{this._viewController.emitKeyDown(O)})),this._register(this._textAreaInput.onKeyUp(O=>{this._viewController.emitKeyUp(O)})),this._register(this._textAreaInput.onPaste(O=>{let W=!1,F=null,E=null;O.metadata&&(W=this._emptySelectionClipboard&&!!O.metadata.isFromEmptySelection,F=typeof O.metadata.multicursorText!="undefined"?O.metadata.multicursorText:null,E=O.metadata.mode),this._viewController.paste(O.text,W,F,E)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(O=>{O.replacePrevCharCnt||O.replaceNextCharCnt||O.positionDelta?(i._debugComposition&&console.log(` => compositionType: <<${O.text}>>, ${O.replacePrevCharCnt}, ${O.replaceNextCharCnt}, ${O.positionDelta}`),this._viewController.compositionType(O.text,O.replacePrevCharCnt,O.replaceNextCharCnt,O.positionDelta)):(i._debugComposition&&console.log(` => type: <<${O.text}>>`),this._viewController.type(O.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(O=>{this._viewController.setSelection(O)})),this._register(this._textAreaInput.onCompositionStart(O=>{const W=this._selections[0].startLineNumber,F=this._selections[0].startColumn+O.revealDeltaColumns;this._context.model.revealRange("keyboard",!0,new r.Range(W,F,W,F),0,1);const E=this._viewHelper.visibleRangeForPositionRelativeToEditor(W,F);E&&(this._visibleTextArea=new t(this._context.viewLayout.getVerticalOffsetForLineNumber(W),E.left,o?0:1),this._render()),this.textArea.setClassName(`inputarea ${s.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ime-input`),this._viewController.compositionStart(),this._context.model.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(O=>{!this._visibleTextArea||(this._visibleTextArea=this._visibleTextArea.setWidth(g(O.data,this._fontInfo)),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName(`inputarea ${s.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._viewController.compositionEnd(),this._context.model.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.model.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.model.setHasFocus(!1)}))}dispose(){super.dispose()}_getAndroidWordAtPosition(y){const L='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',N=this._context.model.getLineContent(y.lineNumber),M=(0,c.getMapForWordSeparators)(L);let D=!0,R=y.column,P=!0,O=y.column,W=0;for(;W<50&&(D||P);){if(D&&R<=1&&(D=!1),D){const F=N.charCodeAt(R-2);M.get(F)!==0?D=!1:R--}if(P&&O>N.length&&(P=!1),P){const F=N.charCodeAt(O-1);M.get(F)!==0?P=!1:O++}W++}return[N.substring(R-1,O-1),y.column-R]}_getWordBeforePosition(y){const L=this._context.model.getLineContent(y.lineNumber),N=(0,c.getMapForWordSeparators)(this._context.configuration.options.get(113));let M=y.column,D=0;for(;M>1;){const R=L.charCodeAt(M-2);if(N.get(R)!==0||D>50)return L.substring(M-1,y.column-1);D++,M--}return L.substring(0,y.column-1)}_getCharacterBeforePosition(y){if(y.column>1){const N=this._context.model.getLineContent(y.lineNumber).charAt(y.column-2);if(!S.isHighSurrogate(N.charCodeAt(0)))return N}return""}_getAriaLabel(y){return y.get(2)===1?v.localize(1,null,w.isLinux?"Shift+Alt+F1":"Alt+F1"):y.get(4)}_setAccessibilityOptions(y){this._accessibilitySupport=y.get(2);const L=y.get(3);this._accessibilitySupport===2&&L===l.EditorOptions.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=L}onConfigurationChanged(y){const L=this._context.configuration.options,N=L.get(127);return this._setAccessibilityOptions(L),this._contentLeft=N.contentLeft,this._contentWidth=N.contentWidth,this._contentHeight=N.height,this._fontInfo=L.get(40),this._lineHeight=L.get(55),this._emptySelectionClipboard=L.get(30),this._copyWithSyntaxHighlighting=L.get(19),this.textArea.setAttribute("aria-label",this._getAriaLabel(L)),this.textArea.setAttribute("tabindex",String(L.get(109))),(y.hasChanged(28)||y.hasChanged(77))&&(L.get(28)&&L.get(77)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),y.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(y){return this._selections=y.selections.slice(0),this._modelSelections=y.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(y){return!0}onFlushed(y){return!0}onLinesChanged(y){return!0}onLinesDeleted(y){return!0}onLinesInserted(y){return!0}onScrollChanged(y){return this._scrollLeft=y.scrollLeft,this._scrollTop=y.scrollTop,!0}onZonesChanged(y){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(y){y.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",y.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),y.role&&this.textArea.setAttribute("role",y.role)}prepareRender(y){this._primaryCursorPosition=new d.Position(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=y.visibleRangeForPosition(this._primaryCursorPosition)}render(y){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea){this._renderInsideEditor(null,this._visibleTextArea.top-this._scrollTop,this._contentLeft+this._visibleTextArea.left-this._scrollLeft,this._visibleTextArea.width,this._lineHeight);return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const y=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(y<this._contentLeft||y>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const L=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(L<0||L>this._contentHeight){this._renderAtTopLeft();return}if(w.isMacintosh){this._renderInsideEditor(this._primaryCursorPosition,L,y,o?0:1,this._lineHeight);return}this._renderInsideEditor(this._primaryCursorPosition,L,y,o?0:1,o?0:1)}_renderInsideEditor(y,L,N,M,D){this._lastRenderPosition=y;const R=this.textArea,P=this.textAreaCover;_.Configuration.applyFontInfo(R,this._fontInfo),R.setTop(L),R.setLeft(N),R.setWidth(M),R.setHeight(D),P.setTop(0),P.setLeft(0),P.setWidth(0),P.setHeight(0)}_renderAtTopLeft(){this._lastRenderPosition=null;const y=this.textArea,L=this.textAreaCover;if(_.Configuration.applyFontInfo(y,this._fontInfo),y.setTop(0),y.setLeft(0),L.setTop(0),L.setLeft(0),o){y.setWidth(0),y.setHeight(0),L.setWidth(0),L.setHeight(0);return}y.setWidth(1),y.setHeight(1),L.setWidth(1),L.setHeight(1);const N=this._context.configuration.options;N.get(46)?L.setClassName("monaco-editor-background textAreaCover "+a.Margin.OUTER_CLASS_NAME):N.get(56).renderType!==0?L.setClassName("monaco-editor-background textAreaCover "+u.LineNumbersOverlay.CLASS_NAME):L.setClassName("monaco-editor-background textAreaCover")}}e.TextAreaHandler=h;function g(b,y){const N=document.createElement("canvas").getContext("2d");N.font=m(y);const M=N.measureText(b);return I.isFirefox?M.width+2:M.width}function m(b){return f("normal",b.fontWeight,b.fontSize,b.lineHeight,b.fontFamily)}function f(b,y,L,N,M){return`${b} normal ${y} ${L}px / ${N}px ${M}`}}),define(J[594],ee([0,1,30,29,46,14,18,49]),function($,e,v,I,k,w,S,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverviewRuler=void 0;class C{constructor(u,a){const l=u.options;this.lineHeight=l.get(55),this.pixelRatio=l.get(125),this.overviewRulerLanes=l.get(70),this.renderBorder=l.get(69);const c=a.getColor(_.editorOverviewRulerBorder);this.borderColor=c?c.toString():null,this.hideCursor=l.get(48);const d=a.getColor(_.editorCursorForeground);this.cursorColor=d?d.transparent(.7).toString():null,this.themeType=a.type;const r=l.get(61),n=r.enabled,s=r.side,t=n?a.getColor(_.editorOverviewRulerBackground)||S.TokenizationRegistry.getDefaultBackground():null;t===null||s==="left"?this.backgroundColor=null:this.backgroundColor=I.Color.Format.CSS.formatHex(t);const h=l.get(127).overviewRuler;this.top=h.top,this.right=h.right,this.domWidth=h.width,this.domHeight=h.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[g,m]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=g,this.w=m}_initLanes(u,a,l){const c=a-u;if(l>=3){const d=Math.floor(c/3),r=Math.floor(c/3),n=c-d-r,s=u,t=s+d,o=s+d+n;return[[0,s,t,s,o,s,t,s],[0,d,n,d+n,r,d+n+r,n+r,d+n+r]]}else if(l===2){const d=Math.floor(c/2),r=c-d,n=u,s=n+d;return[[0,n,n,n,s,n,n,n],[0,d,d,d,r,d+r,d+r,d+r]]}else{const d=u,r=c;return[[0,d,d,d,d,d,d,d],[0,r,r,r,r,r,r,r]]}}equals(u){return this.lineHeight===u.lineHeight&&this.pixelRatio===u.pixelRatio&&this.overviewRulerLanes===u.overviewRulerLanes&&this.renderBorder===u.renderBorder&&this.borderColor===u.borderColor&&this.hideCursor===u.hideCursor&&this.cursorColor===u.cursorColor&&this.themeType===u.themeType&&this.backgroundColor===u.backgroundColor&&this.top===u.top&&this.right===u.right&&this.domWidth===u.domWidth&&this.domHeight===u.domHeight&&this.canvasWidth===u.canvasWidth&&this.canvasHeight===u.canvasHeight}}class i extends k.ViewPart{constructor(u){super(u);this._domNode=(0,v.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=S.TokenizationRegistry.onDidChange(a=>{a.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(u){const a=new C(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(a)?!1:(this._settings=a,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,u&&this._render(),!0)}onConfigurationChanged(u){return this._updateSettings(!1)}onCursorStateChanged(u){this._cursorPositions=[];for(let a=0,l=u.selections.length;a<l;a++)this._cursorPositions[a]=u.selections[a].getPosition();return this._cursorPositions.sort(w.Position.compare),!0}onDecorationsChanged(u){return!!u.affectsOverviewRuler}onFlushed(u){return!0}onScrollChanged(u){return u.scrollHeightChanged}onZonesChanged(u){return!0}onThemeChanged(u){return this._context.model.invalidateOverviewRulerColorCache(),this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(u){}render(u){this._render()}_render(){if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:"");return}const u=this._settings.canvasWidth,a=this._settings.canvasHeight,l=this._settings.lineHeight,c=this._context.viewLayout,d=this._context.viewLayout.getScrollHeight(),r=a/d,n=this._context.model.getAllOverviewRulerDecorations(this._context.theme),s=6*this._settings.pixelRatio|0,t=s/2|0,o=this._domNode.domNode.getContext("2d");this._settings.backgroundColor===null?o.clearRect(0,0,u,a):(o.fillStyle=this._settings.backgroundColor,o.fillRect(0,0,u,a));const h=this._settings.x,g=this._settings.w,m=Object.keys(n);m.sort();for(let f=0,b=m.length;f<b;f++){const y=m[f],L=n[y];o.fillStyle=y;let N=0,M=0,D=0;for(let R=0,P=L.length;R<P;R++){const O=L[3*R],W=L[3*R+1],F=L[3*R+2];let E=c.getVerticalOffsetForLineNumber(W)*r|0,A=(c.getVerticalOffsetForLineNumber(F)+l)*r|0;if(A-E<s){let H=(E+A)/2|0;H<t?H=t:H+t>a&&(H=a-t),E=H-t,A=H+t}E>D+1||O!==N?(R!==0&&o.fillRect(h[N],M,g[N],D-M),N=O,M=E,D=A):A>D&&(D=A)}o.fillRect(h[N],M,g[N],D-M)}if(!this._settings.hideCursor&&this._settings.cursorColor){const f=2*this._settings.pixelRatio|0,b=f/2|0,y=this._settings.x[7],L=this._settings.w[7];o.fillStyle=this._settings.cursorColor;let N=-100,M=-100;for(let D=0,R=this._cursorPositions.length;D<R;D++){const P=this._cursorPositions[D];let O=c.getVerticalOffsetForLineNumber(P.lineNumber)*r|0;O<b?O=b:O+b>a&&(O=a-b);const W=O-b,F=W+f;W>M+1?(D!==0&&o.fillRect(y,N,L,M-N),N=W,M=F):F>M&&(M=F)}o.fillRect(y,N,L,M-N)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(o.beginPath(),o.lineWidth=1,o.strokeStyle=this._settings.borderColor,o.moveTo(0,0),o.lineTo(0,a),o.stroke(),o.moveTo(0,0),o.lineTo(u,0),o.stroke())}}e.DecorationsOverviewRuler=i}),define(J[595],ee([0,1,30,46,49,12,329]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rulers=void 0;class S extends I.ViewPart{constructor(C){super(C);this.domNode=(0,v.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const i=this._context.configuration.options;this._rulers=i.get(88),this._typicalHalfwidthCharacterWidth=i.get(40).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(C){const i=this._context.configuration.options;return this._rulers=i.get(88),this._typicalHalfwidthCharacterWidth=i.get(40).typicalHalfwidthCharacterWidth,!0}onScrollChanged(C){return C.scrollHeightChanged}prepareRender(C){}_ensureRulersCount(){const C=this._renderedRulers.length,i=this._rulers.length;if(C!==i){if(C<i){const{tabSize:u}=this._context.model.getTextModelOptions(),a=u;let l=i-C;for(;l>0;){const c=(0,v.createFastDomNode)(document.createElement("div"));c.setClassName("view-ruler"),c.setWidth(a),this.domNode.appendChild(c),this._renderedRulers.push(c),l--}return}let p=C-i;for(;p>0;){const u=this._renderedRulers.pop();this.domNode.removeChild(u),p--}}}render(C){this._ensureRulersCount();for(let i=0,p=this._rulers.length;i<p;i++){const u=this._renderedRulers[i],a=this._rulers[i];u.setBoxShadow(a.color?`1px 0 0 0 ${a.color} inset`:""),u.setHeight(Math.min(C.scrollHeight,1e6)),u.setLeft(a.column*this._typicalHalfwidthCharacterWidth)}}}e.Rulers=S,(0,w.registerThemingParticipant)((_,C)=>{const i=_.getColor(k.editorRuler);i&&C.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${i} inset; }`)})}),define(J[596],ee([0,1,30,15,46,568,38,49,12,332]),function($,e,v,I,k,w,S,_,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursors=void 0;class i extends k.ViewPart{constructor(u){super(u);const a=this._context.configuration.options;this._readOnly=a.get(77),this._cursorBlinking=a.get(20),this._cursorStyle=a.get(22),this._cursorSmoothCaretAnimation=a.get(21),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new w.ViewCursor(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,v.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new I.TimeoutTimer,this._cursorFlatBlinkInterval=new I.IntervalTimer,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(u){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(u){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(u){const a=this._context.configuration.options;this._readOnly=a.get(77),this._cursorBlinking=a.get(20),this._cursorStyle=a.get(22),this._cursorSmoothCaretAnimation=a.get(21),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(u);for(let l=0,c=this._secondaryCursors.length;l<c;l++)this._secondaryCursors[l].onConfigurationChanged(u);return!0}_onCursorPositionChanged(u,a){if(this._primaryCursor.onCursorPositionChanged(u),this._updateBlinking(),this._secondaryCursors.length<a.length){const l=a.length-this._secondaryCursors.length;for(let c=0;c<l;c++){const d=new w.ViewCursor(this._context);this._domNode.domNode.insertBefore(d.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(d)}}else if(this._secondaryCursors.length>a.length){const l=this._secondaryCursors.length-a.length;for(let c=0;c<l;c++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let l=0;l<a.length;l++)this._secondaryCursors[l].onCursorPositionChanged(a[l])}onCursorStateChanged(u){const a=[];for(let c=0,d=u.selections.length;c<d;c++)a[c]=u.selections[c].getPosition();this._onCursorPositionChanged(a[0],a.slice(1));const l=u.selections[0].isEmpty();return this._selectionIsEmpty!==l&&(this._selectionIsEmpty=l,this._updateDomClassName()),!0}onDecorationsChanged(u){return!0}onFlushed(u){return!0}onFocusChanged(u){return this._editorHasFocus=u.isFocused,this._updateBlinking(),!1}onLinesChanged(u){return!0}onLinesDeleted(u){return!0}onLinesInserted(u){return!0}onScrollChanged(u){return!0}onTokensChanged(u){const a=l=>{for(let c=0,d=u.ranges.length;c<d;c++)if(u.ranges[c].fromLineNumber<=l.lineNumber&&l.lineNumber<=u.ranges[c].toLineNumber)return!0;return!1};if(a(this._primaryCursor.getPosition()))return!0;for(const l of this._secondaryCursors)if(a(l.getPosition()))return!0;return!1}onZonesChanged(u){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const u=this._getCursorBlinking(),a=u===0,l=u===5;a?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!a&&!l&&(u===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},i.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},i.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let u="cursors-layer";switch(this._selectionIsEmpty||(u+=" has-selection"),this._cursorStyle){case S.TextEditorCursorStyle.Line:u+=" cursor-line-style";break;case S.TextEditorCursorStyle.Block:u+=" cursor-block-style";break;case S.TextEditorCursorStyle.Underline:u+=" cursor-underline-style";break;case S.TextEditorCursorStyle.LineThin:u+=" cursor-line-thin-style";break;case S.TextEditorCursorStyle.BlockOutline:u+=" cursor-block-outline-style";break;case S.TextEditorCursorStyle.UnderlineThin:u+=" cursor-underline-thin-style";break;default:u+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:u+=" cursor-blink";break;case 2:u+=" cursor-smooth";break;case 3:u+=" cursor-phase";break;case 4:u+=" cursor-expand";break;case 5:u+=" cursor-solid";break;default:u+=" cursor-solid"}else u+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(u+=" cursor-smooth-caret-animation"),u}_show(){this._primaryCursor.show();for(let u=0,a=this._secondaryCursors.length;u<a;u++)this._secondaryCursors[u].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let u=0,a=this._secondaryCursors.length;u<a;u++)this._secondaryCursors[u].hide();this._isVisible=!1}prepareRender(u){this._primaryCursor.prepareRender(u);for(let a=0,l=this._secondaryCursors.length;a<l;a++)this._secondaryCursors[a].prepareRender(u)}render(u){let a=[],l=0;const c=this._primaryCursor.render(u);c&&(a[l++]=c);for(let d=0,r=this._secondaryCursors.length;d<r;d++){const n=this._secondaryCursors[d].render(u);n&&(a[l++]=n)}this._renderData=a}getLastRenderData(){return this._renderData}}e.ViewCursors=i,i.BLINK_INTERVAL=500,(0,C.registerThemingParticipant)((p,u)=>{const a=p.getColor(_.editorCursorForeground);if(a){let l=p.getColor(_.editorCursorBackground);l||(l=a.opposite()),u.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${a}; border-color: ${a}; color: ${l}; }`),p.type==="hc"&&u.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${l}; border-right: 1px solid ${l}; }`)}})}),define(J[597],ee([0,1,85,2,53,12,49,36,3,44,6,22]),function($,e,v,I,k,w,S,_,C,i,p,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsService=void 0;function a(d){return d.toString()}class l extends I.Disposable{constructor(r){super();this.model=r,this._markersData=new Map,this._register((0,I.toDisposable)(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(r,n){const s=[...this._markersData.keys()];this._markersData.clear();const t=this.model.deltaDecorations(s,n);for(let o=0;o<t.length;o++)this._markersData.set(t[o],r[o]);return s.length!==0||t.length!==0}getMarker(r){return this._markersData.get(r.id)}}let c=class extends I.Disposable{constructor(r,n){super();this._markerService=n,this._onDidChangeMarker=this._register(new p.Emitter),this._markerDecorations=new Map,r.getModels().forEach(s=>this._onModelAdded(s)),this._register(r.onModelAdded(this._onModelAdded,this)),this._register(r.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(r=>r.dispose()),this._markerDecorations.clear()}getMarker(r,n){const s=this._markerDecorations.get(a(r));return s&&s.getMarker(n)||null}_handleMarkerChange(r){r.forEach(n=>{const s=this._markerDecorations.get(a(n));s&&this._updateDecorations(s)})}_onModelAdded(r){const n=new l(r);this._markerDecorations.set(a(r.uri),n),this._updateDecorations(n)}_onModelRemoved(r){const n=this._markerDecorations.get(a(r.uri));n&&(n.dispose(),this._markerDecorations.delete(a(r.uri))),(r.uri.scheme===i.Schemas.inMemory||r.uri.scheme===i.Schemas.internal||r.uri.scheme===i.Schemas.vscode)&&this._markerService&&this._markerService.read({resource:r.uri}).map(s=>s.owner).forEach(s=>this._markerService.remove(s,[r.uri]))}_updateDecorations(r){const n=this._markerService.read({resource:r.model.uri,take:500});let s=n.map(t=>({range:this._createDecorationRange(r.model,t),options:this._createDecorationOption(t)}));r.update(n,s)&&this._onDidChangeMarker.fire(r.model)}_createDecorationRange(r,n){let s=C.Range.lift(n);if(n.severity===v.MarkerSeverity.Hint&&!this._hasMarkerTag(n,1)&&!this._hasMarkerTag(n,2)&&(s=s.setEndPosition(s.startLineNumber,s.startColumn+2)),s=r.validateRange(s),s.isEmpty()){let t=r.getWordAtPosition(s.getStartPosition());if(t)s=new C.Range(s.startLineNumber,t.startColumn,s.endLineNumber,t.endColumn);else{let o=r.getLineLastNonWhitespaceColumn(s.startLineNumber)||r.getLineMaxColumn(s.startLineNumber);o===1||(s.endColumn>=o?s=new C.Range(s.startLineNumber,o-1,s.endLineNumber,o):s=new C.Range(s.startLineNumber,s.startColumn,s.endLineNumber,s.endColumn+1))}}else if(n.endColumn===Number.MAX_VALUE&&n.startColumn===1&&s.startLineNumber===s.endLineNumber){let t=r.getLineFirstNonWhitespaceColumn(n.startLineNumber);t<s.endColumn&&(s=new C.Range(s.startLineNumber,t,s.endLineNumber,s.endColumn),n.startColumn=t)}return s}_createDecorationOption(r){let n,s,t,o,h;switch(r.severity){case v.MarkerSeverity.Hint:this._hasMarkerTag(r,2)?n=void 0:this._hasMarkerTag(r,1)?n="squiggly-unnecessary":n="squiggly-hint",t=0;break;case v.MarkerSeverity.Warning:n="squiggly-warning",s=(0,w.themeColorFromId)(S.overviewRulerWarning),t=20,h={color:(0,w.themeColorFromId)(u.minimapWarning),position:k.MinimapPosition.Inline};break;case v.MarkerSeverity.Info:n="squiggly-info",s=(0,w.themeColorFromId)(S.overviewRulerInfo),t=10;break;case v.MarkerSeverity.Error:default:n="squiggly-error",s=(0,w.themeColorFromId)(S.overviewRulerError),t=30,h={color:(0,w.themeColorFromId)(u.minimapError),position:k.MinimapPosition.Inline};break}return r.tags&&(r.tags.indexOf(1)!==-1&&(o="squiggly-inline-unnecessary"),r.tags.indexOf(2)!==-1&&(o="squiggly-inline-deprecated")),{stickiness:1,className:n,showIfCollapsed:!0,overviewRuler:{color:s,position:k.OverviewRulerLane.Right},minimap:h,zIndex:t,inlineClassName:o}}_hasMarkerTag(r,n){return r.tags?r.tags.indexOf(n)>=0:!1}};c=Me([pe(0,_.IModelService),pe(1,v.IMarkerService)],c),e.MarkerDecorationsService=c}),define(J[598],ee([0,1,7,90,6,2,31,468,37,12,22,60,27,338]),function($,e,v,I,k,w,S,_,C,i,p,u,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LightBulbWidget=void 0;var l;(function(d){d.Hidden={type:0};class r{constructor(s,t,o,h){this.actions=s,this.trigger=t,this.editorPosition=o,this.widgetPosition=h,this.type=1}}d.Showing=r})(l||(l={}));let c=class At extends w.Disposable{constructor(r,n,s,t){super();this._editor=r,this._quickFixActionId=n,this._preferredFixActionId=s,this._keybindingService=t,this._onClick=this._register(new k.Emitter),this.onClick=this._onClick.event,this._state=l.Hidden,this._domNode=document.createElement("div"),this._domNode.className=a.Codicon.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(o=>{const h=this._editor.getModel();(this.state.type!==1||!h||this.state.editorPosition.lineNumber>=h.getLineCount())&&this.hide()})),u.Gesture.ignoreTarget(this._domNode),this._register(v.addStandardDisposableGenericMouseDownListner(this._domNode,o=>{if(this.state.type===1){this._editor.focus(),o.preventDefault();const{top:h,height:g}=v.getDomNodePagePosition(this._domNode),m=this._editor.getOption(55);let f=Math.floor(m/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(f+=m),this._onClick.fire({x:o.posx,y:h+g+f,actions:this.state.actions,trigger:this.state.trigger})}})),this._register(v.addDisposableListener(this._domNode,"mouseenter",o=>{if((o.buttons&1)==1){this.hide();const h=new I.GlobalMouseMoveMonitor;h.startMonitoring(o.target,o.buttons,I.standardMouseMoveMerger,()=>{},()=>{h.dispose()})}})),this._register(this._editor.onDidChangeConfiguration(o=>{o.hasChanged(53)&&!this._editor.getOption(53).enabled&&this.hide()})),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(r,n,s){if(r.validActions.length<=0)return this.hide();const t=this._editor.getOptions();if(!t.get(53).enabled)return this.hide();const o=this._editor.getModel();if(!o)return this.hide();const{lineNumber:h,column:g}=o.validatePosition(s),m=o.getOptions().tabSize,f=t.get(40),b=o.getLineContent(h),y=S.TextModel.computeIndentLevel(b,m),L=f.spaceWidth*y>22,N=D=>D>2&&this._editor.getTopForLineNumber(D)===this._editor.getTopForLineNumber(D-1);let M=h;if(!L){if(h>1&&!N(h-1))M-=1;else if(!N(h+1))M+=1;else if(g*f.spaceWidth<22)return this.hide()}this.state=new l.Showing(r,n,s,{position:{lineNumber:M,column:1},preference:At._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=l.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(r){this._state=r,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this.state.type===1&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...a.Codicon.lightBulb.classNamesArray),this._domNode.classList.add(...a.Codicon.lightbulbAutofix.classNamesArray);const n=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(n){this.title=_.localize(0,null,n.getLabel());return}}this._domNode.classList.remove(...a.Codicon.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...a.Codicon.lightBulb.classNamesArray);const r=this._keybindingService.lookupKeybinding(this._quickFixActionId);r?this.title=_.localize(1,null,r.getLabel()):this.title=_.localize(2,null)}set title(r){this._domNode.title=r}};c._posPref=[0],c=Me([pe(3,C.IKeybindingService)],c),e.LightBulbWidget=c,(0,i.registerThemingParticipant)((d,r)=>{var n;const s=(n=d.getColor(p.editorBackground))===null||n===void 0?void 0:n.transparent(.7),t=d.getColor(p.editorLightBulbForeground);t&&r.addRule(`
		.monaco-editor .contentWidgets ${a.Codicon.lightBulb.cssSelector} {
			color: ${t};
			background-color: ${s};
		}`);const o=d.getColor(p.editorLightBulbAutoFixForeground);o&&r.addRule(`
		.monaco-editor .contentWidgets ${a.Codicon.lightbulbAutofix.cssSelector} {
			color: ${o};
			background-color: ${s};
		}`)})}),define(J[599],ee([0,1,7,3,31,49,22,12,103,339]),function($,e,v,I,k,w,S,_,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensWidget=e.CodeLensHelper=void 0;class i{constructor(c,d,r){this.afterLineNumber=c,this.heightInPx=d,this._onHeight=r,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(c){this._lastHeight===void 0?this._lastHeight=c:this._lastHeight!==c&&(this._lastHeight=c,this._onHeight())}}class p{constructor(c,d,r){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=c,this._id=`codelens.widget-${p._idPool++}`,this.updatePosition(r),this._domNode=document.createElement("span"),this._domNode.className=`codelens-decoration ${d}`}withCommands(c,d){this._commands.clear();let r=[],n=!1;for(let s=0;s<c.length;s++){const t=c[s];if(!!t&&(n=!0,t.command)){const o=(0,C.renderLabelWithIcons)(t.command.title.trim());t.command.id?(r.push(v.$("a",{id:String(s),title:t.command.tooltip},...o)),this._commands.set(String(s),t.command)):r.push(v.$("span",{title:t.command.tooltip},...o)),s+1<c.length&&r.push(v.$("span",void 0,"\xA0|\xA0"))}}n?(v.reset(this._domNode,...r),this._isEmpty&&d&&this._domNode.classList.add("fadein"),this._isEmpty=!1):v.reset(this._domNode,v.$("span",void 0,"no commands"))}getCommand(c){return c.parentElement===this._domNode?this._commands.get(c.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(c){const d=this._editor.getModel().getLineFirstNonWhitespaceColumn(c);this._widgetPosition={position:{lineNumber:c,column:d},preference:[1]}}getPosition(){return this._widgetPosition||null}}p._idPool=0;class u{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(c,d){this._addDecorations.push(c),this._addDecorationsCallbacks.push(d)}removeDecoration(c){this._removeDecorations.push(c)}commit(c){let d=c.deltaDecorations(this._removeDecorations,this._addDecorations);for(let r=0,n=d.length;r<n;r++)this._addDecorationsCallbacks[r](d[r])}}e.CodeLensHelper=u;class a{constructor(c,d,r,n,s,t,o){this._isDisposed=!1,this._editor=d,this._className=r,this._data=c,this._decorationIds=[];let h,g=[];this._data.forEach((m,f)=>{m.symbol.command&&g.push(m.symbol),n.addDecoration({range:m.symbol.range,options:k.ModelDecorationOptions.EMPTY},b=>this._decorationIds[f]=b),h?h=I.Range.plusRange(h,m.symbol.range):h=I.Range.lift(m.symbol.range)}),this._viewZone=new i(h.startLineNumber-1,t,o),this._viewZoneId=s.addZone(this._viewZone),g.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(g,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new p(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(c,d){this._decorationIds.forEach(c.removeDecoration,c),this._decorationIds=[],d&&d.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((c,d)=>{const r=this._editor.getModel().getDecorationRange(c),n=this._data[d].symbol;return!!(r&&I.Range.isEmpty(n.range)===r.isEmpty())})}updateCodeLensSymbols(c,d){this._decorationIds.forEach(d.removeDecoration,d),this._decorationIds=[],this._data=c,this._data.forEach((r,n)=>{d.addDecoration({range:r.symbol.range,options:k.ModelDecorationOptions.EMPTY},s=>this._decorationIds[n]=s)})}updateHeight(c,d){this._viewZone.heightInPx=c,d.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(c){if(!this._viewZone.domNode.hasAttribute("monaco-visible-view-zone"))return null;for(let d=0;d<this._decorationIds.length;d++){const r=c.getDecorationRange(this._decorationIds[d]);r&&(this._data[d].symbol.range=r)}return this._data}updateCommands(c){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(c,!0);for(let d=0;d<this._data.length;d++){const r=c[d];if(r){const{symbol:n}=this._data[d];n.command=r.command||n.command}}}getCommand(c){var d;return(d=this._contentWidget)===null||d===void 0?void 0:d.getCommand(c)}getLineNumber(){const c=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return c?c.startLineNumber:-1}update(c){if(this.isValid()){const d=this._editor.getModel().getDecorationRange(this._decorationIds[0]);d&&(this._viewZone.afterLineNumber=d.startLineNumber-1,c.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(d.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}getItems(){return this._data}}e.CodeLensWidget=a,(0,_.registerThemingParticipant)((l,c)=>{const d=l.getColor(w.editorCodeLensForeground);d&&(c.addRule(`.monaco-editor .codelens-decoration { color: ${d}; }`),c.addRule(`.monaco-editor .codelens-decoration .codicon { color: ${d}; }`));const r=l.getColor(S.editorActiveLinkForeground);r&&(c.addRule(`.monaco-editor .codelens-decoration > a:hover { color: ${r} !important; }`),c.addRule(`.monaco-editor .codelens-decoration > a:hover .codicon { color: ${r} !important; }`))})}),define(J[600],ee([0,1,35,7,90,52,29,6,2,22,12,340]),function($,e,v,I,k,w,S,_,C,i,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerWidget=e.ColorPickerBody=e.ColorPickerHeader=void 0;const u=I.$;class a extends C.Disposable{constructor(o,h,g){super();this.model=h,this.domNode=u(".colorpicker-header"),I.append(o,this.domNode),this.pickedColorNode=I.append(this.domNode,u(".picked-color"));const m=I.append(this.domNode,u(".original-color"));m.style.backgroundColor=S.Color.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=g.getColorTheme().getColor(i.editorHoverBackground)||S.Color.white,this._register((0,p.registerThemingParticipant)((f,b)=>{this.backgroundColor=f.getColor(i.editorHoverBackground)||S.Color.white})),this._register(I.addDisposableListener(this.pickedColorNode,I.EventType.CLICK,()=>this.model.selectNextColorPresentation())),this._register(I.addDisposableListener(m,I.EventType.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(h.onDidChangeColor(this.onDidChangeColor,this)),this._register(h.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=S.Color.Format.CSS.format(h.color)||"",this.pickedColorNode.classList.toggle("light",h.color.rgba.a<.5?this.backgroundColor.isLighter():h.color.isLighter())}onDidChangeColor(o){this.pickedColorNode.style.backgroundColor=S.Color.Format.CSS.format(o)||"",this.pickedColorNode.classList.toggle("light",o.rgba.a<.5?this.backgroundColor.isLighter():o.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:""}}e.ColorPickerHeader=a;class l extends C.Disposable{constructor(o,h,g){super();this.model=h,this.pixelRatio=g,this.domNode=u(".colorpicker-body"),I.append(o,this.domNode),this.saturationBox=new c(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new r(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new n(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:o,v:h}){const g=this.model.color.hsva;this.model.color=new S.Color(new S.HSVA(g.h,o,h,g.a))}onDidOpacityChange(o){const h=this.model.color.hsva;this.model.color=new S.Color(new S.HSVA(h.h,h.s,h.v,o))}onDidHueChange(o){const h=this.model.color.hsva,g=(1-o)*360;this.model.color=new S.Color(new S.HSVA(g===360?0:g,h.s,h.v,h.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}e.ColorPickerBody=l;class c extends C.Disposable{constructor(o,h,g){super();this.model=h,this.pixelRatio=g,this._onDidChange=new _.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new _.Emitter,this.onColorFlushed=this._onColorFlushed.event,this.domNode=u(".saturation-wrap"),I.append(o,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",I.append(this.domNode,this.canvas),this.selection=u(".saturation-selection"),I.append(this.domNode,this.selection),this.layout(),this._register(I.addDisposableGenericMouseDownListner(this.domNode,m=>this.onMouseDown(m))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onMouseDown(o){this.monitor=this._register(new k.GlobalMouseMoveMonitor);const h=I.getDomNodePagePosition(this.domNode);o.target!==this.selection&&this.onDidChangePosition(o.offsetX,o.offsetY),this.monitor.startMonitoring(o.target,o.buttons,k.standardMouseMoveMerger,m=>this.onDidChangePosition(m.posx-h.left,m.posy-h.top),()=>null);const g=I.addDisposableGenericMouseUpListner(document,()=>{this._onColorFlushed.fire(),g.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(o,h){const g=Math.max(0,Math.min(1,o/this.width)),m=Math.max(0,Math.min(1,1-h/this.height));this.paintSelection(g,m),this._onDidChange.fire({s:g,v:m})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const o=this.model.color.hsva;this.paintSelection(o.s,o.v)}paint(){const o=this.model.color.hsva,h=new S.Color(new S.HSVA(o.h,1,1,1)),g=this.canvas.getContext("2d"),m=g.createLinearGradient(0,0,this.canvas.width,0);m.addColorStop(0,"rgba(255, 255, 255, 1)"),m.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),m.addColorStop(1,"rgba(255, 255, 255, 0)");const f=g.createLinearGradient(0,0,0,this.canvas.height);f.addColorStop(0,"rgba(0, 0, 0, 0)"),f.addColorStop(1,"rgba(0, 0, 0, 1)"),g.rect(0,0,this.canvas.width,this.canvas.height),g.fillStyle=S.Color.Format.CSS.format(h),g.fill(),g.fillStyle=m,g.fill(),g.fillStyle=f,g.fill()}paintSelection(o,h){this.selection.style.left=`${o*this.width}px`,this.selection.style.top=`${this.height-h*this.height}px`}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class d extends C.Disposable{constructor(o,h){super();this.model=h,this._onDidChange=new _.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new _.Emitter,this.onColorFlushed=this._onColorFlushed.event,this.domNode=I.append(o,u(".strip")),this.overlay=I.append(this.domNode,u(".overlay")),this.slider=I.append(this.domNode,u(".slider")),this.slider.style.top="0px",this._register(I.addDisposableGenericMouseDownListner(this.domNode,g=>this.onMouseDown(g))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const o=this.getValue(this.model.color);this.updateSliderPosition(o)}onMouseDown(o){const h=this._register(new k.GlobalMouseMoveMonitor),g=I.getDomNodePagePosition(this.domNode);this.domNode.classList.add("grabbing"),o.target!==this.slider&&this.onDidChangeTop(o.offsetY),h.startMonitoring(o.target,o.buttons,k.standardMouseMoveMerger,f=>this.onDidChangeTop(f.posy-g.top),()=>null);const m=I.addDisposableGenericMouseUpListner(document,()=>{this._onColorFlushed.fire(),m.dispose(),h.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(o){const h=Math.max(0,Math.min(1,1-o/this.height));this.updateSliderPosition(h),this._onDidChange.fire(h)}updateSliderPosition(o){this.slider.style.top=`${(1-o)*this.height}px`}}class r extends d{constructor(o,h){super(o,h);this.domNode.classList.add("opacity-strip"),this._register(h.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(o){const{r:h,g,b:m}=o.rgba,f=new S.Color(new S.RGBA(h,g,m,1)),b=new S.Color(new S.RGBA(h,g,m,0));this.overlay.style.background=`linear-gradient(to bottom, ${f} 0%, ${b} 100%)`}getValue(o){return o.hsva.a}}class n extends d{constructor(o,h){super(o,h);this.domNode.classList.add("hue-strip")}getValue(o){return 1-o.hsva.h/360}}class s extends w.Widget{constructor(o,h,g,m){super();this.model=h,this.pixelRatio=g,this._register((0,v.onDidChangeZoomLevel)(()=>this.layout()));const f=u(".colorpicker-widget");o.appendChild(f);const b=new a(f,this.model,m);this.body=new l(f,this.model,this.pixelRatio),this._register(b),this._register(this.body)}layout(){this.body.layout()}}e.ColorPickerWidget=s}),define(J[601],ee([0,1,3,53,31,22,12]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindDecorations=void 0;class _{constructor(i){this._editor=i,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const i=this._findScopeDecorationIds.map(p=>this._editor.getModel().getDecorationRange(p)).filter(p=>!!p);if(i.length)return i}return null}getStartPosition(){return this._startPosition}setStartPosition(i){this._startPosition=i,this.setCurrentFindMatch(null)}_getDecorationIndex(i){const p=this._decorations.indexOf(i);return p>=0?p+1:1}getCurrentMatchesPosition(i){let p=this._editor.getModel().getDecorationsInRange(i);for(const u of p){const a=u.options;if(a===_._FIND_MATCH_DECORATION||a===_._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(u.id)}return 0}setCurrentFindMatch(i){let p=null,u=0;if(i)for(let a=0,l=this._decorations.length;a<l;a++){let c=this._editor.getModel().getDecorationRange(this._decorations[a]);if(i.equalsRange(c)){p=this._decorations[a],u=a+1;break}}return(this._highlightedDecorationId!==null||p!==null)&&this._editor.changeDecorations(a=>{if(this._highlightedDecorationId!==null&&(a.changeDecorationOptions(this._highlightedDecorationId,_._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),p!==null&&(this._highlightedDecorationId=p,a.changeDecorationOptions(this._highlightedDecorationId,_._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(a.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),p!==null){let l=this._editor.getModel().getDecorationRange(p);if(l.startLineNumber!==l.endLineNumber&&l.endColumn===1){let c=l.endLineNumber-1,d=this._editor.getModel().getLineMaxColumn(c);l=new v.Range(l.startLineNumber,l.startColumn,c,d)}this._rangeHighlightDecorationId=a.addDecoration(l,_._RANGE_HIGHLIGHT_DECORATION)}}),u}set(i,p){this._editor.changeDecorations(u=>{let a=_._FIND_MATCH_DECORATION,l=[];if(i.length>1e3){a=_._FIND_MATCH_NO_OVERVIEW_DECORATION;const d=this._editor.getModel().getLineCount(),n=this._editor.getLayoutInfo().height/d,s=Math.max(2,Math.ceil(3/n));let t=i[0].range.startLineNumber,o=i[0].range.endLineNumber;for(let h=1,g=i.length;h<g;h++){const m=i[h].range;o+s>=m.startLineNumber?m.endLineNumber>o&&(o=m.endLineNumber):(l.push({range:new v.Range(t,1,o,1),options:_._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),t=m.startLineNumber,o=m.endLineNumber)}l.push({range:new v.Range(t,1,o,1),options:_._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}let c=new Array(i.length);for(let d=0,r=i.length;d<r;d++)c[d]={range:i[d].range,options:a};this._decorations=u.deltaDecorations(this._decorations,c),this._overviewRulerApproximateDecorations=u.deltaDecorations(this._overviewRulerApproximateDecorations,l),this._rangeHighlightDecorationId&&(u.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(d=>u.removeDecoration(d)),this._findScopeDecorationIds=[]),(p==null?void 0:p.length)&&(this._findScopeDecorationIds=p.map(d=>u.addDecoration(d,_._FIND_SCOPE_DECORATION)))})}matchBeforePosition(i){if(this._decorations.length===0)return null;for(let p=this._decorations.length-1;p>=0;p--){let u=this._decorations[p],a=this._editor.getModel().getDecorationRange(u);if(!(!a||a.endLineNumber>i.lineNumber)){if(a.endLineNumber<i.lineNumber)return a;if(!(a.endColumn>i.column))return a}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(i){if(this._decorations.length===0)return null;for(let p=0,u=this._decorations.length;p<u;p++){let a=this._decorations[p],l=this._editor.getModel().getDecorationRange(a);if(!(!l||l.startLineNumber<i.lineNumber)){if(l.startLineNumber>i.lineNumber)return l;if(!(l.startColumn<i.column))return l}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let i=[];return i=i.concat(this._decorations),i=i.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&i.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&i.push(this._rangeHighlightDecorationId),i}}e.FindDecorations=_,_._CURRENT_FIND_MATCH_DECORATION=k.ModelDecorationOptions.register({stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,S.themeColorFromId)(w.overviewRulerFindMatchForeground),position:I.OverviewRulerLane.Center},minimap:{color:(0,S.themeColorFromId)(w.minimapFindMatch),position:I.MinimapPosition.Inline}}),_._FIND_MATCH_DECORATION=k.ModelDecorationOptions.register({stickiness:1,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,S.themeColorFromId)(w.overviewRulerFindMatchForeground),position:I.OverviewRulerLane.Center},minimap:{color:(0,S.themeColorFromId)(w.minimapFindMatch),position:I.MinimapPosition.Inline}}),_._FIND_MATCH_NO_OVERVIEW_DECORATION=k.ModelDecorationOptions.register({stickiness:1,className:"findMatch",showIfCollapsed:!0}),_._FIND_MATCH_ONLY_OVERVIEW_DECORATION=k.ModelDecorationOptions.register({stickiness:1,overviewRuler:{color:(0,S.themeColorFromId)(w.overviewRulerFindMatchForeground),position:I.OverviewRulerLane.Center}}),_._RANGE_HIGHLIGHT_DECORATION=k.ModelDecorationOptions.register({stickiness:1,className:"rangeHighlight",isWholeLine:!0}),_._FIND_SCOPE_DECORATION=k.ModelDecorationOptions.register({className:"findScope",isWholeLine:!0})}),define(J[142],ee([0,1,15,2,92,14,3,21,166,601,404,405,16,19]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindModelBoundToEditorModel=e.MATCHES_LIMIT=e.FIND_IDS=e.TogglePreserveCaseKeybinding=e.ToggleSearchScopeKeybinding=e.ToggleRegexKeybinding=e.ToggleWholeWordKeybinding=e.ToggleCaseSensitiveKeybinding=e.CONTEXT_REPLACE_INPUT_FOCUSED=e.CONTEXT_FIND_INPUT_FOCUSED=e.CONTEXT_FIND_WIDGET_VISIBLE=void 0,e.CONTEXT_FIND_WIDGET_VISIBLE=new a.RawContextKey("findWidgetVisible",!1),e.CONTEXT_FIND_INPUT_FOCUSED=new a.RawContextKey("findInputFocussed",!1),e.CONTEXT_REPLACE_INPUT_FOCUSED=new a.RawContextKey("replaceInputFocussed",!1),e.ToggleCaseSensitiveKeybinding={primary:512|33,mac:{primary:2048|512|33}},e.ToggleWholeWordKeybinding={primary:512|53,mac:{primary:2048|512|53}},e.ToggleRegexKeybinding={primary:512|48,mac:{primary:2048|512|48}},e.ToggleSearchScopeKeybinding={primary:512|42,mac:{primary:2048|512|42}},e.TogglePreserveCaseKeybinding={primary:512|46,mac:{primary:2048|512|46}},e.FIND_IDS={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},e.MATCHES_LIMIT=19999;const c=240;class d{constructor(n,s){this._toDispose=new I.DisposableStore,this._editor=n,this._state=s,this._isDisposed=!1,this._startSearchingTimer=new v.TimeoutTimer,this._decorations=new i.FindDecorations(n),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new v.RunOnceScheduler(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(t=>{(t.reason===3||t.reason===5||t.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(t=>{this._ignoreModelContentChanged||(t.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(t=>this._onStateChanged(t))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,I.dispose)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(n){this._isDisposed||!this._editor.hasModel()||(n.searchString||n.isReplaceRevealed||n.isRegex||n.wholeWord||n.matchCase||n.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{n.searchScope?this.research(n.moveCursor,this._state.searchScope):this.research(n.moveCursor)},c)):n.searchScope?this.research(n.moveCursor,this._state.searchScope):this.research(n.moveCursor))}static _getSearchRange(n,s){return s||n.getFullModelRange()}research(n,s){let t=null;typeof s!="undefined"?s!==null&&(Array.isArray(s)?t=s:t=[s]):t=this._decorations.getFindScopes(),t!==null&&(t=t.map(m=>{if(m.startLineNumber!==m.endLineNumber){let f=m.endLineNumber;return m.endColumn===1&&(f=f-1),new S.Range(m.startLineNumber,1,f,this._editor.getModel().getLineMaxColumn(f))}return m}));let o=this._findMatches(t,!1,e.MATCHES_LIMIT);this._decorations.set(o,t);const h=this._editor.getSelection();let g=this._decorations.getCurrentMatchesPosition(h);if(g===0&&o.length>0){const m=(0,l.findFirstInSorted)(o.map(f=>f.range),f=>S.Range.compareRangesUsingStarts(f,h)>=0);g=m>0?m-1+1:g}this._state.changeMatchInfo(g,this._decorations.getCount(),void 0),n&&this._editor.getOption(33).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){let n=this._decorations.getFindScope();return n&&this._editor.revealRangeInCenterIfOutsideViewport(n,0),!0}return!1}_setCurrentFindMatch(n){let s=this._decorations.setCurrentFindMatch(n);this._state.changeMatchInfo(s,this._decorations.getCount(),n),this._editor.setSelection(n),this._editor.revealRangeInCenterIfOutsideViewport(n,0)}_prevSearchPosition(n){let s=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:t,column:o}=n,h=this._editor.getModel();return s||o===1?(t===1?t=h.getLineCount():t--,o=h.getLineMaxColumn(t)):o--,new w.Position(t,o)}_moveToPrevMatch(n,s=!1){if(!this._state.canNavigateBack()){const y=this._decorations.matchAfterPosition(n);y&&this._setCurrentFindMatch(y);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let y=this._decorations.matchBeforePosition(n);y&&y.isEmpty()&&y.getStartPosition().equals(n)&&(n=this._prevSearchPosition(n),y=this._decorations.matchBeforePosition(n)),y&&this._setCurrentFindMatch(y);return}if(!this._cannotFind()){let t=this._decorations.getFindScope(),o=d._getSearchRange(this._editor.getModel(),t);o.getEndPosition().isBefore(n)&&(n=o.getEndPosition()),n.isBefore(o.getStartPosition())&&(n=o.getEndPosition());let{lineNumber:h,column:g}=n,m=this._editor.getModel(),f=new w.Position(h,g),b=m.findPreviousMatch(this._state.searchString,f,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(113):null,!1);if(b&&b.range.isEmpty()&&b.range.getStartPosition().equals(f)&&(f=this._prevSearchPosition(f),b=m.findPreviousMatch(this._state.searchString,f,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(113):null,!1)),!!b){if(!s&&!o.containsRange(b.range))return this._moveToPrevMatch(b.range.getStartPosition(),!0);this._setCurrentFindMatch(b.range)}}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(n){let s=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:t,column:o}=n,h=this._editor.getModel();return s||o===h.getLineMaxColumn(t)?(t===h.getLineCount()?t=1:t++,o=1):o++,new w.Position(t,o)}_moveToNextMatch(n){if(!this._state.canNavigateForward()){const t=this._decorations.matchBeforePosition(n);t&&this._setCurrentFindMatch(t);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let t=this._decorations.matchAfterPosition(n);t&&t.isEmpty()&&t.getStartPosition().equals(n)&&(n=this._nextSearchPosition(n),t=this._decorations.matchAfterPosition(n)),t&&this._setCurrentFindMatch(t);return}let s=this._getNextMatch(n,!1,!0);s&&this._setCurrentFindMatch(s.range)}_getNextMatch(n,s,t,o=!1){if(this._cannotFind())return null;let h=this._decorations.getFindScope(),g=d._getSearchRange(this._editor.getModel(),h);g.getEndPosition().isBefore(n)&&(n=g.getStartPosition()),n.isBefore(g.getStartPosition())&&(n=g.getStartPosition());let{lineNumber:m,column:f}=n,b=this._editor.getModel(),y=new w.Position(m,f),L=b.findNextMatch(this._state.searchString,y,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(113):null,s);return t&&L&&L.range.isEmpty()&&L.range.getStartPosition().equals(y)&&(y=this._nextSearchPosition(y),L=b.findNextMatch(this._state.searchString,y,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(113):null,s)),L?!o&&!g.containsRange(L.range)?this._getNextMatch(L.range.getEndPosition(),s,t,!0):L:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?(0,u.parseReplaceString)(this._state.replaceString):u.ReplacePattern.fromStaticValue(this._state.replaceString)}replace(){if(!!this._hasMatches()){let n=this._getReplacePattern(),s=this._editor.getSelection(),t=this._getNextMatch(s.getStartPosition(),!0,!1);if(t)if(s.equalsRange(t.range)){let o=n.buildReplaceString(t.matches,this._state.preserveCase),h=new k.ReplaceCommand(s,o);this._executeEditorCommand("replace",h),this._decorations.setStartPosition(new w.Position(s.startLineNumber,s.startColumn+o.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(t.range)}}_findMatches(n,s,t){const o=(n||[null]).map(h=>d._getSearchRange(this._editor.getModel(),h));return this._editor.getModel().findMatches(this._state.searchString,o,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(113):null,s,t)}replaceAll(){if(!!this._hasMatches()){const n=this._decorations.getFindScopes();n===null&&this._state.matchesCount>=e.MATCHES_LIMIT?this._largeReplaceAll():this._regularReplaceAll(n),this.research(!1)}}_largeReplaceAll(){const s=new C.SearchParams(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(113):null).parseSearchRequest();if(!!s){let t=s.regex;if(!t.multiline){let L="mu";t.ignoreCase&&(L+="i"),t.global&&(L+="g"),t=new RegExp(t.source,L)}const o=this._editor.getModel(),h=o.getValue(1),g=o.getFullModelRange(),m=this._getReplacePattern();let f;const b=this._state.preserveCase;m.hasReplacementPatterns||b?f=h.replace(t,function(){return m.buildReplaceString(arguments,b)}):f=h.replace(t,m.buildReplaceString(null,b));let y=new k.ReplaceCommandThatPreservesSelection(g,f,this._editor.getSelection());this._executeEditorCommand("replaceAll",y)}}_regularReplaceAll(n){const s=this._getReplacePattern();let t=this._findMatches(n,s.hasReplacementPatterns||this._state.preserveCase,1073741824),o=[];for(let g=0,m=t.length;g<m;g++)o[g]=s.buildReplaceString(t[g].matches,this._state.preserveCase);let h=new p.ReplaceAllCommand(this._editor.getSelection(),t.map(g=>g.range),o);this._executeEditorCommand("replaceAll",h)}selectAllMatches(){if(!!this._hasMatches()){let n=this._decorations.getFindScopes(),t=this._findMatches(n,!1,1073741824).map(h=>new _.Selection(h.range.startLineNumber,h.range.startColumn,h.range.endLineNumber,h.range.endColumn)),o=this._editor.getSelection();for(let h=0,g=t.length;h<g;h++)if(t[h].equalsRange(o)){t=[o].concat(t.slice(0,h)).concat(t.slice(h+1));break}this._editor.setSelections(t)}}_executeEditorCommand(n,s){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(n,s),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}e.FindModelBoundToEditorModel=d}),define(J[602],ee([0,1,7,234,52,15,142,22,12]),function($,e,v,I,k,w,S,_,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindOptionsWidget=void 0;class i extends k.Widget{constructor(u,a,l,c){super();this._hideSoon=this._register(new w.RunOnceScheduler(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=u,this._state=a,this._keybindingService=l,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const d=c.getColorTheme().getColor(_.inputActiveOptionBorder),r=c.getColorTheme().getColor(_.inputActiveOptionForeground),n=c.getColorTheme().getColor(_.inputActiveOptionBackground);this.caseSensitive=this._register(new I.CaseSensitiveCheckbox({appendTitle:this._keybindingLabelFor(S.FIND_IDS.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,inputActiveOptionBorder:d,inputActiveOptionForeground:r,inputActiveOptionBackground:n})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new I.WholeWordsCheckbox({appendTitle:this._keybindingLabelFor(S.FIND_IDS.ToggleWholeWordCommand),isChecked:this._state.wholeWord,inputActiveOptionBorder:d,inputActiveOptionForeground:r,inputActiveOptionBackground:n})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new I.RegexCheckbox({appendTitle:this._keybindingLabelFor(S.FIND_IDS.ToggleRegexCommand),isChecked:this._state.isRegex,inputActiveOptionBorder:d,inputActiveOptionForeground:r,inputActiveOptionBackground:n})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(s=>{let t=!1;s.isRegex&&(this.regex.checked=this._state.isRegex,t=!0),s.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,t=!0),s.matchCase&&(this.caseSensitive.checked=this._state.matchCase,t=!0),!this._state.isRevealed&&t&&this._revealTemporarily()})),this._register(v.addDisposableNonBubblingMouseOutListener(this._domNode,s=>this._onMouseOut())),this._register(v.addDisposableListener(this._domNode,"mouseover",s=>this._onMouseOver())),this._applyTheme(c.getColorTheme()),this._register(c.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(u){let a=this._keybindingService.lookupKeybinding(u);return a?` (${a.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return i.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseOut(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){!this._isVisible||(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(u){let a={inputActiveOptionBorder:u.getColor(_.inputActiveOptionBorder),inputActiveOptionForeground:u.getColor(_.inputActiveOptionForeground),inputActiveOptionBackground:u.getColor(_.inputActiveOptionBackground)};this.caseSensitive.style(a),this.wholeWords.style(a),this.regex.style(a)}}e.FindOptionsWidget=i,i.ID="editor.contrib.findOptionsWidget",(0,C.registerThemingParticipant)((p,u)=>{const a=p.getColor(_.editorWidgetBackground);a&&u.addRule(`.monaco-editor .findOptionsWidget { background-color: ${a}; }`);const l=p.getColor(_.editorWidgetForeground);l&&u.addRule(`.monaco-editor .findOptionsWidget { color: ${l}; }`);const c=p.getColor(_.widgetShadow);c&&u.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${c}; }`);const d=p.getColor(_.contrastBorder);d&&u.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${d}; }`)})}),define(J[603],ee([0,1,6,2,3,142]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindReplaceState=void 0;function S(C,i){return C===1?!0:C===2?!1:i}class _ extends I.Disposable{constructor(){super();this._onFindReplaceStateChange=this._register(new v.Emitter),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return S(this._isRegexOverride,this._isRegex)}get wholeWord(){return S(this._wholeWordOverride,this._wholeWord)}get matchCase(){return S(this._matchCaseOverride,this._matchCase)}get preserveCase(){return S(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(i,p,u){let a={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},l=!1;p===0&&(i=0),i>p&&(i=p),this._matchesPosition!==i&&(this._matchesPosition=i,a.matchesPosition=!0,l=!0),this._matchesCount!==p&&(this._matchesCount=p,a.matchesCount=!0,l=!0),typeof u!="undefined"&&(k.Range.equalsRange(this._currentMatch,u)||(this._currentMatch=u,a.currentMatch=!0,l=!0)),l&&this._onFindReplaceStateChange.fire(a)}change(i,p,u=!0){var a;let l={moveCursor:p,updateHistory:u,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},c=!1;const d=this.isRegex,r=this.wholeWord,n=this.matchCase,s=this.preserveCase;typeof i.searchString!="undefined"&&this._searchString!==i.searchString&&(this._searchString=i.searchString,l.searchString=!0,c=!0),typeof i.replaceString!="undefined"&&this._replaceString!==i.replaceString&&(this._replaceString=i.replaceString,l.replaceString=!0,c=!0),typeof i.isRevealed!="undefined"&&this._isRevealed!==i.isRevealed&&(this._isRevealed=i.isRevealed,l.isRevealed=!0,c=!0),typeof i.isReplaceRevealed!="undefined"&&this._isReplaceRevealed!==i.isReplaceRevealed&&(this._isReplaceRevealed=i.isReplaceRevealed,l.isReplaceRevealed=!0,c=!0),typeof i.isRegex!="undefined"&&(this._isRegex=i.isRegex),typeof i.wholeWord!="undefined"&&(this._wholeWord=i.wholeWord),typeof i.matchCase!="undefined"&&(this._matchCase=i.matchCase),typeof i.preserveCase!="undefined"&&(this._preserveCase=i.preserveCase),typeof i.searchScope!="undefined"&&(((a=i.searchScope)===null||a===void 0?void 0:a.every(t=>{var o;return(o=this._searchScope)===null||o===void 0?void 0:o.some(h=>!k.Range.equalsRange(h,t))}))||(this._searchScope=i.searchScope,l.searchScope=!0,c=!0)),typeof i.loop!="undefined"&&this._loop!==i.loop&&(this._loop=i.loop,l.loop=!0,c=!0),this._isRegexOverride=typeof i.isRegexOverride!="undefined"?i.isRegexOverride:0,this._wholeWordOverride=typeof i.wholeWordOverride!="undefined"?i.wholeWordOverride:0,this._matchCaseOverride=typeof i.matchCaseOverride!="undefined"?i.matchCaseOverride:0,this._preserveCaseOverride=typeof i.preserveCaseOverride!="undefined"?i.preserveCaseOverride:0,d!==this.isRegex&&(c=!0,l.isRegex=!0),r!==this.wholeWord&&(c=!0,l.wholeWord=!0),n!==this.matchCase&&(c=!0,l.matchCase=!0),s!==this.preserveCase&&(c=!0,l.preserveCase=!0),c&&this._onFindReplaceStateChange.fire(l)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=w.MATCHES_LIMIT}}e.FindReplaceState=_}),define(J[604],ee([0,1,113,67,175,206,116,12,117,7,485,159,45,2,9,37,66,157]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityProvider=e.OneReferenceRenderer=e.FileReferencesRenderer=e.IdentityProvider=e.StringRepresentationProvider=e.Delegate=e.DataSource=void 0;let s=class{constructor(N){this._resolverService=N}hasChildren(N){return N instanceof v.ReferencesModel||N instanceof v.FileReferences}getChildren(N){if(N instanceof v.ReferencesModel)return N.groups;if(N instanceof v.FileReferences)return N.resolve(this._resolverService).then(M=>M.children);throw new Error("bad tree")}};s=Me([pe(0,I.ITextModelService)],s),e.DataSource=s;class t{getHeight(){return 23}getTemplateId(N){return N instanceof v.FileReferences?m.id:b.id}}e.Delegate=t;let o=class{constructor(N){this._keybindingService=N}getKeyboardNavigationLabel(N){var M;if(N instanceof v.OneReference){const D=(M=N.parent.getPreview(N))===null||M===void 0?void 0:M.preview(N.range);if(D)return D.value}return(0,a.basename)(N.uri)}};o=Me([pe(0,d.IKeybindingService)],o),e.StringRepresentationProvider=o;class h{getId(N){return N instanceof v.OneReference?N.id:N.uri}}e.IdentityProvider=h;let g=class extends l.Disposable{constructor(N,M,D){super();this._uriLabel=M;const R=document.createElement("div");R.classList.add("reference-file"),this.file=this._register(new k.IconLabel(R,{supportHighlights:!0})),this.badge=new w.CountBadge(i.append(R,i.$(".count"))),this._register((0,C.attachBadgeStyler)(this.badge,D)),N.appendChild(R)}set(N,M){let D=(0,a.dirname)(N.uri);this.file.setLabel((0,u.getBaseLabel)(N.uri),this._uriLabel.getUriLabel(D,{relative:!0}),{title:this._uriLabel.getUriLabel(N.uri),matches:M});const R=N.children.length;this.badge.setCount(R),R>1?this.badge.setTitleFormat((0,p.localize)(0,null,R)):this.badge.setTitleFormat((0,p.localize)(1,null,R))}};g=Me([pe(1,S.ILabelService),pe(2,_.IThemeService)],g);let m=class Ot{constructor(N){this._instantiationService=N,this.templateId=Ot.id}renderTemplate(N){return this._instantiationService.createInstance(g,N)}renderElement(N,M,D){D.set(N.element,(0,r.createMatches)(N.filterData))}disposeTemplate(N){N.dispose()}};m.id="FileReferencesRenderer",m=Me([pe(0,c.IInstantiationService)],m),e.FileReferencesRenderer=m;class f{constructor(N){this.label=new n.HighlightedLabel(N,!1)}set(N,M){var D;const R=(D=N.parent.getPreview(N))===null||D===void 0?void 0:D.preview(N.range);if(!R||!R.value)this.label.set(`${(0,a.basename)(N.uri)}:${N.range.startLineNumber+1}:${N.range.startColumn+1}`);else{const{value:P,highlight:O}=R;M&&!r.FuzzyScore.isDefault(M)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(P,(0,r.createMatches)(M))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(P,[O]))}}}class b{constructor(){this.templateId=b.id}renderTemplate(N){return new f(N)}renderElement(N,M,D){D.set(N.element,N.filterData)}disposeTemplate(){}}e.OneReferenceRenderer=b,b.id="OneReferenceRenderer";class y{getWidgetAriaLabel(){return(0,p.localize)(2,null)}getAriaLabel(N){return N.ariaMessage}}e.AccessibilityProvider=y}),define(J[258],ee([0,1,53,12,49,2,108,20,88]),function($,e,v,I,k,w,S,_,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorNavigationQuickAccessProvider=void 0;class i{constructor(u){this.options=u,this.rangeHighlightDecorationId=void 0}provide(u,a){var l;const c=new w.DisposableStore;u.canAcceptInBackground=!!((l=this.options)===null||l===void 0?void 0:l.canAcceptInBackground),u.matchOnLabel=u.matchOnDescription=u.matchOnDetail=u.sortByLabel=!1;const d=c.add(new w.MutableDisposable);return d.value=this.doProvide(u,a),c.add(this.onDidActiveTextEditorControlChange(()=>{d.value=void 0,d.value=this.doProvide(u,a)})),c}doProvide(u,a){const l=new w.DisposableStore,c=this.activeTextEditorControl;if(c&&this.canProvideWithTextEditor(c)){const d={editor:c},r=(0,S.getCodeEditor)(c);if(r){let n=(0,_.withNullAsUndefined)(c.saveViewState());l.add(r.onDidChangeCursorPosition(()=>{n=(0,_.withNullAsUndefined)(c.saveViewState())})),d.restoreViewState=()=>{n&&c===this.activeTextEditorControl&&c.restoreViewState(n)},l.add((0,C.once)(a.onCancellationRequested)(()=>{var s;return(s=d.restoreViewState)===null||s===void 0?void 0:s.call(d)}))}l.add((0,w.toDisposable)(()=>this.clearDecorations(c))),l.add(this.provideWithTextEditor(d,u,a))}else l.add(this.provideWithoutTextEditor(u,a));return l}canProvideWithTextEditor(u){return!0}gotoLocation({editor:u},a){u.setSelection(a.range),u.revealRangeInCenter(a.range,0),a.preserveFocus||u.focus()}getModel(u){var a;return(0,S.isDiffEditor)(u)?(a=u.getModel())===null||a===void 0?void 0:a.modified:u.getModel()}addDecorations(u,a){u.changeDecorations(l=>{const c=[];this.rangeHighlightDecorationId&&(c.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),c.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const d=[{range:a,options:{className:"rangeHighlight",isWholeLine:!0}},{range:a,options:{overviewRuler:{color:(0,I.themeColorFromId)(k.overviewRulerRangeHighlight),position:v.OverviewRulerLane.Full}}}],[r,n]=l.deltaDecorations(c,d);this.rangeHighlightDecorationId={rangeHighlightId:r,overviewRulerDecorationId:n}})}clearDecorations(u){const a=this.rangeHighlightDecorationId;a&&(u.changeDecorations(l=>{l.deltaDecorations([a.overviewRulerDecorationId,a.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}e.AbstractEditorNavigationQuickAccessProvider=i}),define(J[605],ee([0,1,502,2,258,108]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoLineQuickAccessProvider=void 0;class S extends k.AbstractEditorNavigationQuickAccessProvider{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(C){const i=(0,v.localize)(0,null);return C.items=[{label:i}],C.ariaLabel=i,I.Disposable.None}provideWithTextEditor(C,i,p){const u=C.editor,a=new I.DisposableStore;a.add(i.onDidAccept(d=>{const[r]=i.selectedItems;if(r){if(!this.isValidLineNumber(u,r.lineNumber))return;this.gotoLocation(C,{range:this.toRange(r.lineNumber,r.column),keyMods:i.keyMods,preserveFocus:d.inBackground}),d.inBackground||i.hide()}}));const l=()=>{const d=this.parsePosition(u,i.value.trim().substr(S.PREFIX.length)),r=this.getPickLabel(u,d.lineNumber,d.column);if(i.items=[{lineNumber:d.lineNumber,column:d.column,label:r}],i.ariaLabel=r,!this.isValidLineNumber(u,d.lineNumber)){this.clearDecorations(u);return}const n=this.toRange(d.lineNumber,d.column);u.revealRangeInCenter(n,0),this.addDecorations(u,n)};l(),a.add(i.onDidChangeValue(()=>l()));const c=(0,w.getCodeEditor)(u);return c&&c.getOptions().get(56).renderType===2&&(c.updateOptions({lineNumbers:"on"}),a.add((0,I.toDisposable)(()=>c.updateOptions({lineNumbers:"relative"})))),a}toRange(C=1,i=1){return{startLineNumber:C,startColumn:i,endLineNumber:C,endColumn:i}}parsePosition(C,i){const p=i.split(/,|:|#/).map(a=>parseInt(a,10)).filter(a=>!isNaN(a)),u=this.lineCount(C)+1;return{lineNumber:p[0]>0?p[0]:u+p[0],column:p[1]}}getPickLabel(C,i,p){if(this.isValidLineNumber(C,i))return this.isValidColumn(C,i,p)?(0,v.localize)(1,null,i,p):(0,v.localize)(2,null,i);const u=C.getPosition()||{lineNumber:1,column:1},a=this.lineCount(C);return a>1?(0,v.localize)(3,null,u.lineNumber,u.column,a):(0,v.localize)(4,null,u.lineNumber,u.column)}isValidLineNumber(C,i){return!i||typeof i!="number"?!1:i>0&&i<=this.lineCount(C)}isValidColumn(C,i,p){if(!p||typeof p!="number")return!1;const u=this.getModel(C);if(!u)return!1;const a={lineNumber:i,column:p};return u.validatePosition(a).equals(a)}lineCount(C){var i,p;return(p=(i=this.getModel(C))===null||i===void 0?void 0:i.getLineCount())!==null&&p!==void 0?p:0}}e.AbstractGotoLineQuickAccessProvider=S,S.PREFIX=":"}),define(J[606],ee([0,1,503,23,2,3,258,18,245,8,287,27]),function($,e,v,I,k,w,S,_,C,i,p,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoSymbolQuickAccessProvider=void 0;class a extends S.AbstractEditorNavigationQuickAccessProvider{constructor(r=Object.create(null)){super(r);this.options=r,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(r){return this.provideLabelPick(r,(0,v.localize)(0,null)),k.Disposable.None}provideWithTextEditor(r,n,s){const t=r.editor,o=this.getModel(t);return o?_.DocumentSymbolProviderRegistry.has(o)?this.doProvideWithEditorSymbols(r,o,n,s):this.doProvideWithoutEditorSymbols(r,o,n,s):k.Disposable.None}doProvideWithoutEditorSymbols(r,n,s,t){const o=new k.DisposableStore;return this.provideLabelPick(s,(0,v.localize)(1,null)),(()=>Ie(this,void 0,void 0,function*(){!(yield this.waitForLanguageSymbolRegistry(n,o))||t.isCancellationRequested||o.add(this.doProvideWithEditorSymbols(r,n,s,t))}))(),o}provideLabelPick(r,n){r.items=[{label:n,index:0,kind:14}],r.ariaLabel=n}waitForLanguageSymbolRegistry(r,n){return Ie(this,void 0,void 0,function*(){if(_.DocumentSymbolProviderRegistry.has(r))return!0;let s;const t=new Promise(h=>s=h),o=n.add(_.DocumentSymbolProviderRegistry.onDidChange(()=>{_.DocumentSymbolProviderRegistry.has(r)&&(o.dispose(),s(!0))}));return n.add((0,k.toDisposable)(()=>s(!1))),t})}doProvideWithEditorSymbols(r,n,s,t){const o=r.editor,h=new k.DisposableStore;h.add(s.onDidAccept(y=>{const[L]=s.selectedItems;L&&L.range&&(this.gotoLocation(r,{range:L.range.selection,keyMods:s.keyMods,preserveFocus:y.inBackground}),y.inBackground||s.hide())})),h.add(s.onDidTriggerItemButton(({item:y})=>{y&&y.range&&(this.gotoLocation(r,{range:y.range.selection,keyMods:s.keyMods,forceSideBySide:!0}),s.hide())}));const g=this.getDocumentSymbols(n,t);let m;const f=()=>Ie(this,void 0,void 0,function*(){m==null||m.dispose(!0),s.busy=!1,m=new I.CancellationTokenSource(t),s.busy=!0;try{const y=(0,p.prepareQuery)(s.value.substr(a.PREFIX.length).trim()),L=yield this.doGetSymbolPicks(g,y,void 0,m.token);if(t.isCancellationRequested)return;L.length>0?s.items=L:y.original.length>0?this.provideLabelPick(s,(0,v.localize)(2,null)):this.provideLabelPick(s,(0,v.localize)(3,null))}finally{t.isCancellationRequested||(s.busy=!1)}});h.add(s.onDidChangeValue(()=>f())),f();let b=!0;return h.add(s.onDidChangeActive(()=>{const[y]=s.activeItems;if(y&&y.range){if(b){b=!1;return}o.revealRangeInCenter(y.range.selection,0),this.addDecorations(o,y.range.decoration)}})),h}doGetSymbolPicks(r,n,s,t){return Ie(this,void 0,void 0,function*(){const o=yield r;if(t.isCancellationRequested)return[];const h=n.original.indexOf(a.SCOPE_PREFIX)===0,g=h?1:0;let m,f;n.values&&n.values.length>1?(m=(0,p.pieceToQuery)(n.values[0]),f=(0,p.pieceToQuery)(n.values.slice(1))):m=n;const b=[];for(let M=0;M<o.length;M++){const D=o[M],R=(0,i.trim)(D.name),P=`$(symbol-${_.SymbolKinds.toString(D.kind)||"property"}) ${R}`,O=P.length-R.length;let W=D.containerName;(s==null?void 0:s.extraContainerLabel)&&(W?W=`${s.extraContainerLabel} \u2022 ${W}`:W=s.extraContainerLabel);let F,E,A,B;if(n.original.length>g){let K=!1;if(m!==n&&([F,E]=(0,p.scoreFuzzy2)(P,Object.assign(Object.assign({},n),{values:void 0}),g,O),typeof F=="number"&&(K=!0)),typeof F!="number"&&([F,E]=(0,p.scoreFuzzy2)(P,m,g,O),typeof F!="number"))continue;if(!K&&f){if(W&&f.original.length>0&&([A,B]=(0,p.scoreFuzzy2)(W,f)),typeof A!="number")continue;typeof F=="number"&&(F+=A)}}const H=D.tags&&D.tags.indexOf(1)>=0;b.push({index:M,kind:D.kind,score:F,label:P,ariaLabel:R,description:W,highlights:H?void 0:{label:E,description:B},range:{selection:w.Range.collapseToStart(D.selectionRange),decoration:D.range},strikethrough:H,buttons:(()=>{var K,q;const Y=((K=this.options)===null||K===void 0?void 0:K.openSideBySideDirection)?(q=this.options)===null||q===void 0?void 0:q.openSideBySideDirection():void 0;if(!!Y)return[{iconClass:Y==="right"?u.Codicon.splitHorizontal.classNames:u.Codicon.splitVertical.classNames,tooltip:Y==="right"?(0,v.localize)(4,null):(0,v.localize)(5,null)}]})()})}const y=b.sort((M,D)=>h?this.compareByKindAndScore(M,D):this.compareByScore(M,D));let L=[];if(h){let M,D,R=0;function N(){D&&typeof M=="number"&&R>0&&(D.label=(0,i.format)(c[M]||l,R))}for(const P of y)M!==P.kind?(N(),M=P.kind,R=1,D={type:"separator"},L.push(D)):R++,L.push(P);N()}else y.length>0&&(L=[{label:(0,v.localize)(6,null,b.length),type:"separator"},...y]);return L})}compareByScore(r,n){if(typeof r.score!="number"&&typeof n.score=="number")return 1;if(typeof r.score=="number"&&typeof n.score!="number")return-1;if(typeof r.score=="number"&&typeof n.score=="number"){if(r.score>n.score)return-1;if(r.score<n.score)return 1}return r.index<n.index?-1:r.index>n.index?1:0}compareByKindAndScore(r,n){const s=c[r.kind]||l,t=c[n.kind]||l,o=s.localeCompare(t);return o===0?this.compareByScore(r,n):o}getDocumentSymbols(r,n){return Ie(this,void 0,void 0,function*(){const s=yield C.OutlineModel.create(r,n);return n.isCancellationRequested?[]:s.asListOfDocumentSymbols()})}}e.AbstractGotoSymbolQuickAccessProvider=a,a.PREFIX="@",a.SCOPE_PREFIX=":",a.PREFIX_BY_CATEGORY=`${a.PREFIX}${a.SCOPE_PREFIX}`;const l=(0,v.localize)(7,null),c={[5]:(0,v.localize)(8,null),[11]:(0,v.localize)(9,null),[8]:(0,v.localize)(10,null),[12]:(0,v.localize)(11,null),[4]:(0,v.localize)(12,null),[22]:(0,v.localize)(13,null),[23]:(0,v.localize)(14,null),[24]:(0,v.localize)(15,null),[10]:(0,v.localize)(16,null),[2]:(0,v.localize)(17,null),[3]:(0,v.localize)(18,null),[25]:(0,v.localize)(19,null),[1]:(0,v.localize)(20,null),[6]:(0,v.localize)(21,null),[9]:(0,v.localize)(22,null),[21]:(0,v.localize)(23,null),[14]:(0,v.localize)(24,null),[0]:(0,v.localize)(25,null),[17]:(0,v.localize)(26,null),[15]:(0,v.localize)(27,null),[16]:(0,v.localize)(28,null),[18]:(0,v.localize)(29,null),[19]:(0,v.localize)(30,null),[7]:(0,v.localize)(31,null),[13]:(0,v.localize)(32,null)}}),define(J[607],ee([0,1,2,14,505,16,22,12,37,351]),function($,e,v,I,k,w,S,_,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameInputField=e.CONTEXT_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_RENAME_INPUT_VISIBLE=new w.RawContextKey("renameInputVisible",!1,(0,k.localize)(0,null));let i=class{constructor(u,a,l,c,d){this._editor=u,this._acceptKeybindings=a,this._themeService=l,this._keybindingService=c,this._disposables=new v.DisposableStore,this.allowEditorOverflow=!0,this._visibleContextKey=e.CONTEXT_RENAME_INPUT_VISIBLE.bindTo(d),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(r=>{r.hasChanged(40)&&this._updateFont()})),this._disposables.add(l.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",(0,k.localize)(1,null)),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);const u=()=>{var a,l;const[c,d]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(c),this._label.innerText=(0,k.localize)(2,null,(a=this._keybindingService.lookupKeybinding(c))===null||a===void 0?void 0:a.getLabel(),(l=this._keybindingService.lookupKeybinding(d))===null||l===void 0?void 0:l.getLabel())};u(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(u)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(u){var a,l,c,d;if(!(!this._input||!this._domNode)){const r=u.getColor(S.widgetShadow);this._domNode.style.backgroundColor=String((a=u.getColor(S.editorWidgetBackground))!==null&&a!==void 0?a:""),this._domNode.style.boxShadow=r?` 0 0 8px 2px ${r}`:"",this._domNode.style.color=String((l=u.getColor(S.inputForeground))!==null&&l!==void 0?l:""),this._input.style.backgroundColor=String((c=u.getColor(S.inputBackground))!==null&&c!==void 0?c:"");const n=u.getColor(S.inputBorder);this._input.style.borderWidth=n?"1px":"0px",this._input.style.borderStyle=n?"solid":"none",this._input.style.borderColor=(d=n==null?void 0:n.toString())!==null&&d!==void 0?d:"none"}}_updateFont(){if(!(!this._input||!this._label)){const u=this._editor.getOption(40);this._input.style.fontFamily=u.fontFamily,this._input.style.fontWeight=u.fontWeight,this._input.style.fontSize=`${u.fontSize}px`,this._label.style.fontSize=`${u.fontSize*.8}px`}}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(u){u||this.cancelInput(!0)}acceptInput(u){this._currentAcceptInput&&this._currentAcceptInput(u)}cancelInput(u){this._currentCancelInput&&this._currentCancelInput(u)}getInput(u,a,l,c,d,r){this._domNode.classList.toggle("preview",d),this._position=new I.Position(u.startLineNumber,u.startColumn),this._input.value=a,this._input.setAttribute("selectionStart",l.toString()),this._input.setAttribute("selectionEnd",c.toString()),this._input.size=Math.max((u.endColumn-u.startColumn)*1.1,20);const n=new v.DisposableStore;return new Promise(s=>{this._currentCancelInput=t=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,s(t),!0),this._currentAcceptInput=t=>{if(this._input.value.trim().length===0||this._input.value===a){this.cancelInput(!0);return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,s({newName:this._input.value,wantsPreview:d&&t})},r.onCancellationRequested(()=>this.cancelInput(!0)),n.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!1))),this._show()}).finally(()=>{n.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};i=Me([pe(2,_.IThemeService),pe(3,C.IKeybindingService),pe(4,w.IContextKeyService)],i),e.RenameInputField=i}),define(J[259],ee([0,1,515,12,22,27]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SYMBOL_ICON_VARIABLE_FOREGROUND=e.SYMBOL_ICON_UNIT_FOREGROUND=e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=e.SYMBOL_ICON_TEXT_FOREGROUND=e.SYMBOL_ICON_STRUCT_FOREGROUND=e.SYMBOL_ICON_STRING_FOREGROUND=e.SYMBOL_ICON_SNIPPET_FOREGROUND=e.SYMBOL_ICON_REFERENCE_FOREGROUND=e.SYMBOL_ICON_PROPERTY_FOREGROUND=e.SYMBOL_ICON_PACKAGE_FOREGROUND=e.SYMBOL_ICON_OPERATOR_FOREGROUND=e.SYMBOL_ICON_OBJECT_FOREGROUND=e.SYMBOL_ICON_NUMBER_FOREGROUND=e.SYMBOL_ICON_NULL_FOREGROUND=e.SYMBOL_ICON_NAMESPACE_FOREGROUND=e.SYMBOL_ICON_MODULE_FOREGROUND=e.SYMBOL_ICON_METHOD_FOREGROUND=e.SYMBOL_ICON_KEYWORD_FOREGROUND=e.SYMBOL_ICON_KEY_FOREGROUND=e.SYMBOL_ICON_INTERFACE_FOREGROUND=e.SYMBOL_ICON_FUNCTION_FOREGROUND=e.SYMBOL_ICON_FOLDER_FOREGROUND=e.SYMBOL_ICON_FILE_FOREGROUND=e.SYMBOL_ICON_FIELD_FOREGROUND=e.SYMBOL_ICON_EVENT_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=e.SYMBOL_ICON_CONSTANT_FOREGROUND=e.SYMBOL_ICON_COLOR_FOREGROUND=e.SYMBOL_ICON_CLASS_FOREGROUND=e.SYMBOL_ICON_BOOLEAN_FOREGROUND=e.SYMBOL_ICON_ARRAY_FOREGROUND=void 0,e.SYMBOL_ICON_ARRAY_FOREGROUND=(0,k.registerColor)("symbolIcon.arrayForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},(0,v.localize)(0,null)),e.SYMBOL_ICON_BOOLEAN_FOREGROUND=(0,k.registerColor)("symbolIcon.booleanForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},(0,v.localize)(1,null)),e.SYMBOL_ICON_CLASS_FOREGROUND=(0,k.registerColor)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,v.localize)(2,null)),e.SYMBOL_ICON_COLOR_FOREGROUND=(0,k.registerColor)("symbolIcon.colorForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},(0,v.localize)(3,null)),e.SYMBOL_ICON_CONSTANT_FOREGROUND=(0,k.registerColor)("symbolIcon.constantForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},(0,v.localize)(4,null)),e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=(0,k.registerColor)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,v.localize)(5,null)),e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=(0,k.registerColor)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,v.localize)(6,null)),e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=(0,k.registerColor)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,v.localize)(7,null)),e.SYMBOL_ICON_EVENT_FOREGROUND=(0,k.registerColor)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,v.localize)(8,null)),e.SYMBOL_ICON_FIELD_FOREGROUND=(0,k.registerColor)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,v.localize)(9,null)),e.SYMBOL_ICON_FILE_FOREGROUND=(0,k.registerColor)("symbolIcon.fileForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},(0,v.localize)(10,null)),e.SYMBOL_ICON_FOLDER_FOREGROUND=(0,k.registerColor)("symbolIcon.folderForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},(0,v.localize)(11,null)),e.SYMBOL_ICON_FUNCTION_FOREGROUND=(0,k.registerColor)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,v.localize)(12,null)),e.SYMBOL_ICON_INTERFACE_FOREGROUND=(0,k.registerColor)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,v.localize)(13,null)),e.SYMBOL_ICON_KEY_FOREGROUND=(0,k.registerColor)("symbolIcon.keyForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},(0,v.localize)(14,null)),e.SYMBOL_ICON_KEYWORD_FOREGROUND=(0,k.registerColor)("symbolIcon.keywordForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},(0,v.localize)(15,null)),e.SYMBOL_ICON_METHOD_FOREGROUND=(0,k.registerColor)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,v.localize)(16,null)),e.SYMBOL_ICON_MODULE_FOREGROUND=(0,k.registerColor)("symbolIcon.moduleForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},(0,v.localize)(17,null)),e.SYMBOL_ICON_NAMESPACE_FOREGROUND=(0,k.registerColor)("symbolIcon.namespaceForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},(0,v.localize)(18,null)),e.SYMBOL_ICON_NULL_FOREGROUND=(0,k.registerColor)("symbolIcon.nullForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},(0,v.localize)(19,null)),e.SYMBOL_ICON_NUMBER_FOREGROUND=(0,k.registerColor)("symbolIcon.numberForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},(0,v.localize)(20,null)),e.SYMBOL_ICON_OBJECT_FOREGROUND=(0,k.registerColor)("symbolIcon.objectForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},(0,v.localize)(21,null)),e.SYMBOL_ICON_OPERATOR_FOREGROUND=(0,k.registerColor)("symbolIcon.operatorForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},(0,v.localize)(22,null)),e.SYMBOL_ICON_PACKAGE_FOREGROUND=(0,k.registerColor)("symbolIcon.packageForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},(0,v.localize)(23,null)),e.SYMBOL_ICON_PROPERTY_FOREGROUND=(0,k.registerColor)("symbolIcon.propertyForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},(0,v.localize)(24,null)),e.SYMBOL_ICON_REFERENCE_FOREGROUND=(0,k.registerColor)("symbolIcon.referenceForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},(0,v.localize)(25,null)),e.SYMBOL_ICON_SNIPPET_FOREGROUND=(0,k.registerColor)("symbolIcon.snippetForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},(0,v.localize)(26,null)),e.SYMBOL_ICON_STRING_FOREGROUND=(0,k.registerColor)("symbolIcon.stringForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},(0,v.localize)(27,null)),e.SYMBOL_ICON_STRUCT_FOREGROUND=(0,k.registerColor)("symbolIcon.structForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},(0,v.localize)(28,null)),e.SYMBOL_ICON_TEXT_FOREGROUND=(0,k.registerColor)("symbolIcon.textForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},(0,v.localize)(29,null)),e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=(0,k.registerColor)("symbolIcon.typeParameterForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},(0,v.localize)(30,null)),e.SYMBOL_ICON_UNIT_FOREGROUND=(0,k.registerColor)("symbolIcon.unitForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},(0,v.localize)(31,null)),e.SYMBOL_ICON_VARIABLE_FOREGROUND=(0,k.registerColor)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,v.localize)(32,null)),(0,I.registerThemingParticipant)((S,_)=>{const C=S.getColor(e.SYMBOL_ICON_ARRAY_FOREGROUND);C&&_.addRule(`${w.Codicon.symbolArray.cssSelector} { color: ${C}; }`);const i=S.getColor(e.SYMBOL_ICON_BOOLEAN_FOREGROUND);i&&_.addRule(`${w.Codicon.symbolBoolean.cssSelector} { color: ${i}; }`);const p=S.getColor(e.SYMBOL_ICON_CLASS_FOREGROUND);p&&_.addRule(`${w.Codicon.symbolClass.cssSelector} { color: ${p}; }`);const u=S.getColor(e.SYMBOL_ICON_METHOD_FOREGROUND);u&&_.addRule(`${w.Codicon.symbolMethod.cssSelector} { color: ${u}; }`);const a=S.getColor(e.SYMBOL_ICON_COLOR_FOREGROUND);a&&_.addRule(`${w.Codicon.symbolColor.cssSelector} { color: ${a}; }`);const l=S.getColor(e.SYMBOL_ICON_CONSTANT_FOREGROUND);l&&_.addRule(`${w.Codicon.symbolConstant.cssSelector} { color: ${l}; }`);const c=S.getColor(e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND);c&&_.addRule(`${w.Codicon.symbolConstructor.cssSelector} { color: ${c}; }`);const d=S.getColor(e.SYMBOL_ICON_ENUMERATOR_FOREGROUND);d&&_.addRule(`
			${w.Codicon.symbolValue.cssSelector},${w.Codicon.symbolEnum.cssSelector} { color: ${d}; }`);const r=S.getColor(e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND);r&&_.addRule(`${w.Codicon.symbolEnumMember.cssSelector} { color: ${r}; }`);const n=S.getColor(e.SYMBOL_ICON_EVENT_FOREGROUND);n&&_.addRule(`${w.Codicon.symbolEvent.cssSelector} { color: ${n}; }`);const s=S.getColor(e.SYMBOL_ICON_FIELD_FOREGROUND);s&&_.addRule(`${w.Codicon.symbolField.cssSelector} { color: ${s}; }`);const t=S.getColor(e.SYMBOL_ICON_FILE_FOREGROUND);t&&_.addRule(`${w.Codicon.symbolFile.cssSelector} { color: ${t}; }`);const o=S.getColor(e.SYMBOL_ICON_FOLDER_FOREGROUND);o&&_.addRule(`${w.Codicon.symbolFolder.cssSelector} { color: ${o}; }`);const h=S.getColor(e.SYMBOL_ICON_FUNCTION_FOREGROUND);h&&_.addRule(`${w.Codicon.symbolFunction.cssSelector} { color: ${h}; }`);const g=S.getColor(e.SYMBOL_ICON_INTERFACE_FOREGROUND);g&&_.addRule(`${w.Codicon.symbolInterface.cssSelector} { color: ${g}; }`);const m=S.getColor(e.SYMBOL_ICON_KEY_FOREGROUND);m&&_.addRule(`${w.Codicon.symbolKey.cssSelector} { color: ${m}; }`);const f=S.getColor(e.SYMBOL_ICON_KEYWORD_FOREGROUND);f&&_.addRule(`${w.Codicon.symbolKeyword.cssSelector} { color: ${f}; }`);const b=S.getColor(e.SYMBOL_ICON_MODULE_FOREGROUND);b&&_.addRule(`${w.Codicon.symbolModule.cssSelector} { color: ${b}; }`);const y=S.getColor(e.SYMBOL_ICON_NAMESPACE_FOREGROUND);y&&_.addRule(`${w.Codicon.symbolNamespace.cssSelector} { color: ${y}; }`);const L=S.getColor(e.SYMBOL_ICON_NULL_FOREGROUND);L&&_.addRule(`${w.Codicon.symbolNull.cssSelector} { color: ${L}; }`);const N=S.getColor(e.SYMBOL_ICON_NUMBER_FOREGROUND);N&&_.addRule(`${w.Codicon.symbolNumber.cssSelector} { color: ${N}; }`);const M=S.getColor(e.SYMBOL_ICON_OBJECT_FOREGROUND);M&&_.addRule(`${w.Codicon.symbolObject.cssSelector} { color: ${M}; }`);const D=S.getColor(e.SYMBOL_ICON_OPERATOR_FOREGROUND);D&&_.addRule(`${w.Codicon.symbolOperator.cssSelector} { color: ${D}; }`);const R=S.getColor(e.SYMBOL_ICON_PACKAGE_FOREGROUND);R&&_.addRule(`${w.Codicon.symbolPackage.cssSelector} { color: ${R}; }`);const P=S.getColor(e.SYMBOL_ICON_PROPERTY_FOREGROUND);P&&_.addRule(`${w.Codicon.symbolProperty.cssSelector} { color: ${P}; }`);const O=S.getColor(e.SYMBOL_ICON_REFERENCE_FOREGROUND);O&&_.addRule(`${w.Codicon.symbolReference.cssSelector} { color: ${O}; }`);const W=S.getColor(e.SYMBOL_ICON_SNIPPET_FOREGROUND);W&&_.addRule(`${w.Codicon.symbolSnippet.cssSelector} { color: ${W}; }`);const F=S.getColor(e.SYMBOL_ICON_STRING_FOREGROUND);F&&_.addRule(`${w.Codicon.symbolString.cssSelector} { color: ${F}; }`);const E=S.getColor(e.SYMBOL_ICON_STRUCT_FOREGROUND);E&&_.addRule(`${w.Codicon.symbolStruct.cssSelector} { color: ${E}; }`);const A=S.getColor(e.SYMBOL_ICON_TEXT_FOREGROUND);A&&_.addRule(`${w.Codicon.symbolText.cssSelector} { color: ${A}; }`);const B=S.getColor(e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND);B&&_.addRule(`${w.Codicon.symbolTypeParameter.cssSelector} { color: ${B}; }`);const H=S.getColor(e.SYMBOL_ICON_UNIT_FOREGROUND);H&&_.addRule(`${w.Codicon.symbolUnit.cssSelector} { color: ${H}; }`);const K=S.getColor(e.SYMBOL_ICON_VARIABLE_FOREGROUND);K&&_.addRule(`${w.Codicon.symbolVariable.cssSelector} { color: ${K}; }`)})}),define(J[260],ee([0,1,7,44,586,16,12]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneCodeEditorServiceImpl=void 0;let _=class extends k.CodeEditorServiceImpl{constructor(i,p,u){super(i,u);this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=p.createKey("editorIsOpen",!1),this._activeCodeEditor=null}_checkContextKey(){let i=!1;for(const p of this.listCodeEditors())if(!p.isSimpleWidget){i=!0;break}this._editorIsOpen.set(i)}setActiveCodeEditor(i){this._activeCodeEditor=i}getActiveCodeEditor(){return this._activeCodeEditor}openCodeEditor(i,p,u){return p?Promise.resolve(this.doOpenEditor(p,i)):Promise.resolve(null)}doOpenEditor(i,p){if(!this.findModel(i,p.resource)){if(p.resource){const l=p.resource.scheme;if(l===I.Schemas.http||l===I.Schemas.https)return(0,v.windowOpenNoOpener)(p.resource.toString()),i}return null}const a=p.options?p.options.selection:null;if(a)if(typeof a.endLineNumber=="number"&&typeof a.endColumn=="number")i.setSelection(a),i.revealRangeInCenter(a,1);else{const l={lineNumber:a.startLineNumber,column:a.startColumn};i.setPosition(l),i.revealPositionInCenter(l,1)}return i}findModel(i,p){const u=i.getModel();return u&&u.uri.toString()!==p.toString()?null:u}};_=Me([pe(1,w.IContextKeyService),pe(2,S.IThemeService)],_),e.StandaloneCodeEditorServiceImpl=_}),define(J[608],ee([0,1,49,22]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hc_black=e.vs_dark=e.vs=void 0,e.vs={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[I.editorBackground]:"#FFFFFE",[I.editorForeground]:"#000000",[I.editorInactiveSelection]:"#E5EBF1",[v.editorIndentGuides]:"#D3D3D3",[v.editorActiveIndentGuides]:"#939393",[I.editorSelectionHighlight]:"#ADD6FF4D"}},e.vs_dark={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[I.editorBackground]:"#1E1E1E",[I.editorForeground]:"#D4D4D4",[I.editorInactiveSelection]:"#3A3D41",[v.editorIndentGuides]:"#404040",[v.editorActiveIndentGuides]:"#707070",[I.editorSelectionHighlight]:"#ADD6FF26"}},e.hc_black={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[I.editorBackground]:"#000000",[I.editorForeground]:"#FFFFFF",[v.editorIndentGuides]:"#FFFFFF",[v.editorActiveIndentGuides]:"#FFFFFF"}}}),define(J[34],ee([0,1,48,9,16,26,2,6,12,54,72,27]),function($,e,v,I,k,w,S,_,C,i,p,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MenuItemAction=e.SubmenuItemAction=e.MenuRegistry=e.IMenuService=e.MenuId=e.isIMenuItem=void 0;function a(r){return r.command!==void 0}e.isIMenuItem=a;class l{constructor(n){this.id=l._idPool++,this._debugName=n}}e.MenuId=l,l._idPool=0,l.CommandPalette=new l("CommandPalette"),l.EditorContext=new l("EditorContext"),l.EditorContextCopy=new l("EditorContextCopy"),l.EditorContextPeek=new l("EditorContextPeek"),l.MenubarEditMenu=new l("MenubarEditMenu"),l.MenubarCopy=new l("MenubarCopy"),l.MenubarGoMenu=new l("MenubarGoMenu"),l.MenubarSelectionMenu=new l("MenubarSelectionMenu"),e.IMenuService=(0,I.createDecorator)("menuService"),e.MenuRegistry=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new _.Emitter,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:r=>r===l.CommandPalette}}addCommand(r){return this.addCommands(i.Iterable.single(r))}addCommands(r){for(const n of r)this._commands.set(n.id,n);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),(0,S.toDisposable)(()=>{let n=!1;for(const s of r)n=this._commands.delete(s.id)||n;n&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)})}getCommand(r){return this._commands.get(r)}getCommands(){const r=new Map;return this._commands.forEach((n,s)=>r.set(s,n)),r}appendMenuItem(r,n){return this.appendMenuItems(i.Iterable.single({id:r,item:n}))}appendMenuItems(r){const n=new Set,s=new p.LinkedList;for(const{id:t,item:o}of r){let h=this._menuItems.get(t);h||(h=new p.LinkedList,this._menuItems.set(t,h)),s.push(h.push(o)),n.add(t)}return this._onDidChangeMenu.fire(n),(0,S.toDisposable)(()=>{if(s.size>0){for(let t of s)t();this._onDidChangeMenu.fire(n),s.clear()}})}getMenuItems(r){let n;return this._menuItems.has(r)?n=[...this._menuItems.get(r)]:n=[],r===l.CommandPalette&&this._appendImplicitItems(n),n}_appendImplicitItems(r){const n=new Set;for(const s of r)a(s)&&(n.add(s.command.id),s.alt&&n.add(s.alt.id));this._commands.forEach((s,t)=>{n.has(t)||r.push({command:s})})}};class c extends v.SubmenuAction{constructor(n,s,t,o){super(`submenuitem.${n.submenu.id}`,typeof n.title=="string"?n.title:n.title.value,[],"submenu");this.item=n,this._menuService=s,this._contextKeyService=t,this._options=o}get actions(){const n=[],s=this._menuService.createMenu(this.item.submenu,this._contextKeyService),t=s.getActions(this._options);s.dispose();for(const[,o]of t)o.length>0&&(n.push(...o),n.push(new v.Separator));return n.length&&n.pop(),n}}e.SubmenuItemAction=c;let d=class Pt{constructor(n,s,t,o,h){var g;if(this._commandService=h,this.id=n.id,this.label=typeof n.title=="string"?n.title:n.title.value,this.tooltip=(g=n.tooltip)!==null&&g!==void 0?g:"",this.enabled=!n.precondition||o.contextMatchesRules(n.precondition),this.checked=!1,n.toggled){const m=n.toggled.condition?n.toggled:{condition:n.toggled};this.checked=o.contextMatchesRules(m.condition),this.checked&&m.tooltip&&(this.tooltip=typeof m.tooltip=="string"?m.tooltip:m.tooltip.value),m.title&&(this.label=typeof m.title=="string"?m.title:m.title.value)}this.item=n,this.alt=s?new Pt(s,void 0,t,o,h):void 0,this._options=t,C.ThemeIcon.isThemeIcon(n.icon)&&(this.class=u.CSSIcon.asClassName(n.icon))}dispose(){}run(...n){var s,t;let o=[];return((s=this._options)===null||s===void 0?void 0:s.arg)&&(o=[...o,this._options.arg]),((t=this._options)===null||t===void 0?void 0:t.shouldForwardArgs)&&(o=[...o,...n]),this._commandService.executeCommand(this.id,...o)}};d=Me([pe(3,k.IContextKeyService),pe(4,w.ICommandService)],d),e.MenuItemAction=d}),define(J[13],ee([0,1,448,24,28,14,36,67,34,26,16,86,33,87,20,69]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectAllCommand=e.RedoCommand=e.UndoCommand=e.EditorExtensionsRegistry=e.registerEditorContribution=e.registerInstantiatedEditorAction=e.registerMultiEditorAction=e.registerEditorAction=e.registerEditorCommand=e.registerModelCommand=e.registerModelAndPositionCommand=e.MultiEditorAction=e.EditorAction=e.EditorCommand=e.ProxyCommand=e.MultiCommand=e.Command=void 0;class r{constructor(W){this.id=W.id,this.precondition=W.precondition,this._kbOpts=W.kbOpts,this._menuOpts=W.menuOpts,this._description=W.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){let W=this._kbOpts.kbExpr;this.precondition&&(W?W=p.ContextKeyExpr.and(W,this.precondition):W=this.precondition),u.KeybindingsRegistry.registerCommandAndKeybindingRule({id:this.id,handler:(F,E)=>this.runCommand(F,E),weight:this._kbOpts.weight,args:this._kbOpts.args,when:W,primary:this._kbOpts.primary,secondary:this._kbOpts.secondary,win:this._kbOpts.win,linux:this._kbOpts.linux,mac:this._kbOpts.mac,description:this._description})}else i.CommandsRegistry.registerCommand({id:this.id,handler:(W,F)=>this.runCommand(W,F),description:this._description})}_registerMenuItem(W){C.MenuRegistry.appendMenuItem(W.menuId,{group:W.group,command:{id:this.id,title:W.title,icon:W.icon,precondition:this.precondition},when:W.when,order:W.order})}}e.Command=r;class n extends r{constructor(){super(...arguments);this._implementations=[]}addImplementation(W,F,E){return this._implementations.push({priority:W,name:F,implementation:E}),this._implementations.sort((A,B)=>B.priority-A.priority),{dispose:()=>{for(let A=0;A<this._implementations.length;A++)if(this._implementations[A].implementation===E){this._implementations.splice(A,1);return}}}}runCommand(W,F){const E=W.get(d.ILogService);for(const A of this._implementations){const B=A.implementation(W,F);if(B)return E.trace(`Command '${this.id}' was handled by '${A.name}'.`),typeof B=="boolean"?void 0:B}}}e.MultiCommand=n;class s extends r{constructor(W,F){super(F);this.command=W}runCommand(W,F){return this.command.runCommand(W,F)}}e.ProxyCommand=s;class t extends r{static bindToContribution(W){return class extends t{constructor(E){super(E);this._callback=E.handler}runEditorCommand(E,A,B){W(A)&&this._callback(W(A),B)}}}runCommand(W,F){const E=W.get(k.ICodeEditorService),A=E.getFocusedCodeEditor()||E.getActiveCodeEditor();if(!!A)return A.invokeWithinContext(B=>{if(!!B.get(p.IContextKeyService).contextMatchesRules((0,c.withNullAsUndefined)(this.precondition)))return this.runEditorCommand(B,A,F)})}}e.EditorCommand=t;class o extends t{constructor(W){super(o.convertOptions(W));this.label=W.label,this.alias=W.alias}static convertOptions(W){let F;Array.isArray(W.menuOpts)?F=W.menuOpts:W.menuOpts?F=[W.menuOpts]:F=[];function E(A){return A.menuId||(A.menuId=C.MenuId.EditorContext),A.title||(A.title=W.label),A.when=p.ContextKeyExpr.and(W.precondition,A.when),A}return Array.isArray(W.contextMenuOpts)?F.push(...W.contextMenuOpts.map(E)):W.contextMenuOpts&&F.push(E(W.contextMenuOpts)),W.menuOpts=F,W}runEditorCommand(W,F,E){return this.reportTelemetry(W,F),this.run(W,F,E||{})}reportTelemetry(W,F){W.get(l.ITelemetryService).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}e.EditorAction=o;class h extends o{constructor(){super(...arguments);this._implementations=[]}addImplementation(W,F){return this._implementations.push([W,F]),this._implementations.sort((E,A)=>A[0]-E[0]),{dispose:()=>{for(let E=0;E<this._implementations.length;E++)if(this._implementations[E][1]===F){this._implementations.splice(E,1);return}}}}run(W,F,E){for(const A of this._implementations){const B=A[1](W,F,E);if(B)return typeof B=="boolean"?void 0:B}}}e.MultiEditorAction=h;function g(O,W){i.CommandsRegistry.registerCommand(O,function(F,...E){const[A,B]=E;(0,c.assertType)(I.URI.isUri(A)),(0,c.assertType)(w.Position.isIPosition(B));const H=F.get(S.IModelService).getModel(A);if(H){const K=w.Position.lift(B);return W(H,K,...E.slice(2))}return F.get(_.ITextModelService).createModelReference(A).then(K=>new Promise((q,Y)=>{try{const te=W(K.object.textEditorModel,w.Position.lift(B),E.slice(2));q(te)}catch(te){Y(te)}}).finally(()=>{K.dispose()}))})}e.registerModelAndPositionCommand=g;function m(O,W){i.CommandsRegistry.registerCommand(O,function(F,...E){const[A]=E;(0,c.assertType)(I.URI.isUri(A));const B=F.get(S.IModelService).getModel(A);return B?W(B,...E.slice(1)):F.get(_.ITextModelService).createModelReference(A).then(H=>new Promise((K,q)=>{try{const Y=W(H.object.textEditorModel,E.slice(1));K(Y)}catch(Y){q(Y)}}).finally(()=>{H.dispose()}))})}e.registerModelCommand=m;function f(O){return R.INSTANCE.registerEditorCommand(O),O}e.registerEditorCommand=f;function b(O){const W=new O;return R.INSTANCE.registerEditorAction(W),W}e.registerEditorAction=b;function y(O){return R.INSTANCE.registerEditorAction(O),O}e.registerMultiEditorAction=y;function L(O){R.INSTANCE.registerEditorAction(O)}e.registerInstantiatedEditorAction=L;function N(O,W){R.INSTANCE.registerEditorContribution(O,W)}e.registerEditorContribution=N;var M;(function(O){function W(H){return R.INSTANCE.getEditorCommand(H)}O.getEditorCommand=W;function F(){return R.INSTANCE.getEditorActions()}O.getEditorActions=F;function E(){return R.INSTANCE.getEditorContributions()}O.getEditorContributions=E;function A(H){return R.INSTANCE.getEditorContributions().filter(K=>H.indexOf(K.id)>=0)}O.getSomeEditorContributions=A;function B(){return R.INSTANCE.getDiffEditorContributions()}O.getDiffEditorContributions=B})(M=e.EditorExtensionsRegistry||(e.EditorExtensionsRegistry={}));const D={EditorCommonContributions:"editor.contributions"};class R{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(W,F){this.editorContributions.push({id:W,ctor:F})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(W){W.register(),this.editorActions.push(W)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(W){W.register(),this.editorCommands[W.id]=W}getEditorCommand(W){return this.editorCommands[W]||null}}R.INSTANCE=new R,a.Registry.add(D.EditorCommonContributions,R.INSTANCE);function P(O){return O.register(),O}e.UndoCommand=P(new n({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2048|56},menuOpts:[{menuId:C.MenuId.MenubarEditMenu,group:"1_do",title:v.localize(0,null),order:1},{menuId:C.MenuId.CommandPalette,group:"",title:v.localize(1,null),order:1}]})),P(new s(e.UndoCommand,{id:"default:undo",precondition:void 0})),e.RedoCommand=P(new n({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2048|55,secondary:[2048|1024|56],mac:{primary:2048|1024|56}},menuOpts:[{menuId:C.MenuId.MenubarEditMenu,group:"1_do",title:v.localize(2,null),order:2},{menuId:C.MenuId.CommandPalette,group:"",title:v.localize(3,null),order:1}]})),P(new s(e.RedoCommand,{id:"default:redo",precondition:void 0})),e.SelectAllCommand=P(new n({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2048|31},menuOpts:[{menuId:C.MenuId.MenubarSelectionMenu,group:"1_basic",title:v.localize(4,null),order:1},{menuId:C.MenuId.CommandPalette,group:"",title:v.localize(5,null),order:1}]}))}),define(J[189],ee([0,1,445,35,20,41,13,28,539,43,182,241,183,14,3,25,16,86]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CoreEditingCommands=e.CoreNavigationCommands=e.RevealLine_=e.EditorScroll_=e.CoreEditorCommand=void 0;const s=0;class t extends S.EditorCommand{runEditorCommand(R,P,O){const W=P._getViewModel();!W||this.runCoreEditorCommand(W,O||{})}}e.CoreEditorCommand=t;var o;(function(D){const R=function(O){if(!k.isObject(O))return!1;const W=O;return!(!k.isString(W.to)||!k.isUndefined(W.by)&&!k.isString(W.by)||!k.isUndefined(W.value)&&!k.isNumber(W.value)||!k.isUndefined(W.revealCursor)&&!k.isBoolean(W.revealCursor))};D.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:R,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},D.RawDirection={Up:"up",Down:"down"},D.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"};function P(O){let W;switch(O.to){case D.RawDirection.Up:W=1;break;case D.RawDirection.Down:W=2;break;default:return null}let F;switch(O.by){case D.RawUnit.Line:F=1;break;case D.RawUnit.WrappedLine:F=2;break;case D.RawUnit.Page:F=3;break;case D.RawUnit.HalfPage:F=4;break;default:F=2}const E=Math.floor(O.value||1),A=!!O.revealCursor;return{direction:W,unit:F,value:E,revealCursor:A,select:!!O.select}}D.parse=P})(o=e.EditorScroll_||(e.EditorScroll_={}));var h;(function(D){const R=function(P){if(!k.isObject(P))return!1;const O=P;return!(!k.isNumber(O.lineNumber)&&!k.isString(O.lineNumber)||!k.isUndefined(O.at)&&!k.isString(O.at))};D.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:R,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},D.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(h=e.RevealLine_||(e.RevealLine_={}));class g{constructor(R){R.addImplementation(1e4,"code-editor",(P,O)=>{const W=P.get(_.ICodeEditorService).getFocusedCodeEditor();return W&&W.hasTextFocus()?this._runEditorCommand(P,W,O):!1}),R.addImplementation(1e3,"generic-dom-input-textarea",(P,O)=>{const W=document.activeElement;return W&&["input","textarea"].indexOf(W.tagName.toLowerCase())>=0?(this.runDOMCommand(),!0):!1}),R.addImplementation(0,"generic-dom",(P,O)=>{const W=P.get(_.ICodeEditorService).getActiveCodeEditor();return W?(W.focus(),this._runEditorCommand(P,W,O)):!1})}_runEditorCommand(R,P,O){const W=this.runEditorCommand(R,P,O);return W||!0}}var m;(function(D){class R extends t{constructor(T){super(T);this._inSelectionMode=T.inSelectionMode}runCoreEditorCommand(T,x){T.model.pushStackElement(),T.setCursorStates(x.source,3,[u.CursorMoveCommands.moveTo(T,T.getPrimaryCursorState(),this._inSelectionMode,x.position,x.viewPosition)]),T.revealPrimaryCursor(x.source,!0)}}D.MoveTo=(0,S.registerEditorCommand)(new R({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),D.MoveToSelect=(0,S.registerEditorCommand)(new R({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class P extends t{runCoreEditorCommand(T,x){T.model.pushStackElement();const z=this._getColumnSelectResult(T,T.getPrimaryCursorState(),T.getCursorColumnSelectData(),x);T.setCursorStates(x.source,3,z.viewStates.map(V=>i.CursorState.fromViewState(V))),T.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:z.fromLineNumber,fromViewVisualColumn:z.fromVisualColumn,toViewLineNumber:z.toLineNumber,toViewVisualColumn:z.toVisualColumn}),z.reversed?T.revealTopMostCursor(x.source):T.revealBottomMostCursor(x.source)}}D.ColumnSelect=(0,S.registerEditorCommand)(new class extends P{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(Z,T,x,z){const V=Z.model.validatePosition(z.position),U=Z.coordinatesConverter.validateViewPosition(new l.Position(z.viewPosition.lineNumber,z.viewPosition.column),V);let Q=z.doColumnSelect?x.fromViewLineNumber:U.lineNumber,se=z.doColumnSelect?x.fromViewVisualColumn:z.mouseColumn-1;return C.ColumnSelection.columnSelect(Z.cursorConfig,Z,Q,se,U.lineNumber,z.mouseColumn-1)}}),D.CursorColumnSelectLeft=(0,S.registerEditorCommand)(new class extends P{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|512|15,linux:{primary:0}}})}_getColumnSelectResult(Z,T,x,z){return C.ColumnSelection.columnSelectLeft(Z.cursorConfig,Z,x)}}),D.CursorColumnSelectRight=(0,S.registerEditorCommand)(new class extends P{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|512|17,linux:{primary:0}}})}_getColumnSelectResult(Z,T,x,z){return C.ColumnSelection.columnSelectRight(Z.cursorConfig,Z,x)}});class O extends P{constructor(T){super(T);this._isPaged=T.isPaged}_getColumnSelectResult(T,x,z,V){return C.ColumnSelection.columnSelectUp(T.cursorConfig,T,z,this._isPaged)}}D.CursorColumnSelectUp=(0,S.registerEditorCommand)(new O({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|512|16,linux:{primary:0}}})),D.CursorColumnSelectPageUp=(0,S.registerEditorCommand)(new O({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|512|11,linux:{primary:0}}}));class W extends P{constructor(T){super(T);this._isPaged=T.isPaged}_getColumnSelectResult(T,x,z,V){return C.ColumnSelection.columnSelectDown(T.cursorConfig,T,z,this._isPaged)}}D.CursorColumnSelectDown=(0,S.registerEditorCommand)(new W({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|512|18,linux:{primary:0}}})),D.CursorColumnSelectPageDown=(0,S.registerEditorCommand)(new W({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|512|12,linux:{primary:0}}}));class F extends t{constructor(){super({id:"cursorMove",precondition:void 0,description:u.CursorMove.description})}runCoreEditorCommand(T,x){const z=u.CursorMove.parse(x);!z||this._runCursorMove(T,x.source,z)}_runCursorMove(T,x,z){T.model.pushStackElement(),T.setCursorStates(x,3,F._move(T,T.getCursorStates(),z)),T.revealPrimaryCursor(x,!0)}static _move(T,x,z){const V=z.select,U=z.value;switch(z.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return u.CursorMoveCommands.simpleMove(T,x,z.direction,V,U,z.unit);case 11:case 13:case 12:case 14:return u.CursorMoveCommands.viewportMove(T,x,z.direction,V,U);default:return null}}}D.CursorMoveImpl=F,D.CursorMove=(0,S.registerEditorCommand)(new F);class E extends t{constructor(T){super(T);this._staticArgs=T.args}runCoreEditorCommand(T,x){let z=this._staticArgs;this._staticArgs.value===-1&&(z={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:T.cursorConfig.pageSize}),T.model.pushStackElement(),T.setCursorStates(x.source,3,u.CursorMoveCommands.simpleMove(T,T.getCursorStates(),z.direction,z.select,z.value,z.unit)),T.revealPrimaryCursor(x.source,!0)}}D.CursorLeft=(0,S.registerEditorCommand)(new E({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:15,mac:{primary:15,secondary:[256|32]}}})),D.CursorLeftSelect=(0,S.registerEditorCommand)(new E({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|15}})),D.CursorRight=(0,S.registerEditorCommand)(new E({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:17,mac:{primary:17,secondary:[256|36]}}})),D.CursorRightSelect=(0,S.registerEditorCommand)(new E({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|17}})),D.CursorUp=(0,S.registerEditorCommand)(new E({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:16,mac:{primary:16,secondary:[256|46]}}})),D.CursorUpSelect=(0,S.registerEditorCommand)(new E({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|16,secondary:[2048|1024|16],mac:{primary:1024|16},linux:{primary:1024|16}}})),D.CursorPageUp=(0,S.registerEditorCommand)(new E({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:11}})),D.CursorPageUpSelect=(0,S.registerEditorCommand)(new E({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|11}})),D.CursorDown=(0,S.registerEditorCommand)(new E({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:18,mac:{primary:18,secondary:[256|44]}}})),D.CursorDownSelect=(0,S.registerEditorCommand)(new E({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|18,secondary:[2048|1024|18],mac:{primary:1024|18},linux:{primary:1024|18}}})),D.CursorPageDown=(0,S.registerEditorCommand)(new E({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:12}})),D.CursorPageDownSelect=(0,S.registerEditorCommand)(new E({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|12}})),D.CreateCursor=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(Z,T){let x;T.wholeLine?x=u.CursorMoveCommands.line(Z,Z.getPrimaryCursorState(),!1,T.position,T.viewPosition):x=u.CursorMoveCommands.moveTo(Z,Z.getPrimaryCursorState(),!1,T.position,T.viewPosition);const z=Z.getCursorStates();if(z.length>1){const V=x.modelState?x.modelState.position:null,U=x.viewState?x.viewState.position:null;for(let Q=0,se=z.length;Q<se;Q++){const oe=z[Q];if(!(V&&!oe.modelState.selection.containsPosition(V))&&!(U&&!oe.viewState.selection.containsPosition(U))){z.splice(Q,1),Z.model.pushStackElement(),Z.setCursorStates(T.source,3,z);return}}}z.push(x),Z.model.pushStackElement(),Z.setCursorStates(T.source,3,z)}}),D.LastCursorMoveToSelect=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(Z,T){const x=Z.getLastAddedCursorIndex(),z=Z.getCursorStates(),V=z.slice(0);V[x]=u.CursorMoveCommands.moveTo(Z,z[x],!0,T.position,T.viewPosition),Z.model.pushStackElement(),Z.setCursorStates(T.source,3,V)}});class A extends t{constructor(T){super(T);this._inSelectionMode=T.inSelectionMode}runCoreEditorCommand(T,x){T.model.pushStackElement(),T.setCursorStates(x.source,3,u.CursorMoveCommands.moveToBeginningOfLine(T,T.getCursorStates(),this._inSelectionMode)),T.revealPrimaryCursor(x.source,!0)}}D.CursorHome=(0,S.registerEditorCommand)(new A({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:14,mac:{primary:14,secondary:[2048|15]}}})),D.CursorHomeSelect=(0,S.registerEditorCommand)(new A({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|14,mac:{primary:1024|14,secondary:[2048|1024|15]}}}));class B extends t{constructor(T){super(T);this._inSelectionMode=T.inSelectionMode}runCoreEditorCommand(T,x){T.model.pushStackElement(),T.setCursorStates(x.source,3,this._exec(T.getCursorStates())),T.revealPrimaryCursor(x.source,!0)}_exec(T){const x=[];for(let z=0,V=T.length;z<V;z++){const U=T[z],Q=U.modelState.position.lineNumber;x[z]=i.CursorState.fromModelState(U.modelState.move(this._inSelectionMode,Q,1,0))}return x}}D.CursorLineStart=(0,S.registerEditorCommand)(new B({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|31}}})),D.CursorLineStartSelect=(0,S.registerEditorCommand)(new B({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|1024|31}}}));class H extends t{constructor(T){super(T);this._inSelectionMode=T.inSelectionMode}runCoreEditorCommand(T,x){T.model.pushStackElement(),T.setCursorStates(x.source,3,u.CursorMoveCommands.moveToEndOfLine(T,T.getCursorStates(),this._inSelectionMode,x.sticky||!1)),T.revealPrimaryCursor(x.source,!0)}}D.CursorEnd=(0,S.registerEditorCommand)(new H({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:13,mac:{primary:13,secondary:[2048|17]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:v.localize(0,null),type:"boolean",default:!1}}}}]}})),D.CursorEndSelect=(0,S.registerEditorCommand)(new H({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|13,mac:{primary:1024|13,secondary:[2048|1024|17]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:v.localize(1,null),type:"boolean",default:!1}}}}]}}));class K extends t{constructor(T){super(T);this._inSelectionMode=T.inSelectionMode}runCoreEditorCommand(T,x){T.model.pushStackElement(),T.setCursorStates(x.source,3,this._exec(T,T.getCursorStates())),T.revealPrimaryCursor(x.source,!0)}_exec(T,x){const z=[];for(let V=0,U=x.length;V<U;V++){const Q=x[V],se=Q.modelState.position.lineNumber,oe=T.model.getLineMaxColumn(se);z[V]=i.CursorState.fromModelState(Q.modelState.move(this._inSelectionMode,se,oe,0))}return z}}D.CursorLineEnd=(0,S.registerEditorCommand)(new K({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|35}}})),D.CursorLineEndSelect=(0,S.registerEditorCommand)(new K({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|1024|35}}}));class q extends t{constructor(T){super(T);this._inSelectionMode=T.inSelectionMode}runCoreEditorCommand(T,x){T.model.pushStackElement(),T.setCursorStates(x.source,3,u.CursorMoveCommands.moveToBeginningOfBuffer(T,T.getCursorStates(),this._inSelectionMode)),T.revealPrimaryCursor(x.source,!0)}}D.CursorTop=(0,S.registerEditorCommand)(new q({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|14,mac:{primary:2048|16}}})),D.CursorTopSelect=(0,S.registerEditorCommand)(new q({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|14,mac:{primary:2048|1024|16}}}));class Y extends t{constructor(T){super(T);this._inSelectionMode=T.inSelectionMode}runCoreEditorCommand(T,x){T.model.pushStackElement(),T.setCursorStates(x.source,3,u.CursorMoveCommands.moveToEndOfBuffer(T,T.getCursorStates(),this._inSelectionMode)),T.revealPrimaryCursor(x.source,!0)}}D.CursorBottom=(0,S.registerEditorCommand)(new Y({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|13,mac:{primary:2048|18}}})),D.CursorBottomSelect=(0,S.registerEditorCommand)(new Y({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|13,mac:{primary:2048|1024|18}}}));class te extends t{constructor(){super({id:"editorScroll",precondition:void 0,description:o.description})}runCoreEditorCommand(T,x){const z=o.parse(x);!z||this._runEditorScroll(T,x.source,z)}_runEditorScroll(T,x,z){const V=this._computeDesiredScrollTop(T,z);if(z.revealCursor){const U=T.getCompletelyVisibleViewRangeAtScrollTop(V);T.setCursorStates(x,3,[u.CursorMoveCommands.findPositionInViewportIfOutside(T,T.getPrimaryCursorState(),U,z.select)])}T.setScrollTop(V,0)}_computeDesiredScrollTop(T,x){if(x.unit===1){const U=T.getCompletelyVisibleViewRange(),Q=T.coordinatesConverter.convertViewRangeToModelRange(U);let se;x.direction===1?se=Math.max(1,Q.startLineNumber-x.value):se=Math.min(T.model.getLineCount(),Q.startLineNumber+x.value);const oe=T.coordinatesConverter.convertModelPositionToViewPosition(new l.Position(se,1));return T.getVerticalOffsetForLineNumber(oe.lineNumber)}let z;x.unit===3?z=T.cursorConfig.pageSize*x.value:x.unit===4?z=Math.round(T.cursorConfig.pageSize/2)*x.value:z=x.value;const V=(x.direction===1?-1:1)*z;return T.getScrollTop()+V*T.cursorConfig.lineHeight}}D.EditorScrollImpl=te,D.EditorScroll=(0,S.registerEditorCommand)(new te),D.ScrollLineUp=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|16,mac:{primary:256|11}}})}runCoreEditorCommand(Z,T){D.EditorScroll._runEditorScroll(Z,T.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),D.ScrollPageUp=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|11,win:{primary:512|11},linux:{primary:512|11}}})}runCoreEditorCommand(Z,T){D.EditorScroll._runEditorScroll(Z,T.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),D.ScrollLineDown=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|18,mac:{primary:256|12}}})}runCoreEditorCommand(Z,T){D.EditorScroll._runEditorScroll(Z,T.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),D.ScrollPageDown=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|12,win:{primary:512|12},linux:{primary:512|12}}})}runCoreEditorCommand(Z,T){D.EditorScroll._runEditorScroll(Z,T.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}});class ie extends t{constructor(T){super(T);this._inSelectionMode=T.inSelectionMode}runCoreEditorCommand(T,x){T.model.pushStackElement(),T.setCursorStates(x.source,3,[u.CursorMoveCommands.word(T,T.getPrimaryCursorState(),this._inSelectionMode,x.position)]),T.revealPrimaryCursor(x.source,!0)}}D.WordSelect=(0,S.registerEditorCommand)(new ie({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),D.WordSelectDrag=(0,S.registerEditorCommand)(new ie({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),D.LastCursorWordSelect=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(Z,T){const x=Z.getLastAddedCursorIndex(),z=Z.getCursorStates(),V=z.slice(0),U=z[x];V[x]=u.CursorMoveCommands.word(Z,U,U.modelState.hasSelection(),T.position),Z.model.pushStackElement(),Z.setCursorStates(T.source,3,V)}});class ae extends t{constructor(T){super(T);this._inSelectionMode=T.inSelectionMode}runCoreEditorCommand(T,x){T.model.pushStackElement(),T.setCursorStates(x.source,3,[u.CursorMoveCommands.line(T,T.getPrimaryCursorState(),this._inSelectionMode,x.position,x.viewPosition)]),T.revealPrimaryCursor(x.source,!1)}}D.LineSelect=(0,S.registerEditorCommand)(new ae({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),D.LineSelectDrag=(0,S.registerEditorCommand)(new ae({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class le extends t{constructor(T){super(T);this._inSelectionMode=T.inSelectionMode}runCoreEditorCommand(T,x){const z=T.getLastAddedCursorIndex(),V=T.getCursorStates(),U=V.slice(0);U[z]=u.CursorMoveCommands.line(T,V[z],this._inSelectionMode,x.position,x.viewPosition),T.model.pushStackElement(),T.setCursorStates(x.source,3,U)}}D.LastCursorLineSelect=(0,S.registerEditorCommand)(new le({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),D.LastCursorLineSelectDrag=(0,S.registerEditorCommand)(new le({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),D.ExpandLineSelection=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"expandLineSelection",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|42}})}runCoreEditorCommand(Z,T){Z.model.pushStackElement(),Z.setCursorStates(T.source,3,u.CursorMoveCommands.expandLineSelection(Z,Z.getCursorStates())),Z.revealPrimaryCursor(T.source,!0)}}),D.CancelSelection=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"cancelSelection",precondition:d.EditorContextKeys.hasNonEmptySelection,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})}runCoreEditorCommand(Z,T){Z.model.pushStackElement(),Z.setCursorStates(T.source,3,[u.CursorMoveCommands.cancelSelection(Z,Z.getPrimaryCursorState())]),Z.revealPrimaryCursor(T.source,!0)}}),D.RemoveSecondaryCursors=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"removeSecondaryCursors",precondition:d.EditorContextKeys.hasMultipleSelections,kbOpts:{weight:s+1,kbExpr:d.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})}runCoreEditorCommand(Z,T){Z.model.pushStackElement(),Z.setCursorStates(T.source,3,[Z.getPrimaryCursorState()]),Z.revealPrimaryCursor(T.source,!0),(0,w.status)(v.localize(2,null))}}),D.RevealLine=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"revealLine",precondition:void 0,description:h.description})}runCoreEditorCommand(Z,T){const x=T,z=x.lineNumber||0;let V=typeof z=="number"?z+1:parseInt(z)+1;V<1&&(V=1);const U=Z.model.getLineCount();V>U&&(V=U);const Q=new c.Range(V,1,V,Z.model.getLineMaxColumn(V));let se=0;if(x.at)switch(x.at){case h.RawAtArgument.Top:se=3;break;case h.RawAtArgument.Center:se=1;break;case h.RawAtArgument.Bottom:se=4;break;default:break}const oe=Z.coordinatesConverter.convertModelRangeToViewRange(Q);Z.revealRange(T.source,!1,oe,se,0)}}),D.SelectAll=new class extends g{constructor(){super(S.SelectAllCommand)}runDOMCommand(){I.isFirefox&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(Z,T,x){const z=T._getViewModel();!z||this.runCoreEditorCommand(z,x)}runCoreEditorCommand(Z,T){Z.model.pushStackElement(),Z.setCursorStates("keyboard",3,[u.CursorMoveCommands.selectAll(Z,Z.getPrimaryCursorState())])}},D.SetSelection=(0,S.registerEditorCommand)(new class extends t{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(Z,T){Z.model.pushStackElement(),Z.setCursorStates(T.source,3,[i.CursorState.fromModelSelection(T.selection)])}})})(m=e.CoreNavigationCommands||(e.CoreNavigationCommands={}));const f=r.ContextKeyExpr.and(d.EditorContextKeys.textInputFocus,d.EditorContextKeys.columnSelection);function b(D,R){n.KeybindingsRegistry.registerKeybindingRule({id:D,primary:R,when:f,weight:s+1})}b(m.CursorColumnSelectLeft.id,1024|15),b(m.CursorColumnSelectRight.id,1024|17),b(m.CursorColumnSelectUp.id,1024|16),b(m.CursorColumnSelectPageUp.id,1024|11),b(m.CursorColumnSelectDown.id,1024|18),b(m.CursorColumnSelectPageDown.id,1024|12);function y(D){return D.register(),D}var L;(function(D){class R extends S.EditorCommand{runEditorCommand(O,W,F){const E=W._getViewModel();!E||this.runCoreEditingCommand(W,E,F||{})}}D.CoreEditingCommand=R,D.LineBreakInsert=(0,S.registerEditorCommand)(new class extends R{constructor(){super({id:"lineBreakInsert",precondition:d.EditorContextKeys.writable,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|45}}})}runCoreEditingCommand(P,O,W){P.pushUndoStop(),P.executeCommands(this.id,a.TypeOperations.lineBreakInsert(O.cursorConfig,O.model,O.getCursorStates().map(F=>F.modelState.selection)))}}),D.Outdent=(0,S.registerEditorCommand)(new class extends R{constructor(){super({id:"outdent",precondition:d.EditorContextKeys.writable,kbOpts:{weight:s,kbExpr:r.ContextKeyExpr.and(d.EditorContextKeys.editorTextFocus,d.EditorContextKeys.tabDoesNotMoveFocus),primary:1024|2}})}runCoreEditingCommand(P,O,W){P.pushUndoStop(),P.executeCommands(this.id,a.TypeOperations.outdent(O.cursorConfig,O.model,O.getCursorStates().map(F=>F.modelState.selection))),P.pushUndoStop()}}),D.Tab=(0,S.registerEditorCommand)(new class extends R{constructor(){super({id:"tab",precondition:d.EditorContextKeys.writable,kbOpts:{weight:s,kbExpr:r.ContextKeyExpr.and(d.EditorContextKeys.editorTextFocus,d.EditorContextKeys.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(P,O,W){P.pushUndoStop(),P.executeCommands(this.id,a.TypeOperations.tab(O.cursorConfig,O.model,O.getCursorStates().map(F=>F.modelState.selection))),P.pushUndoStop()}}),D.DeleteLeft=(0,S.registerEditorCommand)(new class extends R{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:1,secondary:[1024|1],mac:{primary:1,secondary:[1024|1,256|38,256|1]}}})}runCoreEditingCommand(P,O,W){const[F,E]=p.DeleteOperations.deleteLeft(O.getPrevEditOperationType(),O.cursorConfig,O.model,O.getCursorStates().map(A=>A.modelState.selection),O.getCursorAutoClosedCharacters());F&&P.pushUndoStop(),P.executeCommands(this.id,E),O.setPrevEditOperationType(2)}}),D.DeleteRight=(0,S.registerEditorCommand)(new class extends R{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:20,mac:{primary:20,secondary:[256|34,256|20]}}})}runCoreEditingCommand(P,O,W){const[F,E]=p.DeleteOperations.deleteRight(O.getPrevEditOperationType(),O.cursorConfig,O.model,O.getCursorStates().map(A=>A.modelState.selection));F&&P.pushUndoStop(),P.executeCommands(this.id,E),O.setPrevEditOperationType(3)}}),D.Undo=new class extends g{constructor(){super(S.UndoCommand)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(P,O,W){if(!(!O.hasModel()||O.getOption(77)===!0))return O.getModel().undo()}},D.Redo=new class extends g{constructor(){super(S.RedoCommand)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(P,O,W){if(!(!O.hasModel()||O.getOption(77)===!0))return O.getModel().redo()}}})(L=e.CoreEditingCommands||(e.CoreEditingCommands={}));class N extends S.Command{constructor(R,P,O){super({id:R,precondition:void 0,description:O});this._handlerId=P}runCommand(R,P){const O=R.get(_.ICodeEditorService).getFocusedCodeEditor();!O||O.trigger("keyboard",this._handlerId,P)}}function M(D,R){y(new N("default:"+D,D)),y(new N(D,D,R))}M("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),M("replacePreviousChar"),M("compositionType"),M("compositionStart"),M("compositionEnd"),M("paste"),M("cut")}),define(J[609],ee([0,1,13,16,23,72,9,75,447]),function($,e,v,I,k,w,S,_,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorKeybindingCancellationTokenSource=void 0;const i=(0,S.createDecorator)("IEditorCancelService"),p=new I.RawContextKey("cancellableOperation",!1,(0,C.localize)(0,null));(0,_.registerSingleton)(i,class{constructor(){this._tokens=new WeakMap}add(a,l){let c=this._tokens.get(a);c||(c=a.invokeWithinContext(r=>{const n=p.bindTo(r.get(I.IContextKeyService)),s=new w.LinkedList;return{key:n,tokens:s}}),this._tokens.set(a,c));let d;return c.key.set(!0),d=c.tokens.push(l),()=>{d&&(d(),c.key.set(!c.tokens.isEmpty()),d=void 0)}}cancel(a){const l=this._tokens.get(a);if(!!l){const c=l.tokens.pop();c&&(c.cancel(),l.key.set(!l.tokens.isEmpty()))}}},!0);class u extends k.CancellationTokenSource{constructor(l,c){super(c);this.editor=l,this._unregister=l.invokeWithinContext(d=>d.get(i).add(l,this))}dispose(){this._unregister(),super.dispose()}}e.EditorKeybindingCancellationTokenSource=u,(0,v.registerEditorCommand)(new class extends v.EditorCommand{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:p})}runEditorCommand(a,l){a.get(i).cancel(l)}})}),define(J[71],ee([0,1,8,3,23,2,609]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StableEditorScrollState=e.TextModelCancellationTokenSource=e.EditorStateCancellationTokenSource=e.EditorState=void 0;class _{constructor(a,l){if(this.flags=l,(this.flags&1)!=0){const c=a.getModel();this.modelVersionId=c?v.format("{0}#{1}",c.uri.toString(),c.getVersionId()):null}else this.modelVersionId=null;(this.flags&4)!=0?this.position=a.getPosition():this.position=null,(this.flags&2)!=0?this.selection=a.getSelection():this.selection=null,(this.flags&8)!=0?(this.scrollLeft=a.getScrollLeft(),this.scrollTop=a.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(a){if(!(a instanceof _))return!1;const l=a;return!(this.modelVersionId!==l.modelVersionId||this.scrollLeft!==l.scrollLeft||this.scrollTop!==l.scrollTop||!this.position&&l.position||this.position&&!l.position||this.position&&l.position&&!this.position.equals(l.position)||!this.selection&&l.selection||this.selection&&!l.selection||this.selection&&l.selection&&!this.selection.equalsRange(l.selection))}validate(a){return this._equals(new _(a,this.flags))}}e.EditorState=_;class C extends S.EditorKeybindingCancellationTokenSource{constructor(a,l,c,d){super(a,d);this._listener=new w.DisposableStore,l&4&&this._listener.add(a.onDidChangeCursorPosition(r=>{(!c||!I.Range.containsPosition(c,r.position))&&this.cancel()})),l&2&&this._listener.add(a.onDidChangeCursorSelection(r=>{(!c||!I.Range.containsRange(c,r.selection))&&this.cancel()})),l&8&&this._listener.add(a.onDidScrollChange(r=>this.cancel())),l&1&&(this._listener.add(a.onDidChangeModel(r=>this.cancel())),this._listener.add(a.onDidChangeModelContent(r=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}e.EditorStateCancellationTokenSource=C;class i extends k.CancellationTokenSource{constructor(a,l){super(l);this._listener=a.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}e.TextModelCancellationTokenSource=i;class p{constructor(a,l,c){this._visiblePosition=a,this._visiblePositionScrollDelta=l,this._cursorPosition=c}static capture(a){let l=null,c=0;if(a.getScrollTop()!==0){const d=a.getVisibleRanges();if(d.length>0){l=d[0].getStartPosition();const r=a.getTopForPosition(l.lineNumber,l.column);c=a.getScrollTop()-r}}return new p(l,c,a.getPosition())}restore(a){if(this._visiblePosition){const l=a.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);a.setScrollTop(l+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(a){const l=a.getPosition();if(!(!this._cursorPosition||!l)){const c=a.getTopForLineNumber(l.lineNumber)-a.getTopForLineNumber(this._cursorPosition.lineNumber);a.setScrollTop(a.getScrollTop()+c)}}}e.StableEditorScrollState=p}),define(J[610],ee([0,1,179,13]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsContribution=void 0;let k=class{constructor(S,_){}dispose(){}};k.ID="editor.contrib.markerDecorations",k=Me([pe(1,v.IMarkerDecorationsService)],k),e.MarkerDecorationsContribution=k,(0,I.registerEditorContribution)(k.ID,k)}),define(J[611],ee([0,1,189,14,17]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewController=void 0;class w{constructor(_,C,i,p){this.configuration=_,this.viewModel=C,this.userInputEvents=i,this.commandDelegate=p}paste(_,C,i,p){this.commandDelegate.paste(_,C,i,p)}type(_){this.commandDelegate.type(_)}compositionType(_,C,i,p){this.commandDelegate.compositionType(_,C,i,p)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(_){v.CoreNavigationCommands.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:_})}_validateViewColumn(_){const C=this.viewModel.getLineMinColumn(_.lineNumber);return _.column<C?new I.Position(_.lineNumber,C):_}_hasMulticursorModifier(_){switch(this.configuration.options.get(66)){case"altKey":return _.altKey;case"ctrlKey":return _.ctrlKey;case"metaKey":return _.metaKey;default:return!1}}_hasNonMulticursorModifier(_){switch(this.configuration.options.get(66)){case"altKey":return _.ctrlKey||_.metaKey;case"ctrlKey":return _.altKey||_.metaKey;case"metaKey":return _.ctrlKey||_.altKey;default:return!1}}dispatchMouse(_){const C=this.configuration.options,i=k.isLinux&&C.get(93),p=C.get(16);_.middleButton&&!i?this._columnSelect(_.position,_.mouseColumn,_.inSelectionMode):_.startedOnLineNumbers?this._hasMulticursorModifier(_)?_.inSelectionMode?this._lastCursorLineSelect(_.position):this._createCursor(_.position,!0):_.inSelectionMode?this._lineSelectDrag(_.position):this._lineSelect(_.position):_.mouseDownCount>=4?this._selectAll():_.mouseDownCount===3?this._hasMulticursorModifier(_)?_.inSelectionMode?this._lastCursorLineSelectDrag(_.position):this._lastCursorLineSelect(_.position):_.inSelectionMode?this._lineSelectDrag(_.position):this._lineSelect(_.position):_.mouseDownCount===2?this._hasMulticursorModifier(_)?this._lastCursorWordSelect(_.position):_.inSelectionMode?this._wordSelectDrag(_.position):this._wordSelect(_.position):this._hasMulticursorModifier(_)?this._hasNonMulticursorModifier(_)||(_.shiftKey?this._columnSelect(_.position,_.mouseColumn,!0):_.inSelectionMode?this._lastCursorMoveToSelect(_.position):this._createCursor(_.position,!1)):_.inSelectionMode?_.altKey?this._columnSelect(_.position,_.mouseColumn,!0):p?this._columnSelect(_.position,_.mouseColumn,!0):this._moveToSelect(_.position):this.moveTo(_.position)}_usualArgs(_){return _=this._validateViewColumn(_),{source:"mouse",position:this._convertViewToModelPosition(_),viewPosition:_}}moveTo(_){v.CoreNavigationCommands.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(_))}_moveToSelect(_){v.CoreNavigationCommands.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(_))}_columnSelect(_,C,i){_=this._validateViewColumn(_),v.CoreNavigationCommands.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(_),viewPosition:_,mouseColumn:C,doColumnSelect:i})}_createCursor(_,C){_=this._validateViewColumn(_),v.CoreNavigationCommands.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(_),viewPosition:_,wholeLine:C})}_lastCursorMoveToSelect(_){v.CoreNavigationCommands.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(_))}_wordSelect(_){v.CoreNavigationCommands.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(_))}_wordSelectDrag(_){v.CoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(_))}_lastCursorWordSelect(_){v.CoreNavigationCommands.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(_))}_lineSelect(_){v.CoreNavigationCommands.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(_))}_lineSelectDrag(_){v.CoreNavigationCommands.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(_))}_lastCursorLineSelect(_){v.CoreNavigationCommands.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(_))}_lastCursorLineSelectDrag(_){v.CoreNavigationCommands.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(_))}_selectAll(){v.CoreNavigationCommands.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(_){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(_)}emitKeyDown(_){this.userInputEvents.emitKeyDown(_)}emitKeyUp(_){this.userInputEvents.emitKeyUp(_)}emitContextMenu(_){this.userInputEvents.emitContextMenu(_)}emitMouseMove(_){this.userInputEvents.emitMouseMove(_)}emitMouseLeave(_){this.userInputEvents.emitMouseLeave(_)}emitMouseUp(_){this.userInputEvents.emitMouseUp(_)}emitMouseDown(_){this.userInputEvents.emitMouseDown(_)}emitMouseDrag(_){this.userInputEvents.emitMouseDrag(_)}emitMouseDrop(_){this.userInputEvents.emitMouseDrop(_)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(_){this.userInputEvents.emitMouseWheel(_)}}e.ViewController=w}),define(J[612],ee([0,1,7,35,21,30,11,584,593,611,256,567,46,391,591,392,587,172,592,257,585,393,224,394,588,395,594,396,595,589,590,596,397,14,3,110,386,388,111,12,188]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n,s,t,o,h,g,m,f,b,y,L,N,M,D,R,P,O,W,F,E,A,B,H,K){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.View=void 0;class q extends B.ViewEventHandler{constructor(ie,ae,le,Z,T,x){super();this._selections=[new k.Selection(1,1,1,1)],this._renderAnimationFrame=null;const z=new i.ViewController(ae,Z,T,ie);this._context=new E.ViewContext(ae,le.getColorTheme(),Z),this._configPixelRatio=this._context.configuration.options.get(125),this._context.addEventHandler(this),this._register(le.onDidColorThemeChange(ne=>{this._context.theme.update(ne),this._context.model.onDidColorThemeChange(),this.render(!0,!1)})),this._viewParts=[],this._textAreaHandler=new C.TextAreaHandler(this._context,z,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,w.createFastDomNode)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,w.createFastDomNode)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,w.createFastDomNode)(document.createElement("div")),a.PartFingerprints.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new r.EditorScrollbar(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new o.ViewLines(this._context,this._linesContent),this._viewZones=new P.ViewZones(this._context),this._viewParts.push(this._viewZones);const V=new y.DecorationsOverviewRuler(this._context);this._viewParts.push(V);const U=new M.ScrollDecorationViewPart(this._context);this._viewParts.push(U);const Q=new u.ContentViewOverlays(this._context);this._viewParts.push(Q),Q.addDynamicOverlay(new c.CurrentLineHighlightOverlay(this._context)),Q.addDynamicOverlay(new D.SelectionsOverlay(this._context)),Q.addDynamicOverlay(new s.IndentGuidesOverlay(this._context)),Q.addDynamicOverlay(new d.DecorationsOverlay(this._context));const se=new u.MarginViewOverlays(this._context);this._viewParts.push(se),se.addDynamicOverlay(new c.CurrentLineMarginHighlightOverlay(this._context)),se.addDynamicOverlay(new n.GlyphMarginOverlay(this._context)),se.addDynamicOverlay(new m.MarginViewLineDecorationsOverlay(this._context)),se.addDynamicOverlay(new h.LinesDecorationsOverlay(this._context)),se.addDynamicOverlay(new t.LineNumbersOverlay(this._context));const oe=new g.Margin(this._context);oe.getDomNode().appendChild(this._viewZones.marginDomNode),oe.getDomNode().appendChild(se.getDomNode()),this._viewParts.push(oe),this._contentWidgets=new l.ViewContentWidgets(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new R.ViewCursors(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new b.ViewOverlayWidgets(this._context),this._viewParts.push(this._overlayWidgets);const G=new N.Rulers(this._context);this._viewParts.push(G);const j=new f.Minimap(this._context);if(this._viewParts.push(j),V){const ne=this._scrollbar.getOverviewRulerLayoutInfo();ne.parent.insertBefore(V.getDomNode(),ne.insertBefore)}this._linesContent.appendChild(Q.getDomNode()),this._linesContent.appendChild(G.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(oe.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(U.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(j.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),x?x.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new _.PointerHandler(this._context,z,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:ie=>{this._textAreaHandler.textArea.domNode.dispatchEvent(ie)},getLastRenderData:()=>{const ie=this._viewCursors.getLastRenderData()||[],ae=this._textAreaHandler.getLastRenderData();return new K.PointerHandlerLastRenderData(ie,ae)},shouldSuppressMouseDownOnViewZone:ie=>this._viewZones.shouldSuppressMouseDownOnViewZone(ie),shouldSuppressMouseDownOnWidget:ie=>this._contentWidgets.shouldSuppressMouseDownOnWidget(ie),getPositionFromDOMInfo:(ie,ae)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(ie,ae)),visibleRangeForPosition:(ie,ae)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new O.Position(ie,ae))),getLineWidth:ie=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(ie))}}_createTextAreaHandlerHelper(){return{visibleRangeForPositionRelativeToEditor:(ie,ae)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new O.Position(ie,ae)))}}_applyLayout(){const ae=this._context.configuration.options.get(127);this.domNode.setWidth(ae.width),this.domNode.setHeight(ae.height),this._overflowGuardContainer.setWidth(ae.width),this._overflowGuardContainer.setHeight(ae.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const ie=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(124)+" "+(0,H.getThemeTypeSelector)(this._context.theme.type)+ie}handleEvents(ie){super.handleEvents(ie),this._scheduleRender()}onConfigurationChanged(ie){return this._configPixelRatio=this._context.configuration.options.get(125),this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(ie){return this._selections=ie.selections,!1}onFocusChanged(ie){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(ie){return this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const ie of this._viewParts)ie.dispose();super.dispose()}_scheduleRender(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=v.runAtThisOrScheduleAtNextAnimationFrame(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){Y(()=>this._actualRender())}_getViewPartsToRender(){let ie=[],ae=0;for(const le of this._viewParts)le.shouldRender()&&(ie[ae++]=le);return ie}_actualRender(){if(!!v.isInDOM(this.domNode.domNode)){let ie=this._getViewPartsToRender();if(!(!this._viewLines.shouldRender()&&ie.length===0)){const ae=this._context.viewLayout.getLinesViewportData();this._context.model.setViewport(ae.startLineNumber,ae.endLineNumber,ae.centeredLineNumber);const le=new A.ViewportData(this._selections,ae,this._context.viewLayout.getWhitespaceViewportData(),this._context.model);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(le),this._viewLines.shouldRender()&&(this._viewLines.renderText(le),this._viewLines.onDidRender(),ie=this._getViewPartsToRender());const Z=new F.RenderingContext(this._context.viewLayout,le,this._viewLines);for(const T of ie)T.prepareRender(Z);for(const T of ie)T.render(Z),T.onDidRender();Math.abs(I.getPixelRatio()-this._configPixelRatio)>.001&&this._context.configuration.updatePixelRatio()}}}delegateVerticalScrollbarMouseDown(ie){this._scrollbar.delegateVerticalScrollbarMouseDown(ie)}restoreState(ie){this._context.model.setScrollPosition({scrollTop:ie.scrollTop},1),this._context.model.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.model.setScrollPosition({scrollLeft:ie.scrollLeft},1)}getOffsetForColumn(ie,ae){const le=this._context.model.validateModelPosition({lineNumber:ie,column:ae}),Z=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(le);this._flushAccumulatedAndRenderNow();const T=this._viewLines.visibleRangeForPosition(new O.Position(Z.lineNumber,Z.column));return T?T.left:-1}getTargetAtClientPoint(ie,ae){const le=this._pointerHandler.getTargetAtClientPoint(ie,ae);return le?p.ViewUserInputEvents.convertViewToModelMouseTarget(le,this._context.model.coordinatesConverter):null}createOverviewRuler(ie){return new L.OverviewRuler(this._context,ie)}change(ie){this._viewZones.changeViewZones(ie),this._scheduleRender()}render(ie,ae){if(ae){this._viewLines.forceShouldRender();for(const le of this._viewParts)le.forceShouldRender()}ie?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(ie){this._textAreaHandler.setAriaOptions(ie)}addContentWidget(ie){this._contentWidgets.addWidget(ie.widget),this.layoutContentWidget(ie),this._scheduleRender()}layoutContentWidget(ie){let ae=ie.position&&ie.position.range||null;if(ae===null){const Z=ie.position?ie.position.position:null;Z!==null&&(ae=new W.Range(Z.lineNumber,Z.column,Z.lineNumber,Z.column))}const le=ie.position?ie.position.preference:null;this._contentWidgets.setWidgetPosition(ie.widget,ae,le),this._scheduleRender()}removeContentWidget(ie){this._contentWidgets.removeWidget(ie.widget),this._scheduleRender()}addOverlayWidget(ie){this._overlayWidgets.addWidget(ie.widget),this.layoutOverlayWidget(ie),this._scheduleRender()}layoutOverlayWidget(ie){const ae=ie.position?ie.position.preference:null;this._overlayWidgets.setWidgetPosition(ie.widget,ae)&&this._scheduleRender()}removeOverlayWidget(ie){this._overlayWidgets.removeWidget(ie.widget),this._scheduleRender()}}e.View=q;function Y(te){try{return te()}catch(ie){(0,S.onUnexpectedError)(ie)}}}),define(J[143],ee([0,1,449,7,11,6,2,44,70,13,28,612,256,38,242,43,14,3,21,218,107,25,18,49,22,543,26,16,9,138,32,12,65,20,398,566,136,610,335]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n,s,t,o,h,g,m,f,b,y,L,N,M,D,R,P,O,W,F,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorModeContext=e.BooleanEventEmitter=e.CodeEditorWidget=void 0;let A=0;class B{constructor(V,U,Q,se,oe){this.model=V,this.viewModel=U,this.view=Q,this.hasRealView=se,this.listenersToRemove=oe}dispose(){(0,S.dispose)(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let H=class ct extends S.Disposable{constructor(V,U,Q,se,oe,G,j,ne,X,de){super();this._onDidDispose=this._register(new w.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new w.Emitter),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new w.Emitter),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new w.Emitter),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new w.Emitter),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new w.Emitter),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeConfiguration=this._register(new w.Emitter),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new w.Emitter),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new w.Emitter),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new w.Emitter),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new w.Emitter),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new w.Emitter),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new K),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new K),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new w.Emitter),this.onWillType=this._onWillType.event,this._onDidType=this._register(new w.Emitter),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new w.Emitter),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new w.Emitter),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new w.Emitter),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new w.Emitter),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new w.Emitter),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new w.Emitter),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new w.Emitter),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new w.Emitter),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onContextMenu=this._register(new w.Emitter),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new w.Emitter),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new w.Emitter),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new w.Emitter),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new w.Emitter),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new w.Emitter),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new w.Emitter),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new w.Emitter),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new w.Emitter),this.onDidChangeViewZones=this._onDidChangeViewZones.event;const he=Object.assign({},U);this._domElement=V,this._overflowWidgetsDomNode=he.overflowWidgetsDomNode,delete he.overflowWidgetsDomNode,this._id=++A,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this.isSimpleWidget=Q.isSimpleWidget||!1,this._telemetryData=Q.telemetryData,this._configuration=this._register(this._createConfiguration(he,de)),this._register(this._configuration.onDidChange(ue=>{this._onDidChangeConfiguration.fire(ue);const me=this._configuration.options;if(ue.hasChanged(127)){const be=me.get(127);this._onDidLayoutChange.fire(be)}})),this._contextKeyService=this._register(j.createScoped(this._domElement)),this._notificationService=X,this._codeEditorService=oe,this._commandService=G,this._themeService=ne,this._register(new q(this,this._contextKeyService)),this._register(new Y(this,this._contextKeyService)),this._instantiationService=se.createChild(new M.ServiceCollection([L.IContextKeyService,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new te(V),this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())}),this._contentWidgets={},this._overlayWidgets={};let re;Array.isArray(Q.contributions)?re=Q.contributions:re=i.EditorExtensionsRegistry.getEditorContributions();for(const ue of re)try{const me=this._instantiationService.createInstance(ue.ctor,this);this._contributions[ue.id]=me}catch(me){(0,k.onUnexpectedError)(me)}i.EditorExtensionsRegistry.getEditorActions().forEach(ue=>{const me=new t.InternalEditorAction(ue.id,ue.label,ue.alias,(0,O.withNullAsUndefined)(ue.precondition),()=>this._instantiationService.invokeFunction(be=>Promise.resolve(ue.runEditorCommand(be,this,null))),this._contextKeyService);this._actions[me.id]=me}),this._codeEditorService.addCodeEditor(this)}_createConfiguration(V,U){return new C.Configuration(this.isSimpleWidget,V,this._domElement,U)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return o.EditorType.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const V=Object.keys(this._contributions);for(let U=0,Q=V.length;U<Q;U++){const se=V[U];this._contributions[se].dispose()}this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(V){return this._instantiationService.invokeFunction(V)}updateOptions(V){this._configuration.updateOptions(V)}getOptions(){return this._configuration.options}getOption(V){return this._configuration.options.get(V)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(V){return this._modelData?E.WordOperations.getWordAtPosition(this._modelData.model,this._configuration.options.get(113),V):null}getValue(V=null){if(!this._modelData)return"";const U=!!(V&&V.preserveBOM);let Q=0;return V&&V.lineEnding&&V.lineEnding===`
`?Q=1:V&&V.lineEnding&&V.lineEnding===`\r
`&&(Q=2),this._modelData.model.getValue(Q,U)}setValue(V){!this._modelData||this._modelData.model.setValue(V)}getModel(){return this._modelData?this._modelData.model:null}setModel(V=null){const U=V;if(!(this._modelData===null&&U===null)&&!(this._modelData&&this._modelData.model===U)){const Q=this.hasTextFocus(),se=this._detachModel();this._attachModel(U),Q&&this.hasModel()&&this.focus();const oe={oldModelUrl:se?se.uri:null,newModelUrl:U?U.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(oe),this._postDetachModelCleanup(se)}}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(let V in this._decorationTypeSubtypes){const U=this._decorationTypeSubtypes[V];for(let Q in U)this._removeDecorationType(V+"-"+Q)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetForPosition(V,U,Q){const se=V.model.validatePosition({lineNumber:U,column:Q}),oe=V.viewModel.coordinatesConverter.convertModelPositionToViewPosition(se);return V.viewModel.viewLayout.getVerticalOffsetForLineNumber(oe.lineNumber)}getTopForLineNumber(V){return this._modelData?ct._getVerticalOffsetForPosition(this._modelData,V,1):-1}getTopForPosition(V,U){return this._modelData?ct._getVerticalOffsetForPosition(this._modelData,V,U):-1}setHiddenAreas(V){this._modelData&&this._modelData.viewModel.setHiddenAreas(V.map(U=>n.Range.lift(U)))}getVisibleColumnFromPosition(V){if(!this._modelData)return V.column;const U=this._modelData.model.validatePosition(V),Q=this._modelData.model.getOptions().tabSize;return d.CursorColumns.visibleColumnFromColumn(this._modelData.model.getLineContent(U.lineNumber),U.column,Q)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(V){if(!!this._modelData){if(!r.Position.isIPosition(V))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections("api",[{selectionStartLineNumber:V.lineNumber,selectionStartColumn:V.column,positionLineNumber:V.lineNumber,positionColumn:V.column}])}}_sendRevealRange(V,U,Q,se){if(!!this._modelData){if(!n.Range.isIRange(V))throw new Error("Invalid arguments");const oe=this._modelData.model.validateRange(V),G=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(oe);this._modelData.viewModel.revealRange("api",Q,G,U,se)}}revealLine(V,U=0){this._revealLine(V,0,U)}revealLineInCenter(V,U=0){this._revealLine(V,1,U)}revealLineInCenterIfOutsideViewport(V,U=0){this._revealLine(V,2,U)}revealLineNearTop(V,U=0){this._revealLine(V,5,U)}_revealLine(V,U,Q){if(typeof V!="number")throw new Error("Invalid arguments");this._sendRevealRange(new n.Range(V,1,V,1),U,!1,Q)}revealPosition(V,U=0){this._revealPosition(V,0,!0,U)}revealPositionInCenter(V,U=0){this._revealPosition(V,1,!0,U)}revealPositionInCenterIfOutsideViewport(V,U=0){this._revealPosition(V,2,!0,U)}revealPositionNearTop(V,U=0){this._revealPosition(V,5,!0,U)}_revealPosition(V,U,Q,se){if(!r.Position.isIPosition(V))throw new Error("Invalid arguments");this._sendRevealRange(new n.Range(V.lineNumber,V.column,V.lineNumber,V.column),U,Q,se)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(V){const U=s.Selection.isISelection(V),Q=n.Range.isIRange(V);if(!U&&!Q)throw new Error("Invalid arguments");if(U)this._setSelectionImpl(V);else if(Q){const se={selectionStartLineNumber:V.startLineNumber,selectionStartColumn:V.startColumn,positionLineNumber:V.endLineNumber,positionColumn:V.endColumn};this._setSelectionImpl(se)}}_setSelectionImpl(V){if(!!this._modelData){const U=new s.Selection(V.selectionStartLineNumber,V.selectionStartColumn,V.positionLineNumber,V.positionColumn);this._modelData.viewModel.setSelections("api",[U])}}revealLines(V,U,Q=0){this._revealLines(V,U,0,Q)}revealLinesInCenter(V,U,Q=0){this._revealLines(V,U,1,Q)}revealLinesInCenterIfOutsideViewport(V,U,Q=0){this._revealLines(V,U,2,Q)}revealLinesNearTop(V,U,Q=0){this._revealLines(V,U,5,Q)}_revealLines(V,U,Q,se){if(typeof V!="number"||typeof U!="number")throw new Error("Invalid arguments");this._sendRevealRange(new n.Range(V,1,U,1),Q,!1,se)}revealRange(V,U=0,Q=!1,se=!0){this._revealRange(V,Q?1:0,se,U)}revealRangeInCenter(V,U=0){this._revealRange(V,1,!0,U)}revealRangeInCenterIfOutsideViewport(V,U=0){this._revealRange(V,2,!0,U)}revealRangeNearTop(V,U=0){this._revealRange(V,5,!0,U)}revealRangeNearTopIfOutsideViewport(V,U=0){this._revealRange(V,6,!0,U)}revealRangeAtTop(V,U=0){this._revealRange(V,3,!0,U)}_revealRange(V,U,Q,se){if(!n.Range.isIRange(V))throw new Error("Invalid arguments");this._sendRevealRange(n.Range.lift(V),U,Q,se)}setSelections(V,U="api",Q=0){if(!!this._modelData){if(!V||V.length===0)throw new Error("Invalid arguments");for(let se=0,oe=V.length;se<oe;se++)if(!s.Selection.isISelection(V[se]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(U,V,Q)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(V,U=1){if(!!this._modelData){if(typeof V!="number")throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollLeft:V},U)}}setScrollTop(V,U=1){if(!!this._modelData){if(typeof V!="number")throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollTop:V},U)}}setScrollPosition(V,U=1){!this._modelData||this._modelData.viewModel.setScrollPosition(V,U)}saveViewState(){if(!this._modelData)return null;const V={},U=Object.keys(this._contributions);for(const oe of U){const G=this._contributions[oe];typeof G.saveViewState=="function"&&(V[oe]=G.saveViewState())}const Q=this._modelData.viewModel.saveCursorState(),se=this._modelData.viewModel.saveState();return{cursorState:Q,viewState:se,contributionsState:V}}restoreViewState(V){if(!(!this._modelData||!this._modelData.hasRealView)){const U=V;if(U&&U.cursorState&&U.viewState){const Q=U.cursorState;Array.isArray(Q)?this._modelData.viewModel.restoreCursorState(Q):this._modelData.viewModel.restoreCursorState([Q]);const se=U.contributionsState||{},oe=Object.keys(this._contributions);for(let j=0,ne=oe.length;j<ne;j++){const X=oe[j],de=this._contributions[X];typeof de.restoreViewState=="function"&&de.restoreViewState(se[X])}const G=this._modelData.viewModel.reduceRestoreState(U.viewState);this._modelData.view.restoreState(G)}}}getContribution(V){return this._contributions[V]||null}getActions(){const V=[],U=Object.keys(this._actions);for(let Q=0,se=U.length;Q<se;Q++){const oe=U[Q];V.push(this._actions[oe])}return V}getSupportedActions(){let V=this.getActions();return V=V.filter(U=>U.isSupported()),V}getAction(V){return this._actions[V]||null}trigger(V,U,Q){switch(Q=Q||{},U){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(V);return;case"type":{const oe=Q;this._type(V,oe.text||"");return}case"replacePreviousChar":{const oe=Q;this._compositionType(V,oe.text||"",oe.replaceCharCnt||0,0,0);return}case"compositionType":{const oe=Q;this._compositionType(V,oe.text||"",oe.replacePrevCharCnt||0,oe.replaceNextCharCnt||0,oe.positionDelta||0);return}case"paste":{const oe=Q;this._paste(V,oe.text||"",oe.pasteOnNewLine||!1,oe.multicursorText||null,oe.mode||null);return}case"cut":this._cut(V);return}const se=this.getAction(U);if(se){Promise.resolve(se.run()).then(void 0,k.onUnexpectedError);return}!this._modelData||this._triggerEditorCommand(V,U,Q)||this._triggerCommand(U,Q)}_triggerCommand(V,U){this._commandService.executeCommand(V,U)}_startComposition(){!this._modelData||(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(V){!this._modelData||(this._modelData.viewModel.endComposition(V),this._onDidCompositionEnd.fire())}_type(V,U){!this._modelData||U.length===0||(V==="keyboard"&&this._onWillType.fire(U),this._modelData.viewModel.type(U,V),V==="keyboard"&&this._onDidType.fire(U))}_compositionType(V,U,Q,se,oe){!this._modelData||this._modelData.viewModel.compositionType(U,Q,se,oe,V)}_paste(V,U,Q,se,oe){if(!(!this._modelData||U.length===0)){const G=this._modelData.viewModel.getSelection().getStartPosition();this._modelData.viewModel.paste(U,Q,se,V);const j=this._modelData.viewModel.getSelection().getStartPosition();V==="keyboard"&&this._onDidPaste.fire({range:new n.Range(G.lineNumber,G.column,j.lineNumber,j.column),mode:oe})}}_cut(V){!this._modelData||this._modelData.viewModel.cut(V)}_triggerEditorCommand(V,U,Q){const se=i.EditorExtensionsRegistry.getEditorCommand(U);return se?(Q=Q||{},Q.source=V,this._instantiationService.invokeFunction(oe=>{Promise.resolve(se.runEditorCommand(oe,this,Q)).then(void 0,k.onUnexpectedError)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(77)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(77)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(V,U,Q){if(!this._modelData||this._configuration.options.get(77))return!1;let se;return Q?Array.isArray(Q)?se=()=>Q:se=Q:se=()=>null,this._modelData.viewModel.executeEdits(V,U,se),!0}executeCommand(V,U){!this._modelData||this._modelData.viewModel.executeCommand(U,V)}executeCommands(V,U){!this._modelData||this._modelData.viewModel.executeCommands(U,V)}changeDecorations(V){return this._modelData?this._modelData.model.changeDecorations(V,this._id):null}getLineDecorations(V){return this._modelData?this._modelData.model.getLineDecorations(V,this._id,(0,l.filterValidationDecorations)(this._configuration.options)):null}deltaDecorations(V,U){return this._modelData?V.length===0&&U.length===0?V:this._modelData.model.deltaDecorations(V,U,this._id):[]}removeDecorations(V){const U=this._decorationTypeKeysToIds[V];U&&this.deltaDecorations(U,[]),this._decorationTypeKeysToIds.hasOwnProperty(V)&&delete this._decorationTypeKeysToIds[V],this._decorationTypeSubtypes.hasOwnProperty(V)&&delete this._decorationTypeSubtypes[V]}getLayoutInfo(){return this._configuration.options.get(127)}createOverviewRuler(V){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(V)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarMouseDown(V){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarMouseDown(V)}layout(V){this._configuration.observeReferenceElement(V),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(V){const U={widget:V,position:V.getPosition()};this._contentWidgets.hasOwnProperty(V.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[V.getId()]=U,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(U)}layoutContentWidget(V){const U=V.getId();if(this._contentWidgets.hasOwnProperty(U)){const Q=this._contentWidgets[U];Q.position=V.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(Q)}}removeContentWidget(V){const U=V.getId();if(this._contentWidgets.hasOwnProperty(U)){const Q=this._contentWidgets[U];delete this._contentWidgets[U],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(Q)}}addOverlayWidget(V){const U={widget:V,position:V.getPosition()};this._overlayWidgets.hasOwnProperty(V.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[V.getId()]=U,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(U)}layoutOverlayWidget(V){const U=V.getId();if(this._overlayWidgets.hasOwnProperty(U)){const Q=this._overlayWidgets[U];Q.position=V.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(Q)}}removeOverlayWidget(V){const U=V.getId();if(this._overlayWidgets.hasOwnProperty(U)){const Q=this._overlayWidgets[U];delete this._overlayWidgets[U],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(Q)}}changeViewZones(V){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(V)}getTargetAtClientPoint(V,U){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(V,U)}getScrolledVisiblePosition(V){if(!this._modelData||!this._modelData.hasRealView)return null;const U=this._modelData.model.validatePosition(V),Q=this._configuration.options,se=Q.get(127),oe=ct._getVerticalOffsetForPosition(this._modelData,U.lineNumber,U.column)-this.getScrollTop(),G=this._modelData.view.getOffsetForColumn(U.lineNumber,U.column)+se.glyphMarginWidth+se.lineNumbersWidth+se.decorationsWidth-this.getScrollLeft();return{top:oe,left:G,height:Q.get(55)}}getOffsetForColumn(V,U){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(V,U)}render(V=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,V)}setAriaOptions(V){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(V)}applyFontInfo(V){C.Configuration.applyFontInfoSlow(V,this._configuration.options.get(40))}_attachModel(V){if(!V){this._modelData=null;return}const U=[];this._domElement.setAttribute("data-mode-id",V.getLanguageIdentifier().language),this._configuration.setIsDominatedByLongLines(V.isDominatedByLongLines()),this._configuration.setMaxLineNumber(V.getLineCount()),V.onBeforeAttached();const Q=new b.ViewModel(this._id,this._configuration,V,F.DOMLineBreaksComputerFactory.create(),W.MonospaceLineBreaksComputerFactory.create(this._configuration.options),G=>I.scheduleAtNextAnimationFrame(G));U.push(V.onDidChangeDecorations(G=>this._onDidChangeModelDecorations.fire(G))),U.push(V.onDidChangeLanguage(G=>{this._domElement.setAttribute("data-mode-id",V.getLanguageIdentifier().language),this._onDidChangeModelLanguage.fire(G)})),U.push(V.onDidChangeLanguageConfiguration(G=>this._onDidChangeModelLanguageConfiguration.fire(G))),U.push(V.onDidChangeContent(G=>this._onDidChangeModelContent.fire(G))),U.push(V.onDidChangeOptions(G=>this._onDidChangeModelOptions.fire(G))),U.push(V.onWillDispose(()=>this.setModel(null))),U.push(Q.onEvent(G=>{switch(G.kind){case 0:this._onDidContentSizeChange.fire(G);break;case 1:this._editorTextFocus.setValue(G.hasFocus);break;case 2:this._onDidScrollChange.fire(G);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidAttemptReadOnlyEdit.fire();break;case 5:{G.reachedMaxCursorCount&&this._notificationService.warn(v.localize(0,null,c.Cursor.MAX_CURSOR_COUNT));const j=[];for(let de=0,he=G.selections.length;de<he;de++)j[de]=G.selections[de].getPosition();const ne={position:j[0],secondaryPositions:j.slice(1),reason:G.reason,source:G.source};this._onDidChangeCursorPosition.fire(ne);const X={selection:G.selections[0],secondarySelections:G.selections.slice(1),modelVersionId:G.modelVersionId,oldSelections:G.oldSelections,oldModelVersionId:G.oldModelVersionId,source:G.source,reason:G.reason};this._onDidChangeCursorSelection.fire(X);break}}}));const[se,oe]=this._createView(Q);if(oe){this._domElement.appendChild(se.domNode.domNode);let G=Object.keys(this._contentWidgets);for(let j=0,ne=G.length;j<ne;j++){const X=G[j];se.addContentWidget(this._contentWidgets[X])}G=Object.keys(this._overlayWidgets);for(let j=0,ne=G.length;j<ne;j++){const X=G[j];se.addOverlayWidget(this._overlayWidgets[X])}se.render(!1,!0),se.domNode.domNode.setAttribute("data-uri",V.uri.toString())}this._modelData=new B(V,Q,se,oe,U)}_createView(V){let U;this.isSimpleWidget?U={paste:(oe,G,j,ne)=>{this._paste("keyboard",oe,G,j,ne)},type:oe=>{this._type("keyboard",oe)},compositionType:(oe,G,j,ne)=>{this._compositionType("keyboard",oe,G,j,ne)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:U={paste:(oe,G,j,ne)=>{const X={text:oe,pasteOnNewLine:G,multicursorText:j,mode:ne};this._commandService.executeCommand("paste",X)},type:oe=>{const G={text:oe};this._commandService.executeCommand("type",G)},compositionType:(oe,G,j,ne)=>{if(j||ne){const X={text:oe,replacePrevCharCnt:G,replaceNextCharCnt:j,positionDelta:ne};this._commandService.executeCommand("compositionType",X)}else{const X={text:oe,replaceCharCnt:G};this._commandService.executeCommand("replacePreviousChar",X)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const Q=new a.ViewUserInputEvents(V.coordinatesConverter);return Q.onKeyDown=oe=>this._onKeyDown.fire(oe),Q.onKeyUp=oe=>this._onKeyUp.fire(oe),Q.onContextMenu=oe=>this._onContextMenu.fire(oe),Q.onMouseMove=oe=>this._onMouseMove.fire(oe),Q.onMouseLeave=oe=>this._onMouseLeave.fire(oe),Q.onMouseDown=oe=>this._onMouseDown.fire(oe),Q.onMouseUp=oe=>this._onMouseUp.fire(oe),Q.onMouseDrag=oe=>this._onMouseDrag.fire(oe),Q.onMouseDrop=oe=>this._onMouseDrop.fire(oe),Q.onMouseDropCanceled=oe=>this._onMouseDropCanceled.fire(oe),Q.onMouseWheel=oe=>this._onMouseWheel.fire(oe),[new u.View(U,this._configuration,this._themeService,V,Q,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(V){V&&V.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const V=this._modelData.model,U=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),U&&this._domElement.contains(U)&&this._domElement.removeChild(U),V}_removeDecorationType(V){this._codeEditorService.removeDecorationType(V)}hasModel(){return this._modelData!==null}};H=Me([pe(3,N.IInstantiationService),pe(4,p.ICodeEditorService),pe(5,y.ICommandService),pe(6,L.IContextKeyService),pe(7,R.IThemeService),pe(8,D.INotificationService),pe(9,P.IAccessibilityService)],H),e.CodeEditorWidget=H;class K extends S.Disposable{constructor(){super();this._onDidChangeToTrue=this._register(new w.Emitter),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new w.Emitter),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(V){const U=V?2:1;this._value!==U&&(this._value=U,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}e.BooleanEventEmitter=K;class q extends S.Disposable{constructor(V,U){super();this._editor=V,U.createKey("editorId",V.getId()),this._editorSimpleInput=h.EditorContextKeys.editorSimpleInput.bindTo(U),this._editorFocus=h.EditorContextKeys.focus.bindTo(U),this._textInputFocus=h.EditorContextKeys.textInputFocus.bindTo(U),this._editorTextFocus=h.EditorContextKeys.editorTextFocus.bindTo(U),this._editorTabMovesFocus=h.EditorContextKeys.tabMovesFocus.bindTo(U),this._editorReadonly=h.EditorContextKeys.readOnly.bindTo(U),this._inDiffEditor=h.EditorContextKeys.inDiffEditor.bindTo(U),this._editorColumnSelection=h.EditorContextKeys.columnSelection.bindTo(U),this._hasMultipleSelections=h.EditorContextKeys.hasMultipleSelections.bindTo(U),this._hasNonEmptySelection=h.EditorContextKeys.hasNonEmptySelection.bindTo(U),this._canUndo=h.EditorContextKeys.canUndo.bindTo(U),this._canRedo=h.EditorContextKeys.canRedo.bindTo(U),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const V=this._editor.getOptions();this._editorTabMovesFocus.set(V.get(126)),this._editorReadonly.set(V.get(77)),this._inDiffEditor.set(V.get(51)),this._editorColumnSelection.set(V.get(16))}_updateFromSelection(){const V=this._editor.getSelections();V?(this._hasMultipleSelections.set(V.length>1),this._hasNonEmptySelection.set(V.some(U=>!U.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const V=this._editor.getModel();this._canUndo.set(Boolean(V&&V.canUndo())),this._canRedo.set(Boolean(V&&V.canRedo()))}}class Y extends S.Disposable{constructor(V,U){super();this._editor=V,this._contextKeyService=U,this._langId=h.EditorContextKeys.languageId.bindTo(U),this._hasCompletionItemProvider=h.EditorContextKeys.hasCompletionItemProvider.bindTo(U),this._hasCodeActionsProvider=h.EditorContextKeys.hasCodeActionsProvider.bindTo(U),this._hasCodeLensProvider=h.EditorContextKeys.hasCodeLensProvider.bindTo(U),this._hasDefinitionProvider=h.EditorContextKeys.hasDefinitionProvider.bindTo(U),this._hasDeclarationProvider=h.EditorContextKeys.hasDeclarationProvider.bindTo(U),this._hasImplementationProvider=h.EditorContextKeys.hasImplementationProvider.bindTo(U),this._hasTypeDefinitionProvider=h.EditorContextKeys.hasTypeDefinitionProvider.bindTo(U),this._hasHoverProvider=h.EditorContextKeys.hasHoverProvider.bindTo(U),this._hasDocumentHighlightProvider=h.EditorContextKeys.hasDocumentHighlightProvider.bindTo(U),this._hasDocumentSymbolProvider=h.EditorContextKeys.hasDocumentSymbolProvider.bindTo(U),this._hasReferenceProvider=h.EditorContextKeys.hasReferenceProvider.bindTo(U),this._hasRenameProvider=h.EditorContextKeys.hasRenameProvider.bindTo(U),this._hasSignatureHelpProvider=h.EditorContextKeys.hasSignatureHelpProvider.bindTo(U),this._hasInlineHintsProvider=h.EditorContextKeys.hasInlineHintsProvider.bindTo(U),this._hasDocumentFormattingProvider=h.EditorContextKeys.hasDocumentFormattingProvider.bindTo(U),this._hasDocumentSelectionFormattingProvider=h.EditorContextKeys.hasDocumentSelectionFormattingProvider.bindTo(U),this._hasMultipleDocumentFormattingProvider=h.EditorContextKeys.hasMultipleDocumentFormattingProvider.bindTo(U),this._hasMultipleDocumentSelectionFormattingProvider=h.EditorContextKeys.hasMultipleDocumentSelectionFormattingProvider.bindTo(U),this._isInWalkThrough=h.EditorContextKeys.isInWalkThroughSnippet.bindTo(U);const Q=()=>this._update();this._register(V.onDidChangeModel(Q)),this._register(V.onDidChangeModelLanguage(Q)),this._register(g.CompletionProviderRegistry.onDidChange(Q)),this._register(g.CodeActionProviderRegistry.onDidChange(Q)),this._register(g.CodeLensProviderRegistry.onDidChange(Q)),this._register(g.DefinitionProviderRegistry.onDidChange(Q)),this._register(g.DeclarationProviderRegistry.onDidChange(Q)),this._register(g.ImplementationProviderRegistry.onDidChange(Q)),this._register(g.TypeDefinitionProviderRegistry.onDidChange(Q)),this._register(g.HoverProviderRegistry.onDidChange(Q)),this._register(g.DocumentHighlightProviderRegistry.onDidChange(Q)),this._register(g.DocumentSymbolProviderRegistry.onDidChange(Q)),this._register(g.ReferenceProviderRegistry.onDidChange(Q)),this._register(g.RenameProviderRegistry.onDidChange(Q)),this._register(g.DocumentFormattingEditProviderRegistry.onDidChange(Q)),this._register(g.DocumentRangeFormattingEditProviderRegistry.onDidChange(Q)),this._register(g.SignatureHelpProviderRegistry.onDidChange(Q)),this._register(g.InlineHintsProviderRegistry.onDidChange(Q)),Q()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const V=this._editor.getModel();if(!V){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(V.getLanguageIdentifier().language),this._hasCompletionItemProvider.set(g.CompletionProviderRegistry.has(V)),this._hasCodeActionsProvider.set(g.CodeActionProviderRegistry.has(V)),this._hasCodeLensProvider.set(g.CodeLensProviderRegistry.has(V)),this._hasDefinitionProvider.set(g.DefinitionProviderRegistry.has(V)),this._hasDeclarationProvider.set(g.DeclarationProviderRegistry.has(V)),this._hasImplementationProvider.set(g.ImplementationProviderRegistry.has(V)),this._hasTypeDefinitionProvider.set(g.TypeDefinitionProviderRegistry.has(V)),this._hasHoverProvider.set(g.HoverProviderRegistry.has(V)),this._hasDocumentHighlightProvider.set(g.DocumentHighlightProviderRegistry.has(V)),this._hasDocumentSymbolProvider.set(g.DocumentSymbolProviderRegistry.has(V)),this._hasReferenceProvider.set(g.ReferenceProviderRegistry.has(V)),this._hasRenameProvider.set(g.RenameProviderRegistry.has(V)),this._hasSignatureHelpProvider.set(g.SignatureHelpProviderRegistry.has(V)),this._hasInlineHintsProvider.set(g.InlineHintsProviderRegistry.has(V)),this._hasDocumentFormattingProvider.set(g.DocumentFormattingEditProviderRegistry.has(V)||g.DocumentRangeFormattingEditProviderRegistry.has(V)),this._hasDocumentSelectionFormattingProvider.set(g.DocumentRangeFormattingEditProviderRegistry.has(V)),this._hasMultipleDocumentFormattingProvider.set(g.DocumentFormattingEditProviderRegistry.all(V).length+g.DocumentRangeFormattingEditProviderRegistry.all(V).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(g.DocumentRangeFormattingEditProviderRegistry.all(V).length>1),this._isInWalkThrough.set(V.uri.scheme===_.Schemas.walkThroughSnippet)})}}e.EditorModeContext=Y;class te extends S.Disposable{constructor(V){super();this._onChange=this._register(new w.Emitter),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(I.trackFocus(V)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}const ie=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),ae=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function le(z){return ie+encodeURIComponent(z.toString())+ae}const Z=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),T=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function x(z){return Z+encodeURIComponent(z.toString())+T}(0,R.registerThemingParticipant)((z,V)=>{const U=z.getColor(f.editorErrorBorder);U&&V.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${U}; }`);const Q=z.getColor(f.editorErrorForeground);Q&&V.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${le(Q)}") repeat-x bottom left; }`);const se=z.getColor(f.editorErrorBackground);se&&V.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${se}; }`);const oe=z.getColor(f.editorWarningBorder);oe&&V.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${oe}; }`);const G=z.getColor(f.editorWarningForeground);G&&V.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${le(G)}") repeat-x bottom left; }`);const j=z.getColor(f.editorWarningBackground);j&&V.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${j}; }`);const ne=z.getColor(f.editorInfoBorder);ne&&V.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${ne}; }`);const X=z.getColor(f.editorInfoForeground);X&&V.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${le(X)}") repeat-x bottom left; }`);const de=z.getColor(f.editorInfoBackground);de&&V.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${de}; }`);const he=z.getColor(f.editorHintBorder);he&&V.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${he}; }`);const re=z.getColor(f.editorHintForeground);re&&V.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${x(re)}") no-repeat bottom left; }`);const ue=z.getColor(m.editorUnnecessaryCodeOpacity);ue&&V.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${ue.rgba.a}; }`);const me=z.getColor(m.editorUnnecessaryCodeBorder);me&&V.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${me}; }`);const be=z.getColor(f.editorForeground)||"inherit";V.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${be}}`)})}),define(J[144],ee([0,1,40,28,143,26,16,9,32,12,65]),function($,e,v,I,k,w,S,_,C,i,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmbeddedCodeEditorWidget=void 0;let u=class extends k.CodeEditorWidget{constructor(l,c,d,r,n,s,t,o,h,g){super(l,Object.assign(Object.assign({},d.getRawOptions()),{overflowWidgetsDomNode:d.getOverflowWidgetsDomNode()}),{},r,n,s,t,o,h,g);this._parentEditor=d,this._overwriteOptions=c,super.updateOptions(this._overwriteOptions),this._register(d.onDidChangeConfiguration(m=>this._onParentConfigurationChanged(m)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(l){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(l){v.mixin(this._overwriteOptions,l,!0),super.updateOptions(this._overwriteOptions)}};u=Me([pe(3,_.IInstantiationService),pe(4,I.ICodeEditorService),pe(5,w.ICommandService),pe(6,S.IContextKeyService),pe(7,i.IThemeService),pe(8,C.INotificationService),pe(9,p.IAccessibilityService)],u),e.EmbeddedCodeEditorWidget=u}),define(J[613],ee([0,1,13,462,25,21,39,16,74,41,336]),function($,e,v,I,k,w,S,_,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionAnchorSet=void 0,e.SelectionAnchorSet=new _.RawContextKey("selectionAnchorSet",!1);let p=class Ft{constructor(r,n){this.editor=r,this.selectionAnchorSetContextKey=e.SelectionAnchorSet.bindTo(n),this.modelChangeListener=r.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}static get(r){return r.getContribution(Ft.ID)}setSelectionAnchor(){if(this.editor.hasModel()){const r=this.editor.getPosition(),n=this.decorationId?[this.decorationId]:[],s=this.editor.deltaDecorations(n,[{range:w.Selection.fromPositions(r,r),options:{stickiness:1,hoverMessage:new C.MarkdownString().appendText((0,I.localize)(0,null)),className:"selection-anchor"}}]);this.decorationId=s[0],this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,i.alert)((0,I.localize)(1,null,r.lineNumber,r.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const r=this.editor.getModel().getDecorationRange(this.decorationId);r&&this.editor.setPosition(r.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const r=this.editor.getModel().getDecorationRange(this.decorationId);if(r){const n=this.editor.getPosition();this.editor.setSelection(w.Selection.fromPositions(r.getStartPosition(),n)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){this.decorationId&&(this.editor.deltaDecorations([this.decorationId],[]),this.decorationId=void 0,this.selectionAnchorSetContextKey.set(!1))}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};p.ID="editor.contrib.selectionAnchorController",p=Me([pe(1,_.IContextKeyService)],p);class u extends v.EditorAction{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,I.localize)(2,null),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:k.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|32),weight:100}})}run(r,n){return Ie(this,void 0,void 0,function*(){p.get(n).setSelectionAnchor()})}}class a extends v.EditorAction{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,I.localize)(3,null),alias:"Go to Selection Anchor",precondition:e.SelectionAnchorSet})}run(r,n){return Ie(this,void 0,void 0,function*(){p.get(n).goToSelectionAnchor()})}}class l extends v.EditorAction{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,I.localize)(4,null),alias:"Select from Anchor to Cursor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:k.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|41),weight:100}})}run(r,n){return Ie(this,void 0,void 0,function*(){p.get(n).selectFromAnchorToCursor()})}}class c extends v.EditorAction{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,I.localize)(5,null),alias:"Cancel Selection Anchor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:k.EditorContextKeys.editorTextFocus,primary:9,weight:100}})}run(r,n){return Ie(this,void 0,void 0,function*(){p.get(n).cancelSelectionAnchor()})}}(0,v.registerEditorContribution)(p.ID,p),(0,v.registerEditorAction)(u),(0,v.registerEditorAction)(a),(0,v.registerEditorAction)(l),(0,v.registerEditorAction)(c)}),define(J[614],ee([0,1,463,15,2,13,14,3,21,25,53,31,49,22,12,34,337]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketMatchingController=void 0;const r=(0,l.registerColor)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hc:"#A0A0A0"},v.localize(0,null));class n extends w.EditorAction{constructor(){super({id:"editor.action.jumpToBracket",label:v.localize(1,null),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:2048|1024|88,weight:100}})}run(g,m){let f=o.get(m);!f||f.jumpToBracket()}}class s extends w.EditorAction{constructor(){super({id:"editor.action.selectToBracket",label:v.localize(2,null),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(g,m,f){const b=o.get(m);if(!!b){let y=!0;f&&f.selectBrackets===!1&&(y=!1),b.selectToBracket(y)}}}class t{constructor(g,m,f){this.position=g,this.brackets=m,this.options=f}}class o extends k.Disposable{constructor(g){super();this._editor=g,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=[],this._updateBracketsSoon=this._register(new I.RunOnceScheduler(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(60),this._updateBracketsSoon.schedule(),this._register(g.onDidChangeCursorPosition(m=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(g.onDidChangeModelContent(m=>{this._updateBracketsSoon.schedule()})),this._register(g.onDidChangeModel(m=>{this._lastBracketsData=[],this._decorations=[],this._updateBracketsSoon.schedule()})),this._register(g.onDidChangeModelLanguageConfiguration(m=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(g.onDidChangeConfiguration(m=>{m.hasChanged(60)&&(this._matchBrackets=this._editor.getOption(60),this._decorations=this._editor.deltaDecorations(this._decorations,[]),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())}))}static get(g){return g.getContribution(o.ID)}jumpToBracket(){if(!!this._editor.hasModel()){const g=this._editor.getModel(),m=this._editor.getSelections().map(f=>{const b=f.getStartPosition(),y=g.matchBracket(b);let L=null;if(y)y[0].containsPosition(b)?L=y[1].getStartPosition():y[1].containsPosition(b)&&(L=y[0].getStartPosition());else{const N=g.findEnclosingBrackets(b);if(N)L=N[0].getStartPosition();else{const M=g.findNextBracket(b);M&&M.range&&(L=M.range.getStartPosition())}}return L?new C.Selection(L.lineNumber,L.column,L.lineNumber,L.column):new C.Selection(b.lineNumber,b.column,b.lineNumber,b.column)});this._editor.setSelections(m),this._editor.revealRange(m[0])}}selectToBracket(g){if(!!this._editor.hasModel()){const m=this._editor.getModel(),f=[];this._editor.getSelections().forEach(b=>{const y=b.getStartPosition();let L=m.matchBracket(y);if(!L&&(L=m.findEnclosingBrackets(y),!L)){const D=m.findNextBracket(y);D&&D.range&&(L=m.matchBracket(D.range.getStartPosition()))}let N=null,M=null;if(L){L.sort(_.Range.compareRangesUsingStarts);const[D,R]=L;N=g?D.getStartPosition():D.getEndPosition(),M=g?R.getEndPosition():R.getStartPosition()}N&&M&&f.push(new C.Selection(N.lineNumber,N.column,M.lineNumber,M.column))}),f.length>0&&(this._editor.setSelections(f),this._editor.revealRange(f[0]))}}_updateBrackets(){if(this._matchBrackets!=="never"){this._recomputeBrackets();let g=[],m=0;for(const f of this._lastBracketsData){let b=f.brackets;b&&(g[m++]={range:b[0],options:f.options},g[m++]={range:b[1],options:f.options})}this._decorations=this._editor.deltaDecorations(this._decorations,g)}}_recomputeBrackets(){if(!this._editor.hasModel()){this._lastBracketsData=[],this._lastVersionId=0;return}const g=this._editor.getSelections();if(g.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const m=this._editor.getModel(),f=m.getVersionId();let b=[];this._lastVersionId===f&&(b=this._lastBracketsData);let y=[],L=0;for(let P=0,O=g.length;P<O;P++){let W=g[P];W.isEmpty()&&(y[L++]=W.getStartPosition())}y.length>1&&y.sort(S.Position.compare);let N=[],M=0,D=0,R=b.length;for(let P=0,O=y.length;P<O;P++){let W=y[P];for(;D<R&&b[D].position.isBefore(W);)D++;if(D<R&&b[D].position.equals(W))N[M++]=b[D];else{let F=m.matchBracket(W),E=o._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!F&&this._matchBrackets==="always"&&(F=m.findEnclosingBrackets(W,20),E=o._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),N[M++]=new t(W,F,E)}}this._lastBracketsData=N,this._lastVersionId=f}}e.BracketMatchingController=o,o.ID="editor.contrib.bracketMatchingController",o._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=u.ModelDecorationOptions.register({stickiness:1,className:"bracket-match",overviewRuler:{color:(0,c.themeColorFromId)(r),position:p.OverviewRulerLane.Center}}),o._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=u.ModelDecorationOptions.register({stickiness:1,className:"bracket-match"}),(0,w.registerEditorContribution)(o.ID,o),(0,w.registerEditorAction)(s),(0,w.registerEditorAction)(n),(0,c.registerThemingParticipant)((h,g)=>{const m=h.getColor(a.editorBracketMatchBackground);m&&g.addRule(`.monaco-editor .bracket-match { background-color: ${m}; }`);const f=h.getColor(a.editorBracketMatchBorder);f&&g.addRule(`.monaco-editor .bracket-match { border: 1px solid ${f}; }`)}),d.MenuRegistry.appendMenuItem(d.MenuId.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:v.localize(3,null)},order:2})}),define(J[615],ee([0,1,464,13,25,400]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class S extends I.EditorAction{constructor(p,u){super(u);this.left=p}run(p,u){if(!!u.hasModel()){let a=[],l=u.getSelections();for(const c of l)a.push(new w.MoveCaretCommand(c,this.left));u.pushUndoStop(),u.executeCommands(this.id,a),u.pushUndoStop()}}}class _ extends S{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:v.localize(0,null),alias:"Move Selected Text Left",precondition:k.EditorContextKeys.writable})}}class C extends S{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:v.localize(1,null),alias:"Move Selected Text Right",precondition:k.EditorContextKeys.writable})}}(0,I.registerEditorAction)(_),(0,I.registerEditorAction)(C)}),define(J[616],ee([0,1,465,13,92,3,25,181]),function($,e,v,I,k,w,S,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class C extends I.EditorAction{constructor(){super({id:"editor.action.transposeLetters",label:v.localize(0,null),alias:"Transpose Letters",precondition:S.EditorContextKeys.writable,kbOpts:{kbExpr:S.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|50},weight:100}})}run(p,u){if(!!u.hasModel()){let a=u.getModel(),l=[],c=u.getSelections();for(let d of c)if(!!d.isEmpty()){let r=d.startLineNumber,n=d.startColumn,s=a.getLineMaxColumn(r);if(!(r===1&&(n===1||n===2&&s===2))){let t=n===s?d.getPosition():_.MoveOperations.rightPosition(a,d.getPosition().lineNumber,d.getPosition().column),o=_.MoveOperations.leftPosition(a,t.lineNumber,t.column),h=_.MoveOperations.leftPosition(a,o.lineNumber,o.column),g=a.getValueInRange(w.Range.fromPositions(h,o)),m=a.getValueInRange(w.Range.fromPositions(o,t)),f=w.Range.fromPositions(h,t);l.push(new k.ReplaceCommand(f,m+g))}}l.length>0&&(u.pushUndoStop(),u.executeCommands(this.id,l),u.pushUndoStop())}}}(0,I.registerEditorAction)(C)}),define(J[617],ee([0,1,466,35,17,164,13,28,25,34,84]),function($,e,v,I,k,w,S,_,C,i,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PasteAction=e.CopyAction=e.CutAction=void 0;const u="9_cutcopypaste",a=k.isNative||document.queryCommandSupported("cut"),l=k.isNative||document.queryCommandSupported("copy"),c=typeof navigator.clipboard=="undefined"||I.isFirefox?document.queryCommandSupported("paste"):!0;function d(s){return s.register(),s}e.CutAction=a?d(new S.MultiCommand({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:k.isNative?{primary:2048|54,win:{primary:2048|54,secondary:[1024|20]},weight:100}:void 0,menuOpts:[{menuId:i.MenuId.MenubarEditMenu,group:"2_ccp",title:v.localize(0,null),order:1},{menuId:i.MenuId.EditorContext,group:u,title:v.localize(1,null),when:C.EditorContextKeys.writable,order:1},{menuId:i.MenuId.CommandPalette,group:"",title:v.localize(2,null),order:1}]})):void 0,e.CopyAction=l?d(new S.MultiCommand({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:k.isNative?{primary:2048|33,win:{primary:2048|33,secondary:[2048|19]},weight:100}:void 0,menuOpts:[{menuId:i.MenuId.MenubarEditMenu,group:"2_ccp",title:v.localize(3,null),order:2},{menuId:i.MenuId.EditorContext,group:u,title:v.localize(4,null),order:2},{menuId:i.MenuId.CommandPalette,group:"",title:v.localize(5,null),order:1}]})):void 0,i.MenuRegistry.appendMenuItem(i.MenuId.MenubarEditMenu,{submenu:i.MenuId.MenubarCopy,title:{value:v.localize(6,null),original:"Copy As"},group:"2_ccp",order:3}),i.MenuRegistry.appendMenuItem(i.MenuId.EditorContext,{submenu:i.MenuId.EditorContextCopy,title:{value:v.localize(7,null),original:"Copy As"},group:u,order:3}),e.PasteAction=c?d(new S.MultiCommand({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:k.isNative?{primary:2048|52,win:{primary:2048|52,secondary:[1024|19]},linux:{primary:2048|52,secondary:[1024|19]},weight:100}:void 0,menuOpts:[{menuId:i.MenuId.MenubarEditMenu,group:"2_ccp",title:v.localize(8,null),order:4},{menuId:i.MenuId.EditorContext,group:u,title:v.localize(9,null),when:C.EditorContextKeys.writable,order:4},{menuId:i.MenuId.CommandPalette,group:"",title:v.localize(10,null),order:1}]})):void 0;class r extends S.EditorAction{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:v.localize(11,null),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.textInputFocus,primary:0,weight:100}})}run(t,o){!o.hasModel()||!o.getOption(30)&&o.getSelection().isEmpty()||(w.CopyOptions.forceCopyWithSyntaxHighlighting=!0,o.focus(),document.execCommand("copy"),w.CopyOptions.forceCopyWithSyntaxHighlighting=!1)}}function n(s,t){!s||(s.addImplementation(1e4,"code-editor",(o,h)=>{const g=o.get(_.ICodeEditorService).getFocusedCodeEditor();if(g&&g.hasTextFocus()){const m=g.getOption(30),f=g.getSelection();return f&&f.isEmpty()&&!m||document.execCommand(t),!0}return!1}),s.addImplementation(0,"generic-dom",(o,h)=>(document.execCommand(t),!0)))}n(e.CutAction,"cut"),n(e.CopyAction,"copy"),e.PasteAction&&(e.PasteAction.addImplementation(1e4,"code-editor",(s,t)=>{const o=s.get(_.ICodeEditorService),h=s.get(p.IClipboardService),g=o.getFocusedCodeEditor();return g&&g.hasTextFocus()?(!document.execCommand("paste")&&k.isWeb&&(()=>Ie(void 0,void 0,void 0,function*(){const f=yield h.readText();if(f!==""){const b=w.InMemoryClipboardMetadataManager.INSTANCE.get(f);let y=!1,L=null,N=null;b&&(y=g.getOption(30)&&!!b.isFromEmptySelection,L=typeof b.multicursorText!="undefined"?b.multicursorText:null,N=b.mode),g.trigger("keyboard","paste",{text:f,pasteOnNewLine:y,multicursorText:L,mode:N})}}))(),!0):!1}),e.PasteAction.addImplementation(0,"generic-dom",(s,t)=>(document.execCommand("paste"),!0))),l&&(0,S.registerEditorAction)(r)}),define(J[145],ee([0,1,19,23,11,2,24,71,3,21,18,36,131,59,26]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeActions=e.CodeActionItem=e.fixAllCommandId=e.organizeImportsCommandId=e.sourceActionCommandId=e.refactorCommandId=e.codeActionCommandId=void 0,e.codeActionCommandId="editor.action.codeAction",e.refactorCommandId="editor.action.refactor",e.sourceActionCommandId="editor.action.sourceAction",e.organizeImportsCommandId="editor.action.organizeImports",e.fixAllCommandId="editor.action.fixAll";class d{constructor(g,m){this.action=g,this.provider=m}resolve(g){var m;return Ie(this,void 0,void 0,function*(){if(((m=this.provider)===null||m===void 0?void 0:m.resolveCodeAction)&&!this.action.edit){let f;try{f=yield this.provider.resolveCodeAction(this.action,g)}catch(b){(0,k.onUnexpectedExternalError)(b)}f&&(this.action.edit=f.edit)}return this})}}e.CodeActionItem=d;class r extends w.Disposable{constructor(g,m,f){super();this.documentation=m,this._register(f),this.allActions=[...g].sort(r.codeActionsComparator),this.validActions=this.allActions.filter(({action:b})=>!b.disabled)}static codeActionsComparator({action:g},{action:m}){return g.isPreferred&&!m.isPreferred?-1:!g.isPreferred&&m.isPreferred?1:(0,v.isNonEmptyArray)(g.diagnostics)?(0,v.isNonEmptyArray)(m.diagnostics)?g.diagnostics[0].message.localeCompare(m.diagnostics[0].message):-1:(0,v.isNonEmptyArray)(m.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some(({action:g})=>!!g.kind&&a.CodeActionKind.QuickFix.contains(new a.CodeActionKind(g.kind))&&!!g.isPreferred)}}const n={actions:[],documentation:void 0};function s(h,g,m,f,b){var y;const L=m.filter||{},N={only:(y=L.include)===null||y===void 0?void 0:y.value,trigger:m.type},M=new _.TextModelCancellationTokenSource(h,b),D=t(h,L),R=new w.DisposableStore,P=D.map(W=>Ie(this,void 0,void 0,function*(){try{f.report(W);const F=yield W.provideCodeActions(h,g,N,M.token);if(F&&R.add(F),M.token.isCancellationRequested)return n;const E=((F==null?void 0:F.actions)||[]).filter(B=>B&&(0,a.filtersAction)(L,B)),A=o(W,E,L.include);return{actions:E.map(B=>new d(B,W)),documentation:A}}catch(F){if((0,k.isPromiseCanceledError)(F))throw F;return(0,k.onUnexpectedExternalError)(F),n}})),O=p.CodeActionProviderRegistry.onDidChange(()=>{const W=p.CodeActionProviderRegistry.all(h);(0,v.equals)(W,D)||M.cancel()});return Promise.all(P).then(W=>{const F=(0,v.flatten)(W.map(A=>A.actions)),E=(0,v.coalesce)(W.map(A=>A.documentation));return new r(F,E,R)}).finally(()=>{O.dispose(),M.dispose()})}e.getCodeActions=s;function t(h,g){return p.CodeActionProviderRegistry.all(h).filter(m=>m.providedCodeActionKinds?m.providedCodeActionKinds.some(f=>(0,a.mayIncludeActionsOfKind)(g,new a.CodeActionKind(f))):!0)}function o(h,g,m){if(!!h.documentation){const f=h.documentation.map(b=>({kind:new a.CodeActionKind(b.kind),command:b.command}));if(m){let b;for(const y of f)y.kind.contains(m)&&(b?b.kind.contains(y.kind)&&(b=y):b=y);if(b)return b==null?void 0:b.command}for(const b of g)if(!!b.kind){for(const y of f)if(y.kind.contains(new a.CodeActionKind(b.kind)))return y.command}}}c.CommandsRegistry.registerCommand("_executeCodeActionProvider",function(h,g,m,f,b){return Ie(this,void 0,void 0,function*(){if(!(g instanceof S.URI))throw(0,k.illegalArgument)();const y=h.get(u.IModelService).getModel(g);if(!y)throw(0,k.illegalArgument)();const L=i.Selection.isISelection(m)?i.Selection.liftSelection(m):C.Range.isIRange(m)?y.validateRange(m):void 0;if(!L)throw(0,k.illegalArgument)();const N=typeof f=="string"?new a.CodeActionKind(f):void 0,M=yield s(y,L,{type:1,filter:{includeSourceActions:!0,include:N}},l.Progress.None,I.CancellationToken.None),D=[],R=Math.min(M.validActions.length,typeof b=="number"?b:0);for(let P=0;P<R;P++)D.push(M.validActions[P].resolve(I.CancellationToken.None));try{return yield Promise.all(D),M.validActions.map(P=>P.action)}finally{setTimeout(()=>M.dispose(),100)}})})}),define(J[618],ee([0,1,7,48,11,150,2,14,18,145,131,68,37]),function($,e,v,I,k,w,S,_,C,i,p,u,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionKeybindingResolver=e.CodeActionMenu=void 0;class l extends I.Action{constructor(s,t){super(s.command?s.command.id:s.title,c(s.title),void 0,!s.disabled,t);this.action=s}}function c(n){return n.replace(/\r\n|\r|\n/g," ")}let d=class extends S.Disposable{constructor(s,t,o,h){super();this._editor=s,this._delegate=t,this._contextMenuService=o,this._visible=!1,this._showingActions=this._register(new S.MutableDisposable),this._keybindingResolver=new r({getKeybindings:()=>h.getKeybindings()})}get isVisible(){return this._visible}show(s,t,o,h){return Ie(this,void 0,void 0,function*(){const g=h.includeDisabledActions?t.allActions:t.validActions;if(!g.length){this._visible=!1;return}if(!this._editor.getDomNode())throw this._visible=!1,(0,k.canceled)();this._visible=!0,this._showingActions.value=t;const m=this.getMenuActions(s,g,t.documentation),f=_.Position.isIPosition(o)?this._toCoords(o):o||{x:0,y:0},b=this._keybindingResolver.getResolver(),y=this._editor.getOption(111);this._contextMenuService.showContextMenu({domForShadowRoot:y?this._editor.getDomNode():void 0,getAnchor:()=>f,getActions:()=>m,onHide:()=>{this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:L=>L instanceof l?b(L.action):void 0})})}getMenuActions(s,t,o){var h,g;const m=L=>new l(L.action,()=>this._delegate.onSelectCodeAction(L)),f=t.map(m),b=[...o],y=this._editor.getModel();if(y&&f.length)for(const L of C.CodeActionProviderRegistry.all(y))L._getAdditionalMenuItems&&b.push(...L._getAdditionalMenuItems({trigger:s.type,only:(g=(h=s.filter)===null||h===void 0?void 0:h.include)===null||g===void 0?void 0:g.value},t.map(N=>N.action)));return b.length&&f.push(new I.Separator,...b.map(L=>m(new i.CodeActionItem({title:L.title,command:L},void 0)))),f}_toCoords(s){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(s,1),this._editor.render();const t=this._editor.getScrolledVisiblePosition(s),o=(0,v.getDomNodePagePosition)(this._editor.getDomNode()),h=o.left+t.left,g=o.top+t.top+t.height;return{x:h,y:g}}};d=Me([pe(2,u.IContextMenuService),pe(3,a.IKeybindingService)],d),e.CodeActionMenu=d;class r{constructor(s){this._keybindingProvider=s}getResolver(){const s=new w.Lazy(()=>this._keybindingProvider.getKeybindings().filter(t=>r.codeActionCommands.indexOf(t.command)>=0).filter(t=>t.resolvedKeybinding).map(t=>{let o=t.commandArgs;return t.command===i.organizeImportsCommandId?o={kind:p.CodeActionKind.SourceOrganizeImports.value}:t.command===i.fixAllCommandId&&(o={kind:p.CodeActionKind.SourceFixAll.value}),Object.assign({resolvedKeybinding:t.resolvedKeybinding},p.CodeActionCommandArgs.fromUser(o,{kind:p.CodeActionKind.None,apply:"never"}))}));return t=>{if(t.kind){const o=this.bestKeybindingForCodeAction(t,s.getValue());return o==null?void 0:o.resolvedKeybinding}}}bestKeybindingForCodeAction(s,t){if(!!s.kind){const o=new p.CodeActionKind(s.kind);return t.filter(h=>h.kind.contains(o)).filter(h=>h.preferred?s.isPreferred:!0).reduceRight((h,g)=>h?h.kind.contains(g.kind)?g:h:g,void 0)}}}e.CodeActionKeybindingResolver=r,r.codeActionCommands=[i.refactorCommandId,i.codeActionCommandId,i.sourceActionCommandId,i.organizeImportsCommandId,i.fixAllCommandId]});var tt=this&&this.__classPrivateFieldGet||function($,e,v,I){if(v==="a"&&!I)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?$!==e||!I:!e.has($))throw new TypeError("Cannot read private member from an object whose class did not declare it");return v==="m"?I:v==="a"?I.call($):I?I.value:e.get($)},_t=this&&this.__classPrivateFieldSet||function($,e,v,I,k){if(I==="m")throw new TypeError("Private method is not writable");if(I==="a"&&!k)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?$!==e||!k:!e.has($))throw new TypeError("Cannot write private member to an object whose class did not declare it");return I==="a"?k.call($,v):k?k.value=v:e.set($,v),v};define(J[619],ee([0,1,15,11,6,2,45,3,18,16,59,145]),function($,e,v,I,k,w,S,_,C,i,p,u){"use strict";var a;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionModel=e.CodeActionsState=e.SUPPORTED_CODE_ACTIONS=void 0,e.SUPPORTED_CODE_ACTIONS=new i.RawContextKey("supportedCodeAction","");class l extends w.Disposable{constructor(s,t,o,h=250){super();this._editor=s,this._markerService=t,this._signalChange=o,this._delay=h,this._autoTriggerTimer=this._register(new v.TimeoutTimer),this._register(this._markerService.onMarkerChanged(g=>this._onMarkerChanges(g))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(s){const t=this._getRangeOfSelectionUnlessWhitespaceEnclosed(s);return this._createEventAndSignalChange(s,t)}_onMarkerChanges(s){const t=this._editor.getModel();!t||s.some(o=>(0,S.isEqual)(o,t.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_getRangeOfMarker(s){const t=this._editor.getModel();if(!!t)for(const o of this._markerService.read({resource:t.uri})){const h=t.validateRange(o);if(_.Range.intersectRanges(h,s))return _.Range.lift(h)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(s){if(!!this._editor.hasModel()){const t=this._editor.getModel(),o=this._editor.getSelection();if(o.isEmpty()&&s.type===2){const{lineNumber:h,column:g}=o.getPosition(),m=t.getLineContent(h);if(m.length===0)return;if(g===1){if(/\s/.test(m[0]))return}else if(g===t.getLineMaxColumn(h)){if(/\s/.test(m[m.length-1]))return}else if(/\s/.test(m[g-2])&&/\s/.test(m[g-1]))return}return o}}_createEventAndSignalChange(s,t){const o=this._editor.getModel();if(!t||!o){this._signalChange(void 0);return}const h=this._getRangeOfMarker(t),g=h?h.getStartPosition():t.getStartPosition(),m={trigger:s,selection:t,position:g};return this._signalChange(m),m}}var c;(function(n){n.Empty={type:0};class s{constructor(o,h,g,m){this.trigger=o,this.rangeOrSelection=h,this.position=g,this._cancellablePromise=m,this.type=1,this.actions=m.catch(f=>{if((0,I.isPromiseCanceledError)(f))return d;throw f})}cancel(){this._cancellablePromise.cancel()}}n.Triggered=s})(c=e.CodeActionsState||(e.CodeActionsState={}));const d={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1};class r extends w.Disposable{constructor(s,t,o,h){super();this._editor=s,this._markerService=t,this._progressService=h,this._codeActionOracle=this._register(new w.MutableDisposable),this._state=c.Empty,this._onDidChangeState=this._register(new k.Emitter),this.onDidChangeState=this._onDidChangeState.event,a.set(this,!1),this._supportedCodeActions=e.SUPPORTED_CODE_ACTIONS.bindTo(o),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(C.CodeActionProviderRegistry.onDidChange(()=>this._update())),this._update()}dispose(){tt(this,a,"f")||(_t(this,a,!0,"f"),super.dispose(),this.setState(c.Empty,!0))}_update(){if(!tt(this,a,"f")){this._codeActionOracle.value=void 0,this.setState(c.Empty);const s=this._editor.getModel();if(s&&C.CodeActionProviderRegistry.has(s)&&!this._editor.getOption(77)){const t=[];for(const o of C.CodeActionProviderRegistry.all(s))Array.isArray(o.providedCodeActionKinds)&&t.push(...o.providedCodeActionKinds);this._supportedCodeActions.set(t.join(" ")),this._codeActionOracle.value=new l(this._editor,this._markerService,o=>{var h;if(!o){this.setState(c.Empty);return}const g=(0,v.createCancelablePromise)(m=>(0,u.getCodeActions)(s,o.selection,o.trigger,p.Progress.None,m));o.trigger.type===1&&((h=this._progressService)===null||h===void 0||h.showWhile(g,250)),this.setState(new c.Triggered(o.trigger,o.selection,o.position,g))},void 0),this._codeActionOracle.value.trigger({type:2})}else this._supportedCodeActions.reset()}}trigger(s){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(s)}setState(s,t){s!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=s,!t&&!tt(this,a,"f")&&this._onDidChangeState.fire(s))}}e.CodeActionModel=r,a=new WeakMap}),define(J[620],ee([0,1,15,11,2,71,13,18,248,599,26,32,578,7,89,78,469,25,134]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensContribution=void 0;let t=class{constructor(h,g,m,f){this._editor=h,this._commandService=g,this._notificationService=m,this._codeLensCache=f,this._disposables=new k.DisposableStore,this._localToDispose=new k.DisposableStore,this._lenses=[],this._getCodeLensModelDelays=new s.LanguageFeatureRequestDelays(_.CodeLensProviderRegistry,250,2500),this._oldCodeLensModels=new k.DisposableStore,this._resolveCodeLensesDelays=new s.LanguageFeatureRequestDelays(_.CodeLensProviderRegistry,250,2500),this._resolveCodeLensesScheduler=new v.RunOnceScheduler(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDelays.min),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(b=>{(b.hasChanged(40)||b.hasChanged(14)||b.hasChanged(13))&&this._updateLensStyle(),b.hasChanged(12)&&this._onModelChange()})),this._disposables.add(_.CodeLensProviderRegistry.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+(0,c.hash)(this._editor.getId()).toString(16),this._styleElement=l.createStyleSheet(l.isInShadowDOM(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){var h;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(h=this._currentCodeLensModel)===null||h===void 0||h.dispose(),this._styleElement.remove()}_getLayoutInfo(){let h=this._editor.getOption(14),g;return!h||h<5?(h=this._editor.getOption(42)*.9|0,g=this._editor.getOption(55)):g=h*Math.max(1.3,this._editor.getOption(55)/this._editor.getOption(42))|0,{codeLensHeight:g,fontSize:h}}_updateLensStyle(){const{codeLensHeight:h,fontSize:g}=this._getLayoutInfo(),m=this._editor.getOption(13),f=this._editor.getOption(40),b=`--codelens-font-family${this._styleClassName}`,y=`--codelens-font-features${this._styleClassName}`;let L=`
		.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${h}px; font-size: ${g}px; padding-right: ${Math.round(g*.5)}px; font-feature-settings: var(${y}) }
		.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${h}px; font-size: ${g}px; }
		`;m&&(L+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${b})}`),this._styleElement.textContent=L,this._editor.getContainerDomNode().style.setProperty(b,m!=null?m:"inherit"),this._editor.getContainerDomNode().style.setProperty(y,f.fontFeatureSettings),this._editor.changeViewZones(N=>{for(let M of this._lenses)M.updateHeight(h,N)})}_localDispose(){var h,g,m;(h=this._getCodeLensModelPromise)===null||h===void 0||h.cancel(),this._getCodeLensModelPromise=void 0,(g=this._resolveCodeLensesPromise)===null||g===void 0||g.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(m=this._currentCodeLensModel)===null||m===void 0||m.dispose()}_onModelChange(){this._localDispose();const h=this._editor.getModel();if(!!h&&!!this._editor.getOption(12)){const g=this._codeLensCache.get(h);if(g&&this._renderCodeLensSymbols(g),!_.CodeLensProviderRegistry.has(h)){g&&this._localToDispose.add((0,v.disposableTimeout)(()=>{const f=this._codeLensCache.get(h);g===f&&(this._codeLensCache.delete(h),this._onModelChange())},30*1e3));return}for(const f of _.CodeLensProviderRegistry.all(h))if(typeof f.onDidChange=="function"){let b=f.onDidChange(()=>m.schedule());this._localToDispose.add(b)}const m=new v.RunOnceScheduler(()=>{var f;const b=Date.now();(f=this._getCodeLensModelPromise)===null||f===void 0||f.cancel(),this._getCodeLensModelPromise=(0,v.createCancelablePromise)(y=>(0,C.getCodeLensModel)(h,y)),this._getCodeLensModelPromise.then(y=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=y,this._codeLensCache.put(h,y);const L=this._getCodeLensModelDelays.update(h,Date.now()-b);m.delay=L,this._renderCodeLensSymbols(y),this._resolveCodeLensesInViewport()},I.onUnexpectedError)},this._getCodeLensModelDelays.get(h));this._localToDispose.add(m),this._localToDispose.add((0,k.toDisposable)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(f=>{this._editor.changeViewZones(b=>{let y=[],L=-1;this._lenses.forEach(M=>{!M.isValid()||L===M.getLineNumber()?y.push(M):(M.update(b),L=M.getLineNumber())});let N=new i.CodeLensHelper;y.forEach(M=>{M.dispose(N,b),this._lenses.splice(this._lenses.indexOf(M),1)}),N.commit(f)})}),m.schedule()})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{m.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(f=>{f.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,k.toDisposable)(()=>{if(this._editor.getModel()){const f=w.StableEditorScrollState.capture(this._editor);this._editor.changeDecorations(b=>{this._editor.changeViewZones(y=>{this._disposeAllLenses(b,y)})}),f.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(f=>{if(f.target.type===9){let b=f.target.element;if((b==null?void 0:b.tagName)==="SPAN"&&(b=b.parentElement),(b==null?void 0:b.tagName)==="A")for(const y of this._lenses){let L=y.getCommand(b);if(L){this._commandService.executeCommand(L.id,...L.arguments||[]).catch(N=>this._notificationService.error(N));break}}}})),m.schedule()}}_disposeAllLenses(h,g){const m=new i.CodeLensHelper;for(const f of this._lenses)f.dispose(m,g);h&&m.commit(h),this._lenses.length=0}_renderCodeLensSymbols(h){if(!!this._editor.hasModel()){let g=this._editor.getModel().getLineCount(),m=[],f;for(let L of h.lenses){let N=L.symbol.range.startLineNumber;N<1||N>g||(f&&f[f.length-1].symbol.range.startLineNumber===N?f.push(L):(f=[L],m.push(f)))}const b=w.StableEditorScrollState.capture(this._editor),y=this._getLayoutInfo();this._editor.changeDecorations(L=>{this._editor.changeViewZones(N=>{const M=new i.CodeLensHelper;let D=0,R=0;for(;R<m.length&&D<this._lenses.length;){let P=m[R][0].symbol.range.startLineNumber,O=this._lenses[D].getLineNumber();O<P?(this._lenses[D].dispose(M,N),this._lenses.splice(D,1)):O===P?(this._lenses[D].updateCodeLensSymbols(m[R],M),R++,D++):(this._lenses.splice(D,0,new i.CodeLensWidget(m[R],this._editor,this._styleClassName,M,N,y.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),D++,R++)}for(;D<this._lenses.length;)this._lenses[D].dispose(M,N),this._lenses.splice(D,1);for(;R<m.length;)this._lenses.push(new i.CodeLensWidget(m[R],this._editor,this._styleClassName,M,N,y.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),R++;M.commit(L)})}),b.restore(this._editor)}}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var h;(h=this._resolveCodeLensesPromise)===null||h===void 0||h.cancel(),this._resolveCodeLensesPromise=void 0;const g=this._editor.getModel();if(!!g){const m=[],f=[];if(this._lenses.forEach(L=>{const N=L.computeIfNecessary(g);N&&(m.push(N),f.push(L))}),m.length!==0){const b=Date.now(),y=(0,v.createCancelablePromise)(L=>{const N=m.map((M,D)=>{const R=new Array(M.length),P=M.map((O,W)=>!O.symbol.command&&typeof O.provider.resolveCodeLens=="function"?Promise.resolve(O.provider.resolveCodeLens(g,O.symbol,L)).then(F=>{R[W]=F},I.onUnexpectedExternalError):(R[W]=O.symbol,Promise.resolve(void 0)));return Promise.all(P).then(()=>{!L.isCancellationRequested&&!f[D].isDisposed()&&f[D].updateCommands(R)})});return Promise.all(N)});this._resolveCodeLensesPromise=y,this._resolveCodeLensesPromise.then(()=>{const L=this._resolveCodeLensesDelays.update(g,Date.now()-b);this._resolveCodeLensesScheduler.delay=L,this._currentCodeLensModel&&this._codeLensCache.put(g,this._currentCodeLensModel),this._oldCodeLensModels.clear(),y===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},L=>{(0,I.onUnexpectedError)(L),y===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}}}getLenses(){return this._lenses}};t.ID="css.editor.codeLens",t=Me([pe(1,p.ICommandService),pe(2,u.INotificationService),pe(3,a.ICodeLensCache)],t),e.CodeLensContribution=t,(0,S.registerEditorContribution)(t.ID,t),(0,S.registerEditorAction)(class extends S.EditorAction{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:n.EditorContextKeys.hasCodeLensProvider,label:(0,r.localize)(0,null),alias:"Show CodeLens Commands For Current Line"})}run(h,g){return Ie(this,void 0,void 0,function*(){if(!!g.hasModel()){const m=h.get(d.IQuickInputService),f=h.get(p.ICommandService),b=h.get(u.INotificationService),y=g.getSelection().positionLineNumber,L=g.getContribution(t.ID),N=[];for(let D of L.getLenses())if(D.getLineNumber()===y)for(let R of D.getItems()){const{command:P}=R.symbol;P&&N.push({label:P.title,command:P})}if(N.length!==0){const M=yield m.pick(N,{canPickMany:!1});if(!!M)try{yield f.executeCommand(M.command.id,...M.command.arguments||[])}catch(D){b.error(D)}}}})}})}),define(J[261],ee([0,1,15,29,11,89,2,13,28,3,31,18,249,47]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorDetector=void 0;const c=500;let d=class Wt extends S.Disposable{constructor(n,s,t){super();this._editor=n,this._codeEditorService=s,this._configurationService=t,this._localToDispose=this._register(new S.DisposableStore),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=[],this._decorationsTypes=new Set,this._register(n.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(n.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(u.ColorProviderRegistry.onDidChange(()=>this.onModelChanged())),this._register(n.onDidChangeConfiguration(()=>{let o=this._isEnabled;this._isEnabled=this.isEnabled(),o!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const n=this._editor.getModel();if(!n)return!1;const s=n.getLanguageIdentifier(),t=this._configurationService.getValue(s.language);if(t){const o=t.colorDecorators;if(o&&o.enable!==void 0&&!o.enable)return o.enable}return this._editor.getOption(15)}static get(n){return n.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!!this._isEnabled){const n=this._editor.getModel();!n||!u.ColorProviderRegistry.has(n)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new v.TimeoutTimer,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},Wt.RECOMPUTE_TIME))})),this.beginCompute())}}beginCompute(){this._computePromise=(0,v.createCancelablePromise)(n=>{const s=this._editor.getModel();return s?(0,a.getColors)(s,n):Promise.resolve([])}),this._computePromise.then(n=>{this.updateDecorations(n),this.updateColorDecorators(n),this._computePromise=null},k.onUnexpectedError)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(n){const s=n.map(t=>({range:{startLineNumber:t.colorInfo.range.startLineNumber,startColumn:t.colorInfo.range.startColumn,endLineNumber:t.colorInfo.range.endLineNumber,endColumn:t.colorInfo.range.endColumn},options:p.ModelDecorationOptions.EMPTY}));this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,s),this._colorDatas=new Map,this._decorationsIds.forEach((t,o)=>this._colorDatas.set(t,n[o]))}updateColorDecorators(n){let s=[],t={};for(let o=0;o<n.length&&s.length<c;o++){const{red:h,green:g,blue:m,alpha:f}=n[o].colorInfo.color,b=new I.RGBA(Math.round(h*255),Math.round(g*255),Math.round(m*255),f);let y=(0,w.hash)(`rgba(${b.r},${b.g},${b.b},${b.a})`).toString(16),L=`rgba(${b.r}, ${b.g}, ${b.b}, ${b.a})`,N="colorBox-"+y;!this._decorationsTypes.has(N)&&!t[N]&&this._codeEditorService.registerDecorationType(N,{before:{contentText:" ",border:"solid 0.1em #000",margin:"0.1em 0.2em 0 0.2em",width:"0.8em",height:"0.8em",backgroundColor:L},dark:{before:{border:"solid 0.1em #eee"}}},void 0,this._editor),t[N]=!0,s.push({range:{startLineNumber:n[o].colorInfo.range.startLineNumber,startColumn:n[o].colorInfo.range.startColumn,endLineNumber:n[o].colorInfo.range.endLineNumber,endColumn:n[o].colorInfo.range.endColumn},options:this._codeEditorService.resolveDecorationOptions(N,!0)})}this._decorationsTypes.forEach(o=>{t[o]||this._codeEditorService.removeDecorationType(o)}),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,s)}removeAllDecorations(){this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,[]),this._decorationsTypes.forEach(n=>{this._codeEditorService.removeDecorationType(n)})}getColorData(n){const s=this._editor.getModel();if(!s)return null;const t=s.getDecorationsInRange(i.Range.fromPositions(n,n)).filter(o=>this._colorDatas.has(o.id));return t.length===0?null:this._colorDatas.get(t[0].id)}};d.ID="editor.contrib.colorDetector",d.RECOMPUTE_TIME=1e3,d=Me([pe(1,C.ICodeEditorService),pe(2,l.IConfigurationService)],d),e.ColorDetector=d,(0,_.registerEditorContribution)(d.ID,d)}),define(J[621],ee([0,1,470,39,13,3,25,225,402,34]),function($,e,v,I,k,w,S,_,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class p extends k.EditorAction{constructor(r,n){super(n);this._type=r}run(r,n){if(!!n.hasModel()){const s=n.getModel(),t=[],o=s.getOptions(),h=n.getOption(17),g=n.getSelections().map((f,b)=>({selection:f,index:b,ignoreFirstLine:!1}));g.sort((f,b)=>w.Range.compareRangesUsingStarts(f.selection,b.selection));let m=g[0];for(let f=1;f<g.length;f++){const b=g[f];m.selection.endLineNumber===b.selection.startLineNumber&&(m.index<b.index?b.ignoreFirstLine=!0:(m.ignoreFirstLine=!0,m=b))}for(const f of g)t.push(new C.LineCommentCommand(f.selection,o.tabSize,this._type,h.insertSpace,h.ignoreEmptyLines,f.ignoreFirstLine));n.pushUndoStop(),n.executeCommands(this.id,t),n.pushUndoStop()}}}class u extends p{constructor(){super(0,{id:"editor.action.commentLine",label:v.localize(0,null),alias:"Toggle Line Comment",precondition:S.EditorContextKeys.writable,kbOpts:{kbExpr:S.EditorContextKeys.editorTextFocus,primary:2048|85,weight:100},menuOpts:{menuId:i.MenuId.MenubarEditMenu,group:"5_insert",title:v.localize(1,null),order:1}})}}class a extends p{constructor(){super(1,{id:"editor.action.addCommentLine",label:v.localize(2,null),alias:"Add Line Comment",precondition:S.EditorContextKeys.writable,kbOpts:{kbExpr:S.EditorContextKeys.editorTextFocus,primary:(0,I.KeyChord)(2048|41,2048|33),weight:100}})}}class l extends p{constructor(){super(2,{id:"editor.action.removeCommentLine",label:v.localize(3,null),alias:"Remove Line Comment",precondition:S.EditorContextKeys.writable,kbOpts:{kbExpr:S.EditorContextKeys.editorTextFocus,primary:(0,I.KeyChord)(2048|41,2048|51),weight:100}})}}class c extends k.EditorAction{constructor(){super({id:"editor.action.blockComment",label:v.localize(4,null),alias:"Toggle Block Comment",precondition:S.EditorContextKeys.writable,kbOpts:{kbExpr:S.EditorContextKeys.editorTextFocus,primary:1024|512|31,linux:{primary:2048|1024|31},weight:100},menuOpts:{menuId:i.MenuId.MenubarEditMenu,group:"5_insert",title:v.localize(5,null),order:2}})}run(r,n){if(!!n.hasModel()){const s=n.getOption(17),t=[],o=n.getSelections();for(const h of o)t.push(new _.BlockCommentCommand(h,s.insertSpace));n.pushUndoStop(),n.executeCommands(this.id,t),n.pushUndoStop()}}}(0,k.registerEditorAction)(u),(0,k.registerEditorAction)(a),(0,k.registerEditorAction)(l),(0,k.registerEditorAction)(c)}),define(J[622],ee([0,1,471,7,48,2,13,25,34,16,68,37,112]),function($,e,v,I,k,w,S,_,C,i,p,u,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuController=void 0;let l=class Bt{constructor(r,n,s,t,o,h){this._contextMenuService=n,this._contextViewService=s,this._contextKeyService=t,this._keybindingService=o,this._menuService=h,this._toDispose=new w.DisposableStore,this._contextMenuIsBeingShownCount=0,this._editor=r,this._toDispose.add(this._editor.onContextMenu(g=>this._onContextMenu(g))),this._toDispose.add(this._editor.onMouseWheel(g=>{if(this._contextMenuIsBeingShownCount>0){const m=this._contextViewService.getContextViewElement(),f=g.srcElement;f.shadowRoot&&I.getShadowRoot(m)===f.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(g=>{g.keyCode===58&&(g.preventDefault(),g.stopPropagation(),this.showContextMenu())}))}static get(r){return r.getContribution(Bt.ID)}_onContextMenu(r){if(!!this._editor.hasModel()){if(!this._editor.getOption(18)){this._editor.focus(),r.target.position&&!this._editor.getSelection().containsPosition(r.target.position)&&this._editor.setPosition(r.target.position);return}if(r.target.type!==12&&(r.event.preventDefault(),!(r.target.type!==6&&r.target.type!==7&&r.target.type!==1))){if(this._editor.focus(),r.target.position){let s=!1;for(const t of this._editor.getSelections())if(t.containsPosition(r.target.position)){s=!0;break}s||this._editor.setPosition(r.target.position)}let n=null;r.target.type!==1&&(n={x:r.event.posx-1,width:2,y:r.event.posy-1,height:2}),this.showContextMenu(n)}}}showContextMenu(r){if(!!this._editor.getOption(18)&&!!this._editor.hasModel()){if(!this._contextMenuService){this._editor.focus();return}const n=this._getMenuActions(this._editor.getModel(),C.MenuId.EditorContext);n.length>0&&this._doShowContextMenu(n,r)}}_getMenuActions(r,n){const s=[],t=this._menuService.createMenu(n,this._contextKeyService),o=t.getActions({arg:r.uri});t.dispose();for(let h of o){const[,g]=h;let m=0;for(const f of g)if(f instanceof C.SubmenuItemAction){const b=this._getMenuActions(r,f.item.submenu);b.length>0&&(s.push(new k.SubmenuAction(f.id,f.label,b)),m++)}else s.push(f),m++;m&&s.push(new k.Separator)}return s.length&&s.pop(),s}_doShowContextMenu(r,n=null){if(!!this._editor.hasModel()){const s=this._editor.getOption(50);if(this._editor.updateOptions({hover:{enabled:!1}}),!n){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const o=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),h=I.getDomNodePagePosition(this._editor.getDomNode()),g=h.left+o.left,m=h.top+o.top+o.height;n={x:g,y:m}}const t=this._editor.getOption(111);this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:t?this._editor.getDomNode():void 0,getAnchor:()=>n,getActions:()=>r,getActionViewItem:o=>{const h=this._keybindingFor(o);if(h)return new a.ActionViewItem(o,o,{label:!0,keybinding:h.getLabel(),isMenu:!0});const g=o;return typeof g.getActionViewItem=="function"?g.getActionViewItem():new a.ActionViewItem(o,o,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:o=>this._keybindingFor(o),onHide:o=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:s})}})}}_keybindingFor(r){return this._keybindingService.lookupKeybinding(r.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};l.ID="editor.contrib.contextmenu",l=Me([pe(1,p.IContextMenuService),pe(2,p.IContextViewService),pe(3,i.IContextKeyService),pe(4,u.IKeybindingService),pe(5,C.IMenuService)],l),e.ContextMenuController=l;class c extends S.EditorAction{constructor(){super({id:"editor.action.showContextMenu",label:v.localize(0,null),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.textInputFocus,primary:1024|68,weight:100}})}run(r,n){l.get(n).showContextMenu()}}(0,S.registerEditorContribution)(l.ID,l),(0,S.registerEditorAction)(c)}),define(J[623],ee([0,1,472,2,13,25]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorRedo=e.CursorUndo=e.CursorUndoRedoController=void 0;class S{constructor(a){this.selections=a}equals(a){const l=this.selections.length,c=a.selections.length;if(l!==c)return!1;for(let d=0;d<l;d++)if(!this.selections[d].equalsSelection(a.selections[d]))return!1;return!0}}class _{constructor(a,l,c){this.cursorState=a,this.scrollTop=l,this.scrollLeft=c}}class C extends I.Disposable{constructor(a){super();this._editor=a,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(a.onDidChangeModel(l=>{this._undoStack=[],this._redoStack=[]})),this._register(a.onDidChangeModelContent(l=>{this._undoStack=[],this._redoStack=[]})),this._register(a.onDidChangeCursorSelection(l=>{if(!this._isCursorUndoRedo&&!!l.oldSelections&&l.oldModelVersionId===l.modelVersionId){const c=new S(l.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(c)||(this._undoStack.push(new _(c,a.getScrollTop(),a.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}}))}static get(a){return a.getContribution(C.ID)}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new _(new S(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new _(new S(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(a){this._isCursorUndoRedo=!0,this._editor.setSelections(a.cursorState.selections),this._editor.setScrollPosition({scrollTop:a.scrollTop,scrollLeft:a.scrollLeft}),this._isCursorUndoRedo=!1}}e.CursorUndoRedoController=C,C.ID="editor.contrib.cursorUndoRedoController";class i extends k.EditorAction{constructor(){super({id:"cursorUndo",label:v.localize(0,null),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.textInputFocus,primary:2048|51,weight:100}})}run(a,l,c){C.get(l).cursorUndo()}}e.CursorUndo=i;class p extends k.EditorAction{constructor(){super({id:"cursorRedo",label:v.localize(1,null),alias:"Cursor Redo",precondition:void 0})}run(a,l,c){C.get(l).cursorRedo()}}e.CursorRedo=p,(0,k.registerEditorContribution)(C.ID,C),(0,k.registerEditorAction)(i),(0,k.registerEditorAction)(p)}),define(J[624],ee([0,1,2,17,13,14,3,21,403,31,341]),function($,e,v,I,k,w,S,_,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropController=void 0;function p(a){return I.isMacintosh?a.altKey:a.ctrlKey}class u extends v.Disposable{constructor(l){super();this._editor=l,this._register(this._editor.onMouseDown(c=>this._onEditorMouseDown(c))),this._register(this._editor.onMouseUp(c=>this._onEditorMouseUp(c))),this._register(this._editor.onMouseDrag(c=>this._onEditorMouseDrag(c))),this._register(this._editor.onMouseDrop(c=>this._onEditorMouseDrop(c))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(c=>this.onEditorKeyDown(c))),this._register(this._editor.onKeyUp(c=>this.onEditorKeyUp(c))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._dndDecorationIds=[],this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(l){!this._editor.getOption(29)||this._editor.getOption(16)||(p(l)&&(this._modifierPressed=!0),this._mouseDown&&p(l)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(l){!this._editor.getOption(29)||this._editor.getOption(16)||(p(l)&&(this._modifierPressed=!1),this._mouseDown&&l.keyCode===u.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(l){this._mouseDown=!0}_onEditorMouseUp(l){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(l){let c=l.target;if(this._dragSelection===null){let r=(this._editor.getSelections()||[]).filter(n=>c.position&&n.containsPosition(c.position));if(r.length===1)this._dragSelection=r[0];else return}p(l.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),c.position&&(this._dragSelection.containsPosition(c.position)?this._removeDecoration():this.showAt(c.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(l){if(l.target&&(this._hitContent(l.target)||this._hitMargin(l.target))&&l.target.position){let c=new w.Position(l.target.position.lineNumber,l.target.position.column);if(this._dragSelection===null){let d=null;if(l.event.shiftKey){let r=this._editor.getSelection();if(r){const{selectionStartLineNumber:n,selectionStartColumn:s}=r;d=[new _.Selection(n,s,c.lineNumber,c.column)]}}else d=(this._editor.getSelections()||[]).map(r=>r.containsPosition(c)?new _.Selection(c.lineNumber,c.column,c.lineNumber,c.column):r);this._editor.setSelections(d||[],"mouse",3)}else(!this._dragSelection.containsPosition(c)||(p(l.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(c)||this._dragSelection.getStartPosition().equals(c)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(u.ID,new C.DragAndDropCommand(this._dragSelection,c,p(l.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(l){let c=[{range:new S.Range(l.lineNumber,l.column,l.lineNumber,l.column),options:u._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,c),this._editor.revealPosition(l,1)}_removeDecoration(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[])}_hitContent(l){return l.type===6||l.type===7}_hitMargin(l){return l.type===2||l.type===3||l.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}e.DragAndDropController=u,u.ID="editor.contrib.dragAndDrop",u.TRIGGER_KEY_VALUE=I.isMacintosh?6:5,u._DECORATION_OPTIONS=i.ModelDecorationOptions.register({className:"dnd-target"}),(0,k.registerEditorContribution)(u.ID,u)}),define(J[625],ee([0,1,477,13,127]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class w extends I.EditorAction{constructor(){super({id:"editor.action.fontZoomIn",label:v.localize(0,null),alias:"Editor Font Zoom In",precondition:void 0})}run(i,p){k.EditorZoom.setZoomLevel(k.EditorZoom.getZoomLevel()+1)}}class S extends I.EditorAction{constructor(){super({id:"editor.action.fontZoomOut",label:v.localize(1,null),alias:"Editor Font Zoom Out",precondition:void 0})}run(i,p){k.EditorZoom.setZoomLevel(k.EditorZoom.getZoomLevel()-1)}}class _ extends I.EditorAction{constructor(){super({id:"editor.action.fontZoomReset",label:v.localize(2,null),alias:"Editor Font Zoom Reset",precondition:void 0})}run(i,p){k.EditorZoom.setZoomLevel(0)}}(0,I.registerEditorAction)(w),(0,I.registerEditorAction)(S),(0,I.registerEditorAction)(_)}),define(J[262],ee([0,1,41,19,23,11,24,71,108,14,3,21,18,76,36,227,478,535,9,72,26,20,54]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n,s,t,o,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOnTypeFormattingEdits=e.getDocumentFormattingEditsUntilResult=e.getDocumentRangeFormattingEditsUntilResult=e.formatDocumentWithProvider=e.formatDocumentWithSelectedProvider=e.formatDocumentRangesWithProvider=e.formatDocumentRangesWithSelectedProvider=e.FormattingConflicts=e.getRealAndSyntheticDocumentFormattersOrdered=e.alertFormattingEdits=void 0;function m(O){if(O=O.filter(A=>A.range),!!O.length){let{range:W}=O[0];for(let A=1;A<O.length;A++)W=p.Range.plusRange(W,O[A].range);const{startLineNumber:F,endLineNumber:E}=W;F===E?O.length===1?(0,v.alert)(r.localize(0,null,F)):(0,v.alert)(r.localize(1,null,O.length,F)):O.length===1?(0,v.alert)(r.localize(2,null,F,E)):(0,v.alert)(r.localize(3,null,O.length,F,E))}}e.alertFormattingEdits=m;function f(O){const W=[],F=new Set,E=a.DocumentFormattingEditProviderRegistry.ordered(O);for(const B of E)W.push(B),B.extensionId&&F.add(n.ExtensionIdentifier.toKey(B.extensionId));const A=a.DocumentRangeFormattingEditProviderRegistry.ordered(O);for(const B of A){if(B.extensionId){if(F.has(n.ExtensionIdentifier.toKey(B.extensionId)))continue;F.add(n.ExtensionIdentifier.toKey(B.extensionId))}W.push({displayName:B.displayName,extensionId:B.extensionId,provideDocumentFormattingEdits(H,K,q){return B.provideDocumentRangeFormattingEdits(H,H.getFullModelRange(),K,q)}})}return W}e.getRealAndSyntheticDocumentFormattersOrdered=f;class b{static setFormatterSelector(W){return{dispose:b._selectors.unshift(W)}}static select(W,F,E){return Ie(this,void 0,void 0,function*(){if(W.length!==0){const A=g.Iterable.first(b._selectors);if(A)return yield A(W,F,E)}})}}e.FormattingConflicts=b,b._selectors=new t.LinkedList;function y(O,W,F,E,A,B){return Ie(this,void 0,void 0,function*(){const H=O.get(s.IInstantiationService),K=(0,C.isCodeEditor)(W)?W.getModel():W,q=a.DocumentRangeFormattingEditProviderRegistry.ordered(K),Y=yield b.select(q,K,E);Y&&(A.report(Y),yield H.invokeFunction(L,Y,W,F,B))})}e.formatDocumentRangesWithSelectedProvider=y;function L(O,W,F,E,A){return Ie(this,void 0,void 0,function*(){const B=O.get(l.IEditorWorkerService);let H,K;(0,C.isCodeEditor)(F)?(H=F.getModel(),K=new _.EditorStateCancellationTokenSource(F,1|4,void 0,A)):(H=F,K=new _.TextModelCancellationTokenSource(F,A));let q=[],Y=0;for(let ie of(0,I.asArray)(E).sort(p.Range.compareRangesUsingStarts))Y>0&&p.Range.areIntersectingOrTouching(q[Y-1],ie)?q[Y-1]=p.Range.fromPositions(q[Y-1].getStartPosition(),ie.getEndPosition()):Y=q.push(ie);const te=[];for(let ie of q)try{const ae=yield W.provideDocumentRangeFormattingEdits(H,ie,H.getFormattingOptions(),K.token),le=yield B.computeMoreMinimalEdits(H.uri,ae);if(le&&te.push(...le),K.token.isCancellationRequested)return!0}finally{K.dispose()}if(te.length===0)return!1;if((0,C.isCodeEditor)(F))d.FormattingEdit.execute(F,te,!0),m(te),F.revealPositionInCenterIfOutsideViewport(F.getPosition(),1);else{const[{range:ie}]=te,ae=new u.Selection(ie.startLineNumber,ie.startColumn,ie.endLineNumber,ie.endColumn);H.pushEditOperations([ae],te.map(le=>({text:le.text,range:p.Range.lift(le.range),forceMoveMarkers:!0})),le=>{for(const{range:Z}of le)if(p.Range.areIntersectingOrTouching(Z,ae))return[new u.Selection(Z.startLineNumber,Z.startColumn,Z.endLineNumber,Z.endColumn)];return null})}return!0})}e.formatDocumentRangesWithProvider=L;function N(O,W,F,E,A){return Ie(this,void 0,void 0,function*(){const B=O.get(s.IInstantiationService),H=(0,C.isCodeEditor)(W)?W.getModel():W,K=f(H),q=yield b.select(K,H,F);q&&(E.report(q),yield B.invokeFunction(M,q,W,F,A))})}e.formatDocumentWithSelectedProvider=N;function M(O,W,F,E,A){return Ie(this,void 0,void 0,function*(){const B=O.get(l.IEditorWorkerService);let H,K;(0,C.isCodeEditor)(F)?(H=F.getModel(),K=new _.EditorStateCancellationTokenSource(F,1|4,void 0,A)):(H=F,K=new _.TextModelCancellationTokenSource(F,A));let q;try{const Y=yield W.provideDocumentFormattingEdits(H,H.getFormattingOptions(),K.token);if(q=yield B.computeMoreMinimalEdits(H.uri,Y),K.token.isCancellationRequested)return!0}finally{K.dispose()}if(!q||q.length===0)return!1;if((0,C.isCodeEditor)(F))d.FormattingEdit.execute(F,q,E!==2),E!==2&&(m(q),F.revealPositionInCenterIfOutsideViewport(F.getPosition(),1));else{const[{range:Y}]=q,te=new u.Selection(Y.startLineNumber,Y.startColumn,Y.endLineNumber,Y.endColumn);H.pushEditOperations([te],q.map(ie=>({text:ie.text,range:p.Range.lift(ie.range),forceMoveMarkers:!0})),ie=>{for(const{range:ae}of ie)if(p.Range.areIntersectingOrTouching(ae,te))return[new u.Selection(ae.startLineNumber,ae.startColumn,ae.endLineNumber,ae.endColumn)];return null})}return!0})}e.formatDocumentWithProvider=M;function D(O,W,F,E,A){return Ie(this,void 0,void 0,function*(){const B=a.DocumentRangeFormattingEditProviderRegistry.ordered(W);for(const H of B){let K=yield Promise.resolve(H.provideDocumentRangeFormattingEdits(W,F,E,A)).catch(w.onUnexpectedExternalError);if((0,I.isNonEmptyArray)(K))return yield O.computeMoreMinimalEdits(W.uri,K)}})}e.getDocumentRangeFormattingEditsUntilResult=D;function R(O,W,F,E){return Ie(this,void 0,void 0,function*(){const A=f(W);for(const B of A){let H=yield Promise.resolve(B.provideDocumentFormattingEdits(W,F,E)).catch(w.onUnexpectedExternalError);if((0,I.isNonEmptyArray)(H))return yield O.computeMoreMinimalEdits(W.uri,H)}})}e.getDocumentFormattingEditsUntilResult=R;function P(O,W,F,E,A){const B=a.OnTypeFormattingEditProviderRegistry.ordered(W);return B.length===0||B[0].autoFormatTriggerCharacters.indexOf(E)<0?Promise.resolve(void 0):Promise.resolve(B[0].provideOnTypeFormattingEdits(W,F,E,A,k.CancellationToken.None)).catch(w.onUnexpectedExternalError).then(H=>O.computeMoreMinimalEdits(W.uri,H))}e.getOnTypeFormattingEdits=P,o.CommandsRegistry.registerCommand("_executeFormatRangeProvider",function(O,...W){const[F,E,A]=W;(0,h.assertType)(S.URI.isUri(F)),(0,h.assertType)(p.Range.isIRange(E));const B=O.get(c.IModelService).getModel(F);if(!B)throw(0,w.illegalArgument)("resource");return D(O.get(l.IEditorWorkerService),B,p.Range.lift(E),A,k.CancellationToken.None)}),o.CommandsRegistry.registerCommand("_executeFormatDocumentProvider",function(O,...W){const[F,E]=W;(0,h.assertType)(S.URI.isUri(F));const A=O.get(c.IModelService).getModel(F);if(!A)throw(0,w.illegalArgument)("resource");return R(O.get(l.IEditorWorkerService),A,E,k.CancellationToken.None)}),o.CommandsRegistry.registerCommand("_executeFormatOnTypeProvider",function(O,...W){const[F,E,A,B]=W;(0,h.assertType)(S.URI.isUri(F)),(0,h.assertType)(i.Position.isIPosition(E)),(0,h.assertType)(typeof A=="string");const H=O.get(c.IModelService).getModel(F);if(!H)throw(0,w.illegalArgument)("resource");return P(O.get(l.IEditorWorkerService),H,i.Position.lift(E),A,B)})}),define(J[626],ee([0,1,19,23,39,2,13,28,91,3,25,18,76,262,227,479,26,16,9,11,59]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n,s,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let h=class{constructor(y,L){this._workerService=L,this._callOnDispose=new w.DisposableStore,this._callOnModel=new w.DisposableStore,this._editor=y,this._callOnDispose.add(y.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(y.onDidChangeModel(()=>this._update())),this._callOnDispose.add(y.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(u.OnTypeFormattingEditProviderRegistry.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){if(this._callOnModel.clear(),!!this._editor.getOption(45)&&!!this._editor.hasModel()){const y=this._editor.getModel(),[L]=u.OnTypeFormattingEditProviderRegistry.ordered(y);if(!(!L||!L.autoFormatTriggerCharacters)){let N=new C.CharacterSet;for(let M of L.autoFormatTriggerCharacters)N.add(M.charCodeAt(0));this._callOnModel.add(this._editor.onDidType(M=>{let D=M.charCodeAt(M.length-1);N.has(D)&&this._trigger(String.fromCharCode(D))}))}}}_trigger(y){if(!!this._editor.hasModel()&&!(this._editor.getSelections().length>1)){const L=this._editor.getModel(),N=this._editor.getPosition();let M=!1;const D=this._editor.onDidChangeModelContent(R=>{if(R.isFlush){M=!0,D.dispose();return}for(let P=0,O=R.changes.length;P<O;P++)if(R.changes[P].range.endLineNumber<=N.lineNumber){M=!0,D.dispose();return}});(0,l.getOnTypeFormattingEdits)(this._workerService,L,N,y,L.getFormattingOptions()).then(R=>{D.dispose(),!M&&(0,v.isNonEmptyArray)(R)&&(c.FormattingEdit.execute(this._editor,R,!0),(0,l.alertFormattingEdits)(R))},R=>{throw D.dispose(),R})}}};h.ID="editor.contrib.autoFormat",h=Me([pe(1,a.IEditorWorkerService)],h);let g=class{constructor(y,L){this.editor=y,this._instantiationService=L,this._callOnDispose=new w.DisposableStore,this._callOnModel=new w.DisposableStore,this._callOnDispose.add(y.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(y.onDidChangeModel(()=>this._update())),this._callOnDispose.add(y.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(u.DocumentRangeFormattingEditProviderRegistry.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),!!this.editor.getOption(44)&&(!this.editor.hasModel()||!u.DocumentRangeFormattingEditProviderRegistry.has(this.editor.getModel())||this._callOnModel.add(this.editor.onDidPaste(({range:y})=>this._trigger(y))))}_trigger(y){!this.editor.hasModel()||this.editor.getSelections().length>1||this._instantiationService.invokeFunction(l.formatDocumentRangesWithSelectedProvider,this.editor,y,2,o.Progress.None,I.CancellationToken.None).catch(t.onUnexpectedError)}};g.ID="editor.contrib.formatOnPaste",g=Me([pe(1,s.IInstantiationService)],g);class m extends S.EditorAction{constructor(){super({id:"editor.action.formatDocument",label:d.localize(0,null),alias:"Format Document",precondition:n.ContextKeyExpr.and(p.EditorContextKeys.notInCompositeEditor,p.EditorContextKeys.writable,p.EditorContextKeys.hasDocumentFormattingProvider),kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:1024|512|36,linux:{primary:2048|1024|39},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(y,L){return Ie(this,void 0,void 0,function*(){if(L.hasModel()){const N=y.get(s.IInstantiationService);yield y.get(o.IEditorProgressService).showWhile(N.invokeFunction(l.formatDocumentWithSelectedProvider,L,1,o.Progress.None,I.CancellationToken.None),250)}})}}class f extends S.EditorAction{constructor(){super({id:"editor.action.formatSelection",label:d.localize(1,null),alias:"Format Selection",precondition:n.ContextKeyExpr.and(p.EditorContextKeys.writable,p.EditorContextKeys.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,2048|36),weight:100},contextMenuOpts:{when:p.EditorContextKeys.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(y,L){return Ie(this,void 0,void 0,function*(){if(!!L.hasModel()){const N=y.get(s.IInstantiationService),M=L.getModel(),D=L.getSelections().map(P=>P.isEmpty()?new i.Range(P.startLineNumber,1,P.startLineNumber,M.getLineMaxColumn(P.startLineNumber)):P);yield y.get(o.IEditorProgressService).showWhile(N.invokeFunction(l.formatDocumentRangesWithSelectedProvider,L,D,1,o.Progress.None,I.CancellationToken.None),250)}})}}(0,S.registerEditorContribution)(h.ID,h),(0,S.registerEditorContribution)(g.ID,g),(0,S.registerEditorAction)(m),(0,S.registerEditorAction)(f),r.CommandsRegistry.registerCommand("editor.action.format",b=>Ie(void 0,void 0,void 0,function*(){const y=b.get(_.ICodeEditorService).getFocusedCodeEditor();if(!(!y||!y.hasModel())){const L=b.get(r.ICommandService);y.getSelection().isEmpty()?yield L.executeCommand("editor.action.formatDocument"):yield L.executeCommand("editor.action.formatSelection")}}))}),define(J[263],ee([0,1,23,11,13,18,113]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getReferencesAtPosition=e.getTypeDefinitionsAtPosition=e.getImplementationsAtPosition=e.getDeclarationsAtPosition=e.getDefinitionsAtPosition=void 0;function _(c,d,r,n){const t=r.ordered(c).map(o=>Promise.resolve(n(o,c,d)).then(void 0,h=>{(0,I.onUnexpectedExternalError)(h)}));return Promise.all(t).then(o=>{const h=[];for(let g of o)Array.isArray(g)?h.push(...g):g&&h.push(g);return h})}function C(c,d,r){return _(c,d,w.DefinitionProviderRegistry,(n,s,t)=>n.provideDefinition(s,t,r))}e.getDefinitionsAtPosition=C;function i(c,d,r){return _(c,d,w.DeclarationProviderRegistry,(n,s,t)=>n.provideDeclaration(s,t,r))}e.getDeclarationsAtPosition=i;function p(c,d,r){return _(c,d,w.ImplementationProviderRegistry,(n,s,t)=>n.provideImplementation(s,t,r))}e.getImplementationsAtPosition=p;function u(c,d,r){return _(c,d,w.TypeDefinitionProviderRegistry,(n,s,t)=>n.provideTypeDefinition(s,t,r))}e.getTypeDefinitionsAtPosition=u;function a(c,d,r,n){return _(c,d,w.ReferenceProviderRegistry,(s,t,o)=>Ie(this,void 0,void 0,function*(){const h=yield s.provideReferences(t,o,{includeDeclaration:!0},n);if(!r||!h||h.length!==2)return h;const g=yield s.provideReferences(t,o,{includeDeclaration:!1},n);return g&&g.length===1?g:h}))}e.getReferencesAtPosition=a;function l(c){return Ie(this,void 0,void 0,function*(){const d=yield c(),r=new S.ReferencesModel(d,""),n=r.references.map(s=>s.link);return r.dispose(),n})}(0,k.registerModelAndPositionCommand)("_executeDefinitionProvider",(c,d)=>l(()=>C(c,d,v.CancellationToken.None))),(0,k.registerModelAndPositionCommand)("_executeDeclarationProvider",(c,d)=>l(()=>i(c,d,v.CancellationToken.None))),(0,k.registerModelAndPositionCommand)("_executeImplementationProvider",(c,d)=>l(()=>p(c,d,v.CancellationToken.None))),(0,k.registerModelAndPositionCommand)("_executeTypeDefinitionProvider",(c,d)=>l(()=>u(c,d,v.CancellationToken.None))),(0,k.registerModelAndPositionCommand)("_executeReferenceProvider",(c,d)=>l(()=>a(c,d,!1,v.CancellationToken.None)))}),define(J[627],ee([0,1,16,9,75,86,13,28,3,2,6,488,37,32,45]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISymbolNavigationService=e.ctxHasSymbols=void 0,e.ctxHasSymbols=new v.RawContextKey("hasSymbols",!1,(0,u.localize)(0,null)),e.ISymbolNavigationService=(0,I.createDecorator)("ISymbolNavigationService");let d=class{constructor(s,t,o,h){this._editorService=t,this._notificationService=o,this._keybindingService=h,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=e.ctxHasSymbols.bindTo(s)}reset(){var s,t;this._ctxHasSymbols.reset(),(s=this._currentState)===null||s===void 0||s.dispose(),(t=this._currentMessage)===null||t===void 0||t.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(s){const t=s.parent.parent;if(t.references.length<=1){this.reset();return}this._currentModel=t,this._currentIdx=t.references.indexOf(s),this._ctxHasSymbols.set(!0),this._showMessage();const o=new r(this._editorService),h=o.onDidChange(g=>{if(!this._ignoreEditorChange){const m=this._editorService.getActiveCodeEditor();if(!!m){const f=m.getModel(),b=m.getPosition();if(!(!f||!b)){let y=!1,L=!1;for(const N of t.references)if((0,c.isEqual)(N.uri,f.uri))y=!0,L=L||C.Range.containsPosition(N.range,b);else if(y)break;(!y||!L)&&this.reset()}}}});this._currentState=(0,i.combinedDisposable)(o,h)}revealNext(s){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const t=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:t.uri,options:{selection:C.Range.collapseToStart(t.range),selectionRevealType:3}},s).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var s;(s=this._currentMessage)===null||s===void 0||s.dispose();const t=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),o=t?(0,u.localize)(1,null,this._currentIdx+1,this._currentModel.references.length,t.getLabel()):(0,u.localize)(2,null,this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(o)}};d=Me([pe(0,v.IContextKeyService),pe(1,_.ICodeEditorService),pe(2,l.INotificationService),pe(3,a.IKeybindingService)],d),(0,k.registerSingleton)(e.ISymbolNavigationService,d,!0),(0,S.registerEditorCommand)(new class extends S.EditorCommand{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:e.ctxHasSymbols,kbOpts:{weight:100,primary:70}})}runEditorCommand(n,s){return n.get(e.ISymbolNavigationService).revealNext(s)}}),w.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:e.ctxHasSymbols,primary:9,handler(n){n.get(e.ISymbolNavigationService).reset()}});let r=class{constructor(s){this._listener=new Map,this._disposables=new i.DisposableStore,this._onDidChange=new p.Emitter,this.onDidChange=this._onDidChange.event,this._disposables.add(s.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(s.onCodeEditorAdd(this._onDidAddEditor,this)),s.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,i.dispose)(this._listener.values())}_onDidAddEditor(s){this._listener.set(s,(0,i.combinedDisposable)(s.onDidChangeCursorPosition(t=>this._onDidChange.fire({editor:s})),s.onDidChangeModelContent(t=>this._onDidChange.fire({editor:s}))))}_onDidRemoveEditor(s){var t;(t=this._listener.get(s))===null||t===void 0||t.dispose(),this._listener.delete(s)}};r=Me([pe(0,_.ICodeEditorService)],r)}),define(J[628],ee([0,1,19,23,11,13,18]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getHover=void 0;function _(i,p,u){const l=S.HoverProviderRegistry.ordered(i).map(c=>Promise.resolve(c.provideHover(i,p,u)).then(d=>d&&C(d)?d:void 0,d=>{(0,k.onUnexpectedExternalError)(d)}));return Promise.all(l).then(v.coalesce)}e.getHover=_,(0,w.registerModelAndPositionCommand)("_executeHoverProvider",(i,p)=>_(i,p,I.CancellationToken.None));function C(i){const p=typeof i.range!="undefined",u=typeof i.contents!="undefined"&&i.contents&&i.contents.length>0;return p&&u}}),define(J[629],ee([0,1,490,7,74,2,3,140,19,58,57,18,628,14]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkdownHoverParticipant=e.MarkdownHover=void 0;const c=I.$;class d{constructor(s,t){this.range=s,this.contents=t}equals(s){return s instanceof d?(0,k.markedStringsEquals)(this.contents,s.contents):!1}}e.MarkdownHover=d;let r=class{constructor(s,t,o,h){this._editor=s,this._hover=t,this._modeService=o,this._openerService=h}createLoadingMessage(s){return new d(s,[new k.MarkdownString().appendText(v.localize(0,null))])}computeSync(s,t){if(!this._editor.hasModel())return[];const o=this._editor.getModel(),h=s.startLineNumber,g=o.getLineMaxColumn(h),m=[];for(const f of t){const b=f.range.startLineNumber===h?f.range.startColumn:1,y=f.range.endLineNumber===h?f.range.endColumn:g,L=f.options.hoverMessage;if(!(!L||(0,k.isEmptyMarkdownString)(L))){const N=new S.Range(s.startLineNumber,b,s.startLineNumber,y);m.push(new d(N,(0,C.asArray)(L)))}}return m}computeAsync(s,t){return Ie(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!s)return Promise.resolve([]);const o=this._editor.getModel();if(!u.HoverProviderRegistry.has(o))return Promise.resolve([]);const h=yield(0,a.getHover)(o,new l.Position(s.startLineNumber,s.startColumn),t),g=[];for(const m of h)if(!(0,k.isEmptyMarkdownString)(m.contents)){const f=m.range?S.Range.lift(m.range):s;g.push(new d(f,m.contents))}return g})}renderHoverParts(s,t){const o=new w.DisposableStore;for(const h of s)for(const g of h.contents)if(!(0,k.isEmptyMarkdownString)(g)){const m=c("div.hover-row.markdown-hover"),f=I.append(m,c("div.hover-contents")),b=o.add(new _.MarkdownRenderer({editor:this._editor},this._modeService,this._openerService));o.add(b.onDidRenderAsync(()=>{f.className="hover-contents code-hover-contents",this._hover.onContentsChanged()}));const y=o.add(b.render(g));f.appendChild(y.element),t.appendChild(m)}return o}};r=Me([pe(2,p.IModeService),pe(3,i.IOpenerService)],r),e.MarkdownHoverParticipant=r}),define(J[630],ee([0,1,492,3,21,25,13,76,410,71,12,49,31,15,11]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let d=class Ct{constructor(t,o){this.decorationIds=[],this.editor=t,this.editorWorkerService=o}static get(t){return t.getContribution(Ct.ID)}dispose(){}run(t,o){this.currentRequest&&this.currentRequest.cancel();const h=this.editor.getSelection(),g=this.editor.getModel();if(!(!g||!h)){let m=h;if(m.startLineNumber===m.endLineNumber){const f=new i.EditorState(this.editor,1|4),b=g.uri;return this.editorWorkerService.canNavigateValueSet(b)?(this.currentRequest=(0,l.createCancelablePromise)(y=>this.editorWorkerService.navigateValueSet(b,m,o)),this.currentRequest.then(y=>{if(!(!y||!y.range||!y.value)&&!!f.validate(this.editor)){let L=I.Range.lift(y.range),N=y.range,M=y.value.length-(m.endColumn-m.startColumn);N={startLineNumber:N.startLineNumber,startColumn:N.startColumn,endLineNumber:N.endLineNumber,endColumn:N.startColumn+y.value.length},M>1&&(m=new k.Selection(m.startLineNumber,m.startColumn,m.endLineNumber,m.endColumn+M-1));const D=new C.InPlaceReplaceCommand(L,m,y.value);this.editor.pushUndoStop(),this.editor.executeCommand(t,D),this.editor.pushUndoStop(),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[{range:N,options:Ct.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=(0,l.timeout)(350),this.decorationRemover.then(()=>this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[])).catch(c.onUnexpectedError)}}).catch(c.onUnexpectedError)):Promise.resolve(void 0)}}}};d.ID="editor.contrib.inPlaceReplaceController",d.DECORATION=a.ModelDecorationOptions.register({className:"valueSetReplacement"}),d=Me([pe(1,_.IEditorWorkerService)],d);class r extends S.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.up",label:v.localize(0,null),alias:"Replace with Previous Value",precondition:w.EditorContextKeys.writable,kbOpts:{kbExpr:w.EditorContextKeys.editorTextFocus,primary:2048|1024|82,weight:100}})}run(t,o){const h=d.get(o);return h?h.run(this.id,!0):Promise.resolve(void 0)}}class n extends S.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.down",label:v.localize(1,null),alias:"Replace with Next Value",precondition:w.EditorContextKeys.writable,kbOpts:{kbExpr:w.EditorContextKeys.editorTextFocus,primary:2048|1024|84,weight:100}})}run(t,o){const h=d.get(o);return h?h.run(this.id,!1):Promise.resolve(void 0)}}(0,S.registerEditorContribution)(d.ID,d),(0,S.registerEditorAction)(r),(0,S.registerEditorAction)(n),(0,p.registerThemingParticipant)((s,t)=>{const o=s.getColor(u.editorBracketMatchBorder);o&&t.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${o}; }`)})}),define(J[631],ee([0,1,493,2,8,13,180,62,3,21,25,31,42,36,230,78]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentationToTabsCommand=e.IndentationToSpacesCommand=e.AutoIndentOnPaste=e.AutoIndentOnPasteCommand=e.ReindentSelectedLinesAction=e.ReindentLinesAction=e.DetectIndentation=e.IndentUsingSpaces=e.IndentUsingTabs=e.ChangeIndentationSizeAction=e.IndentationToTabsAction=e.IndentationToSpacesAction=e.getReindentEditOperations=void 0;function r(D,R,P,O){if(D.getLineCount()===1&&D.getLineMaxColumn(1)===1)return[];let W=a.LanguageConfigurationRegistry.getIndentationRules(D.getLanguageIdentifier().id);if(!W)return[];for(P=Math.min(P,D.getLineCount());R<=P&&W.unIndentedLinePattern;){let ae=D.getLineContent(R);if(!W.unIndentedLinePattern.test(ae))break;R++}if(R>P-1)return[];const{tabSize:F,indentSize:E,insertSpaces:A}=D.getOptions(),B=(ae,le)=>(le=le||1,S.ShiftCommand.shiftIndent(ae,ae.length+le,F,E,A)),H=(ae,le)=>(le=le||1,S.ShiftCommand.unshiftIndent(ae,ae.length+le,F,E,A));let K=[],q,Y=D.getLineContent(R),te=Y;if(O!=null){q=O;let ae=k.getLeadingWhitespace(Y);te=q+Y.substring(ae.length),W.decreaseIndentPattern&&W.decreaseIndentPattern.test(te)&&(q=H(q),te=q+Y.substring(ae.length)),Y!==te&&K.push(_.EditOperation.replaceMove(new i.Selection(R,1,R,ae.length+1),u.TextModel.normalizeIndentation(q,E,A)))}else q=k.getLeadingWhitespace(Y);let ie=q;W.increaseIndentPattern&&W.increaseIndentPattern.test(te)?(ie=B(ie),q=B(q)):W.indentNextLinePattern&&W.indentNextLinePattern.test(te)&&(ie=B(ie)),R++;for(let ae=R;ae<=P;ae++){let le=D.getLineContent(ae),Z=k.getLeadingWhitespace(le),T=ie+le.substring(Z.length);W.decreaseIndentPattern&&W.decreaseIndentPattern.test(T)&&(ie=H(ie),q=H(q)),Z!==ie&&K.push(_.EditOperation.replaceMove(new i.Selection(ae,1,ae,Z.length+1),u.TextModel.normalizeIndentation(ie,E,A))),!(W.unIndentedLinePattern&&W.unIndentedLinePattern.test(le))&&(W.increaseIndentPattern&&W.increaseIndentPattern.test(T)?(q=B(q),ie=q):W.indentNextLinePattern&&W.indentNextLinePattern.test(T)?ie=B(ie):ie=q)}return K}e.getReindentEditOperations=r;class n extends w.EditorAction{constructor(){super({id:n.ID,label:v.localize(0,null),alias:"Convert Indentation to Spaces",precondition:p.EditorContextKeys.writable})}run(R,P){let O=P.getModel();if(!!O){let W=O.getOptions(),F=P.getSelection();if(!!F){const E=new N(F,W.tabSize);P.pushUndoStop(),P.executeCommands(this.id,[E]),P.pushUndoStop(),O.updateOptions({insertSpaces:!0})}}}}e.IndentationToSpacesAction=n,n.ID="editor.action.indentationToSpaces";class s extends w.EditorAction{constructor(){super({id:s.ID,label:v.localize(1,null),alias:"Convert Indentation to Tabs",precondition:p.EditorContextKeys.writable})}run(R,P){let O=P.getModel();if(!!O){let W=O.getOptions(),F=P.getSelection();if(!!F){const E=new M(F,W.tabSize);P.pushUndoStop(),P.executeCommands(this.id,[E]),P.pushUndoStop(),O.updateOptions({insertSpaces:!1})}}}}e.IndentationToTabsAction=s,s.ID="editor.action.indentationToTabs";class t extends w.EditorAction{constructor(R,P){super(P);this.insertSpaces=R}run(R,P){const O=R.get(d.IQuickInputService),W=R.get(l.IModelService);let F=P.getModel();if(!!F){let E=W.getCreationOptions(F.getLanguageIdentifier().language,F.uri,F.isForSimpleWidget);const A=[1,2,3,4,5,6,7,8].map(H=>({id:H.toString(),label:H.toString(),description:H===E.tabSize?v.localize(2,null):void 0})),B=Math.min(F.getOptions().tabSize-1,7);setTimeout(()=>{O.pick(A,{placeHolder:v.localize(3,null),activeItem:A[B]}).then(H=>{H&&F&&!F.isDisposed()&&F.updateOptions({tabSize:parseInt(H.label,10),insertSpaces:this.insertSpaces})})},50)}}}e.ChangeIndentationSizeAction=t;class o extends t{constructor(){super(!1,{id:o.ID,label:v.localize(4,null),alias:"Indent Using Tabs",precondition:void 0})}}e.IndentUsingTabs=o,o.ID="editor.action.indentUsingTabs";class h extends t{constructor(){super(!0,{id:h.ID,label:v.localize(5,null),alias:"Indent Using Spaces",precondition:void 0})}}e.IndentUsingSpaces=h,h.ID="editor.action.indentUsingSpaces";class g extends w.EditorAction{constructor(){super({id:g.ID,label:v.localize(6,null),alias:"Detect Indentation from Content",precondition:void 0})}run(R,P){const O=R.get(l.IModelService);let W=P.getModel();if(!!W){let F=O.getCreationOptions(W.getLanguageIdentifier().language,W.uri,W.isForSimpleWidget);W.detectIndentation(F.insertSpaces,F.tabSize)}}}e.DetectIndentation=g,g.ID="editor.action.detectIndentation";class m extends w.EditorAction{constructor(){super({id:"editor.action.reindentlines",label:v.localize(7,null),alias:"Reindent Lines",precondition:p.EditorContextKeys.writable})}run(R,P){let O=P.getModel();if(!!O){let W=r(O,1,O.getLineCount());W.length>0&&(P.pushUndoStop(),P.executeEdits(this.id,W),P.pushUndoStop())}}}e.ReindentLinesAction=m;class f extends w.EditorAction{constructor(){super({id:"editor.action.reindentselectedlines",label:v.localize(8,null),alias:"Reindent Selected Lines",precondition:p.EditorContextKeys.writable})}run(R,P){let O=P.getModel();if(!!O){let W=P.getSelections();if(W!==null){let F=[];for(let E of W){let A=E.startLineNumber,B=E.endLineNumber;if(A!==B&&E.endColumn===1&&B--,A===1){if(A===B)continue}else A--;let H=r(O,A,B);F.push(...H)}F.length>0&&(P.pushUndoStop(),P.executeEdits(this.id,F),P.pushUndoStop())}}}}e.ReindentSelectedLinesAction=f;class b{constructor(R,P){this._initialSelection=P,this._edits=[],this._selectionId=null;for(let O of R)O.range&&typeof O.text=="string"&&this._edits.push(O)}getEditOperations(R,P){for(let W of this._edits)P.addEditOperation(C.Range.lift(W.range),W.text);let O=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(O=!0,this._selectionId=P.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(O=!0,this._selectionId=P.trackSelection(this._initialSelection,!1))),O||(this._selectionId=P.trackSelection(this._initialSelection))}computeCursorState(R,P){return P.getTrackedSelection(this._selectionId)}}e.AutoIndentOnPasteCommand=b;class y{constructor(R){this.callOnDispose=new I.DisposableStore,this.callOnModel=new I.DisposableStore,this.editor=R,this.callOnDispose.add(R.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(R.onDidChangeModel(()=>this.update())),this.callOnDispose.add(R.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(9)<4||this.editor.getOption(44))&&(!this.editor.hasModel()||this.callOnModel.add(this.editor.onDidPaste(({range:R})=>{this.trigger(R)})))}trigger(R){let P=this.editor.getSelections();if(!(P===null||P.length>1)){const O=this.editor.getModel();if(!!O&&!!O.isCheapToTokenize(R.getStartPosition().lineNumber)){const W=this.editor.getOption(9),{tabSize:F,indentSize:E,insertSpaces:A}=O.getOptions();let B=[],H={shiftIndent:te=>S.ShiftCommand.shiftIndent(te,te.length+1,F,E,A),unshiftIndent:te=>S.ShiftCommand.unshiftIndent(te,te.length+1,F,E,A)},K=R.startLineNumber;for(;K<=R.endLineNumber;){if(this.shouldIgnoreLine(O,K)){K++;continue}break}if(!(K>R.endLineNumber)){let q=O.getLineContent(K);if(!/\S/.test(q.substring(0,R.startColumn-1))){let te=a.LanguageConfigurationRegistry.getGoodIndentForLine(W,O,O.getLanguageIdentifier().id,K,H);if(te!==null){let ie=k.getLeadingWhitespace(q),ae=c.getSpaceCnt(te,F),le=c.getSpaceCnt(ie,F);if(ae!==le){let Z=c.generateIndent(ae,F,A);B.push({range:new C.Range(K,1,K,ie.length+1),text:Z}),q=Z+q.substr(ie.length)}else{let Z=a.LanguageConfigurationRegistry.getIndentMetadata(O,K);if(Z===0||Z===8)return}}}const Y=K;for(;K<R.endLineNumber;){if(!/\S/.test(O.getLineContent(K+1))){K++;continue}break}if(K!==R.endLineNumber){let te={getLineTokens:ae=>O.getLineTokens(ae),getLanguageIdentifier:()=>O.getLanguageIdentifier(),getLanguageIdAtPosition:(ae,le)=>O.getLanguageIdAtPosition(ae,le),getLineContent:ae=>ae===Y?q:O.getLineContent(ae)},ie=a.LanguageConfigurationRegistry.getGoodIndentForLine(W,te,O.getLanguageIdentifier().id,K+1,H);if(ie!==null){let ae=c.getSpaceCnt(ie,F),le=c.getSpaceCnt(k.getLeadingWhitespace(O.getLineContent(K+1)),F);if(ae!==le){let Z=ae-le;for(let T=K+1;T<=R.endLineNumber;T++){let x=O.getLineContent(T),z=k.getLeadingWhitespace(x),U=c.getSpaceCnt(z,F)+Z,Q=c.generateIndent(U,F,A);Q!==z&&B.push({range:new C.Range(T,1,T,z.length+1),text:Q})}}}}if(B.length>0){this.editor.pushUndoStop();let te=new b(B,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",te),this.editor.pushUndoStop()}}}}}shouldIgnoreLine(R,P){R.forceTokenization(P);let O=R.getLineFirstNonWhitespaceColumn(P);if(O===0)return!0;let W=R.getLineTokens(P);if(W.getCount()>0){let F=W.findTokenIndexAtOffset(O);if(F>=0&&W.getStandardTokenType(F)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}}e.AutoIndentOnPaste=y,y.ID="editor.contrib.autoIndentOnPaste";function L(D,R,P,O){if(!(D.getLineCount()===1&&D.getLineMaxColumn(1)===1)){let W="";for(let E=0;E<P;E++)W+=" ";let F=new RegExp(W,"gi");for(let E=1,A=D.getLineCount();E<=A;E++){let B=D.getLineFirstNonWhitespaceColumn(E);if(B===0&&(B=D.getLineMaxColumn(E)),B!==1){const H=new C.Range(E,1,E,B),K=D.getValueInRange(H),q=O?K.replace(/\t/ig,W):K.replace(F,"	");R.addEditOperation(H,q)}}}}class N{constructor(R,P){this.selection=R,this.tabSize=P,this.selectionId=null}getEditOperations(R,P){this.selectionId=P.trackSelection(this.selection),L(R,P,this.tabSize,!0)}computeCursorState(R,P){return P.getTrackedSelection(this.selectionId)}}e.IndentationToSpacesCommand=N;class M{constructor(R,P){this.selection=R,this.tabSize=P,this.selectionId=null}getEditOperations(R,P){this.selectionId=P.trackSelection(this.selection),L(R,P,this.tabSize,!1)}computeCursorState(R,P){return P.getTrackedSelection(this.selectionId)}}e.IndentationToTabsCommand=M,(0,w.registerEditorContribution)(y.ID,y),(0,w.registerEditorAction)(n),(0,w.registerEditorAction)(s),(0,w.registerEditorAction)(o),(0,w.registerEditorAction)(h),(0,w.registerEditorAction)(g),(0,w.registerEditorAction)(m),(0,w.registerEditorAction)(f)}),define(J[632],ee([0,1,15,11,89,2,13,28,18,19,22,23,12,3,134,74,26,24,20,67]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n,s,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineHintsController=e.getInlineHints=void 0;const o=500;function h(m,f,b){return Ie(this,void 0,void 0,function*(){const y=[],L=C.InlineHintsProviderRegistry.ordered(m).reverse(),N=(0,i.flatten)(L.map(M=>f.map(D=>Promise.resolve(M.provideInlineHints(m,D,b)).then(R=>{R&&y.push({list:R,provider:M})},R=>{(0,I.onUnexpectedExternalError)(R)}))));return yield Promise.all(N),y})}e.getInlineHints=h;let g=class{constructor(f,b,y){this._editor=f,this._codeEditorService=b,this._themeService=y,this._disposables=new w.DisposableStore,this._sessionDisposables=new w.DisposableStore,this._getInlineHintsDelays=new c.LanguageFeatureRequestDelays(C.InlineHintsProviderRegistry,250,2500),this._decorationsTypeIds=[],this._decorationIds=[],this._disposables.add(C.InlineHintsProviderRegistry.onDidChange(()=>this._update())),this._disposables.add(y.onDidColorThemeChange(()=>this._update())),this._disposables.add(f.onDidChangeModel(()=>this._update())),this._disposables.add(f.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(f.onDidChangeConfiguration(L=>{L.hasChanged(123)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(123).enabled){this._removeAllDecorations();return}const f=this._editor.getModel();if(!f||!C.InlineHintsProviderRegistry.has(f)){this._removeAllDecorations();return}const b=new v.RunOnceScheduler(()=>Ie(this,void 0,void 0,function*(){const L=Date.now(),N=new u.CancellationTokenSource;this._sessionDisposables.add((0,w.toDisposable)(()=>N.dispose(!0)));const M=this._editor.getVisibleRangesPlusViewportAboveBelow(),D=yield h(f,M,N.token),R=this._getInlineHintsDelays.update(f,Date.now()-L);b.delay=R,this._updateHintsDecorators(D)}),this._getInlineHintsDelays.get(f));this._sessionDisposables.add(b),this._sessionDisposables.add(this._editor.onDidChangeModelContent(()=>b.schedule())),this._disposables.add(this._editor.onDidScrollChange(()=>b.schedule())),b.schedule();const y=new w.DisposableStore;this._sessionDisposables.add(y);for(const L of C.InlineHintsProviderRegistry.all(f))typeof L.onDidChangeInlineHints=="function"&&y.add(L.onDidChangeInlineHints(()=>b.schedule()))}_updateHintsDecorators(f){const{fontSize:b,fontFamily:y}=this._getLayoutInfo(),L=this._themeService.getColorTheme().getColor(p.editorInlineHintBackground),N=this._themeService.getColorTheme().getColor(p.editorInlineHintForeground),M=[],D=[],R="--inlineHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(R,y);for(const{list:P}of f)for(let O=0;O<P.length&&D.length<o;O++){const{text:W,range:F,description:E,whitespaceBefore:A,whitespaceAfter:B}=P[O],H=A?b/3|0:0,K=B?b/3|0:0,q={contentText:W,backgroundColor:`${L}`,color:`${N}`,margin:`0px ${K}px 0px ${H}px`,fontSize:`${b}px`,fontFamily:`var(${R})`,padding:`0px ${b/4|0}px`,borderRadius:`${b/4|0}px`},Y="inlineHints-"+(0,k.hash)(q).toString(16);this._codeEditorService.registerDecorationType(Y,{before:q},void 0,this._editor),M.push(Y);const te=this._codeEditorService.resolveDecorationOptions(Y,!0);typeof E=="string"?te.hoverMessage=new d.MarkdownString().appendText(E):E&&(te.hoverMessage=E),D.push({range:F,options:te})}this._decorationsTypeIds.forEach(this._codeEditorService.removeDecorationType,this._codeEditorService),this._decorationsTypeIds=M,this._decorationIds=this._editor.deltaDecorations(this._decorationIds,D)}_getLayoutInfo(){const f=this._editor.getOption(123),b=this._editor.getOption(42);let y=f.fontSize;(!y||y<5||y>b)&&(y=b*.9|0);const L=f.fontFamily;return{fontSize:y,fontFamily:L}}_removeAllDecorations(){this._decorationIds=this._editor.deltaDecorations(this._decorationIds,[]),this._decorationsTypeIds.forEach(this._codeEditorService.removeDecorationType,this._codeEditorService),this._decorationsTypeIds=[]}};g.ID="editor.contrib.InlineHints",g=Me([pe(1,_.ICodeEditorService),pe(2,a.IThemeService)],g),e.InlineHintsController=g,(0,S.registerEditorContribution)(g.ID,g),r.CommandsRegistry.registerCommand("_executeInlineHintProvider",(m,...f)=>Ie(void 0,void 0,void 0,function*(){const[b,y]=f;(0,s.assertType)(n.URI.isUri(b)),(0,s.assertType)(l.Range.isIRange(y));const L=yield m.get(t.ITextModelService).createModelReference(b);try{const N=yield h(L.object.textEditorModel,[l.Range.lift(y)],u.CancellationToken.None);return(0,i.flatten)(N.map(M=>M.list)).sort((M,D)=>l.Range.compareRangesUsingStarts(M.range,D.range))}finally{L.dispose()}}))}),define(J[633],ee([0,1,494,39,189,13,92,367,183,62,14,3,21,25,411,545,412,34]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnakeCaseAction=e.TitleCaseAction=e.LowerCaseAction=e.UpperCaseAction=e.AbstractCaseAction=e.TransposeAction=e.JoinLinesAction=e.DeleteAllRightAction=e.DeleteAllLeftAction=e.AbstractDeleteAllToBoundaryAction=e.InsertLineAfterAction=e.InsertLineBeforeAction=e.IndentLinesAction=e.DeleteLinesAction=e.TrimTrailingWhitespaceAction=e.SortLinesDescendingAction=e.SortLinesAscendingAction=e.AbstractSortLinesAction=e.DuplicateSelectionAction=void 0;class s extends w.EditorAction{constructor(le,Z){super(Z);this.down=le}run(le,Z){if(!!Z.hasModel()){const T=Z.getSelections().map((V,U)=>({selection:V,index:U,ignore:!1}));T.sort((V,U)=>u.Range.compareRangesUsingStarts(V.selection,U.selection));let x=T[0];for(let V=1;V<T.length;V++){const U=T[V];x.selection.endLineNumber===U.selection.startLineNumber&&(x.index<U.index?U.ignore=!0:(x.ignore=!0,x=U))}const z=[];for(const V of T)z.push(new c.CopyLinesCommand(V.selection,this.down,V.ignore));Z.pushUndoStop(),Z.executeCommands(this.id,z),Z.pushUndoStop()}}}class t extends s{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:v.localize(0,null),alias:"Copy Line Up",precondition:l.EditorContextKeys.writable,kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,primary:512|1024|16,linux:{primary:2048|512|1024|16},weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"2_line",title:v.localize(1,null),order:1}})}}class o extends s{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:v.localize(2,null),alias:"Copy Line Down",precondition:l.EditorContextKeys.writable,kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,primary:512|1024|18,linux:{primary:2048|512|1024|18},weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"2_line",title:v.localize(3,null),order:2}})}}class h extends w.EditorAction{constructor(){super({id:"editor.action.duplicateSelection",label:v.localize(4,null),alias:"Duplicate Selection",precondition:l.EditorContextKeys.writable,menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"2_line",title:v.localize(5,null),order:5}})}run(le,Z,T){if(!!Z.hasModel()){const x=[],z=Z.getSelections(),V=Z.getModel();for(const U of z)if(U.isEmpty())x.push(new c.CopyLinesCommand(U,!0));else{const Q=new a.Selection(U.endLineNumber,U.endColumn,U.endLineNumber,U.endColumn);x.push(new S.ReplaceCommandThatSelectsText(Q,V.getValueInRange(U)))}Z.pushUndoStop(),Z.executeCommands(this.id,x),Z.pushUndoStop()}}}e.DuplicateSelectionAction=h;class g extends w.EditorAction{constructor(le,Z){super(Z);this.down=le}run(le,Z){let T=[],x=Z.getSelections()||[];const z=Z.getOption(9);for(const V of x)T.push(new d.MoveLinesCommand(V,this.down,z));Z.pushUndoStop(),Z.executeCommands(this.id,T),Z.pushUndoStop()}}class m extends g{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:v.localize(6,null),alias:"Move Line Up",precondition:l.EditorContextKeys.writable,kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,primary:512|16,linux:{primary:512|16},weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"2_line",title:v.localize(7,null),order:3}})}}class f extends g{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:v.localize(8,null),alias:"Move Line Down",precondition:l.EditorContextKeys.writable,kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,primary:512|18,linux:{primary:512|18},weight:100},menuOpts:{menuId:n.MenuId.MenubarSelectionMenu,group:"2_line",title:v.localize(9,null),order:4}})}}class b extends w.EditorAction{constructor(le,Z){super(Z);this.descending=le}run(le,Z){const T=Z.getSelections()||[];for(const z of T)if(!r.SortLinesCommand.canRun(Z.getModel(),z,this.descending))return;let x=[];for(let z=0,V=T.length;z<V;z++)x[z]=new r.SortLinesCommand(T[z],this.descending);Z.pushUndoStop(),Z.executeCommands(this.id,x),Z.pushUndoStop()}}e.AbstractSortLinesAction=b;class y extends b{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:v.localize(10,null),alias:"Sort Lines Ascending",precondition:l.EditorContextKeys.writable})}}e.SortLinesAscendingAction=y;class L extends b{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:v.localize(11,null),alias:"Sort Lines Descending",precondition:l.EditorContextKeys.writable})}}e.SortLinesDescendingAction=L;class N extends w.EditorAction{constructor(){super({id:N.ID,label:v.localize(12,null),alias:"Trim Trailing Whitespace",precondition:l.EditorContextKeys.writable,kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,primary:(0,I.KeyChord)(2048|41,2048|54),weight:100}})}run(le,Z,T){let x=[];T.reason==="auto-save"&&(x=(Z.getSelections()||[]).map(U=>new p.Position(U.positionLineNumber,U.positionColumn)));let z=Z.getSelection();if(z!==null){let V=new _.TrimTrailingWhitespaceCommand(z,x);Z.pushUndoStop(),Z.executeCommands(this.id,[V]),Z.pushUndoStop()}}}e.TrimTrailingWhitespaceAction=N,N.ID="editor.action.trimTrailingWhitespace";class M extends w.EditorAction{constructor(){super({id:"editor.action.deleteLines",label:v.localize(13,null),alias:"Delete Line",precondition:l.EditorContextKeys.writable,kbOpts:{kbExpr:l.EditorContextKeys.textInputFocus,primary:2048|1024|41,weight:100}})}run(le,Z){if(!!Z.hasModel()){let T=this._getLinesToRemove(Z),x=Z.getModel();if(!(x.getLineCount()===1&&x.getLineMaxColumn(1)===1)){let z=0,V=[],U=[];for(let Q=0,se=T.length;Q<se;Q++){const oe=T[Q];let G=oe.startLineNumber,j=oe.endLineNumber,ne=1,X=x.getLineMaxColumn(j);j<x.getLineCount()?(j+=1,X=1):G>1&&(G-=1,ne=x.getLineMaxColumn(G)),V.push(i.EditOperation.replace(new a.Selection(G,ne,j,X),"")),U.push(new a.Selection(G-z,oe.positionColumn,G-z,oe.positionColumn)),z+=oe.endLineNumber-oe.startLineNumber+1}Z.pushUndoStop(),Z.executeEdits(this.id,V,U),Z.pushUndoStop()}}}_getLinesToRemove(le){let Z=le.getSelections().map(z=>{let V=z.endLineNumber;return z.startLineNumber<z.endLineNumber&&z.endColumn===1&&(V-=1),{startLineNumber:z.startLineNumber,selectionStartColumn:z.selectionStartColumn,endLineNumber:V,positionColumn:z.positionColumn}});Z.sort((z,V)=>z.startLineNumber===V.startLineNumber?z.endLineNumber-V.endLineNumber:z.startLineNumber-V.startLineNumber);let T=[],x=Z[0];for(let z=1;z<Z.length;z++)x.endLineNumber+1>=Z[z].startLineNumber?x.endLineNumber=Z[z].endLineNumber:(T.push(x),x=Z[z]);return T.push(x),T}}e.DeleteLinesAction=M;class D extends w.EditorAction{constructor(){super({id:"editor.action.indentLines",label:v.localize(14,null),alias:"Indent Line",precondition:l.EditorContextKeys.writable,kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,primary:2048|89,weight:100}})}run(le,Z){const T=Z._getViewModel();!T||(Z.pushUndoStop(),Z.executeCommands(this.id,C.TypeOperations.indent(T.cursorConfig,Z.getModel(),Z.getSelections())),Z.pushUndoStop())}}e.IndentLinesAction=D;class R extends w.EditorAction{constructor(){super({id:"editor.action.outdentLines",label:v.localize(15,null),alias:"Outdent Line",precondition:l.EditorContextKeys.writable,kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,primary:2048|87,weight:100}})}run(le,Z){k.CoreEditingCommands.Outdent.runEditorCommand(le,Z,null)}}class P extends w.EditorAction{constructor(){super({id:"editor.action.insertLineBefore",label:v.localize(16,null),alias:"Insert Line Above",precondition:l.EditorContextKeys.writable,kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,primary:2048|1024|3,weight:100}})}run(le,Z){const T=Z._getViewModel();!T||(Z.pushUndoStop(),Z.executeCommands(this.id,C.TypeOperations.lineInsertBefore(T.cursorConfig,Z.getModel(),Z.getSelections())))}}e.InsertLineBeforeAction=P;class O extends w.EditorAction{constructor(){super({id:"editor.action.insertLineAfter",label:v.localize(17,null),alias:"Insert Line Below",precondition:l.EditorContextKeys.writable,kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,primary:2048|3,weight:100}})}run(le,Z){const T=Z._getViewModel();!T||(Z.pushUndoStop(),Z.executeCommands(this.id,C.TypeOperations.lineInsertAfter(T.cursorConfig,Z.getModel(),Z.getSelections())))}}e.InsertLineAfterAction=O;class W extends w.EditorAction{run(le,Z){if(!!Z.hasModel()){const T=Z.getSelection();let x=this._getRangesToDelete(Z),z=[];for(let Q=0,se=x.length-1;Q<se;Q++){let oe=x[Q],G=x[Q+1];u.Range.intersectRanges(oe,G)===null?z.push(oe):x[Q+1]=u.Range.plusRange(oe,G)}z.push(x[x.length-1]);let V=this._getEndCursorState(T,z),U=z.map(Q=>i.EditOperation.replace(Q,""));Z.pushUndoStop(),Z.executeEdits(this.id,U,V),Z.pushUndoStop()}}}e.AbstractDeleteAllToBoundaryAction=W;class F extends W{constructor(){super({id:"deleteAllLeft",label:v.localize(18,null),alias:"Delete All Left",precondition:l.EditorContextKeys.writable,kbOpts:{kbExpr:l.EditorContextKeys.textInputFocus,primary:0,mac:{primary:2048|1},weight:100}})}_getEndCursorState(le,Z){let T=null,x=[],z=0;return Z.forEach(V=>{let U;if(V.endColumn===1&&z>0){let Q=V.startLineNumber-z;U=new a.Selection(Q,V.startColumn,Q,V.startColumn)}else U=new a.Selection(V.startLineNumber,V.startColumn,V.startLineNumber,V.startColumn);z+=V.endLineNumber-V.startLineNumber,V.intersectRanges(le)?T=U:x.push(U)}),T&&x.unshift(T),x}_getRangesToDelete(le){let Z=le.getSelections();if(Z===null)return[];let T=Z,x=le.getModel();return x===null?[]:(T.sort(u.Range.compareRangesUsingStarts),T=T.map(z=>{if(z.isEmpty())if(z.startColumn===1){let V=Math.max(1,z.startLineNumber-1),U=z.startLineNumber===1?1:x.getLineContent(V).length+1;return new u.Range(V,U,z.startLineNumber,1)}else return new u.Range(z.startLineNumber,1,z.startLineNumber,z.startColumn);else return new u.Range(z.startLineNumber,1,z.endLineNumber,z.endColumn)}),T)}}e.DeleteAllLeftAction=F;class E extends W{constructor(){super({id:"deleteAllRight",label:v.localize(19,null),alias:"Delete All Right",precondition:l.EditorContextKeys.writable,kbOpts:{kbExpr:l.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|41,secondary:[2048|20]},weight:100}})}_getEndCursorState(le,Z){let T=null,x=[];for(let z=0,V=Z.length,U=0;z<V;z++){let Q=Z[z],se=new a.Selection(Q.startLineNumber-U,Q.startColumn,Q.startLineNumber-U,Q.startColumn);Q.intersectRanges(le)?T=se:x.push(se)}return T&&x.unshift(T),x}_getRangesToDelete(le){let Z=le.getModel();if(Z===null)return[];let T=le.getSelections();if(T===null)return[];let x=T.map(z=>{if(z.isEmpty()){const V=Z.getLineMaxColumn(z.startLineNumber);return z.startColumn===V?new u.Range(z.startLineNumber,z.startColumn,z.startLineNumber+1,1):new u.Range(z.startLineNumber,z.startColumn,z.startLineNumber,V)}return z});return x.sort(u.Range.compareRangesUsingStarts),x}}e.DeleteAllRightAction=E;class A extends w.EditorAction{constructor(){super({id:"editor.action.joinLines",label:v.localize(20,null),alias:"Join Lines",precondition:l.EditorContextKeys.writable,kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,primary:0,mac:{primary:256|40},weight:100}})}run(le,Z){let T=Z.getSelections();if(T!==null){let x=Z.getSelection();if(x!==null){T.sort(u.Range.compareRangesUsingStarts);let z=[],V=T.reduce((j,ne)=>j.isEmpty()?j.endLineNumber===ne.startLineNumber?(x.equalsSelection(j)&&(x=ne),ne):ne.startLineNumber>j.endLineNumber+1?(z.push(j),ne):new a.Selection(j.startLineNumber,j.startColumn,ne.endLineNumber,ne.endColumn):ne.startLineNumber>j.endLineNumber?(z.push(j),ne):new a.Selection(j.startLineNumber,j.startColumn,ne.endLineNumber,ne.endColumn));z.push(V);let U=Z.getModel();if(U!==null){let Q=[],se=[],oe=x,G=0;for(let j=0,ne=z.length;j<ne;j++){let X=z[j],de=X.startLineNumber,he=1,re=0,ue,me,be=U.getLineContent(X.endLineNumber).length-X.endColumn;if(X.isEmpty()||X.startLineNumber===X.endLineNumber){let De=X.getStartPosition();De.lineNumber<U.getLineCount()?(ue=de+1,me=U.getLineMaxColumn(ue)):(ue=De.lineNumber,me=U.getLineMaxColumn(De.lineNumber))}else ue=X.endLineNumber,me=U.getLineMaxColumn(ue);let we=U.getLineContent(de);for(let De=de+1;De<=ue;De++){let Oe=U.getLineContent(De),Le=U.getLineFirstNonWhitespaceColumn(De);if(Le>=1){let Te=!0;we===""&&(Te=!1),Te&&(we.charAt(we.length-1)===" "||we.charAt(we.length-1)==="	")&&(Te=!1,we=we.replace(/[\s\uFEFF\xA0]+$/g," "));let ve=Oe.substr(Le-1);we+=(Te?" ":"")+ve,Te?re=ve.length+1:re=ve.length}else re=0}let Ee=new u.Range(de,he,ue,me);if(!Ee.isEmpty()){let De;X.isEmpty()?(Q.push(i.EditOperation.replace(Ee,we)),De=new a.Selection(Ee.startLineNumber-G,we.length-re+1,de-G,we.length-re+1)):X.startLineNumber===X.endLineNumber?(Q.push(i.EditOperation.replace(Ee,we)),De=new a.Selection(X.startLineNumber-G,X.startColumn,X.endLineNumber-G,X.endColumn)):(Q.push(i.EditOperation.replace(Ee,we)),De=new a.Selection(X.startLineNumber-G,X.startColumn,X.startLineNumber-G,we.length-be)),u.Range.intersectRanges(Ee,x)!==null?oe=De:se.push(De)}G+=Ee.endLineNumber-Ee.startLineNumber}se.unshift(oe),Z.pushUndoStop(),Z.executeEdits(this.id,Q,se),Z.pushUndoStop()}}}}}e.JoinLinesAction=A;class B extends w.EditorAction{constructor(){super({id:"editor.action.transpose",label:v.localize(21,null),alias:"Transpose characters around the cursor",precondition:l.EditorContextKeys.writable})}run(le,Z){let T=Z.getSelections();if(T!==null){let x=Z.getModel();if(x!==null){let z=[];for(let V=0,U=T.length;V<U;V++){let Q=T[V];if(!!Q.isEmpty()){let se=Q.getStartPosition(),oe=x.getLineMaxColumn(se.lineNumber);if(se.column>=oe){if(se.lineNumber===x.getLineCount())continue;let G=new u.Range(se.lineNumber,Math.max(1,se.column-1),se.lineNumber+1,1),j=x.getValueInRange(G).split("").reverse().join("");z.push(new S.ReplaceCommand(new a.Selection(se.lineNumber,Math.max(1,se.column-1),se.lineNumber+1,1),j))}else{let G=new u.Range(se.lineNumber,Math.max(1,se.column-1),se.lineNumber,se.column+1),j=x.getValueInRange(G).split("").reverse().join("");z.push(new S.ReplaceCommandThatPreservesSelection(G,j,new a.Selection(se.lineNumber,se.column+1,se.lineNumber,se.column+1)))}}}Z.pushUndoStop(),Z.executeCommands(this.id,z),Z.pushUndoStop()}}}}e.TransposeAction=B;class H extends w.EditorAction{run(le,Z){const T=Z.getSelections();if(T!==null){const x=Z.getModel();if(x!==null){const z=Z.getOption(113),V=[];for(const U of T)if(U.isEmpty()){const Q=U.getStartPosition(),se=Z.getConfiguredWordAtPosition(Q);if(!se)continue;const oe=new u.Range(Q.lineNumber,se.startColumn,Q.lineNumber,se.endColumn),G=x.getValueInRange(oe);V.push(i.EditOperation.replace(oe,this._modifyText(G,z)))}else{const Q=x.getValueInRange(U);V.push(i.EditOperation.replace(U,this._modifyText(Q,z)))}Z.pushUndoStop(),Z.executeEdits(this.id,V),Z.pushUndoStop()}}}}e.AbstractCaseAction=H;class K extends H{constructor(){super({id:"editor.action.transformToUppercase",label:v.localize(22,null),alias:"Transform to Uppercase",precondition:l.EditorContextKeys.writable})}_modifyText(le,Z){return le.toLocaleUpperCase()}}e.UpperCaseAction=K;class q extends H{constructor(){super({id:"editor.action.transformToLowercase",label:v.localize(23,null),alias:"Transform to Lowercase",precondition:l.EditorContextKeys.writable})}_modifyText(le,Z){return le.toLocaleLowerCase()}}e.LowerCaseAction=q;class Y extends H{constructor(){super({id:"editor.action.transformToTitlecase",label:v.localize(24,null),alias:"Transform to Title Case",precondition:l.EditorContextKeys.writable})}_modifyText(le,Z){const x=(`\r
	 `+Z).split("");let z="",V=!0;for(let U=0;U<le.length;U++){let Q=le[U];x.indexOf(Q)>=0?(V=!0,z+=Q):V?(V=!1,z+=Q.toLocaleUpperCase()):z+=Q.toLocaleLowerCase()}return z}}e.TitleCaseAction=Y;class te{constructor(le,Z){this._pattern=le,this._flags=Z,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch(le){}}return this._actual}isSupported(){return this.get()!==null}}class ie extends H{constructor(){super({id:"editor.action.transformToSnakecase",label:v.localize(25,null),alias:"Transform to Snake Case",precondition:l.EditorContextKeys.writable})}_modifyText(le,Z){const T=ie.regExp1.get(),x=ie.regExp2.get();return!T||!x?le:le.replace(T,"$1_$2").replace(x,"$1_$2$3").toLocaleLowerCase()}}e.SnakeCaseAction=ie,ie.regExp1=new te("(\\p{Ll})(\\p{Lu})","gmu"),ie.regExp2=new te("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu"),(0,w.registerEditorAction)(t),(0,w.registerEditorAction)(o),(0,w.registerEditorAction)(h),(0,w.registerEditorAction)(m),(0,w.registerEditorAction)(f),(0,w.registerEditorAction)(y),(0,w.registerEditorAction)(L),(0,w.registerEditorAction)(N),(0,w.registerEditorAction)(M),(0,w.registerEditorAction)(D),(0,w.registerEditorAction)(R),(0,w.registerEditorAction)(P),(0,w.registerEditorAction)(O),(0,w.registerEditorAction)(F),(0,w.registerEditorAction)(E),(0,w.registerEditorAction)(A),(0,w.registerEditorAction)(B),(0,w.registerEditorAction)(K),(0,w.registerEditorAction)(q),(0,w.registerEditorAction)(Y),ie.regExp1.isSupported()&&ie.regExp2.isSupported()&&(0,w.registerEditorAction)(ie)}),define(J[634],ee([0,1,495,13,19,2,14,23,3,18,15,31,16,25,24,28,11,8,22,12,29,42]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n,s,t,o,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorLinkedEditingBackground=e.LinkedEditingAction=e.LinkedEditingContribution=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=new a.RawContextKey("LinkedEditingInputVisible",!1);const g="linked-editing-decoration";let m=class bt extends w.Disposable{constructor(N,M){super();this._debounceDuration=200,this._localToDispose=this._register(new w.DisposableStore),this._editor=N,this._enabled=!1,this._visibleContextKey=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE.bindTo(M),this._currentDecorations=[],this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new w.DisposableStore),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize())),this._register(this._editor.onDidChangeConfiguration(D=>{(D.hasChanged(58)||D.hasChanged(78))&&this.reinitialize()})),this._register(i.LinkedEditingRangeProviderRegistry.onDidChange(()=>this.reinitialize())),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize())),this.reinitialize()}static get(N){return N.getContribution(bt.ID)}reinitialize(){const N=this._editor.getModel(),M=N!==null&&(this._editor.getOption(58)||this._editor.getOption(78))&&i.LinkedEditingRangeProviderRegistry.has(N);if(M!==this._enabled&&(this._enabled=M,this.clearRanges(),this._localToDispose.clear(),!(!M||N===null))){this._languageWordPattern=h.LanguageConfigurationRegistry.getWordDefinition(N.getLanguageIdentifier().id),this._localToDispose.add(N.onDidChangeLanguageConfiguration(()=>{this._languageWordPattern=h.LanguageConfigurationRegistry.getWordDefinition(N.getLanguageIdentifier().id)}));const D=new p.Delayer(this._debounceDuration),R=()=>{this._rangeUpdateTriggerPromise=D.trigger(()=>this.updateRanges(),this._debounceDuration)},P=new p.Delayer(0),O=W=>{this._rangeSyncTriggerPromise=P.trigger(()=>this._syncRanges(W))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{R()})),this._localToDispose.add(this._editor.onDidChangeModelContent(W=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const F=N.getDecorationRange(this._currentDecorations[0]);if(F&&W.changes.every(E=>F.intersectRanges(E.range))){O(this._currentDecorations);return}}R()})),this._localToDispose.add({dispose:()=>{D.cancel(),P.cancel()}}),this.updateRanges()}}_syncRanges(N){if(!(!this._editor.hasModel()||N!==this._currentDecorations||N.length===0)){const M=this._editor.getModel(),D=M.getDecorationRange(N[0]);if(!D||D.startLineNumber!==D.endLineNumber)return this.clearRanges();const R=M.getValueInRange(D);if(this._currentWordPattern){const O=R.match(this._currentWordPattern);if((O?O[0].length:0)!==R.length)return this.clearRanges()}let P=[];for(let O=1,W=N.length;O<W;O++){const F=M.getDecorationRange(N[O]);if(!!F)if(F.startLineNumber!==F.endLineNumber)P.push({range:F,text:R});else{let E=M.getValueInRange(F),A=R,B=F.startColumn,H=F.endColumn;const K=n.commonPrefixLength(E,A);B+=K,E=E.substr(K),A=A.substr(K);const q=n.commonSuffixLength(E,A);H-=q,E=E.substr(0,E.length-q),A=A.substr(0,A.length-q),(B!==H||A.length!==0)&&P.push({range:new C.Range(F.startLineNumber,B,F.endLineNumber,H),text:A})}}if(P.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const O=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",P),this._editor._getViewModel().setPrevEditOperationType(O)}finally{this._ignoreChangeEvent=!1}}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,[]),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(N=!1){return Ie(this,void 0,void 0,function*(){if(!this._editor.hasModel()){this.clearRanges();return}const M=this._editor.getPosition();if(!this._enabled&&!N||this._editor.getSelections().length>1){this.clearRanges();return}const D=this._editor.getModel(),R=D.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===R){if(M.equals(this._currentRequestPosition))return;if(this._currentDecorations&&this._currentDecorations.length>0){const O=D.getDecorationRange(this._currentDecorations[0]);if(O&&O.containsPosition(M))return}}this._currentRequestPosition=M,this._currentRequestModelVersion=R;const P=(0,p.createCancelablePromise)(O=>Ie(this,void 0,void 0,function*(){try{const W=yield y(D,M,O);if(P!==this._currentRequest||(this._currentRequest=null,R!==D.getVersionId()))return;let F=[];(W==null?void 0:W.ranges)&&(F=W.ranges),this._currentWordPattern=(W==null?void 0:W.wordPattern)||this._languageWordPattern;let E=!1;for(let B=0,H=F.length;B<H;B++)if(C.Range.containsPosition(F[B],M)){if(E=!0,B!==0){const K=F[B];F.splice(B,1),F.unshift(K)}break}if(!E){this.clearRanges();return}const A=F.map(B=>({range:B,options:bt.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,A)}catch(W){(0,r.isPromiseCanceledError)(W)||(0,r.onUnexpectedError)(W),(this._currentRequest===P||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=P,P})}};m.ID="editor.contrib.linkedEditing",m.DECORATION=u.ModelDecorationOptions.register({stickiness:0,className:g}),m=Me([pe(1,a.IContextKeyService)],m),e.LinkedEditingContribution=m;class f extends I.EditorAction{constructor(){super({id:"editor.action.linkedEditing",label:v.localize(0,null),alias:"Start Linked Editing",precondition:a.ContextKeyExpr.and(l.EditorContextKeys.writable,l.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,primary:2048|1024|60,weight:100}})}runCommand(N,M){const D=N.get(d.ICodeEditorService),[R,P]=Array.isArray(M)&&M||[void 0,void 0];return c.URI.isUri(R)&&S.Position.isIPosition(P)?D.openCodeEditor({resource:R},D.getActiveCodeEditor()).then(O=>{!O||(O.setPosition(P),O.invokeWithinContext(W=>(this.reportTelemetry(W,O),this.run(W,O))))},r.onUnexpectedError):super.runCommand(N,M)}run(N,M){const D=m.get(M);return D?Promise.resolve(D.updateRanges(!0)):Promise.resolve()}}e.LinkedEditingAction=f;const b=I.EditorCommand.bindToContribution(m.get);(0,I.registerEditorCommand)(new b({id:"cancelLinkedEditingInput",precondition:e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE,handler:L=>L.clearRanges(),kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,weight:100+99,primary:9,secondary:[1024|9]}}));function y(L,N,M){const D=i.LinkedEditingRangeProviderRegistry.ordered(L);return(0,p.first)(D.map(R=>()=>Ie(this,void 0,void 0,function*(){try{return yield R.provideLinkedEditingRanges(L,N,M)}catch(P){(0,r.onUnexpectedExternalError)(P);return}})),R=>!!R&&k.isNonEmptyArray(R==null?void 0:R.ranges))}e.editorLinkedEditingBackground=(0,s.registerColor)("editor.linkedEditingBackground",{dark:o.Color.fromHex("#f00").transparent(.3),light:o.Color.fromHex("#f00").transparent(.3),hc:o.Color.fromHex("#f00").transparent(.3)},v.localize(1,null)),(0,t.registerThemingParticipant)((L,N)=>{const M=L.getColor(e.editorLinkedEditingBackground);M&&N.addRule(`.monaco-editor .${g} { background: ${M}; border-left-color: ${M}; }`)}),(0,I.registerModelAndPositionCommand)("_executeLinkedEditingProvider",(L,N)=>y(L,N,_.CancellationToken.None)),(0,I.registerEditorContribution)(m.ID,m),(0,I.registerEditorAction)(f)}),define(J[635],ee([0,1,496,15,23,11,74,2,17,13,31,18,228,549,32,58,22,12,24,44,45,347]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n,s,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkDetector=void 0;function h(y,L){const N=y.url&&/^command:/i.test(y.url.toString()),M=y.tooltip?y.tooltip:N?v.localize(0,null):v.localize(1,null),D=L?C.isMacintosh?v.localize(2,null):v.localize(3,null):C.isMacintosh?v.localize(4,null):v.localize(5,null);if(y.url){let R="";if(/^command:/i.test(y.url.toString())){const O=y.url.toString().match(/^command:([^?#]+)/);if(O){const W=O[1];R=` "${v.localize(6,null,W)}"`}}return new S.MarkdownString("",!0).appendMarkdown(`[${M}](${y.url.toString(!0)}${R}) (${D})`)}else return new S.MarkdownString().appendText(`${M} (${D})`)}const g={general:p.ModelDecorationOptions.register({stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:p.ModelDecorationOptions.register({stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class m{constructor(L,N){this.link=L,this.decorationId=N}static decoration(L,N){return{range:L.range,options:m._getOptions(L,N,!1)}}static _getOptions(L,N,M){const D=Object.assign({},M?g.active:g.general);return D.hoverMessage=h(L,N),D}activate(L,N){L.changeDecorationOptions(this.decorationId,m._getOptions(this.link,N,!0))}deactivate(L,N){L.changeDecorationOptions(this.decorationId,m._getOptions(this.link,N,!1))}}let f=class vt{constructor(L,N,M){this.listenersToRemove=new _.DisposableStore,this.editor=L,this.openerService=N,this.notificationService=M;let D=new a.ClickLinkGesture(L);this.listenersToRemove.add(D),this.listenersToRemove.add(D.onMouseMoveOrRelevantKeyDown(([R,P])=>{this._onEditorMouseMove(R,P)})),this.listenersToRemove.add(D.onExecute(R=>{this.onEditorMouseUp(R)})),this.listenersToRemove.add(D.onCancel(R=>{this.cleanUpActiveLinkDecoration()})),this.enabled=L.getOption(59),this.listenersToRemove.add(L.onDidChangeConfiguration(R=>{const P=L.getOption(59);this.enabled!==P&&(this.enabled=P,this.updateDecorations([]),this.stop(),this.beginCompute())})),this.listenersToRemove.add(L.onDidChangeModelContent(R=>this.onChange())),this.listenersToRemove.add(L.onDidChangeModel(R=>this.onModelChanged())),this.listenersToRemove.add(L.onDidChangeModelLanguage(R=>this.onModelModeChanged())),this.listenersToRemove.add(u.LinkProviderRegistry.onDidChange(R=>this.onModelModeChanged())),this.timeout=new I.TimeoutTimer,this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null,this.beginCompute()}static get(L){return L.getContribution(vt.ID)}onModelChanged(){this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()}onModelModeChanged(){this.stop(),this.beginCompute()}onChange(){this.timeout.setIfNotSet(()=>this.beginCompute(),vt.RECOMPUTE_TIME)}beginCompute(){return Ie(this,void 0,void 0,function*(){if(!(!this.editor.hasModel()||!this.enabled)){const L=this.editor.getModel();if(!!u.LinkProviderRegistry.has(L)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=I.createCancelablePromise(N=>(0,l.getLinks)(L,N));try{this.activeLinksList=yield this.computePromise,this.updateDecorations(this.activeLinksList.links)}catch(N){(0,w.onUnexpectedError)(N)}finally{this.computePromise=null}}}})}updateDecorations(L){const N=this.editor.getOption(66)==="altKey";let M=[],D=Object.keys(this.currentOccurrences);for(let O=0,W=D.length;O<W;O++){let F=D[O],E=this.currentOccurrences[F];M.push(E.decorationId)}let R=[];if(L)for(const O of L)R.push(m.decoration(O,N));let P=this.editor.deltaDecorations(M,R);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let O=0,W=P.length;O<W;O++){let F=new m(L[O],P[O]);this.currentOccurrences[F.decorationId]=F}}_onEditorMouseMove(L,N){const M=this.editor.getOption(66)==="altKey";if(this.isEnabled(L,N)){this.cleanUpActiveLinkDecoration();const D=this.getLinkOccurrence(L.target.position);D&&this.editor.changeDecorations(R=>{D.activate(R,M),this.activeLinkDecorationId=D.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const L=this.editor.getOption(66)==="altKey";if(this.activeLinkDecorationId){const N=this.currentOccurrences[this.activeLinkDecorationId];N&&this.editor.changeDecorations(M=>{N.deactivate(M,L)}),this.activeLinkDecorationId=null}}onEditorMouseUp(L){if(!!this.isEnabled(L)){const N=this.getLinkOccurrence(L.target.position);!N||this.openLinkOccurrence(N,L.hasSideBySideModifier,!0)}}openLinkOccurrence(L,N,M=!1){if(!!this.openerService){const{link:D}=L;D.resolve(k.CancellationToken.None).then(R=>{if(typeof R=="string"&&this.editor.hasModel()){const P=this.editor.getModel().uri;if(P.scheme===t.Schemas.file&&R.startsWith(`${t.Schemas.file}:`)){const O=s.URI.parse(R);if(O.scheme===t.Schemas.file){const W=o.originalFSPath(O);let F=null;W.startsWith("/./")?F=`.${W.substr(1)}`:W.startsWith("//./")&&(F=`.${W.substr(2)}`),F&&(R=o.joinPath(P,F))}}}return this.openerService.open(R,{openToSide:N,fromUserGesture:M,allowContributedOpeners:!0,allowCommands:!0})},R=>{const P=R instanceof Error?R.message:R;P==="invalid"?this.notificationService.warn(v.localize(7,null,D.url.toString())):P==="missing"?this.notificationService.warn(v.localize(8,null)):(0,w.onUnexpectedError)(R)})}}getLinkOccurrence(L){if(!this.editor.hasModel()||!L)return null;const N=this.editor.getModel().getDecorationsInRange({startLineNumber:L.lineNumber,startColumn:L.column,endLineNumber:L.lineNumber,endColumn:L.column},0,!0);for(const M of N){const D=this.currentOccurrences[M.id];if(D)return D}return null}isEnabled(L,N){return Boolean(L.target.type===6&&(L.hasTriggerModifier||N&&N.keyCodeIsTriggerKey))}stop(){var L;this.timeout.cancel(),this.activeLinksList&&((L=this.activeLinksList)===null||L===void 0||L.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){this.listenersToRemove.dispose(),this.stop(),this.timeout.dispose()}};f.ID="editor.linkDetector",f.RECOMPUTE_TIME=1e3,f=Me([pe(1,d.IOpenerService),pe(2,c.INotificationService)],f),e.LinkDetector=f;class b extends i.EditorAction{constructor(){super({id:"editor.action.openLink",label:v.localize(9,null),alias:"Open Link",precondition:void 0})}run(L,N){let M=f.get(N);if(!!M&&!!N.hasModel()){let D=N.getSelections();for(let R of D){let P=M.getLinkOccurrence(R.getEndPosition());P&&M.openLinkOccurrence(P,!1)}}}}(0,i.registerEditorContribution)(f.ID,f),(0,i.registerEditorAction)(b),(0,n.registerThemingParticipant)((y,L)=>{const N=y.getColor(r.editorActiveLinkForeground);N&&L.addRule(`.monaco-editor .detected-link-active { color: ${N} !important; }`)})}),define(J[146],ee([0,1,497,15,2,41,3,13,16,12,22,97,348]),function($,e,v,I,k,w,S,_,C,i,p,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MessageController=void 0;let a=class St{constructor(r,n){this._messageWidget=new k.MutableDisposable,this._messageListeners=new k.DisposableStore,this._editor=r,this._visible=St.MESSAGE_VISIBLE.bindTo(n),this._editorListener=this._editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit())}static get(r){return r.getContribution(St.ID)}dispose(){this._editorListener.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(r,n){(0,w.alert)(r),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new c(this._editor,n,r),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new I.TimeoutTimer(()=>this.closeMessage(),3e3));let s;this._messageListeners.add(this._editor.onMouseMove(t=>{!t.target.position||(s?s.containsPosition(t.target.position)||this.closeMessage():s=new S.Range(n.lineNumber-3,1,t.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(c.fadeOut(this._messageWidget.value))}_onDidAttemptReadOnlyEdit(){this._editor.hasModel()&&this.showMessage(v.localize(1,null),this._editor.getPosition())}};a.ID="editor.contrib.messageController",a.MESSAGE_VISIBLE=new C.RawContextKey("messageVisible",!1,v.localize(0,null)),a=Me([pe(1,C.IContextKeyService)],a),e.MessageController=a;const l=_.EditorCommand.bindToContribution(a.get);(0,_.registerEditorCommand)(new l({id:"leaveEditorMessage",precondition:a.MESSAGE_VISIBLE,handler:d=>d.closeMessage(),kbOpts:{weight:100+30,primary:9}}));class c{constructor(r,{lineNumber:n,column:s},t){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=r,this._editor.revealLinesInCenterIfOutsideViewport(n,n,0),this._position={lineNumber:n,column:s-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");const o=document.createElement("div");o.classList.add("anchor","top"),this._domNode.appendChild(o);const h=document.createElement("div");h.classList.add("message"),h.textContent=t,this._domNode.appendChild(h);const g=document.createElement("div");g.classList.add("anchor","below"),this._domNode.appendChild(g),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(r){let n;const s=()=>{r.dispose(),clearTimeout(n),r.getDomNode().removeEventListener("animationend",s)};return n=setTimeout(s,110),r.getDomNode().addEventListener("animationend",s),r.getDomNode().classList.add("fadeOut"),{dispose:s}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2]}}afterRender(r){this._domNode.classList.toggle("below",r===2)}}(0,_.registerEditorContribution)(a.ID,a),(0,i.registerThemingParticipant)((d,r)=>{const n=d.getColor(p.inputValidationInfoBorder);if(n){let o=d.type===u.ColorScheme.HIGH_CONTRAST?2:1;r.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor.below { border-top-color: ${n}; }`),r.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor.top { border-bottom-color: ${n}; }`),r.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { border: ${o}px solid ${n}; }`)}const s=d.getColor(p.inputValidationInfoBackground);s&&r.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { background-color: ${s}; }`);const t=d.getColor(p.inputValidationInfoForeground);t&&r.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { color: ${t}; }`)})});var _t=this&&this.__classPrivateFieldSet||function($,e,v,I,k){if(I==="m")throw new TypeError("Private method is not writable");if(I==="a"&&!k)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?$!==e||!k:!e.has($))throw new TypeError("Cannot write private member to an object whose class did not declare it");return I==="a"?k.call($,v):k?k.value=v:e.set($,v),v},tt=this&&this.__classPrivateFieldGet||function($,e,v,I){if(v==="a"&&!I)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?$!==e||!I:!e.has($))throw new TypeError("Cannot read private member from an object whose class did not declare it");return v==="m"?I:v==="a"?I.call($):I?I.value:e.get($)};define(J[636],ee([0,1,11,150,2,146,9,618,598]),function($,e,v,I,k,w,S,_,C){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionUi=void 0;let p=class extends k.Disposable{constructor(a,l,c,d,r){super();this._editor=a,this.delegate=d,this._activeCodeActions=this._register(new k.MutableDisposable),i.set(this,!1),this._codeActionWidget=new I.Lazy(()=>this._register(r.createInstance(_.CodeActionMenu,this._editor,{onSelectCodeAction:n=>Ie(this,void 0,void 0,function*(){this.delegate.applyCodeAction(n,!0)})}))),this._lightBulbWidget=new I.Lazy(()=>{const n=this._register(r.createInstance(C.LightBulbWidget,this._editor,l,c));return this._register(n.onClick(s=>this.showCodeActionList(s.trigger,s.actions,s,{includeDisabledActions:!1}))),n})}dispose(){_t(this,i,!0,"f"),super.dispose()}update(a){var l,c,d;return Ie(this,void 0,void 0,function*(){if(a.type!==1){(l=this._lightBulbWidget.rawValue)===null||l===void 0||l.hide();return}let r;try{r=yield a.actions}catch(n){(0,v.onUnexpectedError)(n);return}if(!tt(this,i,"f"))if(this._lightBulbWidget.getValue().update(r,a.trigger,a.position),a.trigger.type===1){if((c=a.trigger.filter)===null||c===void 0?void 0:c.include){const s=this.tryGetValidActionToApply(a.trigger,r);if(s){try{yield this.delegate.applyCodeAction(s,!1)}finally{r.dispose()}return}if(a.trigger.context){const t=this.getInvalidActionThatWouldHaveBeenApplied(a.trigger,r);if(t&&t.action.disabled){w.MessageController.get(this._editor).showMessage(t.action.disabled,a.trigger.context.position),r.dispose();return}}}const n=!!((d=a.trigger.filter)===null||d===void 0?void 0:d.include);if(a.trigger.context&&(!r.allActions.length||!n&&!r.validActions.length)){w.MessageController.get(this._editor).showMessage(a.trigger.context.notAvailableMessage,a.trigger.context.position),this._activeCodeActions.value=r,r.dispose();return}this._activeCodeActions.value=r,this._codeActionWidget.getValue().show(a.trigger,r,a.position,{includeDisabledActions:n})}else this._codeActionWidget.getValue().isVisible?r.dispose():this._activeCodeActions.value=r})}getInvalidActionThatWouldHaveBeenApplied(a,l){if(!!l.allActions.length&&(a.autoApply==="first"&&l.validActions.length===0||a.autoApply==="ifSingle"&&l.allActions.length===1))return l.allActions.find(({action:c})=>c.disabled)}tryGetValidActionToApply(a,l){if(!!l.validActions.length&&(a.autoApply==="first"&&l.validActions.length>0||a.autoApply==="ifSingle"&&l.validActions.length===1))return l.validActions[0]}showCodeActionList(a,l,c,d){return Ie(this,void 0,void 0,function*(){this._codeActionWidget.getValue().show(a,l,c,d)})}};i=new WeakMap,p=Me([pe(4,S.IInstantiationService)],p),e.CodeActionUi=p}),define(J[264],ee([0,1,23,150,2,8,13,133,25,145,636,146,467,26,16,9,85,32,59,87,619,131]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n,s,t,o,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoFixAction=e.FixAllAction=e.OrganizeImportsAction=e.SourceAction=e.RefactorAction=e.CodeActionCommand=e.QuickFixAction=e.applyCodeAction=e.QuickFixController=void 0;function g(F){return c.ContextKeyExpr.regex(o.SUPPORTED_CODE_ACTIONS.keys()[0],new RegExp("(\\s|^)"+(0,w.escapeRegExpCharacters)(F.value)+"\\b"))}const m={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:a.localize(0,null)},apply:{type:"string",description:a.localize(1,null),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[a.localize(2,null),a.localize(3,null),a.localize(4,null)]},preferred:{type:"boolean",default:!1,description:a.localize(5,null)}}};let f=class xt extends k.Disposable{constructor(E,A,B,H,K){super();this._instantiationService=K,this._editor=E,this._model=this._register(new o.CodeActionModel(this._editor,A,B,H)),this._register(this._model.onDidChangeState(q=>this.update(q))),this._ui=new I.Lazy(()=>this._register(new p.CodeActionUi(E,N.Id,W.Id,{applyCodeAction:(q,Y)=>Ie(this,void 0,void 0,function*(){try{yield this._applyCodeAction(q)}finally{Y&&this._trigger({type:2,filter:{}})}})},this._instantiationService)))}static get(E){return E.getContribution(xt.ID)}update(E){this._ui.getValue().update(E)}showCodeActions(E,A,B){return this._ui.getValue().showCodeActionList(E,A,B,{includeDisabledActions:!1})}manualTriggerAtCurrentPosition(E,A,B){if(!!this._editor.hasModel()){u.MessageController.get(this._editor).closeMessage();const H=this._editor.getPosition();this._trigger({type:1,filter:A,autoApply:B,context:{notAvailableMessage:E,position:H}})}}_trigger(E){return this._model.trigger(E)}_applyCodeAction(E){return this._instantiationService.invokeFunction(b,E,this._editor)}};f.ID="editor.contrib.quickFixController",f=Me([pe(1,r.IMarkerService),pe(2,c.IContextKeyService),pe(3,s.IEditorProgressService),pe(4,d.IInstantiationService)],f),e.QuickFixController=f;function b(F,E,A){return Ie(this,void 0,void 0,function*(){const B=F.get(_.IBulkEditService),H=F.get(l.ICommandService),K=F.get(t.ITelemetryService),q=F.get(n.INotificationService);if(K.publicLog2("codeAction.applyCodeAction",{codeActionTitle:E.action.title,codeActionKind:E.action.kind,codeActionIsPreferred:!!E.action.isPreferred}),yield E.resolve(v.CancellationToken.None),E.action.edit&&(yield B.apply(_.ResourceEdit.convert(E.action.edit),{editor:A,label:E.action.title})),E.action.command)try{yield H.executeCommand(E.action.command.id,...E.action.command.arguments||[])}catch(Y){const te=y(Y);q.error(typeof te=="string"?te:a.localize(6,null))}})}e.applyCodeAction=b;function y(F){return typeof F=="string"?F:F instanceof Error&&typeof F.message=="string"?F.message:void 0}function L(F,E,A,B){if(F.hasModel()){const H=f.get(F);H&&H.manualTriggerAtCurrentPosition(E,A,B)}}class N extends S.EditorAction{constructor(){super({id:N.Id,label:a.localize(7,null),alias:"Quick Fix...",precondition:c.ContextKeyExpr.and(C.EditorContextKeys.writable,C.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:2048|84,weight:100}})}run(E,A){return L(A,a.localize(8,null),void 0,void 0)}}e.QuickFixAction=N,N.Id="editor.action.quickFix";class M extends S.EditorCommand{constructor(){super({id:i.codeActionCommandId,precondition:c.ContextKeyExpr.and(C.EditorContextKeys.writable,C.EditorContextKeys.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:m}]}})}runEditorCommand(E,A,B){const H=h.CodeActionCommandArgs.fromUser(B,{kind:h.CodeActionKind.Empty,apply:"ifSingle"});return L(A,typeof(B==null?void 0:B.kind)=="string"?H.preferred?a.localize(9,null,B.kind):a.localize(10,null,B.kind):H.preferred?a.localize(11,null):a.localize(12,null),{include:H.kind,includeSourceActions:!0,onlyIncludePreferredActions:H.preferred},H.apply)}}e.CodeActionCommand=M;class D extends S.EditorAction{constructor(){super({id:i.refactorCommandId,label:a.localize(13,null),alias:"Refactor...",precondition:c.ContextKeyExpr.and(C.EditorContextKeys.writable,C.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:2048|1024|48,mac:{primary:256|1024|48},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:c.ContextKeyExpr.and(C.EditorContextKeys.writable,g(h.CodeActionKind.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:m}]}})}run(E,A,B){const H=h.CodeActionCommandArgs.fromUser(B,{kind:h.CodeActionKind.Refactor,apply:"never"});return L(A,typeof(B==null?void 0:B.kind)=="string"?H.preferred?a.localize(14,null,B.kind):a.localize(15,null,B.kind):H.preferred?a.localize(16,null):a.localize(17,null),{include:h.CodeActionKind.Refactor.contains(H.kind)?H.kind:h.CodeActionKind.None,onlyIncludePreferredActions:H.preferred},H.apply)}}e.RefactorAction=D;class R extends S.EditorAction{constructor(){super({id:i.sourceActionCommandId,label:a.localize(18,null),alias:"Source Action...",precondition:c.ContextKeyExpr.and(C.EditorContextKeys.writable,C.EditorContextKeys.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:c.ContextKeyExpr.and(C.EditorContextKeys.writable,g(h.CodeActionKind.Source))},description:{description:"Source Action...",args:[{name:"args",schema:m}]}})}run(E,A,B){const H=h.CodeActionCommandArgs.fromUser(B,{kind:h.CodeActionKind.Source,apply:"never"});return L(A,typeof(B==null?void 0:B.kind)=="string"?H.preferred?a.localize(19,null,B.kind):a.localize(20,null,B.kind):H.preferred?a.localize(21,null):a.localize(22,null),{include:h.CodeActionKind.Source.contains(H.kind)?H.kind:h.CodeActionKind.None,includeSourceActions:!0,onlyIncludePreferredActions:H.preferred},H.apply)}}e.SourceAction=R;class P extends S.EditorAction{constructor(){super({id:i.organizeImportsCommandId,label:a.localize(23,null),alias:"Organize Imports",precondition:c.ContextKeyExpr.and(C.EditorContextKeys.writable,g(h.CodeActionKind.SourceOrganizeImports)),kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:1024|512|45,weight:100}})}run(E,A){return L(A,a.localize(24,null),{include:h.CodeActionKind.SourceOrganizeImports,includeSourceActions:!0},"ifSingle")}}e.OrganizeImportsAction=P;class O extends S.EditorAction{constructor(){super({id:i.fixAllCommandId,label:a.localize(25,null),alias:"Fix All",precondition:c.ContextKeyExpr.and(C.EditorContextKeys.writable,g(h.CodeActionKind.SourceFixAll))})}run(E,A){return L(A,a.localize(26,null),{include:h.CodeActionKind.SourceFixAll,includeSourceActions:!0},"ifSingle")}}e.FixAllAction=O;class W extends S.EditorAction{constructor(){super({id:W.Id,label:a.localize(27,null),alias:"Auto Fix...",precondition:c.ContextKeyExpr.and(C.EditorContextKeys.writable,g(h.CodeActionKind.QuickFix)),kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:512|1024|84,mac:{primary:2048|512|84},weight:100}})}run(E,A){return L(A,a.localize(28,null),{include:h.CodeActionKind.QuickFix,onlyIncludePreferredActions:!0},"ifSingle")}}e.AutoFixAction=W,W.Id="editor.action.autoFix"}),define(J[637],ee([0,1,13,264]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,v.registerEditorContribution)(I.QuickFixController.ID,I.QuickFixController),(0,v.registerEditorAction)(I.QuickFixAction),(0,v.registerEditorAction)(I.RefactorAction),(0,v.registerEditorAction)(I.SourceAction),(0,v.registerEditorAction)(I.OrganizeImportsAction),(0,v.registerEditorAction)(I.AutoFixAction),(0,v.registerEditorAction)(I.FixAllAction),(0,v.registerEditorCommand)(new I.CodeActionCommand)}),define(J[638],ee([0,1,504,11,16,59,13,25,607,18,14,41,3,146,71,32,133,24,28,23,2,15,69,9,33,95,137,20]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n,s,t,o,h,g,m,f,b,y,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameAction=e.rename=void 0;class N{constructor(W,F){this.model=W,this.position=F,this._providerRenameIdx=0,this._providers=i.RenameProviderRegistry.ordered(W)}hasProvider(){return this._providers.length>0}resolveRenameLocation(W){return Ie(this,void 0,void 0,function*(){const F=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const A=this._providers[this._providerRenameIdx];if(!A.resolveRenameLocation)break;let B=yield A.resolveRenameLocation(this.model,this.position,W);if(!!B){if(B.rejectReason){F.push(B.rejectReason);continue}return B}}const E=this.model.getWordAtPosition(this.position);return E?{range:new a.Range(this.position.lineNumber,E.startColumn,this.position.lineNumber,E.endColumn),text:E.word,rejectReason:F.length>0?F.join(`
`):void 0}:{range:a.Range.fromPositions(this.position),text:"",rejectReason:F.length>0?F.join(`
`):void 0}})}provideRenameEdits(W,F){return Ie(this,void 0,void 0,function*(){return this._provideRenameEdits(W,this._providerRenameIdx,[],F)})}_provideRenameEdits(W,F,E,A){return Ie(this,void 0,void 0,function*(){const B=this._providers[F];if(!B)return{edits:[],rejectReason:E.join(`
`)};const H=yield B.provideRenameEdits(this.model,this.position,W,A);if(H){if(H.rejectReason)return this._provideRenameEdits(W,F+1,E.concat(H.rejectReason),A)}else return this._provideRenameEdits(W,F+1,E.concat(v.localize(0,null)),A);return H})}}function M(O,W,F){return Ie(this,void 0,void 0,function*(){const E=new N(O,W),A=yield E.resolveRenameLocation(t.CancellationToken.None);return(A==null?void 0:A.rejectReason)?{edits:[],rejectReason:A.rejectReason}:E.provideRenameEdits(F,t.CancellationToken.None)})}e.rename=M;let D=class Vt{constructor(W,F,E,A,B,H,K){this.editor=W,this._instaService=F,this._notificationService=E,this._bulkEditService=A,this._progressService=B,this._logService=H,this._configService=K,this._dispoableStore=new o.DisposableStore,this._cts=new t.CancellationTokenSource,this._renameInputField=this._dispoableStore.add(new h.IdleValue(()=>this._dispoableStore.add(this._instaService.createInstance(C.RenameInputField,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))))}static get(W){return W.getContribution(Vt.ID)}dispose(){this._dispoableStore.dispose(),this._cts.dispose(!0)}run(){return Ie(this,void 0,void 0,function*(){if(this._cts.dispose(!0),!!this.editor.hasModel()){const W=this.editor.getPosition(),F=new N(this.editor.getModel(),W);if(!!F.hasProvider()){this._cts=new c.EditorStateCancellationTokenSource(this.editor,4|1);let E;try{const te=F.resolveRenameLocation(this._cts.token);this._progressService.showWhile(te,250),E=yield te}catch(te){l.MessageController.get(this.editor).showMessage(te||v.localize(1,null),W);return}if(!!E){if(E.rejectReason){l.MessageController.get(this.editor).showMessage(E.rejectReason,W);return}if(!this._cts.token.isCancellationRequested){this._cts.dispose(),this._cts=new c.EditorStateCancellationTokenSource(this.editor,4|1,E.range);let A=this.editor.getSelection(),B=0,H=E.text.length;!a.Range.isEmpty(A)&&!a.Range.spansMultipleLines(A)&&a.Range.containsRange(E.range,A)&&(B=Math.max(0,A.startColumn-E.range.startColumn),H=Math.min(E.range.endColumn,A.endColumn)-E.range.startColumn);const K=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),q=yield this._renameInputField.value.getInput(E.range,E.text,B,H,K,this._cts.token);if(typeof q=="boolean"){q&&this.editor.focus();return}this.editor.focus();const Y=(0,h.raceCancellation)(F.provideRenameEdits(q.newName,this._cts.token),this._cts.token).then(te=>Ie(this,void 0,void 0,function*(){if(!(!te||!this.editor.hasModel())){if(te.rejectReason){this._notificationService.info(te.rejectReason);return}this._bulkEditService.apply(r.ResourceEdit.convert(te),{editor:this.editor,showPreview:q.wantsPreview,label:v.localize(2,null,E==null?void 0:E.text),quotableLabel:v.localize(3,null,E==null?void 0:E.text)}).then(ie=>{ie.ariaSummary&&(0,u.alert)(v.localize(4,null,E.text,q.newName,ie.ariaSummary))}).catch(ie=>{this._notificationService.error(v.localize(5,null)),this._logService.error(ie)})}}),te=>{this._notificationService.error(v.localize(6,null)),this._logService.error(te)});return this._progressService.showWhile(Y,250),Y}}}}})}acceptRenameInput(W){this._renameInputField.value.acceptInput(W)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};D.ID="editor.contrib.renameController",D=Me([pe(1,m.IInstantiationService),pe(2,d.INotificationService),pe(3,r.IBulkEditService),pe(4,w.IEditorProgressService),pe(5,g.ILogService),pe(6,y.ITextResourceConfigurationService)],D);class R extends S.EditorAction{constructor(){super({id:"editor.action.rename",label:v.localize(7,null),alias:"Rename Symbol",precondition:k.ContextKeyExpr.and(_.EditorContextKeys.writable,_.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:_.EditorContextKeys.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(W,F){const E=W.get(s.ICodeEditorService),[A,B]=Array.isArray(F)&&F||[void 0,void 0];return n.URI.isUri(A)&&p.Position.isIPosition(B)?E.openCodeEditor({resource:A},E.getActiveCodeEditor()).then(H=>{!H||(H.setPosition(B),H.invokeWithinContext(K=>(this.reportTelemetry(K,H),this.run(K,H))))},I.onUnexpectedError):super.runCommand(W,F)}run(W,F){const E=D.get(F);return E?E.run():Promise.resolve()}}e.RenameAction=R,(0,S.registerEditorContribution)(D.ID,D),(0,S.registerEditorAction)(R);const P=S.EditorCommand.bindToContribution(D.get);(0,S.registerEditorCommand)(new P({id:"acceptRenameInput",precondition:C.CONTEXT_RENAME_INPUT_VISIBLE,handler:O=>O.acceptRenameInput(!1),kbOpts:{weight:100+99,kbExpr:_.EditorContextKeys.focus,primary:3}})),(0,S.registerEditorCommand)(new P({id:"acceptRenameInputWithPreview",precondition:k.ContextKeyExpr.and(C.CONTEXT_RENAME_INPUT_VISIBLE,k.ContextKeyExpr.has("config.editor.rename.enablePreview")),handler:O=>O.acceptRenameInput(!0),kbOpts:{weight:100+99,kbExpr:_.EditorContextKeys.focus,primary:1024+3}})),(0,S.registerEditorCommand)(new P({id:"cancelRenameInput",precondition:C.CONTEXT_RENAME_INPUT_VISIBLE,handler:O=>O.cancelRenameInput(),kbOpts:{weight:100+99,kbExpr:_.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),(0,S.registerModelAndPositionCommand)("_executeDocumentRenameProvider",function(O,W,...F){const[E]=F;return(0,L.assertType)(typeof E=="string"),M(O,W,E)}),f.Registry.as(b.Extensions.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:v.localize(8,null),default:!0,type:"boolean"}}})}),define(J[639],ee([0,1,19,23,13,14,3,21,25,18,506,34,413,231,26,11]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideSelectionRanges=void 0;class r{constructor(m,f){this.index=m,this.ranges=f}mov(m){let f=this.index+(m?1:-1);if(f<0||f>=this.ranges.length)return this;const b=new r(f,this.ranges);return b.ranges[f].equalsRange(this.ranges[this.index])?b.mov(m):b}}class n{constructor(m){this._editor=m,this._ignoreSelection=!1}static get(m){return m.getContribution(n.ID)}dispose(){var m;(m=this._selectionListener)===null||m===void 0||m.dispose()}run(m){return Ie(this,void 0,void 0,function*(){if(!!this._editor.hasModel()){const f=this._editor.getSelections(),b=this._editor.getModel();if(!!i.SelectionRangeRegistry.has(b)&&(this._state||(yield h(b,f.map(L=>L.getPosition()),this._editor.getOption(99),I.CancellationToken.None).then(L=>{var N;if(!(!v.isNonEmptyArray(L)||L.length!==f.length)&&!(!this._editor.hasModel()||!v.equals(this._editor.getSelections(),f,(M,D)=>M.equalsSelection(D)))){for(let M=0;M<L.length;M++)L[M]=L[M].filter(D=>D.containsPosition(f[M].getStartPosition())&&D.containsPosition(f[M].getEndPosition())),L[M].unshift(f[M]);this._state=L.map(M=>new r(0,M)),(N=this._selectionListener)===null||N===void 0||N.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var M;this._ignoreSelection||((M=this._selectionListener)===null||M===void 0||M.dispose(),this._state=void 0)})}})),!!this._state)){this._state=this._state.map(L=>L.mov(m));const y=this._state.map(L=>_.Selection.fromPositions(L.ranges[L.index].getStartPosition(),L.ranges[L.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(y)}finally{this._ignoreSelection=!1}}}})}}n.ID="editor.contrib.smartSelectController";class s extends k.EditorAction{constructor(m,f){super(f);this._forward=m}run(m,f){return Ie(this,void 0,void 0,function*(){let b=n.get(f);b&&(yield b.run(this._forward))})}}class t extends s{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:p.localize(0,null),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:1024|512|17,mac:{primary:2048|256|1024|17,secondary:[256|1024|17]},weight:100},menuOpts:{menuId:u.MenuId.MenubarSelectionMenu,group:"1_basic",title:p.localize(1,null),order:2}})}}c.CommandsRegistry.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class o extends s{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:p.localize(2,null),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:1024|512|15,mac:{primary:2048|256|1024|15,secondary:[256|1024|15]},weight:100},menuOpts:{menuId:u.MenuId.MenubarSelectionMenu,group:"1_basic",title:p.localize(3,null),order:3}})}}(0,k.registerEditorContribution)(n.ID,n),(0,k.registerEditorAction)(t),(0,k.registerEditorAction)(o),i.SelectionRangeRegistry.register("*",new a.WordSelectionRangeProvider);function h(g,m,f,b){return Ie(this,void 0,void 0,function*(){const y=i.SelectionRangeRegistry.all(g);y.length===1&&y.unshift(new l.BracketSelectionRangeProvider);let L=[],N=[];for(const M of y)L.push(Promise.resolve(M.provideSelectionRanges(g,m,b)).then(D=>{if(v.isNonEmptyArray(D)&&D.length===m.length)for(let R=0;R<m.length;R++){N[R]||(N[R]=[]);for(const P of D[R])S.Range.isIRange(P.range)&&S.Range.containsPosition(P.range,m[R])&&N[R].push(S.Range.lift(P.range))}},d.onUnexpectedExternalError));return yield Promise.all(L),N.map(M=>{if(M.length===0)return[];M.sort((O,W)=>w.Position.isBefore(O.getStartPosition(),W.getStartPosition())?1:w.Position.isBefore(W.getStartPosition(),O.getStartPosition())||w.Position.isBefore(O.getEndPosition(),W.getEndPosition())?-1:w.Position.isBefore(W.getEndPosition(),O.getEndPosition())?1:0);let D=[],R;for(const O of M)(!R||S.Range.containsRange(O,R)&&!S.Range.equalsRange(O,R))&&(D.push(O),R=O);if(!f.selectLeadingAndTrailingWhitespace)return D;let P=[D[0]];for(let O=1;O<D.length;O++){const W=D[O-1],F=D[O];if(F.startLineNumber!==W.startLineNumber||F.endLineNumber!==W.endLineNumber){const E=new S.Range(W.startLineNumber,g.getLineFirstNonWhitespaceColumn(W.startLineNumber),W.endLineNumber,g.getLineLastNonWhitespaceColumn(W.endLineNumber));E.containsRange(W)&&!E.equalsRange(W)&&F.containsRange(E)&&!F.equalsRange(E)&&P.push(E);const A=new S.Range(W.startLineNumber,1,W.endLineNumber,g.getLineMaxColumn(W.endLineNumber));A.containsRange(W)&&!A.equalsRange(E)&&F.containsRange(A)&&!F.equalsRange(A)&&P.push(A)}P.push(F)}return P})})}e.provideSelectionRanges=h,(0,k.registerModelCommand)("_executeSelectionRangeProvider",function(g,...m){const[f]=m;return h(g,f,{selectLeadingAndTrailingWhitespace:!0},I.CancellationToken.None)})}),define(J[118],ee([0,1,11,18,14,16,23,3,66,2,34,132,81,26,20,24,67,509]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showSimpleSuggestions=e.getSuggestionComparator=e.provideSuggestionItems=e.CompletionItemModel=e.getSnippetSuggestSupport=e.CompletionOptions=e.CompletionItem=e.suggestWidgetStatusbarMenu=e.Context=void 0,e.Context={Visible:new w.RawContextKey("suggestWidgetVisible",!1,(0,n.localize)(0,null)),DetailsVisible:new w.RawContextKey("suggestWidgetDetailsVisible",!1,(0,n.localize)(1,null)),MultipleSuggestions:new w.RawContextKey("suggestWidgetMultipleSuggestions",!1,(0,n.localize)(2,null)),MakesTextEdit:new w.RawContextKey("suggestionMakesTextEdit",!0,(0,n.localize)(3,null)),AcceptSuggestionsOnEnter:new w.RawContextKey("acceptSuggestionOnEnter",!0,(0,n.localize)(4,null)),HasInsertAndReplaceRange:new w.RawContextKey("suggestionHasInsertAndReplaceRange",!1,(0,n.localize)(5,null)),InsertMode:new w.RawContextKey("suggestionInsertMode",void 0,{type:"string",description:(0,n.localize)(6,null)}),CanResolve:new w.RawContextKey("suggestionCanResolve",!1,(0,n.localize)(7,null))},e.suggestWidgetStatusbarMenu=new p.MenuId("suggestWidgetStatusBar");class s{constructor(P,O,W,F){this.position=P,this.completion=O,this.container=W,this.provider=F,this.isInvalid=!1,this.score=C.FuzzyScore.Default,this.distance=0,this.textLabel=typeof O.label=="string"?O.label:O.label.name,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=O.sortText&&O.sortText.toLowerCase(),this.filterTextLow=O.filterText&&O.filterText.toLowerCase(),_.Range.isIRange(O.range)?(this.editStart=new k.Position(O.range.startLineNumber,O.range.startColumn),this.editInsertEnd=new k.Position(O.range.endLineNumber,O.range.endColumn),this.editReplaceEnd=new k.Position(O.range.endLineNumber,O.range.endColumn),this.isInvalid=this.isInvalid||_.Range.spansMultipleLines(O.range)||O.range.startLineNumber!==P.lineNumber):(this.editStart=new k.Position(O.range.insert.startLineNumber,O.range.insert.startColumn),this.editInsertEnd=new k.Position(O.range.insert.endLineNumber,O.range.insert.endColumn),this.editReplaceEnd=new k.Position(O.range.replace.endLineNumber,O.range.replace.endColumn),this.isInvalid=this.isInvalid||_.Range.spansMultipleLines(O.range.insert)||_.Range.spansMultipleLines(O.range.replace)||O.range.insert.startLineNumber!==P.lineNumber||O.range.replace.startLineNumber!==P.lineNumber||O.range.insert.startColumn!==O.range.replace.startColumn),typeof F.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(P){return Ie(this,void 0,void 0,function*(){if(!this._resolveCache){const O=P.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,P)).then(W=>{Object.assign(this.completion,W),this._isResolved=!0,O.dispose()},W=>{(0,v.isPromiseCanceledError)(W)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache})}}e.CompletionItem=s;class t{constructor(P=2,O=new Set,W=new Set){this.snippetSortOrder=P,this.kindFilter=O,this.providerFilter=W}}e.CompletionOptions=t,t.default=new t;let o;function h(){return o}e.getSnippetSuggestSupport=h;class g{constructor(P,O,W,F){this.items=P,this.needsClipboard=O,this.durations=W,this.disposable=F}}e.CompletionItemModel=g;function m(R,P,O=t.default,W={triggerKind:0},F=S.CancellationToken.None){return Ie(this,void 0,void 0,function*(){const E=new a.StopWatch(!0);P=P.clone();const A=R.getWordAtPosition(P),B=A?new _.Range(P.lineNumber,A.startColumn,P.lineNumber,A.endColumn):_.Range.fromPositions(P),H={replace:B,insert:B.setEndPosition(P.lineNumber,P.column)},K=[],q=new i.DisposableStore,Y=[];let te=!1;const ie=(le,Z,T)=>{var x,z;if(!!Z){for(let V of Z.suggestions)O.kindFilter.has(V.kind)||(V.range||(V.range=H),V.sortText||(V.sortText=typeof V.label=="string"?V.label:V.label.name),!te&&V.insertTextRules&&V.insertTextRules&4&&(te=u.SnippetParser.guessNeedsClipboard(V.insertText)),K.push(new s(P,V,Z,le)));(0,i.isDisposable)(Z)&&q.add(Z),Y.push({providerName:(x=le._debugDisplayName)!==null&&x!==void 0?x:"unkown_provider",elapsedProvider:(z=Z.duration)!==null&&z!==void 0?z:-1,elapsedOverall:T.elapsed()})}},ae=(()=>Ie(this,void 0,void 0,function*(){if(!(!o||O.kindFilter.has(27))&&!(O.providerFilter.size>0&&!O.providerFilter.has(o))){const le=new a.StopWatch(!0),Z=yield o.provideCompletionItems(R,P,W,F);ie(o,Z,le)}}))();for(let le of I.CompletionProviderRegistry.orderedGroups(R)){let Z=K.length;if(yield Promise.all(le.map(T=>Ie(this,void 0,void 0,function*(){if(!(O.providerFilter.size>0&&!O.providerFilter.has(T)))try{const x=new a.StopWatch(!0),z=yield T.provideCompletionItems(R,P,W,F);ie(T,z,x)}catch(x){(0,v.onUnexpectedExternalError)(x)}}))),Z!==K.length||F.isCancellationRequested)break}return yield ae,F.isCancellationRequested?(q.dispose(),Promise.reject((0,v.canceled)())):new g(K.sort(N(O.snippetSortOrder)),te,{entries:Y,elapsed:E.elapsed()},q)})}e.provideSuggestionItems=m;function f(R,P){if(R.sortTextLow&&P.sortTextLow){if(R.sortTextLow<P.sortTextLow)return-1;if(R.sortTextLow>P.sortTextLow)return 1}return R.completion.label<P.completion.label?-1:R.completion.label>P.completion.label?1:R.completion.kind-P.completion.kind}function b(R,P){if(R.completion.kind!==P.completion.kind){if(R.completion.kind===27)return-1;if(P.completion.kind===27)return 1}return f(R,P)}function y(R,P){if(R.completion.kind!==P.completion.kind){if(R.completion.kind===27)return 1;if(P.completion.kind===27)return-1}return f(R,P)}const L=new Map;L.set(0,b),L.set(2,y),L.set(1,f);function N(R){return L.get(R)}e.getSuggestionComparator=N,l.CommandsRegistry.registerCommand("_executeCompletionItemProvider",(R,...P)=>Ie(void 0,void 0,void 0,function*(){const[O,W,F,E]=P;(0,c.assertType)(d.URI.isUri(O)),(0,c.assertType)(k.Position.isIPosition(W)),(0,c.assertType)(typeof F=="string"||!F),(0,c.assertType)(typeof E=="number"||!E);const A=yield R.get(r.ITextModelService).createModelReference(O);try{const B={incomplete:!1,suggestions:[]},H=[],K=yield m(A.object.textEditorModel,k.Position.lift(W),void 0,{triggerCharacter:F,triggerKind:F?1:0});for(const q of K.items)H.length<(E!=null?E:0)&&H.push(q.resolve(S.CancellationToken.None)),B.incomplete=B.incomplete||q.container.incomplete,B.suggestions.push(q.completion);try{return yield Promise.all(H),B}finally{setTimeout(()=>K.disposable.dispose(),100)}}finally{A.dispose()}}));const M=new class{constructor(){this.onlyOnceSuggestions=[]}provideCompletionItems(){let P={suggestions:this.onlyOnceSuggestions.slice(0)};return this.onlyOnceSuggestions.length=0,P}};I.CompletionProviderRegistry.register("*",M);function D(R,P){setTimeout(()=>{M.onlyOnceSuggestions.push(...P),R.getContribution("editor.contrib.suggestController").triggerSuggest(new Set().add(M))},0)}e.showSimpleSuggestions=D}),define(J[265],ee([0,1,516,41,13,187]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleTabFocusModeAction=void 0;class S extends k.EditorAction{constructor(){super({id:S.ID,label:v.localize(0,null),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2048|43,mac:{primary:256|1024|43},weight:100}})}run(C,i){const u=!w.TabFocus.getTabFocusMode();w.TabFocus.setTabFocusMode(u),u?(0,I.alert)(v.localize(1,null)):(0,I.alert)(v.localize(2,null))}}e.ToggleTabFocusModeAction=S,S.ID="editor.action.toggleTabFocusMode",(0,k.registerEditorAction)(S)}),define(J[640],ee([0,1,517,13,81]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class w extends I.EditorAction{constructor(){super({id:"editor.action.forceRetokenize",label:v.localize(0,null),alias:"Developer: Force Retokenize",precondition:void 0})}run(_,C){if(!!C.hasModel()){const i=C.getModel();i.resetTokenization();const p=new k.StopWatch(!0);i.forceTokenization(i.getLineCount()),p.stop(),console.log(`tokenization took ${p.elapsed()}`)}}}(0,I.registerEditorAction)(w)}),define(J[641],ee([0,1,518,2,13,28,185]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const _="ignoreUnusualLineTerminators";function C(u,a,l){u.setModelProperty(a.uri,_,l)}function i(u,a){return u.getModelProperty(a.uri,_)}let p=class extends I.Disposable{constructor(a,l,c){super();this._editor=a,this._dialogService=l,this._codeEditorService=c,this._config=this._editor.getOption(110),this._register(this._editor.onDidChangeConfiguration(d=>{d.hasChanged(110)&&(this._config=this._editor.getOption(110),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(d=>{d.isUndoing||this._checkForUnusualLineTerminators()}))}_checkForUnusualLineTerminators(){return Ie(this,void 0,void 0,function*(){if(this._config!=="off"&&!!this._editor.hasModel()){const a=this._editor.getModel();if(!!a.mightContainUnusualLineTerminators()&&i(this._codeEditorService,a)!==!0&&!this._editor.getOption(77)){if(this._config==="auto"){a.removeUnusualLineTerminators(this._editor.getSelections());return}if(!(yield this._dialogService.confirm({title:v.localize(0,null),message:v.localize(1,null),detail:v.localize(2,null),primaryButton:v.localize(3,null),secondaryButton:v.localize(4,null)})).confirmed){C(this._codeEditorService,a,!0);return}a.removeUnusualLineTerminators(this._editor.getSelections())}}})}};p.ID="editor.contrib.unusualLineTerminatorsDetector",p=Me([pe(1,S.IDialogService),pe(2,w.ICodeEditorService)],p),(0,k.registerEditorContribution)(p.ID,p)}),define(J[642],ee([0,1,519,19,15,23,11,2,13,3,25,53,31,18,16,22,12,41]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOccurrencesAtPosition=void 0;const s=(0,d.registerColor)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hc:null},v.localize(0,null),!0),t=(0,d.registerColor)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hc:null},v.localize(1,null),!0),o=(0,d.registerColor)("editor.wordHighlightBorder",{light:null,dark:null,hc:d.activeContrastBorder},v.localize(2,null)),h=(0,d.registerColor)("editor.wordHighlightStrongBorder",{light:null,dark:null,hc:d.activeContrastBorder},v.localize(3,null)),g=(0,d.registerColor)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},v.localize(4,null),!0),m=(0,d.registerColor)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hc:"#C0A0C0CC"},v.localize(5,null),!0),f=new c.RawContextKey("hasWordHighlights",!1);function b(E,A,B){const H=l.DocumentHighlightProviderRegistry.ordered(E);return(0,k.first)(H.map(K=>()=>Promise.resolve(K.provideDocumentHighlights(E,A,B)).then(void 0,S.onUnexpectedExternalError)),I.isNonEmptyArray)}e.getOccurrencesAtPosition=b;class y{constructor(A,B,H){this._wordRange=this._getCurrentWordRange(A,B),this.result=(0,k.createCancelablePromise)(K=>this._compute(A,B,H,K))}_getCurrentWordRange(A,B){const H=A.getWordAtPosition(B.getPosition());return H?new i.Range(B.startLineNumber,H.startColumn,B.startLineNumber,H.endColumn):null}isValid(A,B,H){const K=B.startLineNumber,q=B.startColumn,Y=B.endColumn,te=this._getCurrentWordRange(A,B);let ie=Boolean(this._wordRange&&this._wordRange.equalsRange(te));for(let ae=0,le=H.length;!ie&&ae<le;ae++){let Z=A.getDecorationRange(H[ae]);Z&&Z.startLineNumber===K&&Z.startColumn<=q&&Z.endColumn>=Y&&(ie=!0)}return ie}cancel(){this.result.cancel()}}class L extends y{_compute(A,B,H,K){return b(A,B.getPosition(),K).then(q=>q||[])}}class N extends y{constructor(A,B,H){super(A,B,H);this._selectionIsEmpty=B.isEmpty()}_compute(A,B,H,K){return(0,k.timeout)(250,K).then(()=>{if(!B.isEmpty())return[];const q=A.getWordAtPosition(B.getPosition());return!q||q.word.length>1e3?[]:A.findMatches(q.word,!0,!1,!0,H,!1).map(te=>({range:te.range,kind:l.DocumentHighlightKind.Text}))})}isValid(A,B,H){const K=B.isEmpty();return this._selectionIsEmpty!==K?!1:super.isValid(A,B,H)}}function M(E,A,B){return l.DocumentHighlightProviderRegistry.has(E)?new L(E,A,B):new N(E,A,B)}(0,C.registerModelAndPositionCommand)("_executeDocumentHighlights",(E,A)=>b(E,A,w.CancellationToken.None));class D{constructor(A,B){this.toUnhook=new _.DisposableStore,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=A,this._hasWordHighlights=f.bindTo(B),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(68),this.model=this.editor.getModel(),this.toUnhook.add(A.onDidChangeCursorPosition(H=>{this._ignorePositionChangeEvent||!this.occurrencesHighlight||this._onPositionChanged(H)})),this.toUnhook.add(A.onDidChangeModelContent(H=>{this._stopAll()})),this.toUnhook.add(A.onDidChangeConfiguration(H=>{let K=this.editor.getOption(68);this.occurrencesHighlight!==K&&(this.occurrencesHighlight=K,this._stopAll())})),this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this._decorationIds.length>0}restore(){!this.occurrencesHighlight||this._run()}_getSortedHighlights(){return I.coalesce(this._decorationIds.map(A=>this.model.getDecorationRange(A)).sort(i.Range.compareRangesUsingStarts))}moveNext(){let A=this._getSortedHighlights(),H=(A.findIndex(q=>q.containsPosition(this.editor.getPosition()))+1)%A.length,K=A[H];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(K.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(K);const q=this._getWord();if(q){const Y=this.editor.getModel().getLineContent(K.startLineNumber);(0,n.alert)(`${Y}, ${H+1} of ${A.length} for '${q.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){let A=this._getSortedHighlights(),H=(A.findIndex(q=>q.containsPosition(this.editor.getPosition()))-1+A.length)%A.length,K=A[H];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(K.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(K);const q=this._getWord();if(q){const Y=this.editor.getModel().getLineContent(K.startLineNumber);(0,n.alert)(`${Y}, ${H+1} of ${A.length} for '${q.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(A){if(!this.occurrencesHighlight){this._stopAll();return}if(A.reason!==3){this._stopAll();return}this._run()}_getWord(){let A=this.editor.getSelection(),B=A.startLineNumber,H=A.startColumn;return this.model.getWordAtPosition({lineNumber:B,column:H})}_run(){let A=this.editor.getSelection();if(A.startLineNumber!==A.endLineNumber){this._stopAll();return}let B=A.startColumn,H=A.endColumn;const K=this._getWord();if(!K||K.startColumn>B||K.endColumn<H){this._stopAll();return}const q=this.workerRequest&&this.workerRequest.isValid(this.model,A,this._decorationIds);if(this.lastCursorPositionChangeTime=new Date().getTime(),q)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();let Y=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=M(this.model,this.editor.getSelection(),this.editor.getOption(113)),this.workerRequest.result.then(te=>{Y===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=te||[],this._beginRenderDecorations())},S.onUnexpectedError)}}_beginRenderDecorations(){let A=new Date().getTime(),B=this.lastCursorPositionChangeTime+250;A>=B?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},B-A)}renderDecorations(){this.renderDecorationsTimer=-1;let A=[];for(const B of this.workerRequestValue)B.range&&A.push({range:B.range,options:D._getDecorationOptions(B.kind)});this._decorationIds=this.editor.deltaDecorations(this._decorationIds,A),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(A){return A===l.DocumentHighlightKind.Write?this._WRITE_OPTIONS:A===l.DocumentHighlightKind.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}}D._WRITE_OPTIONS=a.ModelDecorationOptions.register({stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,r.themeColorFromId)(m),position:u.OverviewRulerLane.Center}}),D._TEXT_OPTIONS=a.ModelDecorationOptions.register({stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,r.themeColorFromId)(d.overviewRulerSelectionHighlightForeground),position:u.OverviewRulerLane.Center}}),D._REGULAR_OPTIONS=a.ModelDecorationOptions.register({stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,r.themeColorFromId)(g),position:u.OverviewRulerLane.Center}});let R=class zt extends _.Disposable{constructor(A,B){super();this.wordHighlighter=null;const H=()=>{A.hasModel()&&(this.wordHighlighter=new D(A,B))};this._register(A.onDidChangeModel(K=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),H()})),H()}static get(A){return A.getContribution(zt.ID)}saveViewState(){return!!(this.wordHighlighter&&this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(A){this.wordHighlighter&&A&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};R.ID="editor.contrib.wordHighlighter",R=Me([pe(1,c.IContextKeyService)],R);class P extends C.EditorAction{constructor(A,B){super(B);this._isNext=A}run(A,B){const H=R.get(B);!H||(this._isNext?H.moveNext():H.moveBack())}}class O extends P{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:v.localize(6,null),alias:"Go to Next Symbol Highlight",precondition:f,kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:65,weight:100}})}}class W extends P{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:v.localize(7,null),alias:"Go to Previous Symbol Highlight",precondition:f,kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:1024|65,weight:100}})}}class F extends C.EditorAction{constructor(){super({id:"editor.action.wordHighlight.trigger",label:v.localize(8,null),alias:"Trigger Symbol Highlight",precondition:f.toNegated(),kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:0,weight:100}})}run(A,B,H){const K=R.get(B);!K||K.restoreViewState(!0)}}(0,C.registerEditorContribution)(R.ID,R),(0,C.registerEditorAction)(O),(0,C.registerEditorAction)(W),(0,C.registerEditorAction)(F),(0,r.registerThemingParticipant)((E,A)=>{const B=E.getColor(d.editorSelectionHighlight);B&&(A.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${B}; }`),A.addRule(`.monaco-editor .selectionHighlight { background-color: ${B.transparent(.5)}; }`));const H=E.getColor(s);H&&A.addRule(`.monaco-editor .wordHighlight { background-color: ${H}; }`);const K=E.getColor(t);K&&A.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${K}; }`);const q=E.getColor(d.editorSelectionHighlightBorder);q&&A.addRule(`.monaco-editor .selectionHighlight { border: 1px ${E.type==="hc"?"dotted":"solid"} ${q}; box-sizing: border-box; }`);const Y=E.getColor(o);Y&&A.addRule(`.monaco-editor .wordHighlight { border: 1px ${E.type==="hc"?"dashed":"solid"} ${Y}; box-sizing: border-box; }`);const te=E.getColor(h);te&&A.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${E.type==="hc"?"dashed":"solid"} ${te}; box-sizing: border-box; }`)})}),define(J[266],ee([0,1,520,13,92,43,136,106,14,3,21,25,65,16,38,42,250]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteInsideWord=e.DeleteWordRight=e.DeleteWordEndRight=e.DeleteWordStartRight=e.DeleteWordLeft=e.DeleteWordEndLeft=e.DeleteWordStartLeft=e.DeleteWordRightCommand=e.DeleteWordLeftCommand=e.DeleteWordCommand=e.CursorWordAccessibilityRightSelect=e.CursorWordAccessibilityRight=e.CursorWordRightSelect=e.CursorWordEndRightSelect=e.CursorWordStartRightSelect=e.CursorWordRight=e.CursorWordEndRight=e.CursorWordStartRight=e.CursorWordAccessibilityLeftSelect=e.CursorWordAccessibilityLeft=e.CursorWordLeftSelect=e.CursorWordEndLeftSelect=e.CursorWordStartLeftSelect=e.CursorWordLeft=e.CursorWordEndLeft=e.CursorWordStartLeft=e.WordRightCommand=e.WordLeftCommand=e.MoveWordCommand=void 0;class n extends I.EditorCommand{constructor(Z){super(Z);this._inSelectionMode=Z.inSelectionMode,this._wordNavigationType=Z.wordNavigationType}runEditorCommand(Z,T,x){if(!!T.hasModel()){const z=(0,_.getMapForWordSeparators)(T.getOption(113)),V=T.getModel(),Q=T.getSelections().map(se=>{const oe=new C.Position(se.positionLineNumber,se.positionColumn),G=this._move(z,V,oe,this._wordNavigationType);return this._moveTo(se,G,this._inSelectionMode)});if(V.pushStackElement(),T._getViewModel().setCursorStates("moveWordCommand",3,Q.map(se=>w.CursorState.fromModelSelection(se))),Q.length===1){const se=new C.Position(Q[0].positionLineNumber,Q[0].positionColumn);T.revealPosition(se,0)}}}_moveTo(Z,T,x){return x?new p.Selection(Z.selectionStartLineNumber,Z.selectionStartColumn,T.lineNumber,T.column):new p.Selection(T.lineNumber,T.column,T.lineNumber,T.column)}}e.MoveWordCommand=n;class s extends n{_move(Z,T,x,z){return S.WordOperations.moveWordLeft(Z,T,x,z)}}e.WordLeftCommand=s;class t extends n{_move(Z,T,x,z){return S.WordOperations.moveWordRight(Z,T,x,z)}}e.WordRightCommand=t;class o extends s{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}e.CursorWordStartLeft=o;class h extends s{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}e.CursorWordEndLeft=h;class g extends s{constructor(){var Z;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:l.ContextKeyExpr.and(u.EditorContextKeys.textInputFocus,(Z=l.ContextKeyExpr.and(a.CONTEXT_ACCESSIBILITY_MODE_ENABLED,r.IsWindowsContext))===null||Z===void 0?void 0:Z.negate()),primary:2048|15,mac:{primary:512|15},weight:100}})}}e.CursorWordLeft=g;class m extends s{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}e.CursorWordStartLeftSelect=m;class f extends s{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}e.CursorWordEndLeftSelect=f;class b extends s{constructor(){var Z;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:l.ContextKeyExpr.and(u.EditorContextKeys.textInputFocus,(Z=l.ContextKeyExpr.and(a.CONTEXT_ACCESSIBILITY_MODE_ENABLED,r.IsWindowsContext))===null||Z===void 0?void 0:Z.negate()),primary:2048|1024|15,mac:{primary:512|1024|15},weight:100}})}}e.CursorWordLeftSelect=b;class y extends s{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(Z,T,x,z){return super._move((0,_.getMapForWordSeparators)(c.EditorOptions.wordSeparators.defaultValue),T,x,z)}}e.CursorWordAccessibilityLeft=y;class L extends s{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(Z,T,x,z){return super._move((0,_.getMapForWordSeparators)(c.EditorOptions.wordSeparators.defaultValue),T,x,z)}}e.CursorWordAccessibilityLeftSelect=L;class N extends t{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}e.CursorWordStartRight=N;class M extends t{constructor(){var Z;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:l.ContextKeyExpr.and(u.EditorContextKeys.textInputFocus,(Z=l.ContextKeyExpr.and(a.CONTEXT_ACCESSIBILITY_MODE_ENABLED,r.IsWindowsContext))===null||Z===void 0?void 0:Z.negate()),primary:2048|17,mac:{primary:512|17},weight:100}})}}e.CursorWordEndRight=M;class D extends t{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}e.CursorWordRight=D;class R extends t{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}e.CursorWordStartRightSelect=R;class P extends t{constructor(){var Z;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:l.ContextKeyExpr.and(u.EditorContextKeys.textInputFocus,(Z=l.ContextKeyExpr.and(a.CONTEXT_ACCESSIBILITY_MODE_ENABLED,r.IsWindowsContext))===null||Z===void 0?void 0:Z.negate()),primary:2048|1024|17,mac:{primary:512|1024|17},weight:100}})}}e.CursorWordEndRightSelect=P;class O extends t{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}e.CursorWordRightSelect=O;class W extends t{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(Z,T,x,z){return super._move((0,_.getMapForWordSeparators)(c.EditorOptions.wordSeparators.defaultValue),T,x,z)}}e.CursorWordAccessibilityRight=W;class F extends t{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(Z,T,x,z){return super._move((0,_.getMapForWordSeparators)(c.EditorOptions.wordSeparators.defaultValue),T,x,z)}}e.CursorWordAccessibilityRightSelect=F;class E extends I.EditorCommand{constructor(Z){super(Z);this._whitespaceHeuristics=Z.whitespaceHeuristics,this._wordNavigationType=Z.wordNavigationType}runEditorCommand(Z,T,x){if(!!T.hasModel()){const z=(0,_.getMapForWordSeparators)(T.getOption(113)),V=T.getModel(),U=T.getSelections(),Q=T.getOption(5),se=T.getOption(8),oe=d.LanguageConfigurationRegistry.getAutoClosingPairs(V.getLanguageIdentifier().id),G=T._getViewModel(),j=U.map(ne=>{const X=this._delete({wordSeparators:z,model:V,selection:ne,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:T.getOption(6),autoClosingBrackets:Q,autoClosingQuotes:se,autoClosingPairs:oe,autoClosedCharacters:G.getCursorAutoClosedCharacters()},this._wordNavigationType);return new k.ReplaceCommand(X,"")});T.pushUndoStop(),T.executeCommands(this.id,j),T.pushUndoStop()}}}e.DeleteWordCommand=E;class A extends E{_delete(Z,T){let x=S.WordOperations.deleteWordLeft(Z,T);return x||new i.Range(1,1,1,1)}}e.DeleteWordLeftCommand=A;class B extends E{_delete(Z,T){let x=S.WordOperations.deleteWordRight(Z,T);if(x)return x;const z=Z.model.getLineCount(),V=Z.model.getLineMaxColumn(z);return new i.Range(z,V,z,V)}}e.DeleteWordRightCommand=B;class H extends A{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:u.EditorContextKeys.writable})}}e.DeleteWordStartLeft=H;class K extends A{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:u.EditorContextKeys.writable})}}e.DeleteWordEndLeft=K;class q extends A{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:u.EditorContextKeys.writable,kbOpts:{kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|1,mac:{primary:512|1},weight:100}})}}e.DeleteWordLeft=q;class Y extends B{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:u.EditorContextKeys.writable})}}e.DeleteWordStartRight=Y;class te extends B{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:u.EditorContextKeys.writable})}}e.DeleteWordEndRight=te;class ie extends B{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:u.EditorContextKeys.writable,kbOpts:{kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|20,mac:{primary:512|20},weight:100}})}}e.DeleteWordRight=ie;class ae extends I.EditorAction{constructor(){super({id:"deleteInsideWord",precondition:u.EditorContextKeys.writable,label:v.localize(0,null),alias:"Delete Word"})}run(Z,T,x){if(!!T.hasModel()){const z=(0,_.getMapForWordSeparators)(T.getOption(113)),V=T.getModel(),Q=T.getSelections().map(se=>{const oe=S.WordOperations.deleteInsideWord(z,V,se);return new k.ReplaceCommand(oe,"")});T.pushUndoStop(),T.executeCommands(this.id,Q),T.pushUndoStop()}}}e.DeleteInsideWord=ae,(0,I.registerEditorCommand)(new o),(0,I.registerEditorCommand)(new h),(0,I.registerEditorCommand)(new g),(0,I.registerEditorCommand)(new m),(0,I.registerEditorCommand)(new f),(0,I.registerEditorCommand)(new b),(0,I.registerEditorCommand)(new N),(0,I.registerEditorCommand)(new M),(0,I.registerEditorCommand)(new D),(0,I.registerEditorCommand)(new R),(0,I.registerEditorCommand)(new P),(0,I.registerEditorCommand)(new O),(0,I.registerEditorCommand)(new y),(0,I.registerEditorCommand)(new L),(0,I.registerEditorCommand)(new W),(0,I.registerEditorCommand)(new F),(0,I.registerEditorCommand)(new H),(0,I.registerEditorCommand)(new K),(0,I.registerEditorCommand)(new q),(0,I.registerEditorCommand)(new Y),(0,I.registerEditorCommand)(new te),(0,I.registerEditorCommand)(new ie),(0,I.registerEditorAction)(ae)}),define(J[643],ee([0,1,13,136,3,25,266,26]),function($,e,v,I,k,w,S,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorWordPartRightSelect=e.CursorWordPartRight=e.WordPartRightCommand=e.CursorWordPartLeftSelect=e.CursorWordPartLeft=e.WordPartLeftCommand=e.DeleteWordPartRight=e.DeleteWordPartLeft=void 0;class C extends S.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:w.EditorContextKeys.writable,kbOpts:{kbExpr:w.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1},weight:100}})}_delete(n,s){let t=I.WordPartOperations.deleteWordPartLeft(n);return t||new k.Range(1,1,1,1)}}e.DeleteWordPartLeft=C;class i extends S.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:w.EditorContextKeys.writable,kbOpts:{kbExpr:w.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|20},weight:100}})}_delete(n,s){let t=I.WordPartOperations.deleteWordPartRight(n);if(t)return t;const o=n.model.getLineCount(),h=n.model.getLineMaxColumn(o);return new k.Range(o,h,o,h)}}e.DeleteWordPartRight=i;class p extends S.MoveWordCommand{_move(n,s,t,o){return I.WordPartOperations.moveWordPartLeft(n,s,t)}}e.WordPartLeftCommand=p;class u extends p{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|15},weight:100}})}}e.CursorWordPartLeft=u,_.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class a extends p{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1024|15},weight:100}})}}e.CursorWordPartLeftSelect=a,_.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class l extends S.MoveWordCommand{_move(n,s,t,o){return I.WordPartOperations.moveWordPartRight(n,s,t)}}e.WordPartRightCommand=l;class c extends l{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|17},weight:100}})}}e.CursorWordPartRight=c;class d extends l{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1024|17},weight:100}})}}e.CursorWordPartRightSelect=d,(0,v.registerEditorCommand)(new C),(0,v.registerEditorCommand)(new i),(0,v.registerEditorCommand)(new u),(0,v.registerEditorCommand)(new a),(0,v.registerEditorCommand)(new c),(0,v.registerEditorCommand)(new d)}),define(J[644],ee([0,1,7,30,156,41,52,2,17,8,24,13,25,265,16,9,37,58,22,12,64,355]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n,s,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const h=new c.RawContextKey("accessibilityHelpWidgetVisible",!1);let g=class Ht extends _.Disposable{constructor(N,M){super();this._editor=N,this._widget=this._register(M.createInstance(f,this._editor))}static get(N){return N.getContribution(Ht.ID)}show(){this._widget.show()}hide(){this._widget.hide()}};g.ID="editor.contrib.accessibilityHelpController",g=Me([pe(1,d.IInstantiationService)],g);function m(L,N){return!L||L.length===0?o.AccessibilityHelpNLS.noSelection:L.length===1?N?i.format(o.AccessibilityHelpNLS.singleSelectionRange,L[0].positionLineNumber,L[0].positionColumn,N):i.format(o.AccessibilityHelpNLS.singleSelection,L[0].positionLineNumber,L[0].positionColumn):N?i.format(o.AccessibilityHelpNLS.multiSelectionRange,L.length,N):L.length>0?i.format(o.AccessibilityHelpNLS.multiSelection,L.length):""}let f=class ht extends S.Widget{constructor(N,M,D,R){super();this._contextKeyService=M,this._keybindingService=D,this._openerService=R,this._editor=N,this._isVisibleKey=h.bindTo(this._contextKeyService),this._domNode=(0,I.createFastDomNode)(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=(0,I.createFastDomNode)(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange(()=>{this._isVisible&&this._layout()})),this._register(v.addStandardDisposableListener(this._contentDomNode.domNode,"keydown",P=>{if(!!this._isVisible&&(P.equals(2048|35)&&((0,w.alert)(o.AccessibilityHelpNLS.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),v.clearNode(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),P.preventDefault(),P.stopPropagation()),P.equals(2048|38))){(0,w.alert)(o.AccessibilityHelpNLS.openingDocs);let O=this._editor.getRawOptions().accessibilityHelpUrl;typeof O=="undefined"&&(O="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(p.URI.parse(O)),P.preventDefault(),P.stopPropagation()}})),this.onblur(this._contentDomNode.domNode,()=>{this.hide()}),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return ht.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(N,M,D){let R=this._keybindingService.lookupKeybinding(N);return R?i.format(M,R.getAriaLabel()):i.format(D,N)}_buildContent(){const N=this._editor.getOptions(),M=this._editor.getSelections();let D=0;if(M){const W=this._editor.getModel();W&&M.forEach(F=>{D+=W.getValueLengthInRange(F)})}let R=m(M,D);N.get(51)?N.get(77)?R+=o.AccessibilityHelpNLS.readonlyDiffEditor:R+=o.AccessibilityHelpNLS.editableDiffEditor:N.get(77)?R+=o.AccessibilityHelpNLS.readonlyEditor:R+=o.AccessibilityHelpNLS.editableEditor;const P=C.isMacintosh?o.AccessibilityHelpNLS.changeConfigToOnMac:o.AccessibilityHelpNLS.changeConfigToOnWinLinux;switch(N.get(2)){case 0:R+=`

 - `+P;break;case 2:R+=`

 - `+o.AccessibilityHelpNLS.auto_on;break;case 1:R+=`

 - `+o.AccessibilityHelpNLS.auto_off,R+=" "+P;break}N.get(126)?R+=`

 - `+this._descriptionForCommand(l.ToggleTabFocusModeAction.ID,o.AccessibilityHelpNLS.tabFocusModeOnMsg,o.AccessibilityHelpNLS.tabFocusModeOnMsgNoKb):R+=`

 - `+this._descriptionForCommand(l.ToggleTabFocusModeAction.ID,o.AccessibilityHelpNLS.tabFocusModeOffMsg,o.AccessibilityHelpNLS.tabFocusModeOffMsgNoKb);const O=C.isMacintosh?o.AccessibilityHelpNLS.openDocMac:o.AccessibilityHelpNLS.openDocWinLinux;R+=`

 - `+O,R+=`

`+o.AccessibilityHelpNLS.outroMsg,this._contentDomNode.domNode.appendChild((0,k.renderFormattedText)(R)),this._contentDomNode.domNode.setAttribute("aria-label",R)}hide(){!this._isVisible||(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,v.clearNode(this._contentDomNode.domNode),this._editor.focus())}_layout(){let N=this._editor.getLayoutInfo(),M=Math.max(5,Math.min(ht.WIDTH,N.width-40)),D=Math.max(5,Math.min(ht.HEIGHT,N.height-40));this._domNode.setWidth(M),this._domNode.setHeight(D);let R=Math.round((N.height-D)/2);this._domNode.setTop(R);let P=Math.round((N.width-M)/2);this._domNode.setLeft(P)}};f.ID="editor.contrib.accessibilityHelpWidget",f.WIDTH=500,f.HEIGHT=300,f=Me([pe(1,c.IContextKeyService),pe(2,r.IKeybindingService),pe(3,n.IOpenerService)],f);class b extends u.EditorAction{constructor(){super({id:"editor.action.showAccessibilityHelp",label:o.AccessibilityHelpNLS.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:512|59,weight:100,linux:{primary:512|1024|59,secondary:[512|59]}}})}run(N,M){let D=g.get(M);D&&D.show()}}(0,u.registerEditorContribution)(g.ID,g),(0,u.registerEditorAction)(b);const y=u.EditorCommand.bindToContribution(g.get);(0,u.registerEditorCommand)(new y({id:"closeAccessibilityHelp",precondition:h,handler:L=>L.hide(),kbOpts:{weight:100+100,kbExpr:a.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),(0,t.registerThemingParticipant)((L,N)=>{const M=L.getColor(s.editorWidgetBackground);M&&N.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${M}; }`);const D=L.getColor(s.editorWidgetForeground);D&&N.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${D}; }`);const R=L.getColor(s.widgetShadow);R&&N.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${R}; }`);const P=L.getColor(s.contrastBorder);P&&N.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${P}; }`)})}),define(J[645],ee([0,1,35,7,2,13,356]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IPadShowKeyboard=void 0;class S extends k.Disposable{constructor(i){super();this.editor=i,this.widget=null,v.isIPad&&(this._register(i.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const i=!this.editor.getOption(77);!this.widget&&i?this.widget=new _(this.editor):this.widget&&!i&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}e.IPadShowKeyboard=S,S.ID="editor.contrib.iPadShowKeyboard";class _ extends k.Disposable{constructor(i){super();this.editor=i,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(I.addDisposableListener(this._domNode,"touchstart",p=>{this.editor.focus()})),this._register(I.addDisposableListener(this._domNode,"focus",p=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return _.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}_.ID="editor.contrib.ShowKeyboardWidget",(0,w.registerEditorContribution)(S.ID,S)}),define(J[646],ee([0,1,7,29,2,13,18,77,57,115,22,12,64,97,357]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let c=class Ut extends k.Disposable{constructor(o,h,g){super();this._editor=o,this._modeService=g,this._widget=null,this._register(this._editor.onDidChangeModel(m=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(m=>this.stop())),this._register(S.TokenizationRegistry.onDidChange(m=>this.stop())),this._register(this._editor.onKeyUp(m=>m.keyCode===9&&this.stop()))}static get(o){return o.getContribution(Ut.ID)}dispose(){this.stop(),super.dispose()}launch(){this._widget||!this._editor.hasModel()||(this._widget=new s(this._editor,this._modeService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};c.ID="editor.contrib.inspectTokens",c=Me([pe(1,i.IStandaloneThemeService),pe(2,C.IModeService)],c);class d extends w.EditorAction{constructor(){super({id:"editor.action.inspectTokens",label:a.InspectTokensNLS.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(o,h){let g=c.get(h);g&&g.launch()}}function r(t){let o="";for(let h=0,g=t.length;h<g;h++){let m=t.charCodeAt(h);switch(m){case 9:o+="\u2192";break;case 32:o+="\xB7";break;default:o+=String.fromCharCode(m)}}return o}function n(t){let o=S.TokenizationRegistry.get(t.language);return o||{getInitialState:()=>_.NULL_STATE,tokenize:(h,g,m,f)=>(0,_.nullTokenize)(t.language,h,m,f),tokenize2:(h,g,m,f)=>(0,_.nullTokenize2)(t.id,h,m,f)}}class s extends k.Disposable{constructor(o,h){super();this.allowEditorOverflow=!0,this._editor=o,this._modeService=h,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=n(this._model.getLanguageIdentifier()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(g=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return s._ID}_compute(o){let h=this._getTokensAtLine(o.lineNumber),g=0;for(let L=h.tokens1.length-1;L>=0;L--){let N=h.tokens1[L];if(o.column-1>=N.offset){g=L;break}}let m=0;for(let L=h.tokens2.length>>>1;L>=0;L--)if(o.column-1>=h.tokens2[L<<1]){m=L;break}let f=this._model.getLineContent(o.lineNumber),b="";if(g<h.tokens1.length){let L=h.tokens1[g].offset,N=g+1<h.tokens1.length?h.tokens1[g+1].offset:f.length;b=f.substring(L,N)}(0,v.reset)(this._domNode,(0,v.$)("h2.tm-token",void 0,r(b),(0,v.$)("span.tm-token-length",void 0,`${b.length} ${b.length===1?"char":"chars"}`))),(0,v.append)(this._domNode,(0,v.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const y=(m<<1)+1<h.tokens2.length?this._decodeMetadata(h.tokens2[(m<<1)+1]):null;(0,v.append)(this._domNode,(0,v.$)("table.tm-metadata-table",void 0,(0,v.$)("tbody",void 0,(0,v.$)("tr",void 0,(0,v.$)("td.tm-metadata-key",void 0,"language"),(0,v.$)("td.tm-metadata-value",void 0,`${y?y.languageIdentifier.language:"-?-"}`)),(0,v.$)("tr",void 0,(0,v.$)("td.tm-metadata-key",void 0,"token type"),(0,v.$)("td.tm-metadata-value",void 0,`${y?this._tokenTypeToString(y.tokenType):"-?-"}`)),(0,v.$)("tr",void 0,(0,v.$)("td.tm-metadata-key",void 0,"font style"),(0,v.$)("td.tm-metadata-value",void 0,`${y?this._fontStyleToString(y.fontStyle):"-?-"}`)),(0,v.$)("tr",void 0,(0,v.$)("td.tm-metadata-key",void 0,"foreground"),(0,v.$)("td.tm-metadata-value",void 0,`${y?I.Color.Format.CSS.formatHex(y.foreground):"-?-"}`)),(0,v.$)("tr",void 0,(0,v.$)("td.tm-metadata-key",void 0,"background"),(0,v.$)("td.tm-metadata-value",void 0,`${y?I.Color.Format.CSS.formatHex(y.background):"-?-"}`))))),(0,v.append)(this._domNode,(0,v.$)("hr.tokens-inspect-separator")),g<h.tokens1.length&&(0,v.append)(this._domNode,(0,v.$)("span.tm-token-type",void 0,h.tokens1[g].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(o){let h=S.TokenizationRegistry.getColorMap(),g=S.TokenMetadata.getLanguageId(o),m=S.TokenMetadata.getTokenType(o),f=S.TokenMetadata.getFontStyle(o),b=S.TokenMetadata.getForeground(o),y=S.TokenMetadata.getBackground(o);return{languageIdentifier:this._modeService.getLanguageIdentifier(g),tokenType:m,fontStyle:f,foreground:h[b],background:h[y]}}_tokenTypeToString(o){switch(o){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 4:return"RegEx";default:return"??"}}_fontStyleToString(o){let h="";return o&1&&(h+="italic "),o&2&&(h+="bold "),o&4&&(h+="underline "),h.length===0&&(h="---"),h}_getTokensAtLine(o){let h=this._getStateBeforeLine(o),g=this._tokenizationSupport.tokenize(this._model.getLineContent(o),!0,h,0),m=this._tokenizationSupport.tokenize2(this._model.getLineContent(o),!0,h,0);return{startState:h,tokens1:g.tokens,tokens2:m.tokens,endState:g.endState}}_getStateBeforeLine(o){let h=this._tokenizationSupport.getInitialState();for(let g=1;g<o;g++)h=this._tokenizationSupport.tokenize(this._model.getLineContent(g),!0,h,0).endState;return h}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}s._ID="editor.contrib.inspectTokensWidget",(0,w.registerEditorContribution)(c.ID,c),(0,w.registerEditorAction)(d),(0,u.registerThemingParticipant)((t,o)=>{const h=t.getColor(p.editorHoverBorder);if(h){let f=t.type===l.ColorScheme.HIGH_CONTRAST?2:1;o.addRule(`.monaco-editor .tokens-inspect-widget { border: ${f}px solid ${h}; }`),o.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${h}; }`)}const g=t.getColor(p.editorHoverBackground);g&&o.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${g}; }`);const m=t.getColor(p.editorHoverForeground);m&&o.addRule(`.monaco-editor .tokens-inspect-widget { color: ${m}; }`)})}),define(J[647],ee([0,1,33,96,64,28,581,20,9,37,26,87,32,13,25,78]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneCommandsQuickAccessProvider=void 0;let r=class extends S.AbstractEditorCommandsQuickAccessProvider{constructor(t,o,h,g,m,f){super({showAlias:!1},t,h,g,m,f);this.codeEditorService=o}get activeTextEditorControl(){return(0,_.withNullAsUndefined)(this.codeEditorService.getFocusedCodeEditor())}getCommandPicks(){return Ie(this,void 0,void 0,function*(){return this.getCodeEditorCommandPicks()})}};r=Me([pe(0,C.IInstantiationService),pe(1,w.ICodeEditorService),pe(2,i.IKeybindingService),pe(3,p.ICommandService),pe(4,u.ITelemetryService),pe(5,a.INotificationService)],r),e.StandaloneCommandsQuickAccessProvider=r,v.Registry.as(I.Extensions.Quickaccess).registerQuickAccessProvider({ctor:r,prefix:r.PREFIX,helpEntries:[{description:k.QuickCommandNLS.quickCommandHelp,needsEditor:!0}]});class n extends l.EditorAction{constructor(){super({id:"editor.action.quickCommand",label:k.QuickCommandNLS.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:c.EditorContextKeys.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(t){t.get(d.IQuickInputService).quickAccess.show(r.PREFIX)}}e.GotoLineAction=n,(0,l.registerEditorAction)(n)}),define(J[648],ee([0,1,605,33,96,28,20,64,6,13,25,78]),function($,e,v,I,k,w,S,_,C,i,p,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneGotoLineQuickAccessProvider=void 0;let a=class extends v.AbstractGotoLineQuickAccessProvider{constructor(d){super();this.editorService=d,this.onDidActiveTextEditorControlChange=C.Event.None}get activeTextEditorControl(){return(0,S.withNullAsUndefined)(this.editorService.getFocusedCodeEditor())}};a=Me([pe(0,w.ICodeEditorService)],a),e.StandaloneGotoLineQuickAccessProvider=a,I.Registry.as(k.Extensions.Quickaccess).registerQuickAccessProvider({ctor:a,prefix:a.PREFIX,helpEntries:[{description:_.GoToLineNLS.gotoLineActionLabel,needsEditor:!0}]});class l extends i.EditorAction{constructor(){super({id:"editor.action.gotoLine",label:_.GoToLineNLS.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.focus,primary:2048|37,mac:{primary:256|37},weight:100}})}run(d){d.get(u.IQuickInputService).quickAccess.show(a.PREFIX)}}e.GotoLineAction=l,(0,i.registerEditorAction)(l)}),define(J[649],ee([0,1,606,33,96,28,20,64,6,13,25,78,124,259]),function($,e,v,I,k,w,S,_,C,i,p,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneGotoSymbolQuickAccessProvider=void 0;let a=class extends v.AbstractGotoSymbolQuickAccessProvider{constructor(d){super();this.editorService=d,this.onDidActiveTextEditorControlChange=C.Event.None}get activeTextEditorControl(){return(0,S.withNullAsUndefined)(this.editorService.getFocusedCodeEditor())}};a=Me([pe(0,w.ICodeEditorService)],a),e.StandaloneGotoSymbolQuickAccessProvider=a,I.Registry.as(k.Extensions.Quickaccess).registerQuickAccessProvider({ctor:a,prefix:v.AbstractGotoSymbolQuickAccessProvider.PREFIX,helpEntries:[{description:_.QuickOutlineNLS.quickOutlineActionLabel,prefix:v.AbstractGotoSymbolQuickAccessProvider.PREFIX,needsEditor:!0},{description:_.QuickOutlineNLS.quickOutlineByCategoryActionLabel,prefix:v.AbstractGotoSymbolQuickAccessProvider.PREFIX_BY_CATEGORY,needsEditor:!0}]});class l extends i.EditorAction{constructor(){super({id:"editor.action.quickOutline",label:_.QuickOutlineNLS.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:p.EditorContextKeys.hasDocumentSymbolProvider,kbOpts:{kbExpr:p.EditorContextKeys.focus,primary:2048|1024|45,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(d){d.get(u.IQuickInputService).quickAccess.show(v.AbstractGotoSymbolQuickAccessProvider.PREFIX)}}e.GotoLineAction=l,(0,i.registerEditorAction)(l)}),define(J[650],ee([0,1,13,115,64]),function($,e,v,I,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class w extends v.EditorAction{constructor(){super({id:"editor.action.toggleHighContrast",label:k.ToggleHighContrastNLS.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0});this._originalThemeName=null}run(_,C){const i=_.get(I.IStandaloneThemeService);this._originalThemeName?(i.setTheme(this._originalThemeName),this._originalThemeName=null):(this._originalThemeName=i.getColorTheme().themeName,i.setTheme("hc-black"))}}(0,v.registerEditorAction)(w)}),define(J[190],ee([0,1,7,55,48,2,521,34,68,37,178,32,12,112,432,17,360]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createActionViewItem=e.SubmenuEntryActionViewItem=e.MenuEntryActionViewItem=e.createAndFillInActionBarActions=void 0;function r(g,m,f,b,y,L){const N=g.getActions(m);return s(N,f,!1,b,y,L),n(N)}e.createAndFillInActionBarActions=r;function n(g){const m=new w.DisposableStore;for(const[,f]of g)for(const b of f)m.add(b);return m}function s(g,m,f,b="navigation",y=Number.MAX_SAFE_INTEGER,L=()=>!1){let N,M;Array.isArray(m)?(N=m,M=m):(N=m.primary,M=m.secondary);const D=new Set;for(const[R,P]of g){let O;R===b?O=N:(O=M,O.length>0&&O.push(new k.Separator));for(let W of P){f&&(W=W instanceof _.MenuItemAction&&W.alt?W.alt:W);const F=O.push(W);W instanceof k.SubmenuAction&&D.add({group:R,action:W,index:F-1})}}for(const{group:R,action:P,index:O}of D){const W=R===b?N:M,F=P.actions;(F.length<=1||W.length+F.length-2<=y)&&L(P,R,W.length)&&W.splice(O,1,...F)}if(N!==M&&N.length>y){const R=N.splice(y,N.length-y);M.unshift(...R,new k.Separator)}}let t=class extends l.ActionViewItem{constructor(m,f,b){super(void 0,m,{icon:!!(m.class||m.item.icon),label:!m.class&&!m.item.icon});this._keybindingService=f,this._notificationService=b,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new w.MutableDisposable),this._altKey=v.ModifierKeyEmitter.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(m){m.preventDefault(),m.stopPropagation(),this.actionRunner.run(this._commandAction,this._context).catch(f=>this._notificationService.error(f))}render(m){super.render(m),m.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let f=!1,b=this._altKey.keyStatus.altKey||(d.isWindows||d.isLinux)&&this._altKey.keyStatus.shiftKey;const y=()=>{const L=f&&b;L!==this._wantsAltCommand&&(this._wantsAltCommand=L,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(L=>{b=L.altKey||(d.isWindows||d.isLinux)&&L.shiftKey,y()})),this._register((0,I.domEvent)(m,"mouseleave")(L=>{f=!1,y()})),this._register((0,I.domEvent)(m,"mouseenter")(L=>{f=!0,y()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}updateTooltip(){if(this.label){const m=this._keybindingService.lookupKeybinding(this._commandAction.id),f=m&&m.getLabel(),b=this._commandAction.tooltip||this._commandAction.label;let y=f?(0,S.localize)(0,null,b,f):b;if(!this._wantsAltCommand&&this._menuItemAction.alt){const L=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,N=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id),M=N&&N.getLabel(),D=M?(0,S.localize)(1,null,L,M):L;y+=`
[${p.UILabelProvider.modifierLabels[d.OS].altKey}] ${D}`}this.label.title=y}}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.item))}_updateItemClass(m){var f;this._itemClassDispose.value=void 0;const{element:b,label:y}=this;if(!(!b||!y)){const L=this._commandAction.checked&&((f=m.toggled)===null||f===void 0?void 0:f.icon)?m.toggled.icon:m.icon;if(!!L)if(a.ThemeIcon.isThemeIcon(L)){const N=a.ThemeIcon.asClassNameArray(L);y.classList.add(...N),this._itemClassDispose.value=(0,w.toDisposable)(()=>{y.classList.remove(...N)})}else L.light&&y.style.setProperty("--menu-entry-icon-light",(0,v.asCSSUrl)(L.light)),L.dark&&y.style.setProperty("--menu-entry-icon-dark",(0,v.asCSSUrl)(L.dark)),y.classList.add("icon"),this._itemClassDispose.value=(0,w.toDisposable)(()=>{y.classList.remove("icon"),y.style.removeProperty("--menu-entry-icon-light"),y.style.removeProperty("--menu-entry-icon-dark")})}}};t=Me([pe(1,i.IKeybindingService),pe(2,u.INotificationService)],t),e.MenuEntryActionViewItem=t;let o=class extends c.DropdownMenuActionViewItem{constructor(m,f){super(m,{getActions:()=>m.actions},f,{menuAsChild:!0,classNames:a.ThemeIcon.isThemeIcon(m.item.icon)?a.ThemeIcon.asClassName(m.item.icon):void 0})}render(m){if(super.render(m),this.element){m.classList.add("menu-entry");const{icon:f}=this._action.item;f&&!a.ThemeIcon.isThemeIcon(f)&&(this.element.classList.add("icon"),f.light&&this.element.style.setProperty("--menu-entry-icon-light",(0,v.asCSSUrl)(f.light)),f.dark&&this.element.style.setProperty("--menu-entry-icon-dark",(0,v.asCSSUrl)(f.dark)))}}};o=Me([pe(1,C.IContextMenuService)],o),e.SubmenuEntryActionViewItem=o;function h(g,m){return m instanceof _.MenuItemAction?g.createInstance(t,m):m instanceof _.SubmenuItemAction?g.createInstance(o,m):void 0}e.createActionViewItem=h}),define(J[119],ee([0,1,7,83,48,29,6,40,28,144,546,501,16,9,75,13,22,27,190,350]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.peekViewEditorMatchHighlightBorder=e.peekViewEditorMatchHighlight=e.peekViewResultsMatchHighlight=e.peekViewEditorGutterBackground=e.peekViewEditorBackground=e.peekViewResultsSelectionForeground=e.peekViewResultsSelectionBackground=e.peekViewResultsFileForeground=e.peekViewResultsMatchForeground=e.peekViewResultsBackground=e.peekViewBorder=e.peekViewTitleInfoForeground=e.peekViewTitleForeground=e.peekViewTitleBackground=e.PeekViewWidget=e.getOuterEditor=e.PeekContext=e.IPeekViewService=void 0,e.IPeekViewService=(0,l.createDecorator)("IPeekViewService"),(0,c.registerSingleton)(e.IPeekViewService,class{constructor(){this._widgets=new Map}addExclusiveWidget(f,b){const y=this._widgets.get(f);y&&(y.listener.dispose(),y.widget.dispose());const L=()=>{const N=this._widgets.get(f);N&&N.widget===b&&(N.listener.dispose(),this._widgets.delete(f))};this._widgets.set(f,{widget:b,listener:b.onDidClose(L)})}});var t;(function(f){f.inPeekEditor=new a.RawContextKey("inReferenceSearchEditor",!0,u.localize(0,null)),f.notInPeekEditor=f.inPeekEditor.toNegated()})(t=e.PeekContext||(e.PeekContext={}));let o=class{constructor(b,y){b instanceof i.EmbeddedCodeEditorWidget&&t.inPeekEditor.bindTo(y)}dispose(){}};o.ID="editor.contrib.referenceController",o=Me([pe(1,a.IContextKeyService)],o),(0,d.registerEditorContribution)(o.ID,o);function h(f){let b=f.get(C.ICodeEditorService).getFocusedCodeEditor();return b instanceof i.EmbeddedCodeEditorWidget?b.getParentEditor():b}e.getOuterEditor=h;const g={headerBackgroundColor:w.Color.white,primaryHeadingColor:w.Color.fromHex("#333333"),secondaryHeadingColor:w.Color.fromHex("#6c6c6cb3")};let m=class extends p.ZoneWidget{constructor(b,y,L){super(b,y);this.instantiationService=L,this._onDidClose=new S.Emitter,this.onDidClose=this._onDidClose.event,_.mixin(this.options,g,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(b){let y=this.options;b.headerBackgroundColor&&(y.headerBackgroundColor=b.headerBackgroundColor),b.primaryHeadingColor&&(y.primaryHeadingColor=b.primaryHeadingColor),b.secondaryHeadingColor&&(y.secondaryHeadingColor=b.secondaryHeadingColor),super.style(b)}_applyStyles(){super._applyStyles();let b=this.options;this._headElement&&b.headerBackgroundColor&&(this._headElement.style.backgroundColor=b.headerBackgroundColor.toString()),this._primaryHeading&&b.primaryHeadingColor&&(this._primaryHeading.style.color=b.primaryHeadingColor.toString()),this._secondaryHeading&&b.secondaryHeadingColor&&(this._secondaryHeading.style.color=b.secondaryHeadingColor.toString()),this._bodyElement&&b.frameColor&&(this._bodyElement.style.borderColor=b.frameColor.toString())}_fillContainer(b){this.setCssClass("peekview-widget"),this._headElement=v.$(".head"),this._bodyElement=v.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),b.appendChild(this._headElement),b.appendChild(this._bodyElement)}_fillHead(b,y){const L=v.$(".peekview-title");v.append(this._headElement,L),v.addStandardDisposableListener(L,"click",D=>this._onTitleClick(D)),this._fillTitleIcon(L),this._primaryHeading=v.$("span.filename"),this._secondaryHeading=v.$("span.dirname"),this._metaHeading=v.$("span.meta"),v.append(L,this._primaryHeading,this._secondaryHeading,this._metaHeading);const N=v.$(".peekview-actions");v.append(this._headElement,N);const M=this._getActionBarOptions();this._actionbarWidget=new I.ActionBar(N,M),this._disposables.add(this._actionbarWidget),y||this._actionbarWidget.push(new k.Action("peekview.close",u.localize(1,null),n.Codicon.close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(b){}_getActionBarOptions(){return{actionViewItemProvider:s.createActionViewItem.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(b){}setTitle(b,y){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=b,this._primaryHeading.setAttribute("aria-label",b),y?this._secondaryHeading.innerText=y:v.clearNode(this._secondaryHeading))}setMetaTitle(b){this._metaHeading&&(b?(this._metaHeading.innerText=b,v.show(this._metaHeading)):v.hide(this._metaHeading))}_doLayout(b,y){if(!this._isShowing&&b<0){this.dispose();return}const L=Math.ceil(this.editor.getOption(55)*1.2),N=Math.round(b-(L+2));this._doLayoutHead(L,y),this._doLayoutBody(N,y)}_doLayoutHead(b,y){this._headElement&&(this._headElement.style.height=`${b}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(b,y){this._bodyElement&&(this._bodyElement.style.height=`${b}px`)}};m=Me([pe(2,l.IInstantiationService)],m),e.PeekViewWidget=m,e.peekViewTitleBackground=(0,r.registerColor)("peekViewTitle.background",{dark:"#1E1E1E",light:"#FFFFFF",hc:"#0C141F"},u.localize(2,null)),e.peekViewTitleForeground=(0,r.registerColor)("peekViewTitleLabel.foreground",{dark:"#FFFFFF",light:"#333333",hc:"#FFFFFF"},u.localize(3,null)),e.peekViewTitleInfoForeground=(0,r.registerColor)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161e6",hc:"#FFFFFF99"},u.localize(4,null)),e.peekViewBorder=(0,r.registerColor)("peekView.border",{dark:"#007acc",light:"#007acc",hc:r.contrastBorder},u.localize(5,null)),e.peekViewResultsBackground=(0,r.registerColor)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:w.Color.black},u.localize(6,null)),e.peekViewResultsMatchForeground=(0,r.registerColor)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:w.Color.white},u.localize(7,null)),e.peekViewResultsFileForeground=(0,r.registerColor)("peekViewResult.fileForeground",{dark:w.Color.white,light:"#1E1E1E",hc:w.Color.white},u.localize(8,null)),e.peekViewResultsSelectionBackground=(0,r.registerColor)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},u.localize(9,null)),e.peekViewResultsSelectionForeground=(0,r.registerColor)("peekViewResult.selectionForeground",{dark:w.Color.white,light:"#6C6C6C",hc:w.Color.white},u.localize(10,null)),e.peekViewEditorBackground=(0,r.registerColor)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:w.Color.black},u.localize(11,null)),e.peekViewEditorGutterBackground=(0,r.registerColor)("peekViewEditorGutter.background",{dark:e.peekViewEditorBackground,light:e.peekViewEditorBackground,hc:e.peekViewEditorBackground},u.localize(12,null)),e.peekViewResultsMatchHighlight=(0,r.registerColor)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},u.localize(13,null)),e.peekViewEditorMatchHighlight=(0,r.registerColor)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},u.localize(14,null)),e.peekViewEditorMatchHighlightBorder=(0,r.registerColor)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:r.activeContrastBorder},u.localize(15,null))}),define(J[651],ee([0,1,7,83,2,118,514,190,34,16,9]),function($,e,v,I,k,w,S,_,C,i,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestWidgetStatus=void 0;class u extends _.MenuEntryActionViewItem{updateLabel(){const c=this._keybindingService.lookupKeybinding(this._action.id);if(!c)return super.updateLabel();this.label&&(this.label.textContent=(0,S.localize)(0,null,this._action.label,u.symbolPrintEnter(c)))}static symbolPrintEnter(c){var d;return(d=c.getLabel())===null||d===void 0?void 0:d.replace(/\benter\b/gi,"\u23CE")}}let a=class{constructor(c,d,r,n){this._menuService=r,this._contextKeyService=n,this._menuDisposables=new k.DisposableStore,this.element=v.append(c,v.$(".suggest-status-bar"));const s=t=>t instanceof C.MenuItemAction?d.createInstance(u,t):void 0;this._leftActions=new I.ActionBar(this.element,{actionViewItemProvider:s}),this._rightActions=new I.ActionBar(this.element,{actionViewItemProvider:s}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const c=this._menuService.createMenu(w.suggestWidgetStatusbarMenu,this._contextKeyService),d=()=>{const r=[],n=[];for(let[s,t]of c.getActions())s==="left"?r.push(...t):n.push(...t);this._leftActions.clear(),this._leftActions.push(r),this._rightActions.clear(),this._rightActions.push(n)};this._menuDisposables.add(c.onDidChange(()=>d())),this._menuDisposables.add(c)}hide(){this._menuDisposables.clear()}};a=Me([pe(1,p.IInstantiationService),pe(2,C.IMenuService),pe(3,i.IContextKeyService)],a),e.SuggestWidgetStatus=a}),define(J[652],ee([0,1,15,6,2,34,26,16]),function($,e,v,I,k,w,S,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MenuService=void 0;let C=class{constructor(u){this._commandService=u}createMenu(u,a,l=!1){return new i(u,l,this._commandService,a,this)}};C=Me([pe(0,S.ICommandService)],C),e.MenuService=C;let i=class et{constructor(u,a,l,c,d){this._id=u,this._fireEventsForSubmenuChanges=a,this._commandService=l,this._contextKeyService=c,this._menuService=d,this._dispoables=new k.DisposableStore,this._onDidChange=new I.Emitter,this.onDidChange=this._onDidChange.event,this._menuGroups=[],this._contextKeys=new Set,this._build();const r=new v.RunOnceScheduler(()=>this._build(),50);this._dispoables.add(r),this._dispoables.add(w.MenuRegistry.onDidChangeMenu(s=>{s.has(u)&&r.schedule()}));const n=new v.RunOnceScheduler(()=>this._onDidChange.fire(this),50);this._dispoables.add(n),this._dispoables.add(c.onDidChangeContext(s=>{s.affectsSome(this._contextKeys)&&n.schedule()}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const u=w.MenuRegistry.getMenuItems(this._id);let a;u.sort(et._compareMenuItems);for(let l of u){const c=l.group||"";(!a||a[0]!==c)&&(a=[c,[]],this._menuGroups.push(a)),a[1].push(l),this._collectContextKeys(l)}this._onDidChange.fire(this)}_collectContextKeys(u){if(et._fillInKbExprKeys(u.when,this._contextKeys),(0,w.isIMenuItem)(u)){if(u.command.precondition&&et._fillInKbExprKeys(u.command.precondition,this._contextKeys),u.command.toggled){const a=u.command.toggled.condition||u.command.toggled;et._fillInKbExprKeys(a,this._contextKeys)}}else this._fireEventsForSubmenuChanges&&w.MenuRegistry.getMenuItems(u.submenu).forEach(this._collectContextKeys,this)}getActions(u){const a=[];for(let l of this._menuGroups){const[c,d]=l,r=[];for(const n of d)if(this._contextKeyService.contextMatchesRules(n.when)){const s=(0,w.isIMenuItem)(n)?new w.MenuItemAction(n.command,n.alt,u,this._contextKeyService,this._commandService):new w.SubmenuItemAction(n,this._menuService,this._contextKeyService,u);r.push(s)}r.length>0&&a.push([c,r])}return a}static _fillInKbExprKeys(u,a){if(u)for(let l of u.keys())a.add(l)}static _compareMenuItems(u,a){let l=u.group,c=a.group;if(l!==c){if(l){if(!c)return-1}else return 1;if(l==="navigation")return-1;if(c==="navigation")return 1;let n=l.localeCompare(c);if(n!==0)return n}let d=u.order||0,r=a.order||0;return d<r?-1:d>r?1:et._compareTitles((0,w.isIMenuItem)(u)?u.command.title:u.title,(0,w.isIMenuItem)(a)?a.command.title:a.title)}static _compareTitles(u,a){const l=typeof u=="string"?u:u.original,c=typeof a=="string"?a:a.original;return l.localeCompare(c)}};i=Me([pe(2,S.ICommandService),pe(3,_.IContextKeyService),pe(4,w.IMenuService)],i)}),define(J[653],ee([0,1,582,68,87,32,12,37,2,7]),function($,e,v,I,k,w,S,_,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuService=void 0;let p=class extends C.Disposable{constructor(a,l,c,d,r){super();this.contextMenuHandler=new v.ContextMenuHandler(c,a,l,d,r)}configure(a){this.contextMenuHandler.configure(a)}showContextMenu(a){this.contextMenuHandler.showContextMenu(a),i.ModifierKeyEmitter.getInstance().resetKeyStatus()}};p=Me([pe(0,k.ITelemetryService),pe(1,w.INotificationService),pe(2,I.IContextViewService),pe(3,_.IKeybindingService),pe(4,S.IThemeService)],p),e.ContextMenuService=p}),define(J[147],ee([0,1,7,313,105,6,2,526,47,95,16,9,37,33,117,12,250,235,429,428,65,316]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n,s,t,o,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkbenchCompressibleAsyncDataTree=e.WorkbenchAsyncDataTree=e.WorkbenchDataTree=e.WorkbenchCompressibleObjectTree=e.WorkbenchObjectTree=e.WorkbenchTable=e.WorkbenchPagedList=e.WorkbenchList=e.didBindWorkbenchListAutomaticKeyboardNavigation=e.WorkbenchListAutomaticKeyboardNavigation=e.WorkbenchListAutomaticKeyboardNavigationKey=e.WorkbenchListSupportsKeyboardNavigation=e.WorkbenchListSelectionNavigation=e.WorkbenchListMultiSelection=e.WorkbenchListDoubleSelection=e.WorkbenchListHasSelectionOrFocus=e.WorkbenchListFocusContextKey=e.WorkbenchListSupportsMultiSelectContextKey=e.ListService=e.IListService=void 0,e.IListService=(0,u.createDecorator)("listService");let g=class{constructor(se){this._themeService=se,this.disposables=new S.DisposableStore,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}register(se,oe){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const j=new k.DefaultStyleController((0,v.createStyleSheet)(),"");this.disposables.add((0,c.attachListStyler)(j,this._themeService))}if(this.lists.some(j=>j.widget===se))throw new Error("Cannot register the same widget multiple times");const G={widget:se,extraContextKeys:oe};return this.lists.push(G),se.getHTMLElement()===document.activeElement&&(this._lastFocusedWidget=se),(0,S.combinedDisposable)(se.onDidFocus(()=>this._lastFocusedWidget=se),(0,S.toDisposable)(()=>this.lists.splice(this.lists.indexOf(G),1)),se.onDidDispose(()=>{this.lists=this.lists.filter(j=>j!==G),this._lastFocusedWidget===se&&(this._lastFocusedWidget=void 0)}))}dispose(){this.disposables.dispose()}};g=Me([pe(0,d.IThemeService)],g),e.ListService=g;const m=new p.RawContextKey("listFocus",!0);e.WorkbenchListSupportsMultiSelectContextKey=new p.RawContextKey("listSupportsMultiselect",!0),e.WorkbenchListFocusContextKey=p.ContextKeyExpr.and(m,p.ContextKeyExpr.not(r.InputFocusedContextKey)),e.WorkbenchListHasSelectionOrFocus=new p.RawContextKey("listHasSelectionOrFocus",!1),e.WorkbenchListDoubleSelection=new p.RawContextKey("listDoubleSelection",!1),e.WorkbenchListMultiSelection=new p.RawContextKey("listMultiSelection",!1),e.WorkbenchListSelectionNavigation=new p.RawContextKey("listSelectionNavigation",!1),e.WorkbenchListSupportsKeyboardNavigation=new p.RawContextKey("listSupportsKeyboardNavigation",!0),e.WorkbenchListAutomaticKeyboardNavigationKey="listAutomaticKeyboardNavigation",e.WorkbenchListAutomaticKeyboardNavigation=new p.RawContextKey(e.WorkbenchListAutomaticKeyboardNavigationKey,!0),e.didBindWorkbenchListAutomaticKeyboardNavigation=!1;function f(Q,se){const oe=Q.createScoped(se.getHTMLElement());return m.bindTo(oe),oe}const b="workbench.list.multiSelectModifier",y="workbench.list.openMode",L="workbench.list.horizontalScrolling",N="workbench.list.keyboardNavigation",M="workbench.list.automaticKeyboardNavigation",D="workbench.tree.indent",R="workbench.tree.renderIndentGuides",P="workbench.list.smoothScrolling",O="workbench.tree.expandMode";function W(Q){return Q.getValue(b)==="alt"}class F extends S.Disposable{constructor(se){super();this.configurationService=se,this.useAltAsMultipleSelectionModifier=W(se),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(se=>{se.affectsConfiguration(b)&&(this.useAltAsMultipleSelectionModifier=W(this.configurationService))}))}isSelectionSingleChangeEvent(se){return this.useAltAsMultipleSelectionModifier?se.browserEvent.altKey:(0,k.isSelectionSingleChangeEvent)(se)}isSelectionRangeChangeEvent(se){return(0,k.isSelectionRangeChangeEvent)(se)}}function E(Q,se,oe){const G=new S.DisposableStore,j=Object.assign({},Q);if(Q.multipleSelectionSupport!==!1&&!Q.multipleSelectionController){const ne=new F(se);j.multipleSelectionController=ne,G.add(ne)}return j.keyboardNavigationDelegate={mightProducePrintableCharacter(ne){return oe.mightProducePrintableCharacter(ne)}},j.smoothScrolling=se.getValue(P),[j,G]}let A=class extends k.List{constructor(se,oe,G,j,ne,X,de,he,re,ue){const me=typeof ne.horizontalScrolling!="undefined"?ne.horizontalScrolling:re.getValue(L),[be,we]=E(ne,re,ue);super(se,oe,G,j,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,c.computeStyles)(he.getColorTheme(),c.defaultListStyles)),be),{horizontalScrolling:me}));this.disposables.add(we),this.contextKeyService=f(X,this),this.themeService=he,e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService).set(ne.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(ne.selectionNavigation)),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=ne.horizontalScrolling,this._useAltAsMultipleSelectionModifier=W(re),this.disposables.add(this.contextKeyService),this.disposables.add(de.register(this)),ne.overrideStyles&&this.updateStyles(ne.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Oe=this.getSelection(),Le=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Oe.length>0||Le.length>0),this.listMultiSelection.set(Oe.length>1),this.listDoubleSelection.set(Oe.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Oe=this.getSelection(),Le=this.getFocus();this.listHasSelectionOrFocus.set(Oe.length>0||Le.length>0)})),this.disposables.add(re.onDidChangeConfiguration(Oe=>{Oe.affectsConfiguration(b)&&(this._useAltAsMultipleSelectionModifier=W(re));let Le={};if(Oe.affectsConfiguration(L)&&this.horizontalScrolling===void 0){const Te=re.getValue(L);Le=Object.assign(Object.assign({},Le),{horizontalScrolling:Te})}if(Oe.affectsConfiguration(P)){const Te=re.getValue(P);Le=Object.assign(Object.assign({},Le),{smoothScrolling:Te})}Object.keys(Le).length>0&&this.updateOptions(Le)})),this.navigator=new q(this,Object.assign({configurationService:re},ne)),this.disposables.add(this.navigator)}updateOptions(se){super.updateOptions(se),se.overrideStyles&&this.updateStyles(se.overrideStyles)}updateStyles(se){var oe;(oe=this._styler)===null||oe===void 0||oe.dispose(),this._styler=(0,c.attachListStyler)(this,this.themeService,se)}dispose(){var se;(se=this._styler)===null||se===void 0||se.dispose(),super.dispose()}};A=Me([pe(5,p.IContextKeyService),pe(6,e.IListService),pe(7,d.IThemeService),pe(8,C.IConfigurationService),pe(9,a.IKeybindingService)],A),e.WorkbenchList=A;let B=class extends I.PagedList{constructor(se,oe,G,j,ne,X,de,he,re,ue){const me=typeof ne.horizontalScrolling!="undefined"?ne.horizontalScrolling:re.getValue(L),[be,we]=E(ne,re,ue);super(se,oe,G,j,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,c.computeStyles)(he.getColorTheme(),c.defaultListStyles)),be),{horizontalScrolling:me}));this.disposables=new S.DisposableStore,this.disposables.add(we),this.contextKeyService=f(X,this),this.themeService=he,this.horizontalScrolling=ne.horizontalScrolling,e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService).set(ne.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(ne.selectionNavigation)),this._useAltAsMultipleSelectionModifier=W(re),this.disposables.add(this.contextKeyService),this.disposables.add(de.register(this)),ne.overrideStyles&&this.updateStyles(ne.overrideStyles),ne.overrideStyles&&this.disposables.add((0,c.attachListStyler)(this,he,ne.overrideStyles)),this.disposables.add(re.onDidChangeConfiguration(Oe=>{Oe.affectsConfiguration(b)&&(this._useAltAsMultipleSelectionModifier=W(re));let Le={};if(Oe.affectsConfiguration(L)&&this.horizontalScrolling===void 0){const Te=re.getValue(L);Le=Object.assign(Object.assign({},Le),{horizontalScrolling:Te})}if(Oe.affectsConfiguration(P)){const Te=re.getValue(P);Le=Object.assign(Object.assign({},Le),{smoothScrolling:Te})}Object.keys(Le).length>0&&this.updateOptions(Le)})),this.navigator=new q(this,Object.assign({configurationService:re},ne)),this.disposables.add(this.navigator)}updateOptions(se){super.updateOptions(se),se.overrideStyles&&this.updateStyles(se.overrideStyles)}updateStyles(se){var oe;(oe=this._styler)===null||oe===void 0||oe.dispose(),this._styler=(0,c.attachListStyler)(this,this.themeService,se)}dispose(){var se;(se=this._styler)===null||se===void 0||se.dispose(),this.disposables.dispose(),super.dispose()}};B=Me([pe(5,p.IContextKeyService),pe(6,e.IListService),pe(7,d.IThemeService),pe(8,C.IConfigurationService),pe(9,a.IKeybindingService)],B),e.WorkbenchPagedList=B;let H=class extends h.Table{constructor(se,oe,G,j,ne,X,de,he,re,ue,me){const be=typeof X.horizontalScrolling!="undefined"?X.horizontalScrolling:ue.getValue(L),[we,Ee]=E(X,ue,me);super(se,oe,G,j,ne,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,c.computeStyles)(re.getColorTheme(),c.defaultListStyles)),we),{horizontalScrolling:be}));this.disposables=new S.DisposableStore,this.disposables.add(Ee),this.contextKeyService=f(de,this),this.themeService=re,e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService).set(X.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(X.selectionNavigation)),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=X.horizontalScrolling,this._useAltAsMultipleSelectionModifier=W(ue),this.disposables.add(this.contextKeyService),this.disposables.add(he.register(this)),X.overrideStyles&&this.updateStyles(X.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Le=this.getSelection(),Te=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Le.length>0||Te.length>0),this.listMultiSelection.set(Le.length>1),this.listDoubleSelection.set(Le.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Le=this.getSelection(),Te=this.getFocus();this.listHasSelectionOrFocus.set(Le.length>0||Te.length>0)})),this.disposables.add(ue.onDidChangeConfiguration(Le=>{Le.affectsConfiguration(b)&&(this._useAltAsMultipleSelectionModifier=W(ue));let Te={};if(Le.affectsConfiguration(L)&&this.horizontalScrolling===void 0){const ve=ue.getValue(L);Te=Object.assign(Object.assign({},Te),{horizontalScrolling:ve})}if(Le.affectsConfiguration(P)){const ve=ue.getValue(P);Te=Object.assign(Object.assign({},Te),{smoothScrolling:ve})}Object.keys(Te).length>0&&this.updateOptions(Te)})),this.navigator=new Y(this,Object.assign({configurationService:ue},X)),this.disposables.add(this.navigator)}updateOptions(se){super.updateOptions(se),se.overrideStyles&&this.updateStyles(se.overrideStyles)}updateStyles(se){var oe;(oe=this._styler)===null||oe===void 0||oe.dispose(),this._styler=(0,c.attachListStyler)(this,this.themeService,se)}dispose(){var se;(se=this._styler)===null||se===void 0||se.dispose(),this.disposables.dispose(),super.dispose()}};H=Me([pe(6,p.IContextKeyService),pe(7,e.IListService),pe(8,d.IThemeService),pe(9,C.IConfigurationService),pe(10,a.IKeybindingService)],H),e.WorkbenchTable=H;class K extends S.Disposable{constructor(se,oe){var G;super();this.widget=se,this._onDidOpen=this._register(new w.Emitter),this.onDidOpen=this._onDidOpen.event,this._register(w.Event.filter(this.widget.onDidChangeSelection,j=>j.browserEvent instanceof KeyboardEvent)(j=>this.onSelectionFromKeyboard(j))),this._register(this.widget.onPointer(j=>this.onPointer(j.element,j.browserEvent))),this._register(this.widget.onMouseDblClick(j=>this.onMouseDblClick(j.element,j.browserEvent))),typeof(oe==null?void 0:oe.openOnSingleClick)!="boolean"&&(oe==null?void 0:oe.configurationService)?(this.openOnSingleClick=(oe==null?void 0:oe.configurationService.getValue(y))!=="doubleClick",this._register(oe==null?void 0:oe.configurationService.onDidChangeConfiguration(()=>{this.openOnSingleClick=(oe==null?void 0:oe.configurationService.getValue(y))!=="doubleClick"}))):this.openOnSingleClick=(G=oe==null?void 0:oe.openOnSingleClick)!==null&&G!==void 0?G:!0}onSelectionFromKeyboard(se){if(se.elements.length===1){const oe=se.browserEvent,G=typeof oe.preserveFocus=="boolean"?oe.preserveFocus:!0,j=typeof oe.pinned=="boolean"?oe.pinned:!G,ne=!1;this._open(this.getSelectedElement(),G,j,ne,se.browserEvent)}}onPointer(se,oe){if(!!this.openOnSingleClick&&oe.detail!==2){const j=oe.button===1,ne=!0,X=j,de=oe.ctrlKey||oe.metaKey||oe.altKey;this._open(se,ne,X,de,oe)}}onMouseDblClick(se,oe){if(!!oe){const G=oe.target;if(!(G.classList.contains("monaco-tl-twistie")||G.classList.contains("monaco-icon-label")&&G.classList.contains("folder-icon")&&oe.offsetX<16)){const ne=!1,X=!0,de=oe.ctrlKey||oe.metaKey||oe.altKey;this._open(se,ne,X,de,oe)}}}_open(se,oe,G,j,ne){!se||this._onDidOpen.fire({editorOptions:{preserveFocus:oe,pinned:G,revealIfVisible:!0},sideBySide:j,element:se,browserEvent:ne})}}class q extends K{constructor(se,oe){super(se,oe);this.widget=se}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class Y extends K{constructor(se,oe){super(se,oe)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class te extends K{constructor(se,oe){super(se,oe)}getSelectedElement(){var se;return(se=this.widget.getSelection()[0])!==null&&se!==void 0?se:void 0}}function ie(Q,se){let oe=!1;return G=>{if(oe)return oe=!1,!1;const j=se.softDispatch(G,Q);return j&&j.enterChord?(oe=!0,!1):(oe=!1,!0)}}let ae=class extends n.ObjectTree{constructor(se,oe,G,j,ne,X,de,he,re,ue,me){const{options:be,getAutomaticKeyboardNavigation:we,disposable:Ee}=z(oe,ne,X,re,ue,me);super(se,oe,G,j,be);this.disposables.add(Ee),this.internals=new V(this,ne,we,ne.overrideStyles,X,de,he,re,me),this.disposables.add(this.internals)}};ae=Me([pe(5,p.IContextKeyService),pe(6,e.IListService),pe(7,d.IThemeService),pe(8,C.IConfigurationService),pe(9,a.IKeybindingService),pe(10,o.IAccessibilityService)],ae),e.WorkbenchObjectTree=ae;let le=class extends n.CompressibleObjectTree{constructor(se,oe,G,j,ne,X,de,he,re,ue,me){const{options:be,getAutomaticKeyboardNavigation:we,disposable:Ee}=z(oe,ne,X,re,ue,me);super(se,oe,G,j,be);this.disposables.add(Ee),this.internals=new V(this,ne,we,ne.overrideStyles,X,de,he,re,me),this.disposables.add(this.internals)}updateOptions(se={}){super.updateOptions(se),se.overrideStyles&&this.internals.updateStyleOverrides(se.overrideStyles)}};le=Me([pe(5,p.IContextKeyService),pe(6,e.IListService),pe(7,d.IThemeService),pe(8,C.IConfigurationService),pe(9,a.IKeybindingService),pe(10,o.IAccessibilityService)],le),e.WorkbenchCompressibleObjectTree=le;let Z=class extends t.DataTree{constructor(se,oe,G,j,ne,X,de,he,re,ue,me,be){const{options:we,getAutomaticKeyboardNavigation:Ee,disposable:De}=z(oe,X,de,ue,me,be);super(se,oe,G,j,ne,we);this.disposables.add(De),this.internals=new V(this,X,Ee,X.overrideStyles,de,he,re,ue,be),this.disposables.add(this.internals)}updateOptions(se={}){super.updateOptions(se),se.overrideStyles&&this.internals.updateStyleOverrides(se.overrideStyles)}};Z=Me([pe(6,p.IContextKeyService),pe(7,e.IListService),pe(8,d.IThemeService),pe(9,C.IConfigurationService),pe(10,a.IKeybindingService),pe(11,o.IAccessibilityService)],Z),e.WorkbenchDataTree=Z;let T=class extends s.AsyncDataTree{constructor(se,oe,G,j,ne,X,de,he,re,ue,me,be){const{options:we,getAutomaticKeyboardNavigation:Ee,disposable:De}=z(oe,X,de,ue,me,be);super(se,oe,G,j,ne,we);this.disposables.add(De),this.internals=new V(this,X,Ee,X.overrideStyles,de,he,re,ue,be),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(se={}){super.updateOptions(se),se.overrideStyles&&this.internals.updateStyleOverrides(se.overrideStyles)}};T=Me([pe(6,p.IContextKeyService),pe(7,e.IListService),pe(8,d.IThemeService),pe(9,C.IConfigurationService),pe(10,a.IKeybindingService),pe(11,o.IAccessibilityService)],T),e.WorkbenchAsyncDataTree=T;let x=class extends s.CompressibleAsyncDataTree{constructor(se,oe,G,j,ne,X,de,he,re,ue,me,be,we){const{options:Ee,getAutomaticKeyboardNavigation:De,disposable:Oe}=z(oe,de,he,me,be,we);super(se,oe,G,j,ne,X,Ee);this.disposables.add(Oe),this.internals=new V(this,de,De,de.overrideStyles,he,re,ue,me,we),this.disposables.add(this.internals)}};x=Me([pe(7,p.IContextKeyService),pe(8,e.IListService),pe(9,d.IThemeService),pe(10,C.IConfigurationService),pe(11,a.IKeybindingService),pe(12,o.IAccessibilityService)],x),e.WorkbenchCompressibleAsyncDataTree=x;function z(Q,se,oe,G,j,ne){var X;e.WorkbenchListSupportsKeyboardNavigation.bindTo(oe),e.didBindWorkbenchListAutomaticKeyboardNavigation||(e.WorkbenchListAutomaticKeyboardNavigation.bindTo(oe),e.didBindWorkbenchListAutomaticKeyboardNavigation=!0);const de=()=>{let Ee=oe.getContextKeyValue(e.WorkbenchListAutomaticKeyboardNavigationKey);return Ee&&(Ee=G.getValue(M)),Ee},he=ne.isScreenReaderOptimized(),re=se.simpleKeyboardNavigation||he?"simple":G.getValue(N),ue=se.horizontalScrolling!==void 0?se.horizontalScrolling:G.getValue(L),[me,be]=E(se,G,j),we=se.additionalScrollHeight;return{getAutomaticKeyboardNavigation:de,disposable:be,options:Object.assign(Object.assign({keyboardSupport:!1},me),{indent:G.getValue(D),renderIndentGuides:G.getValue(R),smoothScrolling:G.getValue(P),automaticKeyboardNavigation:de(),simpleKeyboardNavigation:re==="simple",filterOnType:re==="filter",horizontalScrolling:ue,keyboardNavigationEventFilter:ie(Q,j),additionalScrollHeight:we,hideTwistiesOfChildlessElements:se.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(X=se.expandOnlyOnTwistieClick)!==null&&X!==void 0?X:G.getValue(O)==="doubleClick"})}}let V=class{constructor(se,oe,G,j,ne,X,de,he,re){this.tree=se,this.themeService=de,this.disposables=[],this.contextKeyService=f(ne,se),e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService).set(oe.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(oe.selectionNavigation)),this.hasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.hasDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.hasMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=W(he);const be=new Set;be.add(e.WorkbenchListAutomaticKeyboardNavigationKey);const we=()=>{const De=re.isScreenReaderOptimized()?"simple":he.getValue(N);se.updateOptions({simpleKeyboardNavigation:De==="simple",filterOnType:De==="filter"})};this.updateStyleOverrides(j),this.disposables.push(this.contextKeyService,X.register(se),se.onDidChangeSelection(()=>{const Ee=se.getSelection(),De=se.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(Ee.length>0||De.length>0),this.hasMultiSelection.set(Ee.length>1),this.hasDoubleSelection.set(Ee.length===2)})}),se.onDidChangeFocus(()=>{const Ee=se.getSelection(),De=se.getFocus();this.hasSelectionOrFocus.set(Ee.length>0||De.length>0)}),he.onDidChangeConfiguration(Ee=>{let De={};if(Ee.affectsConfiguration(b)&&(this._useAltAsMultipleSelectionModifier=W(he)),Ee.affectsConfiguration(D)){const Oe=he.getValue(D);De=Object.assign(Object.assign({},De),{indent:Oe})}if(Ee.affectsConfiguration(R)){const Oe=he.getValue(R);De=Object.assign(Object.assign({},De),{renderIndentGuides:Oe})}if(Ee.affectsConfiguration(P)){const Oe=he.getValue(P);De=Object.assign(Object.assign({},De),{smoothScrolling:Oe})}if(Ee.affectsConfiguration(N)&&we(),Ee.affectsConfiguration(M)&&(De=Object.assign(Object.assign({},De),{automaticKeyboardNavigation:G()})),Ee.affectsConfiguration(L)&&oe.horizontalScrolling===void 0){const Oe=he.getValue(L);De=Object.assign(Object.assign({},De),{horizontalScrolling:Oe})}Ee.affectsConfiguration(O)&&oe.expandOnlyOnTwistieClick===void 0&&(De=Object.assign(Object.assign({},De),{expandOnlyOnTwistieClick:he.getValue(O)==="doubleClick"})),Object.keys(De).length>0&&se.updateOptions(De)}),this.contextKeyService.onDidChangeContext(Ee=>{Ee.affectsSome(be)&&se.updateOptions({automaticKeyboardNavigation:G()})}),re.onDidChangeScreenReaderOptimized(()=>we())),this.navigator=new te(se,Object.assign({configurationService:he},oe)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateStyleOverrides(se){(0,S.dispose)(this.styler),this.styler=se?(0,c.attachListStyler)(this.tree,this.themeService,se):S.Disposable.None}dispose(){this.disposables=(0,S.dispose)(this.disposables),(0,S.dispose)(this.styler),this.styler=void 0}};V=Me([pe(4,p.IContextKeyService),pe(5,e.IListService),pe(6,d.IThemeService),pe(7,C.IConfigurationService),pe(8,o.IAccessibilityService)],V),l.Registry.as(i.Extensions.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,_.localize)(0,null),type:"object",properties:{[b]:{type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[(0,_.localize)(1,null),(0,_.localize)(2,null)],default:"ctrlCmd",description:(0,_.localize)(3,null)},[y]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,_.localize)(4,null)},[L]:{type:"boolean",default:!1,description:(0,_.localize)(5,null)},[D]:{type:"number",default:8,minimum:0,maximum:40,description:(0,_.localize)(6,null)},[R]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,_.localize)(7,null)},[P]:{type:"boolean",default:!1,description:(0,_.localize)(8,null)},[N]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,_.localize)(9,null),(0,_.localize)(10,null),(0,_.localize)(11,null)],default:"highlight",description:(0,_.localize)(12,null)},[M]:{type:"boolean",default:!0,markdownDescription:(0,_.localize)(13,null)},[O]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,_.localize)(14,null)}}})}),define(J[654],ee([0,1,139,9,12,22,23,117,16,65,444,147,577]),function($,e,v,I,k,w,S,_,C,i,p,u,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputService=void 0;let l=class extends k.Themable{constructor(d,r,n,s,t){super(n);this.instantiationService=d,this.contextKeyService=r,this.accessibilityService=s,this.layoutService=t,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(a.QuickAccessController))),this._quickAccess}createController(d=this.layoutService,r){var n,s;const t={idPrefix:"quickInput_",container:d.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:h=>this.setContextKey(h),returnFocus:()=>d.focus(),createList:(h,g,m,f,b)=>this.instantiationService.createInstance(u.WorkbenchList,h,g,m,f,b),styles:this.computeStyles()},o=this._register(new p.QuickInputController(Object.assign(Object.assign({},t),r)));return o.layout(d.dimension,(s=(n=d.offset)===null||n===void 0?void 0:n.top)!==null&&s!==void 0?s:0),this._register(d.onDidLayout(h=>{var g,m;return o.layout(h,(m=(g=d.offset)===null||g===void 0?void 0:g.top)!==null&&m!==void 0?m:0)})),this._register(o.onShow(()=>this.resetContextKeys())),this._register(o.onHide(()=>this.resetContextKeys())),o}setContextKey(d){let r;d&&(r=this.contexts.get(d),r||(r=new C.RawContextKey(d,!1).bindTo(this.contextKeyService),this.contexts.set(d,r))),!(r&&r.get())&&(this.resetContextKeys(),r&&r.set(!0))}resetContextKeys(){this.contexts.forEach(d=>{d.get()&&d.reset()})}pick(d,r={},n=S.CancellationToken.None){return this.controller.pick(d,r,n)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},(0,_.computeStyles)(this.theme,{quickInputBackground:w.quickInputBackground,quickInputForeground:w.quickInputForeground,quickInputTitleBackground:w.quickInputTitleBackground,contrastBorder:w.contrastBorder,widgetShadow:w.widgetShadow})),inputBox:(0,_.computeStyles)(this.theme,{inputForeground:w.inputForeground,inputBackground:w.inputBackground,inputBorder:w.inputBorder,inputValidationInfoBackground:w.inputValidationInfoBackground,inputValidationInfoForeground:w.inputValidationInfoForeground,inputValidationInfoBorder:w.inputValidationInfoBorder,inputValidationWarningBackground:w.inputValidationWarningBackground,inputValidationWarningForeground:w.inputValidationWarningForeground,inputValidationWarningBorder:w.inputValidationWarningBorder,inputValidationErrorBackground:w.inputValidationErrorBackground,inputValidationErrorForeground:w.inputValidationErrorForeground,inputValidationErrorBorder:w.inputValidationErrorBorder}),countBadge:(0,_.computeStyles)(this.theme,{badgeBackground:w.badgeBackground,badgeForeground:w.badgeForeground,badgeBorder:w.contrastBorder}),button:(0,_.computeStyles)(this.theme,{buttonForeground:w.buttonForeground,buttonBackground:w.buttonBackground,buttonHoverBackground:w.buttonHoverBackground,buttonBorder:w.contrastBorder}),progressBar:(0,_.computeStyles)(this.theme,{progressBarBackground:w.progressBarBackground}),keybindingLabel:(0,_.computeStyles)(this.theme,{keybindingLabelBackground:w.keybindingLabelBackground,keybindingLabelForeground:w.keybindingLabelForeground,keybindingLabelBorder:w.keybindingLabelBorder,keybindingLabelBottomBorder:w.keybindingLabelBottomBorder,keybindingLabelShadow:w.widgetShadow}),list:(0,_.computeStyles)(this.theme,{listBackground:w.quickInputBackground,listInactiveFocusForeground:w.listFocusForeground,listInactiveFocusBackground:w.quickInputListFocusBackground,listFocusOutline:w.activeContrastBorder,listInactiveFocusOutline:w.activeContrastBorder,pickerGroupBorder:w.pickerGroupBorder,pickerGroupForeground:w.pickerGroupForeground})}}};l=Me([pe(0,I.IInstantiationService),pe(1,C.IContextKeyService),pe(2,k.IThemeService),pe(3,i.IAccessibilityService),pe(4,v.ILayoutService)],l),e.QuickInputService=l}),define(J[655],ee([0,1,13,12,23,9,16,65,139,28,654,88,358]),function($,e,v,I,k,w,S,_,C,i,p,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputEditorWidget=e.QuickInputEditorContribution=e.StandaloneQuickInputServiceImpl=e.EditorScopedQuickInputServiceImpl=void 0;let a=class extends p.QuickInputService{constructor(n,s,t,o,h,g){super(s,t,o,h,g);this.host=void 0;const m=c.get(n);this.host={_serviceBrand:void 0,get container(){return m.widget.getDomNode()},get dimension(){return n.getLayoutInfo()},get onDidLayout(){return n.onDidLayoutChange},focus:()=>n.focus()}}createController(){return super.createController(this.host)}};a=Me([pe(1,w.IInstantiationService),pe(2,S.IContextKeyService),pe(3,I.IThemeService),pe(4,_.IAccessibilityService),pe(5,C.ILayoutService)],a),e.EditorScopedQuickInputServiceImpl=a;let l=class{constructor(n,s){this.instantiationService=n,this.codeEditorService=s,this.mapEditorToService=new Map}get activeService(){const n=this.codeEditorService.getFocusedCodeEditor();if(!n)throw new Error("Quick input service needs a focused editor to work.");let s=this.mapEditorToService.get(n);if(!s){const t=s=this.instantiationService.createInstance(a,n);this.mapEditorToService.set(n,s),(0,u.once)(n.onDidDispose)(()=>{t.dispose(),this.mapEditorToService.delete(n)})}return s}get quickAccess(){return this.activeService.quickAccess}pick(n,s={},t=k.CancellationToken.None){return this.activeService.pick(n,s,t)}createQuickPick(){return this.activeService.createQuickPick()}};l=Me([pe(0,w.IInstantiationService),pe(1,i.ICodeEditorService)],l),e.StandaloneQuickInputServiceImpl=l;class c{constructor(n){this.editor=n,this.widget=new d(this.editor)}static get(n){return n.getContribution(c.ID)}dispose(){this.widget.dispose()}}e.QuickInputEditorContribution=c,c.ID="editor.controller.quickInput";class d{constructor(n){this.codeEditor=n,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return d.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}e.QuickInputEditorWidget=d,d.ID="editor.contrib.quickInputWidget",(0,v.registerEditorContribution)(c.ID,c)}),define(J[656],ee([0,1,82,12,22,27]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SeverityIcon=void 0;var S;(function(_){function C(i){switch(i){case v.default.Ignore:return"severity-ignore "+w.Codicon.info.classNames;case v.default.Info:return w.Codicon.info.classNames;case v.default.Warning:return w.Codicon.warning.classNames;case v.default.Error:return w.Codicon.error.classNames;default:return""}}_.className=C})(S=e.SeverityIcon||(e.SeverityIcon={})),(0,I.registerThemingParticipant)((_,C)=>{const i=_.getColor(k.problemsErrorIconForeground);if(i){const a=w.Codicon.error.cssSelector;C.addRule(`
			.monaco-editor .zone-widget ${a},
			.markers-panel .marker-icon${a},
			.extensions-viewlet > .extensions ${a} {
				color: ${i};
			}
		`)}const p=_.getColor(k.problemsWarningIconForeground);if(p){const a=w.Codicon.warning.cssSelector;C.addRule(`
			.monaco-editor .zone-widget ${a},
			.markers-panel .marker-icon${a},
			.extensions-viewlet > .extensions ${a},
			.extension-editor ${a} {
				color: ${p};
			}
		`)}const u=_.getColor(k.problemsInfoIconForeground);if(u){const a=w.Codicon.info.cssSelector;C.addRule(`
			.monaco-editor .zone-widget ${a},
			.markers-panel .marker-icon${a},
			.extensions-viewlet > .extensions ${a},
			.extension-editor ${a} {
				color: ${u};
			}
		`)}})}),define(J[657],ee([0,1,481,7,2,85,3,22,12,29,61,159,19,6,119,45,656,58,34,16,190,9,8,116,344]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n,s,t,o,h,g,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorMarkerNavigationBackground=e.editorMarkerNavigationInfo=e.editorMarkerNavigationWarning=e.editorMarkerNavigationError=e.MarkerNavigationWidget=void 0;class f{constructor(D,R,P,O,W){this._openerService=O,this._labelService=W,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new k.DisposableStore,this._editor=R;const F=document.createElement("div");F.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),F.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),F.appendChild(this._relatedBlock),this._disposables.add(I.addStandardDisposableListener(this._relatedBlock,"click",E=>{E.preventDefault();const A=this._relatedDiagnostics.get(E.target);A&&P(A)})),this._scrollable=new p.ScrollableElement(F,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:3,verticalScrollbarSize:3}),D.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(E=>{F.style.left=`-${E.scrollLeft}px`,F.style.top=`-${E.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,k.dispose)(this._disposables)}update(D){const{source:R,message:P,relatedInformation:O,code:W}=D;let F=((R==null?void 0:R.length)||0)+"()".length;W&&(typeof W=="string"?F+=W.length:F+=W.value.length);const E=(0,g.splitLines)(P);this._lines=E.length,this._longestLineLength=0;for(const q of E)this._longestLineLength=Math.max(q.length+F,this._longestLineLength);I.clearNode(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(D)),this._editor.applyFontInfo(this._messageBlock);let A=this._messageBlock;for(const q of E)A=document.createElement("div"),A.innerText=q,q===""&&(A.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(A);if(R||W){const q=document.createElement("span");if(q.classList.add("details"),A.appendChild(q),R){const Y=document.createElement("span");Y.innerText=R,Y.classList.add("source"),q.appendChild(Y)}if(W)if(typeof W=="string"){const Y=document.createElement("span");Y.innerText=`(${W})`,Y.classList.add("code"),q.appendChild(Y)}else{this._codeLink=I.$("a.code-link"),this._codeLink.setAttribute("href",`${W.target.toString()}`),this._codeLink.onclick=te=>{this._openerService.open(W.target,{allowCommands:!0}),te.preventDefault(),te.stopPropagation()};const Y=I.append(this._codeLink,I.$("span"));Y.innerText=W.value,q.appendChild(this._codeLink)}}if(I.clearNode(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,a.isNonEmptyArray)(O)){const q=this._relatedBlock.appendChild(document.createElement("div"));q.style.paddingTop=`${Math.floor(this._editor.getOption(55)*.66)}px`,this._lines+=1;for(const Y of O){let te=document.createElement("div"),ie=document.createElement("a");ie.classList.add("filename"),ie.innerText=`${(0,u.getBaseLabel)(Y.resource)}(${Y.startLineNumber}, ${Y.startColumn}): `,ie.title=this._labelService.getUriLabel(Y.resource),this._relatedDiagnostics.set(ie,Y);let ae=document.createElement("span");ae.innerText=Y.message,te.appendChild(ie),te.appendChild(ae),this._lines+=1,q.appendChild(te)}}const B=this._editor.getOption(40),H=Math.ceil(B.typicalFullwidthCharacterWidth*this._longestLineLength*.75),K=B.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:H,scrollHeight:K})}layout(D,R){this._scrollable.getDomNode().style.height=`${D}px`,this._scrollable.getDomNode().style.width=`${R}px`,this._scrollable.setScrollDimensions({width:R,height:D})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(D){let R="";switch(D.severity){case w.MarkerSeverity.Error:R=v.localize(0,null);break;case w.MarkerSeverity.Warning:R=v.localize(1,null);break;case w.MarkerSeverity.Info:R=v.localize(2,null);break;case w.MarkerSeverity.Hint:R=v.localize(3,null);break}let P=v.localize(4,null,R,D.startLineNumber+":"+D.startColumn);const O=this._editor.getModel();return O&&D.startLineNumber<=O.getLineCount()&&D.startLineNumber>=1&&(P=`${O.getLineContent(D.startLineNumber)}, ${P}`),P}}let b=class Kt extends c.PeekViewWidget{constructor(D,R,P,O,W,F,E){super(D,{showArrow:!0,showFrame:!0,isAccessible:!0},W);this._themeService=R,this._openerService=P,this._menuService=O,this._contextKeyService=F,this._labelService=E,this._callOnDispose=new k.DisposableStore,this._onDidSelectRelatedInformation=new l.Emitter,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=w.MarkerSeverity.Warning,this._backgroundColor=i.Color.white,this._applyTheme(R.getColorTheme()),this._callOnDispose.add(R.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(D){this._backgroundColor=D.getColor(e.editorMarkerNavigationBackground);let R=e.editorMarkerNavigationError;this._severity===w.MarkerSeverity.Warning?R=e.editorMarkerNavigationWarning:this._severity===w.MarkerSeverity.Info&&(R=e.editorMarkerNavigationInfo);const P=D.getColor(R);this.style({arrowColor:P,frameColor:P,headerBackgroundColor:this._backgroundColor,primaryHeadingColor:D.getColor(c.peekViewTitleForeground),secondaryHeadingColor:D.getColor(c.peekViewTitleInfoForeground)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(D){super._fillHead(D),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun(O=>this.editor.focus()));const R=[],P=this._menuService.createMenu(Kt.TitleMenu,this._contextKeyService);(0,o.createAndFillInActionBarActions)(P,void 0,R),this._actionbarWidget.push(R,{label:!1,icon:!0,index:0}),P.dispose()}_fillTitleIcon(D){this._icon=I.append(D,I.$(""))}_fillBody(D){this._parentContainer=D,D.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),D.appendChild(this._container),this._message=new f(this._container,this.editor,R=>this._onDidSelectRelatedInformation.fire(R),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(D,R,P){this._container.classList.remove("stale"),this._message.update(D),this._severity=D.severity,this._applyTheme(this._themeService.getColorTheme());let O=S.Range.lift(D);const W=this.editor.getPosition();let F=W&&O.containsPosition(W)?W:O.getStartPosition();super.show(F,this.computeRequiredHeight());const E=this.editor.getModel();if(E){const A=P>1?v.localize(5,null,R,P):v.localize(6,null,R,P);this.setTitle((0,d.basename)(E.uri),A)}this._icon.className=`codicon ${r.SeverityIcon.className(w.MarkerSeverity.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(F,0),this.editor.focus()}updateMarker(D){this._container.classList.remove("stale"),this._message.update(D)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(D,R){super._doLayoutBody(D,R),this._heightInPixel=D,this._message.layout(D,R),this._container.style.height=`${D}px`}_onWidth(D){this._message.layout(this._heightInPixel,D)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};b.TitleMenu=new s.MenuId("gotoErrorTitleMenu"),b=Me([pe(1,C.IThemeService),pe(2,n.IOpenerService),pe(3,s.IMenuService),pe(4,h.IInstantiationService),pe(5,t.IContextKeyService),pe(6,m.ILabelService)],b),e.MarkerNavigationWidget=b;let y=(0,_.oneOf)(_.editorErrorForeground,_.editorErrorBorder),L=(0,_.oneOf)(_.editorWarningForeground,_.editorWarningBorder),N=(0,_.oneOf)(_.editorInfoForeground,_.editorInfoBorder);e.editorMarkerNavigationError=(0,_.registerColor)("editorMarkerNavigationError.background",{dark:y,light:y,hc:y},v.localize(7,null)),e.editorMarkerNavigationWarning=(0,_.registerColor)("editorMarkerNavigationWarning.background",{dark:L,light:L,hc:L},v.localize(8,null)),e.editorMarkerNavigationInfo=(0,_.registerColor)("editorMarkerNavigationInfo.background",{dark:N,light:N,hc:N},v.localize(9,null)),e.editorMarkerNavigationBackground=(0,_.registerColor)("editorMarkerNavigation.background",{dark:"#2D2D30",light:i.Color.white,hc:"#0C141F"},v.localize(10,null)),(0,C.registerThemingParticipant)((M,D)=>{const R=M.getColor(_.textLinkForeground);R&&(D.addRule(`.monaco-editor .marker-widget a { color: ${R}; }`),D.addRule(`.monaco-editor .marker-widget a.code-link span:hover { color: ${R}; }`))})}),define(J[80],ee([0,1,33,12,6,531,186,15,27]),function($,e,v,I,k,w,S,_,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.widgetClose=e.iconsSchemaId=e.getIconRegistry=e.registerIcon=e.Extensions=void 0,e.Extensions={IconContribution:"base.contributions.icons"};class i{constructor(){this._onDidChange=new k.Emitter,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,w.localize)(0,null)},fontCharacter:{type:"string",description:(0,w.localize)(1,null)}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${C.CSSIcon.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(n,s,t,o){const h=this.iconsById[n];if(h){if(t&&!h.description){h.description=t,this.iconSchema.properties[n].markdownDescription=`${t} $(${n})`;const f=this.iconReferenceSchema.enum.indexOf(n);f!==-1&&(this.iconReferenceSchema.enumDescriptions[f]=t),this._onDidChange.fire()}return h}let g={id:n,description:t,defaults:s,deprecationMessage:o};this.iconsById[n]=g;let m={$ref:"#/definitions/icons"};return o&&(m.deprecationMessage=o),t&&(m.markdownDescription=`${t}: $(${n})`),this.iconSchema.properties[n]=m,this.iconReferenceSchema.enum.push(n),this.iconReferenceSchema.enumDescriptions.push(t||""),this._onDidChange.fire(),{id:n}}getIcons(){return Object.keys(this.iconsById).map(n=>this.iconsById[n])}getIcon(n){return this.iconsById[n]}getIconSchema(){return this.iconSchema}getIconFont(n){return this.iconFontsById[n]}toString(){const n=(h,g)=>h.id.localeCompare(g.id),s=h=>{for(;I.ThemeIcon.isThemeIcon(h.defaults);)h=this.iconsById[h.defaults.id];return`codicon codicon-${h?h.id:""}`};let t=[];t.push("| preview     | identifier                        | default codicon ID                | description"),t.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const o=Object.keys(this.iconsById).map(h=>this.iconsById[h]);for(const h of o.filter(g=>!!g.description).sort(n))t.push(`|<i class="${s(h)}"></i>|${h.id}|${I.ThemeIcon.isThemeIcon(h.defaults)?h.defaults.id:h.id}|${h.description||""}|`);t.push("| preview     | identifier                        "),t.push("| ----------- | --------------------------------- |");for(const h of o.filter(g=>!I.ThemeIcon.isThemeIcon(g.defaults)).sort(n))t.push(`|<i class="${s(h)}"></i>|${h.id}|`);return t.join(`
`)}}const p=new i;v.Registry.add(e.Extensions.IconContribution,p);function u(r,n,s,t){return p.registerIcon(r,n,s,t)}e.registerIcon=u;function a(){return p}e.getIconRegistry=a;function l(){for(const r of C.iconRegistry.all)p.registerIcon(r.id,r.definition,r.description);C.iconRegistry.onDidRegister(r=>p.registerIcon(r.id,r.definition,r.description))}l(),e.iconsSchemaId="vscode://schemas/icons";let c=v.Registry.as(S.Extensions.JSONContribution);c.registerSchema(e.iconsSchemaId,p.getIconSchema());const d=new _.RunOnceScheduler(()=>c.notifySchemaChanged(e.iconsSchemaId),200);p.onDidChange(()=>{d.isScheduled()||d.schedule()}),e.widgetClose=u("widget-close",C.Codicon.close,(0,w.localize)(2,null))}),define(J[658],ee([0,1,451,7,30,83,61,48,2,70,13,28,38,114,14,49,130,63,16,22,12,27,80,334]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n,s,t,o,h,g){"use strict";var m;Object.defineProperty(e,"__esModule",{value:!0}),e.DiffReview=void 0;const f=3;class b{constructor(F,E,A,B){this.originalLineStart=F,this.originalLineEnd=E,this.modifiedLineStart=A,this.modifiedLineEnd=B}getType(){return this.originalLineStart===0?1:this.modifiedLineStart===0?2:0}}class y{constructor(F){this.entries=F}}const L=(0,g.registerIcon)("diff-review-insert",h.Codicon.add,v.localize(0,null)),N=(0,g.registerIcon)("diff-review-remove",h.Codicon.remove,v.localize(1,null)),M=(0,g.registerIcon)("diff-review-close",h.Codicon.close,v.localize(2,null));class D extends C.Disposable{constructor(F){super();this._width=0,this._diffEditor=F,this._isVisible=!1,this.shadow=(0,k.createFastDomNode)(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=(0,k.createFastDomNode)(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new w.ActionBar(this.actionBarContainer.domNode)),this._actionBar.push(new _.Action("diffreview.close",v.localize(3,null),"close-diff-review "+o.ThemeIcon.asClassName(M),!0,()=>Ie(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=(0,k.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=(0,k.createFastDomNode)(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new S.DomScrollableElement(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(F.onDidUpdateDiff(()=>{!this._isVisible||(this._diffs=this._compute(),this._render())})),this._register(F.getModifiedEditor().onDidChangeCursorPosition(()=>{!this._isVisible||this._render()})),this._register(I.addStandardDisposableListener(this.domNode.domNode,"click",E=>{E.preventDefault();let A=I.findParentWithClass(E.target,"diff-review-row");A&&this._goToRow(A)})),this._register(I.addStandardDisposableListener(this.domNode.domNode,"keydown",E=>{(E.equals(18)||E.equals(2048|18)||E.equals(512|18))&&(E.preventDefault(),this._goToRow(this._getNextRow())),(E.equals(16)||E.equals(2048|16)||E.equals(512|16))&&(E.preventDefault(),this._goToRow(this._getPrevRow())),(E.equals(9)||E.equals(2048|9)||E.equals(512|9)||E.equals(1024|9))&&(E.preventDefault(),this.hide()),(E.equals(10)||E.equals(3))&&(E.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let F=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let A=-1;for(let B=0,H=this._diffs.length;B<H;B++)if(this._diffs[B]===this._currentDiff){A=B;break}F=this._diffs.length+A-1}else F=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length!==0){F=F%this._diffs.length;const E=this._diffs[F].entries;this._diffEditor.setPosition(new c.Position(E[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:E[0].modifiedLineStart,endColumn:1073741824,endLineNumber:E[E.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}}next(){let F=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let A=-1;for(let B=0,H=this._diffs.length;B<H;B++)if(this._diffs[B]===this._currentDiff){A=B;break}F=A+1}else F=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length!==0){F=F%this._diffs.length;const E=this._diffs[F].entries;this._diffEditor.setPosition(new c.Position(E[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:E[0].modifiedLineStart,endColumn:1073741824,endLineNumber:E[E.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}}accept(){let F=-1,E=this._getCurrentFocusedRow();if(E){let A=parseInt(E.getAttribute("data-line"),10);isNaN(A)||(F=A)}this.hide(),F!==-1&&(this._diffEditor.setPosition(new c.Position(F,1)),this._diffEditor.revealPosition(new c.Position(F,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){let F=this._getCurrentFocusedRow();return F?F.previousElementSibling?F.previousElementSibling:F:this._getFirstRow()}_getNextRow(){let F=this._getCurrentFocusedRow();return F?F.nextElementSibling?F.nextElementSibling:F:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){let F=document.activeElement;return F&&/diff-review-row/.test(F.className)?F:null}_goToRow(F){let E=this._getCurrentFocusedRow();F.tabIndex=0,F.focus(),E&&E!==F&&(E.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(F,E,A){this._width=E,this.shadow.setTop(F-6),this.shadow.setWidth(E),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(F),this.domNode.setWidth(E),this.domNode.setHeight(A),this._content.setHeight(A),this._content.setWidth(E),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const F=this._diffEditor.getLineChanges();if(!F||F.length===0)return[];const E=this._diffEditor.getOriginalEditor().getModel(),A=this._diffEditor.getModifiedEditor().getModel();return!E||!A?[]:D._mergeAdjacent(F,E.getLineCount(),A.getLineCount())}static _mergeAdjacent(F,E,A){if(!F||F.length===0)return[];let B=[],H=0;for(let te=0,ie=F.length;te<ie;te++){const ae=F[te],le=ae.originalStartLineNumber,Z=ae.originalEndLineNumber,T=ae.modifiedStartLineNumber,x=ae.modifiedEndLineNumber;let z=[],V=0;{const U=Z===0?le:le-1,Q=x===0?T:T-1;let se=1,oe=1;if(te>0){const ne=F[te-1];ne.originalEndLineNumber===0?se=ne.originalStartLineNumber+1:se=ne.originalEndLineNumber+1,ne.modifiedEndLineNumber===0?oe=ne.modifiedStartLineNumber+1:oe=ne.modifiedEndLineNumber+1}let G=U-f+1,j=Q-f+1;if(G<se){const ne=se-G;G=G+ne,j=j+ne}if(j<oe){const ne=oe-j;G=G+ne,j=j+ne}z[V++]=new b(G,U,j,Q)}Z!==0&&(z[V++]=new b(le,Z,0,0)),x!==0&&(z[V++]=new b(0,0,T,x));{const U=Z===0?le+1:Z+1,Q=x===0?T+1:x+1;let se=E,oe=A;if(te+1<ie){const ne=F[te+1];ne.originalEndLineNumber===0?se=ne.originalStartLineNumber:se=ne.originalStartLineNumber-1,ne.modifiedEndLineNumber===0?oe=ne.modifiedStartLineNumber:oe=ne.modifiedStartLineNumber-1}let G=U+f-1,j=Q+f-1;if(G>se){const ne=se-G;G=G+ne,j=j+ne}if(j>oe){const ne=oe-j;G=G+ne,j=j+ne}z[V++]=new b(U,G,Q,j)}B[H++]=new y(z)}let K=B[0].entries,q=[],Y=0;for(let te=1,ie=B.length;te<ie;te++){const ae=B[te].entries,le=K[K.length-1],Z=ae[0];if(le.getType()===0&&Z.getType()===0&&Z.originalLineStart<=le.originalLineEnd){K[K.length-1]=new b(le.originalLineStart,Z.originalLineEnd,le.modifiedLineStart,Z.modifiedLineEnd),K=K.concat(ae.slice(1));continue}q[Y++]=new y(K),K=ae}return q[Y++]=new y(K),q}_findDiffIndex(F){const E=F.lineNumber;for(let A=0,B=this._diffs.length;A<B;A++){const H=this._diffs[A].entries,K=H[H.length-1].modifiedLineEnd;if(E<=K)return A}return 0}_render(){const F=this._diffEditor.getOriginalEditor().getOptions(),E=this._diffEditor.getModifiedEditor().getOptions(),A=this._diffEditor.getOriginalEditor().getModel(),B=this._diffEditor.getModifiedEditor().getModel(),H=A.getOptions(),K=B.getOptions();if(!this._isVisible||!A||!B){I.clearNode(this._content.domNode),this._currentDiff=null,this.scrollbar.scanDomNode();return}this._diffEditor.updateOptions({readOnly:!0});const q=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[q]!==this._currentDiff){this._currentDiff=this._diffs[q];const Y=this._diffs[q].entries;let te=document.createElement("div");te.className="diff-review-table",te.setAttribute("role","list"),te.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),i.Configuration.applyFontInfoSlow(te,E.get(40));let ie=0,ae=0,le=0,Z=0;for(let j=0,ne=Y.length;j<ne;j++){const X=Y[j],de=X.originalLineStart,he=X.originalLineEnd,re=X.modifiedLineStart,ue=X.modifiedLineEnd;de!==0&&(ie===0||de<ie)&&(ie=de),he!==0&&(ae===0||he>ae)&&(ae=he),re!==0&&(le===0||re<le)&&(le=re),ue!==0&&(Z===0||ue>Z)&&(Z=ue)}let T=document.createElement("div");T.className="diff-review-row";let x=document.createElement("div");x.className="diff-review-cell diff-review-summary";const z=ae-ie+1,V=Z-le+1;x.appendChild(document.createTextNode(`${q+1}/${this._diffs.length}: @@ -${ie},${z} +${le},${V} @@`)),T.setAttribute("data-line",String(le));const U=j=>j===0?v.localize(4,null):j===1?v.localize(5,null):v.localize(6,null,j),Q=U(z),se=U(V);T.setAttribute("aria-label",v.localize(7,null,q+1,this._diffs.length,ie,Q,le,se)),T.appendChild(x),T.setAttribute("role","listitem"),te.appendChild(T);const oe=E.get(55);let G=le;for(let j=0,ne=Y.length;j<ne;j++){const X=Y[j];D._renderSection(te,X,G,oe,this._width,F,A,H,E,B,K),X.modifiedLineStart!==0&&(G=X.modifiedLineEnd)}I.clearNode(this._content.domNode),this._content.domNode.appendChild(te),this.scrollbar.scanDomNode()}}static _renderSection(F,E,A,B,H,K,q,Y,te,ie,ae){const le=E.getType();let Z="diff-review-row",T="";const x="diff-review-spacer";let z=null;switch(le){case 1:Z="diff-review-row line-insert",T=" char-insert",z=L;break;case 2:Z="diff-review-row line-delete",T=" char-delete",z=N;break}const V=E.originalLineStart,U=E.originalLineEnd,Q=E.modifiedLineStart,se=E.modifiedLineEnd,oe=Math.max(se-Q,U-V),G=K.get(127),j=G.glyphMarginWidth+G.lineNumbersWidth,ne=te.get(127),X=10+ne.glyphMarginWidth+ne.lineNumbersWidth;for(let de=0;de<=oe;de++){const he=V===0?0:V+de,re=Q===0?0:Q+de,ue=document.createElement("div");ue.style.minWidth=H+"px",ue.className=Z,ue.setAttribute("role","listitem"),re!==0&&(A=re),ue.setAttribute("data-line",String(A));let me=document.createElement("div");me.className="diff-review-cell",me.style.height=`${B}px`,ue.appendChild(me);const be=document.createElement("span");be.style.width=j+"px",be.style.minWidth=j+"px",be.className="diff-review-line-number"+T,he!==0?be.appendChild(document.createTextNode(String(he))):be.innerText="\xA0",me.appendChild(be);const we=document.createElement("span");we.style.width=X+"px",we.style.minWidth=X+"px",we.style.paddingRight="10px",we.className="diff-review-line-number"+T,re!==0?we.appendChild(document.createTextNode(String(re))):we.innerText="\xA0",me.appendChild(we);const Ee=document.createElement("span");if(Ee.className=x,z){const Le=document.createElement("span");Le.className=o.ThemeIcon.asClassName(z),Le.innerText="\xA0\xA0",Ee.appendChild(Le)}else Ee.innerText="\xA0\xA0";me.appendChild(Ee);let De;if(re!==0){let Le=this._renderLine(ie,te,ae.tabSize,re);D._ttPolicy&&(Le=D._ttPolicy.createHTML(Le)),me.insertAdjacentHTML("beforeend",Le),De=ie.getLineContent(re)}else{let Le=this._renderLine(q,K,Y.tabSize,he);D._ttPolicy&&(Le=D._ttPolicy.createHTML(Le)),me.insertAdjacentHTML("beforeend",Le),De=q.getLineContent(he)}De.length===0&&(De=v.localize(8,null));let Oe="";switch(le){case 0:he===re?Oe=v.localize(9,null,De,he):Oe=v.localize(10,null,De,he,re);break;case 1:Oe=v.localize(11,null,De,re);break;case 2:Oe=v.localize(12,null,De,he);break}ue.setAttribute("aria-label",Oe),F.appendChild(ue)}}static _renderLine(F,E,A,B){const H=F.getLineContent(B),K=E.get(40),q=(0<<11|1<<14|2<<23)>>>0,Y=new Uint32Array(2);Y[0]=H.length,Y[1]=q;const te=new l.LineTokens(Y,H),ie=n.ViewLineRenderingData.isBasicASCII(H,F.mightContainNonBasicASCII()),ae=n.ViewLineRenderingData.containsRTL(H,ie,F.mightContainRTL());return(0,r.renderViewLine2)(new r.RenderLineInput(K.isMonospace&&!E.get(27),K.canUseHalfwidthRightwardsArrow,H,!1,ie,ae,0,te,[],A,0,K.spaceWidth,K.middotWidth,K.wsmiddotWidth,E.get(102),E.get(85),E.get(79),E.get(41)!==a.EditorFontLigatures.OFF,null)).html}}e.DiffReview=D,D._ttPolicy=(m=window.trustedTypes)===null||m===void 0?void 0:m.createPolicy("diffReview",{createHTML:W=>W}),(0,o.registerThemingParticipant)((W,F)=>{const E=W.getColor(d.editorLineNumbers);E&&F.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${E}; }`);const A=W.getColor(t.scrollbarShadow);A&&F.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${A} 0 -6px 6px -6px inset; }`)});class R extends p.EditorAction{constructor(){super({id:"editor.action.diffReview.next",label:v.localize(13,null),alias:"Go to Next Difference",precondition:s.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(F,E){const A=O(F);A&&A.diffReviewNext()}}class P extends p.EditorAction{constructor(){super({id:"editor.action.diffReview.prev",label:v.localize(14,null),alias:"Go to Previous Difference",precondition:s.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1024|65,weight:100}})}run(F,E){const A=O(F);A&&A.diffReviewPrev()}}function O(W){const F=W.get(u.ICodeEditorService),E=F.listDiffEditors(),A=F.getActiveCodeEditor();if(!A)return null;for(let B=0,H=E.length;B<H;B++){const K=E[B];if(K.getModifiedEditor().getId()===A.getId()||K.getOriginalEditor().getId()===A.getId())return K}return null}(0,p.registerEditorAction)(R),(0,p.registerEditorAction)(P)}),define(J[267],ee([0,1,450,7,30,104,15,6,2,70,71,28,143,658,38,3,93,107,31,76,222,171,130,63,16,9,138,32,22,12,68,453,84,13,11,59,213,27,125,80,333]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n,s,t,o,h,g,m,f,b,y,L,N,M,D,R,P,O,W,F,E,A,B,H){"use strict";var K;Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorWidget=void 0;class q{constructor(re,ue){this._contextMenuService=re,this._clipboardService=ue,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(re){return re.filter(ue=>!this._zonesMap[String(ue.id)])}clean(re){this._zones.length>0&&re.changeViewZones(ue=>{for(const me of this._zones)ue.removeZone(me)}),this._zones=[],this._zonesMap={},this._decorations=re.deltaDecorations(this._decorations,[])}apply(re,ue,me,be){const we=be?p.StableEditorScrollState.capture(re):null;re.changeViewZones(Ee=>{for(const De of this._zones)Ee.removeZone(De);for(const De of this._inlineDiffMargins)De.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let De=0,Oe=me.zones.length;De<Oe;De++){const Le=me.zones[De];Le.suppressMouseDown=!0;const Te=Ee.addZone(Le);this._zones.push(Te),this._zonesMap[String(Te)]=!0,me.zones[De].diff&&Le.marginDomNode&&(Le.suppressMouseDown=!1,this._inlineDiffMargins.push(new R.InlineDiffMargin(Te,Le.marginDomNode,re,me.zones[De].diff,this._contextMenuService,this._clipboardService)))}}),we&&we.restore(re),this._decorations=re.deltaDecorations(this._decorations,me.decorations),ue&&ue.setZones(me.overviewZones)}}let Y=0;const te=(0,H.registerIcon)("diff-insert",A.Codicon.add,v.localize(0,null)),ie=(0,H.registerIcon)("diff-remove",A.Codicon.remove,v.localize(1,null)),ae=(K=window.trustedTypes)===null||K===void 0?void 0:K.createPolicy("diffEditorWidget",{createHTML:he=>he});let le=class Ge extends C.Disposable{constructor(re,ue,me,be,we,Ee,De,Oe,Le,Te,ve,Se){super();this._editorProgressService=Se,this._onDidDispose=this._register(new _.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new _.Emitter),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new _.Emitter),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=we,this._codeEditorService=Oe,this._contextKeyService=this._register(Ee.createScoped(re)),this._instantiationService=De.createChild(new y.ServiceCollection([f.IContextKeyService,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=Le,this._notificationService=Te,this._id=++Y,this._state=0,this._updatingDiffProgress=null,this._domElement=re,ue=ue||{},this._renderSideBySide=!0,typeof ue.renderSideBySide!="undefined"&&(this._renderSideBySide=ue.renderSideBySide),this._maxComputationTime=5e3,typeof ue.maxComputationTime!="undefined"&&(this._maxComputationTime=ue.maxComputationTime),this._ignoreTrimWhitespace=!0,typeof ue.ignoreTrimWhitespace!="undefined"&&(this._ignoreTrimWhitespace=ue.ignoreTrimWhitespace),this._renderIndicators=!0,typeof ue.renderIndicators!="undefined"&&(this._renderIndicators=ue.renderIndicators),this._originalIsEditable=(0,c.boolean)(ue.originalEditable,!1),this._diffCodeLens=(0,c.boolean)(ue.diffCodeLens,!1),this._diffWordWrap=G(ue.diffWordWrap,"inherit"),typeof ue.isInEmbeddedEditor!="undefined"?this._contextKeyService.createKey("isInEmbeddedDiffEditor",ue.isInEmbeddedEditor):this._contextKeyService.createKey("isInEmbeddedDiffEditor",!1),this._renderOverviewRuler=!0,typeof ue.renderOverviewRuler!="undefined"&&(this._renderOverviewRuler=Boolean(ue.renderOverviewRuler)),this._updateDecorationsRunner=this._register(new S.RunOnceScheduler(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=Ge._getClassName(this._themeService.getColorTheme(),this._renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=(0,k.createFastDomNode)(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(I.addStandardDisposableListener(this._overviewDomElement,"mousedown",fe=>{this._modifiedEditor.delegateVerticalScrollbarMouseDown(fe)})),this._renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new q(ve,be),this._modifiedEditorState=new q(ve,be),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new E.ElementSizeObserver(this._containerDomElement,ue.dimension,()=>this._onDidContainerSizeChanged())),ue.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(ue,me.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(ue,me.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=new l.DiffReview(this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._enableSplitViewResizing=!0,typeof ue.enableSplitViewResizing!="undefined"&&(this._enableSplitViewResizing=ue.enableSplitViewResizing),this._renderSideBySide?this._setStrategy(new U(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new se(this._createDataSource(),this._enableSplitViewResizing)),this._register(Le.onDidColorThemeChange(fe=>{this._strategy&&this._strategy.applyColors(fe)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=Ge._getClassName(this._themeService.getColorTheme(),this._renderSideBySide)}));const ye=O.EditorExtensionsRegistry.getDiffEditorContributions();for(const fe of ye)try{this._register(De.createInstance(fe.ctor,this))}catch(Ce){(0,W.onUnexpectedError)(Ce)}this._codeEditorService.addDiffEditor(this)}_setState(re){this._state!==re&&(this._state=re,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),this._state===1&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(re,ue){let me="monaco-diff-editor monaco-editor-background ";return ue&&(me+="side-by-side "),me+=(0,M.getThemeTypeSelector)(re.type),me}_recreateOverviewRulers(){!this._renderOverviewRuler||(this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(re,ue){const me=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(re),ue);this._register(me.onDidScrollChange(we=>{this._isHandlingScrollEvent||!we.scrollTopChanged&&!we.scrollLeftChanged&&!we.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:we.scrollLeft,scrollTop:we.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(me.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(me.onDidChangeConfiguration(we=>{!me.getModel()||(we.hasChanged(40)&&this._updateDecorationsRunner.schedule(),we.hasChanged(128)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(me.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const be=this._contextKeyService.createKey("isInDiffLeftEditor",me.hasWidgetFocus());return this._register(me.onDidFocusEditorWidget(()=>be.set(!0))),this._register(me.onDidBlurEditorWidget(()=>be.set(!1))),this._register(me.onDidContentSizeChange(we=>{const Ee=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+Ge.ONE_OVERVIEW_WIDTH,De=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:De,contentWidth:Ee,contentHeightChanged:we.contentHeightChanged,contentWidthChanged:we.contentWidthChanged})})),me}_createRightHandSideEditor(re,ue){const me=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(re),ue);this._register(me.onDidScrollChange(we=>{this._isHandlingScrollEvent||!we.scrollTopChanged&&!we.scrollLeftChanged&&!we.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:we.scrollLeft,scrollTop:we.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(me.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(me.onDidChangeConfiguration(we=>{!me.getModel()||(we.hasChanged(40)&&this._updateDecorationsRunner.schedule(),we.hasChanged(128)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(me.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(me.onDidChangeModelOptions(we=>{we.tabSize&&this._updateDecorationsRunner.schedule()}));const be=this._contextKeyService.createKey("isInDiffRightEditor",me.hasWidgetFocus());return this._register(me.onDidFocusEditorWidget(()=>be.set(!0))),this._register(me.onDidBlurEditorWidget(()=>be.set(!1))),this._register(me.onDidContentSizeChange(we=>{const Ee=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+Ge.ONE_OVERVIEW_WIDTH,De=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:De,contentWidth:Ee,contentHeightChanged:we.contentHeightChanged,contentWidthChanged:we.contentWidthChanged})})),me}_createInnerEditor(re,ue,me,be){return re.createInstance(a.CodeEditorWidget,ue,me,be)}dispose(){this._codeEditorService.removeDiffEditor(this),this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return n.EditorType.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(re){let ue=!1;typeof re.renderSideBySide!="undefined"&&this._renderSideBySide!==re.renderSideBySide&&(this._renderSideBySide=re.renderSideBySide,ue=!0),typeof re.maxComputationTime!="undefined"&&(this._maxComputationTime=re.maxComputationTime,this._isVisible&&this._beginUpdateDecorationsSoon());let me=!1;typeof re.ignoreTrimWhitespace!="undefined"&&this._ignoreTrimWhitespace!==re.ignoreTrimWhitespace&&(this._ignoreTrimWhitespace=re.ignoreTrimWhitespace,me=!0),typeof re.renderIndicators!="undefined"&&this._renderIndicators!==re.renderIndicators&&(this._renderIndicators=re.renderIndicators,me=!0),me&&this._beginUpdateDecorations(),this._originalIsEditable=(0,c.boolean)(re.originalEditable,this._originalIsEditable),this._diffCodeLens=(0,c.boolean)(re.diffCodeLens,this._diffCodeLens),this._diffWordWrap=G(re.diffWordWrap,this._diffWordWrap),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(re)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(re)),typeof re.enableSplitViewResizing!="undefined"&&(this._enableSplitViewResizing=re.enableSplitViewResizing),this._strategy.setEnableSplitViewResizing(this._enableSplitViewResizing),ue&&(this._renderSideBySide?this._setStrategy(new U(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new se(this._createDataSource(),this._enableSplitViewResizing)),this._containerDomElement.className=Ge._getClassName(this._themeService.getColorTheme(),this._renderSideBySide)),typeof re.renderOverviewRuler!="undefined"&&this._renderOverviewRuler!==re.renderOverviewRuler&&(this._renderOverviewRuler=re.renderOverviewRuler,this._renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(re){if(re&&(!re.original||!re.modified))throw new Error(re.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._originalEditor.setModel(re?re.original:null),this._modifiedEditor.setModel(re?re.modified:null),this._updateDecorationsRunner.cancel(),re&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),re&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getDomNode(){return this._domElement}getVisibleColumnFromPosition(re){return this._modifiedEditor.getVisibleColumnFromPosition(re)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(re){this._modifiedEditor.setPosition(re)}revealLine(re,ue=0){this._modifiedEditor.revealLine(re,ue)}revealLineInCenter(re,ue=0){this._modifiedEditor.revealLineInCenter(re,ue)}revealLineInCenterIfOutsideViewport(re,ue=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(re,ue)}revealLineNearTop(re,ue=0){this._modifiedEditor.revealLineNearTop(re,ue)}revealPosition(re,ue=0){this._modifiedEditor.revealPosition(re,ue)}revealPositionInCenter(re,ue=0){this._modifiedEditor.revealPositionInCenter(re,ue)}revealPositionInCenterIfOutsideViewport(re,ue=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(re,ue)}revealPositionNearTop(re,ue=0){this._modifiedEditor.revealPositionNearTop(re,ue)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(re){this._modifiedEditor.setSelection(re)}setSelections(re){this._modifiedEditor.setSelections(re)}revealLines(re,ue,me=0){this._modifiedEditor.revealLines(re,ue,me)}revealLinesInCenter(re,ue,me=0){this._modifiedEditor.revealLinesInCenter(re,ue,me)}revealLinesInCenterIfOutsideViewport(re,ue,me=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(re,ue,me)}revealLinesNearTop(re,ue,me=0){this._modifiedEditor.revealLinesNearTop(re,ue,me)}revealRange(re,ue=0,me=!1,be=!0){this._modifiedEditor.revealRange(re,ue,me,be)}revealRangeInCenter(re,ue=0){this._modifiedEditor.revealRangeInCenter(re,ue)}revealRangeInCenterIfOutsideViewport(re,ue=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(re,ue)}revealRangeNearTop(re,ue=0){this._modifiedEditor.revealRangeNearTop(re,ue)}revealRangeNearTopIfOutsideViewport(re,ue=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(re,ue)}revealRangeAtTop(re,ue=0){this._modifiedEditor.revealRangeAtTop(re,ue)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){const re=this._originalEditor.saveViewState(),ue=this._modifiedEditor.saveViewState();return{original:re,modified:ue}}restoreViewState(re){if(re&&re.original&&re.modified){const ue=re;this._originalEditor.restoreViewState(ue.original),this._modifiedEditor.restoreViewState(ue.modified)}}layout(re){this._elementSizeObserver.observe(re)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(re,ue,me){this._modifiedEditor.trigger(re,ue,me)}changeDecorations(re){return this._modifiedEditor.changeDecorations(re)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!!this._renderOverviewRuler&&!(!this._originalOverviewRuler||!this._modifiedOverviewRuler)){const re=this._elementSizeObserver.getHeight(),ue=this._getReviewHeight(),me=Ge.ENTIRE_DIFF_OVERVIEW_WIDTH-2*Ge.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:Ge.ONE_OVERVIEW_WIDTH,right:me+Ge.ONE_OVERVIEW_WIDTH,height:re-ue}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:Ge.ONE_OVERVIEW_WIDTH,height:re-ue}))}}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),Ge.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(re,ue){return!re&&!ue?!0:!re||!ue?!1:re.toString()===ue.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const re=this._originalEditor.getModel(),ue=this._modifiedEditor.getModel();if(!(!re||!ue)){this._diffComputationToken++;const me=this._diffComputationToken;if(this._setState(1),!this._editorWorkerService.canComputeDiff(re.uri,ue.uri)){(!Ge._equals(re.uri,this._lastOriginalWarning)||!Ge._equals(ue.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=re.uri,this._lastModifiedWarning=ue.uri,this._notificationService.warn(v.localize(2,null)));return}this._editorWorkerService.computeDiff(re.uri,ue.uri,this._ignoreTrimWhitespace,this._maxComputationTime).then(be=>{me===this._diffComputationToken&&re===this._originalEditor.getModel()&&ue===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=be,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},be=>{me===this._diffComputationToken&&re===this._originalEditor.getModel()&&ue===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})}}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())){const re=this._diffComputationResult?this._diffComputationResult.changes:[],ue=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),me=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),be=this._strategy.getEditorsDiffDecorations(re,this._ignoreTrimWhitespace,this._renderIndicators,ue,me);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,be.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,be.modified,!0)}finally{this._currentlyChangingViewZones=!1}}}_adjustOptionsForSubEditor(re){const ue=Object.assign({},re);return ue.inDiffEditor=!0,ue.automaticLayout=!1,ue.scrollbar=Object.assign({},ue.scrollbar||{}),ue.scrollbar.vertical="visible",ue.folding=!1,ue.codeLens=this._diffCodeLens,ue.fixedOverflowWidgets=!0,ue.minimap=Object.assign({},ue.minimap||{}),ue.minimap.enabled=!1,ue}_adjustOptionsForLeftHandSide(re){const ue=this._adjustOptionsForSubEditor(re);return this._renderSideBySide?ue.wordWrapOverride1=this._diffWordWrap:ue.wordWrapOverride1="off",re.originalAriaLabel&&(ue.ariaLabel=re.originalAriaLabel),ue.readOnly=!this._originalIsEditable,ue.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},ue),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(re){const ue=this._adjustOptionsForSubEditor(re);return re.modifiedAriaLabel&&(ue.ariaLabel=re.modifiedAriaLabel),ue.wordWrapOverride1=this._diffWordWrap,ue.revealHorizontalRightPadding=c.EditorOptions.revealHorizontalRightPadding.defaultValue+Ge.ENTIRE_DIFF_OVERVIEW_WIDTH,ue.scrollbar.verticalHasArrows=!1,ue.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},ue),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const re=this._elementSizeObserver.getWidth(),ue=this._elementSizeObserver.getHeight(),me=this._getReviewHeight(),be=this._strategy.layout();this._originalDomNode.style.width=be+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=re-be+"px",this._modifiedDomNode.style.left=be+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=ue-me+"px",this._overviewDomElement.style.width=Ge.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=re-Ge.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(Ge.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:be,height:ue-me}),this._modifiedEditor.layout({width:re-be-(this._renderOverviewRuler?Ge.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:ue-me}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(ue-me,re,me),this._layoutOverviewViewport()}_layoutOverviewViewport(){const re=this._computeOverviewViewport();re?(this._overviewViewportDomElement.setTop(re.top),this._overviewViewportDomElement.setHeight(re.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const re=this._modifiedEditor.getLayoutInfo();if(!re)return null;const ue=this._modifiedEditor.getScrollTop(),me=this._modifiedEditor.getScrollHeight(),be=Math.max(0,re.height),we=Math.max(0,be-2*0),Ee=me>0?we/me:0,De=Math.max(0,Math.floor(re.height*Ee)),Oe=Math.floor(ue*Ee);return{height:De,top:Oe}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(re){this._strategy&&this._strategy.dispose(),this._strategy=re,re.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(re,ue){const me=this._diffComputationResult?this._diffComputationResult.changes:[];if(me.length===0||re<ue(me[0]))return null;let be=0,we=me.length-1;for(;be<we;){const Ee=Math.floor((be+we)/2),De=ue(me[Ee]),Oe=Ee+1<=we?ue(me[Ee+1]):1073741824;re<De?we=Ee-1:re>=Oe?be=Ee+1:(be=Ee,we=Ee)}return me[be]}_getEquivalentLineForOriginalLineNumber(re){const ue=this._getLineChangeAtOrBeforeLineNumber(re,Oe=>Oe.originalStartLineNumber);if(!ue)return re;const me=ue.originalStartLineNumber+(ue.originalEndLineNumber>0?-1:0),be=ue.modifiedStartLineNumber+(ue.modifiedEndLineNumber>0?-1:0),we=ue.originalEndLineNumber>0?ue.originalEndLineNumber-ue.originalStartLineNumber+1:0,Ee=ue.modifiedEndLineNumber>0?ue.modifiedEndLineNumber-ue.modifiedStartLineNumber+1:0,De=re-me;return De<=we?be+Math.min(De,Ee):be+Ee-we+De}_getEquivalentLineForModifiedLineNumber(re){const ue=this._getLineChangeAtOrBeforeLineNumber(re,Oe=>Oe.modifiedStartLineNumber);if(!ue)return re;const me=ue.originalStartLineNumber+(ue.originalEndLineNumber>0?-1:0),be=ue.modifiedStartLineNumber+(ue.modifiedEndLineNumber>0?-1:0),we=ue.originalEndLineNumber>0?ue.originalEndLineNumber-ue.originalStartLineNumber+1:0,Ee=ue.modifiedEndLineNumber>0?ue.modifiedEndLineNumber-ue.modifiedStartLineNumber+1:0,De=re-be;return De<=Ee?me+Math.min(De,we):me+we-Ee+De}getDiffLineInformationForOriginal(re){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(re)}:null}getDiffLineInformationForModified(re){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(re)}:null}};le.ONE_OVERVIEW_WIDTH=15,le.ENTIRE_DIFF_OVERVIEW_WIDTH=30,le.UPDATE_DIFF_DECORATIONS_DELAY=200,le=Me([pe(3,P.IClipboardService),pe(4,t.IEditorWorkerService),pe(5,f.IContextKeyService),pe(6,b.IInstantiationService),pe(7,u.ICodeEditorService),pe(8,M.IThemeService),pe(9,L.INotificationService),pe(10,D.IContextMenuService),pe(11,F.IEditorProgressService)],le),e.DiffEditorWidget=le;class Z extends C.Disposable{constructor(re){super();this._dataSource=re,this._insertColor=null,this._removeColor=null}applyColors(re){const ue=(re.getColor(N.diffInserted)||N.defaultInsertColor).transparent(2),me=(re.getColor(N.diffRemoved)||N.defaultRemoveColor).transparent(2),be=!ue.equals(this._insertColor)||!me.equals(this._removeColor);return this._insertColor=ue,this._removeColor=me,be}getEditorsDiffDecorations(re,ue,me,be,we){we=we.sort((Le,Te)=>Le.afterLineNumber-Te.afterLineNumber),be=be.sort((Le,Te)=>Le.afterLineNumber-Te.afterLineNumber);const Ee=this._getViewZones(re,be,we,me),De=this._getOriginalEditorDecorations(re,ue,me),Oe=this._getModifiedEditorDecorations(re,ue,me);return{original:{decorations:De.decorations,overviewZones:De.overviewZones,zones:Ee.original},modified:{decorations:Oe.decorations,overviewZones:Oe.overviewZones,zones:Ee.modified}}}}class T{constructor(re){this._source=re,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class x{constructor(re,ue,me,be,we){this._lineChanges=re,this._originalForeignVZ=ue,this._modifiedForeignVZ=me,this._originalEditor=be,this._modifiedEditor=we}static _getViewLineCount(re,ue,me){const be=re.getModel(),we=re._getViewModel();if(be&&we){const Ee=de(be,we,ue,me);return Ee.endLineNumber-Ee.startLineNumber+1}return me-ue+1}getViewZones(){const re=this._originalEditor.getOption(55),ue=this._modifiedEditor.getOption(55),me=this._originalEditor.getOption(128).wrappingColumn!==-1,be=this._modifiedEditor.getOption(128).wrappingColumn!==-1,we=me||be,Ee=this._originalEditor.getModel(),De=this._originalEditor._getViewModel().coordinatesConverter,Oe=this._modifiedEditor._getViewModel().coordinatesConverter,Le={original:[],modified:[]};let Te=0,ve=0,Se=0,ye=0,fe=0,Ce=0;const ce=(Ae,Fe)=>Ae.afterLineNumber-Fe.afterLineNumber,ge=(Ae,Fe)=>{if(Fe.domNode===null&&Ae.length>0){const Pe=Ae[Ae.length-1];if(Pe.afterLineNumber===Fe.afterLineNumber&&Pe.domNode===null){Pe.heightInLines+=Fe.heightInLines;return}}Ae.push(Fe)},_e=new T(this._modifiedForeignVZ),ke=new T(this._originalForeignVZ);let Ne=1,Re=1;for(let Ae=0,Fe=this._lineChanges.length;Ae<=Fe;Ae++){const Pe=Ae<Fe?this._lineChanges[Ae]:null;Pe!==null?(Se=Pe.originalStartLineNumber+(Pe.originalEndLineNumber>0?-1:0),ye=Pe.modifiedStartLineNumber+(Pe.modifiedEndLineNumber>0?-1:0),ve=Pe.originalEndLineNumber>0?x._getViewLineCount(this._originalEditor,Pe.originalStartLineNumber,Pe.originalEndLineNumber):0,Te=Pe.modifiedEndLineNumber>0?x._getViewLineCount(this._modifiedEditor,Pe.modifiedStartLineNumber,Pe.modifiedEndLineNumber):0,fe=Math.max(Pe.originalStartLineNumber,Pe.originalEndLineNumber),Ce=Math.max(Pe.modifiedStartLineNumber,Pe.modifiedEndLineNumber)):(Se+=1e7+ve,ye+=1e7+Te,fe=Se,Ce=ye);let xe=[],We=[];if(we){let Be;Pe?Pe.originalEndLineNumber>0?Be=Pe.originalStartLineNumber-Ne:Be=Pe.modifiedStartLineNumber-Re:Be=Ee.getLineCount()-Ne;for(let He=0;He<Be;He++){const Ve=Ne+He,Ue=Re+He,Ye=De.getModelLineViewLineCount(Ve),je=Oe.getModelLineViewLineCount(Ue);Ye<je?xe.push({afterLineNumber:Ve,heightInLines:je-Ye,domNode:null,marginDomNode:null}):Ye>je&&We.push({afterLineNumber:Ue,heightInLines:Ye-je,domNode:null,marginDomNode:null})}Pe&&(Ne=(Pe.originalEndLineNumber>0?Pe.originalEndLineNumber:Pe.originalStartLineNumber)+1,Re=(Pe.modifiedEndLineNumber>0?Pe.modifiedEndLineNumber:Pe.modifiedStartLineNumber)+1)}for(;_e.current&&_e.current.afterLineNumber<=Ce;){let Be;_e.current.afterLineNumber<=ye?Be=Se-ye+_e.current.afterLineNumber:Be=fe;let He=null;Pe&&Pe.modifiedStartLineNumber<=_e.current.afterLineNumber&&_e.current.afterLineNumber<=Pe.modifiedEndLineNumber&&(He=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),xe.push({afterLineNumber:Be,heightInLines:_e.current.height/ue,domNode:null,marginDomNode:He}),_e.advance()}for(;ke.current&&ke.current.afterLineNumber<=fe;){let Be;ke.current.afterLineNumber<=Se?Be=ye-Se+ke.current.afterLineNumber:Be=Ce,We.push({afterLineNumber:Be,heightInLines:ke.current.height/re,domNode:null}),ke.advance()}if(Pe!==null&&j(Pe)){const Be=this._produceOriginalFromDiff(Pe,ve,Te);Be&&xe.push(Be)}if(Pe!==null&&ne(Pe)){const Be=this._produceModifiedFromDiff(Pe,ve,Te);Be&&We.push(Be)}let ze=0,Ke=0;for(xe=xe.sort(ce),We=We.sort(ce);ze<xe.length&&Ke<We.length;){const Be=xe[ze],He=We[Ke],Ve=Be.afterLineNumber-Se,Ue=He.afterLineNumber-ye;Ve<Ue?(ge(Le.original,Be),ze++):Ue<Ve?(ge(Le.modified,He),Ke++):Be.shouldNotShrink?(ge(Le.original,Be),ze++):He.shouldNotShrink?(ge(Le.modified,He),Ke++):Be.heightInLines>=He.heightInLines?(Be.heightInLines-=He.heightInLines,Ke++):(He.heightInLines-=Be.heightInLines,ze++)}for(;ze<xe.length;)ge(Le.original,xe[ze]),ze++;for(;Ke<We.length;)ge(Le.modified,We[Ke]),Ke++}return{original:x._ensureDomNodes(Le.original),modified:x._ensureDomNodes(Le.modified)}}static _ensureDomNodes(re){return re.map(ue=>(ue.domNode||(ue.domNode=X()),ue))}}function z(he,re,ue,me,be){return{range:new d.Range(he,re,ue,me),options:be}}const V={charDelete:s.ModelDecorationOptions.register({className:"char-delete"}),charDeleteWholeLine:s.ModelDecorationOptions.register({className:"char-delete",isWholeLine:!0}),charInsert:s.ModelDecorationOptions.register({className:"char-insert"}),charInsertWholeLine:s.ModelDecorationOptions.register({className:"char-insert",isWholeLine:!0}),lineInsert:s.ModelDecorationOptions.register({className:"line-insert",marginClassName:"line-insert",isWholeLine:!0}),lineInsertWithSign:s.ModelDecorationOptions.register({className:"line-insert",linesDecorationsClassName:"insert-sign "+M.ThemeIcon.asClassName(te),marginClassName:"line-insert",isWholeLine:!0}),lineDelete:s.ModelDecorationOptions.register({className:"line-delete",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteWithSign:s.ModelDecorationOptions.register({className:"line-delete",linesDecorationsClassName:"delete-sign "+M.ThemeIcon.asClassName(ie),marginClassName:"line-delete",isWholeLine:!0}),lineDeleteMargin:s.ModelDecorationOptions.register({marginClassName:"line-delete"})};class U extends Z{constructor(re,ue){super(re);this._disableSash=ue===!1,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new w.Sash(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(me=>this._onSashDrag(me)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(re){const ue=re===!1;this._disableSash!==ue&&(this._disableSash=ue,this._sash.state=this._disableSash?0:3)}layout(re=this._sashRatio){const me=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?le.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let be=Math.floor((re||.5)*me);const we=Math.floor(.5*me);return be=this._disableSash?we:be||we,me>U.MINIMUM_EDITOR_WIDTH*2?(be<U.MINIMUM_EDITOR_WIDTH&&(be=U.MINIMUM_EDITOR_WIDTH),be>me-U.MINIMUM_EDITOR_WIDTH&&(be=me-U.MINIMUM_EDITOR_WIDTH)):be=we,this._sashPosition!==be&&(this._sashPosition=be,this._sash.layout()),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(re){const me=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?le.ENTIRE_DIFF_OVERVIEW_WIDTH:0),be=this.layout((this._startSashPosition+(re.currentX-re.startX))/me);this._sashRatio=be/me,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(re){return 0}getVerticalSashLeft(re){return this._sashPosition}getVerticalSashHeight(re){return this._dataSource.getHeight()}_getViewZones(re,ue,me){const be=this._dataSource.getOriginalEditor(),we=this._dataSource.getModifiedEditor();return new Q(re,ue,me,be,we).getViewZones()}_getOriginalEditorDecorations(re,ue,me){const be=this._dataSource.getOriginalEditor(),we=String(this._removeColor),Ee={decorations:[],overviewZones:[]},De=be.getModel(),Oe=be._getViewModel();for(const Le of re)if(ne(Le)){Ee.decorations.push({range:new d.Range(Le.originalStartLineNumber,1,Le.originalEndLineNumber,1073741824),options:me?V.lineDeleteWithSign:V.lineDelete}),(!j(Le)||!Le.charChanges)&&Ee.decorations.push(z(Le.originalStartLineNumber,1,Le.originalEndLineNumber,1073741824,V.charDeleteWholeLine));const Te=de(De,Oe,Le.originalStartLineNumber,Le.originalEndLineNumber);if(Ee.overviewZones.push(new o.OverviewRulerZone(Te.startLineNumber,Te.endLineNumber,we)),Le.charChanges){for(const ve of Le.charChanges)if(ne(ve))if(ue)for(let Se=ve.originalStartLineNumber;Se<=ve.originalEndLineNumber;Se++){let ye,fe;Se===ve.originalStartLineNumber?ye=ve.originalStartColumn:ye=De.getLineFirstNonWhitespaceColumn(Se),Se===ve.originalEndLineNumber?fe=ve.originalEndColumn:fe=De.getLineLastNonWhitespaceColumn(Se),Ee.decorations.push(z(Se,ye,Se,fe,V.charDelete))}else Ee.decorations.push(z(ve.originalStartLineNumber,ve.originalStartColumn,ve.originalEndLineNumber,ve.originalEndColumn,V.charDelete))}}return Ee}_getModifiedEditorDecorations(re,ue,me){const be=this._dataSource.getModifiedEditor(),we=String(this._insertColor),Ee={decorations:[],overviewZones:[]},De=be.getModel(),Oe=be._getViewModel();for(const Le of re)if(j(Le)){Ee.decorations.push({range:new d.Range(Le.modifiedStartLineNumber,1,Le.modifiedEndLineNumber,1073741824),options:me?V.lineInsertWithSign:V.lineInsert}),(!ne(Le)||!Le.charChanges)&&Ee.decorations.push(z(Le.modifiedStartLineNumber,1,Le.modifiedEndLineNumber,1073741824,V.charInsertWholeLine));const Te=de(De,Oe,Le.modifiedStartLineNumber,Le.modifiedEndLineNumber);if(Ee.overviewZones.push(new o.OverviewRulerZone(Te.startLineNumber,Te.endLineNumber,we)),Le.charChanges){for(const ve of Le.charChanges)if(j(ve))if(ue)for(let Se=ve.modifiedStartLineNumber;Se<=ve.modifiedEndLineNumber;Se++){let ye,fe;Se===ve.modifiedStartLineNumber?ye=ve.modifiedStartColumn:ye=De.getLineFirstNonWhitespaceColumn(Se),Se===ve.modifiedEndLineNumber?fe=ve.modifiedEndColumn:fe=De.getLineLastNonWhitespaceColumn(Se),Ee.decorations.push(z(Se,ye,Se,fe,V.charInsert))}else Ee.decorations.push(z(ve.modifiedStartLineNumber,ve.modifiedStartColumn,ve.modifiedEndLineNumber,ve.modifiedEndColumn,V.charInsert))}}return Ee}}U.MINIMUM_EDITOR_WIDTH=100;class Q extends x{constructor(re,ue,me,be,we){super(re,ue,me,be,we)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(re,ue,me){return me>ue?{afterLineNumber:Math.max(re.originalStartLineNumber,re.originalEndLineNumber),heightInLines:me-ue,domNode:null}:null}_produceModifiedFromDiff(re,ue,me){return ue>me?{afterLineNumber:Math.max(re.modifiedStartLineNumber,re.modifiedEndLineNumber),heightInLines:ue-me,domNode:null}:null}}class se extends Z{constructor(re,ue){super(re);this._decorationsLeft=re.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(re.getOriginalEditor().onDidLayoutChange(me=>{this._decorationsLeft!==me.decorationsLeft&&(this._decorationsLeft=me.decorationsLeft,re.relayoutEditors())}))}setEnableSplitViewResizing(re){}_getViewZones(re,ue,me,be){const we=this._dataSource.getOriginalEditor(),Ee=this._dataSource.getModifiedEditor();return new oe(re,ue,me,we,Ee,be).getViewZones()}_getOriginalEditorDecorations(re,ue,me){const be=String(this._removeColor),we={decorations:[],overviewZones:[]},Ee=this._dataSource.getOriginalEditor(),De=Ee.getModel(),Oe=Ee._getViewModel();for(const Le of re)if(ne(Le)){we.decorations.push({range:new d.Range(Le.originalStartLineNumber,1,Le.originalEndLineNumber,1073741824),options:V.lineDeleteMargin});const Te=de(De,Oe,Le.originalStartLineNumber,Le.originalEndLineNumber);we.overviewZones.push(new o.OverviewRulerZone(Te.startLineNumber,Te.endLineNumber,be))}return we}_getModifiedEditorDecorations(re,ue,me){const be=this._dataSource.getModifiedEditor(),we=String(this._insertColor),Ee={decorations:[],overviewZones:[]},De=be.getModel(),Oe=be._getViewModel();for(const Le of re)if(j(Le)){Ee.decorations.push({range:new d.Range(Le.modifiedStartLineNumber,1,Le.modifiedEndLineNumber,1073741824),options:me?V.lineInsertWithSign:V.lineInsert});const Te=de(De,Oe,Le.modifiedStartLineNumber,Le.modifiedEndLineNumber);if(Ee.overviewZones.push(new o.OverviewRulerZone(Te.startLineNumber,Te.endLineNumber,we)),Le.charChanges){for(const ve of Le.charChanges)if(j(ve))if(ue)for(let Se=ve.modifiedStartLineNumber;Se<=ve.modifiedEndLineNumber;Se++){let ye,fe;Se===ve.modifiedStartLineNumber?ye=ve.modifiedStartColumn:ye=De.getLineFirstNonWhitespaceColumn(Se),Se===ve.modifiedEndLineNumber?fe=ve.modifiedEndColumn:fe=De.getLineLastNonWhitespaceColumn(Se),Ee.decorations.push(z(Se,ye,Se,fe,V.charInsert))}else Ee.decorations.push(z(ve.modifiedStartLineNumber,ve.modifiedStartColumn,ve.modifiedEndLineNumber,ve.modifiedEndColumn,V.charInsert))}else Ee.decorations.push(z(Le.modifiedStartLineNumber,1,Le.modifiedEndLineNumber,1073741824,V.charInsertWholeLine))}return Ee}layout(){return Math.max(5,this._decorationsLeft)}}class oe extends x{constructor(re,ue,me,be,we,Ee){super(re,ue,me,be,we);this._originalModel=be.getModel(),this._renderIndicators=Ee,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const re=super.getViewZones();return this._finalize(re),re}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const re=document.createElement("div");return re.className="inline-added-margin-view-zone",re}_produceOriginalFromDiff(re,ue,me){const be=document.createElement("div");return be.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(re.originalStartLineNumber,re.originalEndLineNumber),heightInLines:me,domNode:document.createElement("div"),marginDomNode:be}}_produceModifiedFromDiff(re,ue,me){const be=document.createElement("div");be.className=`view-lines line-delete ${B.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`;const we=document.createElement("div");we.className="inline-deleted-margin-view-zone";const Ee={shouldNotShrink:!0,afterLineNumber:re.modifiedEndLineNumber===0?re.modifiedStartLineNumber:re.modifiedStartLineNumber-1,heightInLines:ue,minWidthInPx:0,domNode:be,marginDomNode:we,diff:{originalStartLineNumber:re.originalStartLineNumber,originalEndLineNumber:re.originalEndLineNumber,modifiedStartLineNumber:re.modifiedStartLineNumber,modifiedEndLineNumber:re.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let De=re.originalStartLineNumber;De<=re.originalEndLineNumber;De++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(De),null);return this._pendingLineChange.push(re),this._pendingViewZones.push(Ee),Ee}_finalize(re){const ue=this._modifiedEditor.getOptions(),me=this._modifiedEditor.getModel().getOptions().tabSize,be=ue.get(40),we=ue.get(27),Ee=be.typicalHalfwidthCharacterWidth,De=ue.get(90),Oe=this._originalModel.mightContainNonBasicASCII(),Le=this._originalModel.mightContainRTL(),Te=ue.get(55),Se=ue.get(127).decorationsWidth,ye=ue.get(102),fe=ue.get(85),Ce=ue.get(79),ce=ue.get(41),ge=this._lineBreaksComputer.finalize();let _e=0;for(let ke=0;ke<this._pendingLineChange.length;ke++){const Ne=this._pendingLineChange[ke],Re=this._pendingViewZones[ke],Ae=Re.domNode;i.Configuration.applyFontInfoSlow(Ae,be);const Fe=Re.marginDomNode;i.Configuration.applyFontInfoSlow(Fe,be);const Pe=[];if(Ne.charChanges)for(const Ue of Ne.charChanges)ne(Ue)&&Pe.push(new m.InlineDecoration(new d.Range(Ue.originalStartLineNumber,Ue.originalStartColumn,Ue.originalEndLineNumber,Ue.originalEndColumn),"char-delete",0));const xe=Pe.length>0,We=(0,r.createStringBuilder)(1e4);let ze=0,Ke=0,Be=null;for(let Ue=Ne.originalStartLineNumber;Ue<=Ne.originalEndLineNumber;Ue++){const Ye=Ue-Ne.originalStartLineNumber,je=this._originalModel.getLineTokens(Ue),Xe=je.getLineContent(),$e=ge[_e++],Ze=h.LineDecoration.filter(Pe,Ue,1,Xe.length+1);if($e){let Qe=0;for(const Je of $e.breakOffsets){const nt=je.sliceAndInflate(Qe,Je,0),si=Xe.substring(Qe,Je);ze=Math.max(ze,this._renderOriginalLine(Ke++,si,nt,h.LineDecoration.extractWrapped(Ze,Qe,Je),xe,Oe,Le,be,we,Te,Se,ye,fe,Ce,ce,me,We,Fe)),Qe=Je}for(Be||(Be=[]);Be.length<Ye;)Be[Be.length]=1;Be[Ye]=$e.breakOffsets.length,Re.heightInLines+=$e.breakOffsets.length-1;const it=document.createElement("div");it.className="line-delete",re.original.push({afterLineNumber:Ue,afterColumn:0,heightInLines:$e.breakOffsets.length-1,domNode:X(),marginDomNode:it})}else ze=Math.max(ze,this._renderOriginalLine(Ke++,Xe,je,Ze,xe,Oe,Le,be,we,Te,Se,ye,fe,Ce,ce,me,We,Fe))}ze+=De;const He=We.build(),Ve=ae?ae.createHTML(He):He;if(Ae.innerHTML=Ve,Re.minWidthInPx=ze*Ee,Be){const Ue=Ne.originalEndLineNumber-Ne.originalStartLineNumber;for(;Be.length<=Ue;)Be[Be.length]=1}Re.diff.viewLineCounts=Be}re.original.sort((ke,Ne)=>ke.afterLineNumber-Ne.afterLineNumber)}_renderOriginalLine(re,ue,me,be,we,Ee,De,Oe,Le,Te,ve,Se,ye,fe,Ce,ce,ge,_e){ge.appendASCIIString('<div class="view-line'),we||ge.appendASCIIString(" char-delete"),ge.appendASCIIString('" style="top:'),ge.appendASCIIString(String(re*Te)),ge.appendASCIIString('px;width:1000000px;">');const ke=m.ViewLineRenderingData.isBasicASCII(ue,Ee),Ne=m.ViewLineRenderingData.containsRTL(ue,ke,De),Re=(0,g.renderViewLine)(new g.RenderLineInput(Oe.isMonospace&&!Le,Oe.canUseHalfwidthRightwardsArrow,ue,!1,ke,Ne,0,me,be,ce,0,Oe.spaceWidth,Oe.middotWidth,Oe.wsmiddotWidth,Se,ye,fe,Ce!==c.EditorFontLigatures.OFF,null),ge);if(ge.appendASCIIString("</div>"),this._renderIndicators){const Fe=document.createElement("div");Fe.className=`delete-sign ${M.ThemeIcon.asClassName(ie)}`,Fe.setAttribute("style",`position:absolute;top:${re*Te}px;width:${ve}px;height:${Te}px;right:0;`),_e.appendChild(Fe)}const Ae=Re.characterMapping.getAbsoluteOffsets();return Ae.length>0?Ae[Ae.length-1]:0}}function G(he,re){return(0,c.stringSet)(he,re,["off","on","inherit"])}function j(he){return he.modifiedEndLineNumber>0}function ne(he){return he.originalEndLineNumber>0}function X(){const he=document.createElement("div");return he.className="diagonal-fill",he}function de(he,re,ue,me){const be=he.getLineCount();return ue=Math.min(be,Math.max(1,ue)),me=Math.min(be,Math.max(1,me)),re.coordinatesConverter.convertModelRangeToViewRange(new d.Range(ue,he.getLineMinColumn(ue),me,he.getLineMaxColumn(me)))}(0,M.registerThemingParticipant)((he,re)=>{const ue=he.getColor(N.diffInserted);ue&&(re.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { background-color: ${ue}; }`),re.addRule(`.monaco-diff-editor .line-insert, .monaco-diff-editor .char-insert { background-color: ${ue}; }`),re.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${ue}; }`));const me=he.getColor(N.diffRemoved);me&&(re.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { background-color: ${me}; }`),re.addRule(`.monaco-diff-editor .line-delete, .monaco-diff-editor .char-delete { background-color: ${me}; }`),re.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${me}; }`));const be=he.getColor(N.diffInsertedOutline);be&&re.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${he.type==="hc"?"dashed":"solid"} ${be}; }`);const we=he.getColor(N.diffRemovedOutline);we&&re.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${he.type==="hc"?"dashed":"solid"} ${we}; }`);const Ee=he.getColor(N.scrollbarShadow);Ee&&re.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${Ee}; }`);const De=he.getColor(N.diffBorder);De&&re.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${De}; }`);const Oe=he.getColor(N.scrollbarSliderBackground);Oe&&re.addRule(`
			.monaco-diff-editor .diffViewport {
				background: ${Oe};
			}
		`);const Le=he.getColor(N.scrollbarSliderHoverBackground);Le&&re.addRule(`
			.monaco-diff-editor .diffViewport:hover {
				background: ${Le};
			}
		`);const Te=he.getColor(N.scrollbarSliderActiveBackground);Te&&re.addRule(`
			.monaco-diff-editor .diffViewport:active {
				background: ${Te};
			}
		`);const ve=he.getColor(N.diffDiagonalFill);re.addRule(`
	.monaco-editor .diagonal-fill {
		background-image: linear-gradient(
			-45deg,
			${ve} 12.5%,
			#0000 12.5%, #0000 50%,
			${ve} 50%, ${ve} 62.5%,
			#0000 62.5%, #0000 100%
		);
		background-size: 8px 8px;
	}
	`)})}),define(J[659],ee([0,1,474,7,41,160,104,52,15,11,2,17,8,3,142,22,12,574,27,80,342]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n,s,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleButton=e.FindWidget=e.FindWidgetViewZone=e.NLS_NO_RESULTS=e.NLS_MATCHES_LOCATION=e.findNextMatchIcon=e.findPreviousMatchIcon=e.findReplaceAllIcon=e.findReplaceIcon=void 0;const o=(0,t.registerIcon)("find-selection",s.Codicon.selection,v.localize(0,null)),h=(0,t.registerIcon)("find-collapsed",s.Codicon.chevronRight,v.localize(1,null)),g=(0,t.registerIcon)("find-expanded",s.Codicon.chevronDown,v.localize(2,null));e.findReplaceIcon=(0,t.registerIcon)("find-replace",s.Codicon.replace,v.localize(3,null)),e.findReplaceAllIcon=(0,t.registerIcon)("find-replace-all",s.Codicon.replaceAll,v.localize(4,null)),e.findPreviousMatchIcon=(0,t.registerIcon)("find-previous-match",s.Codicon.arrowUp,v.localize(5,null)),e.findNextMatchIcon=(0,t.registerIcon)("find-next-match",s.Codicon.arrowDown,v.localize(6,null));const m=v.localize(7,null),f=v.localize(8,null),b=v.localize(9,null),y=v.localize(10,null),L=v.localize(11,null),N=v.localize(12,null),M=v.localize(13,null),D=v.localize(14,null),R=v.localize(15,null),P=v.localize(16,null),O=v.localize(17,null),W=v.localize(18,null,c.MATCHES_LIMIT);e.NLS_MATCHES_LOCATION=v.localize(19,null),e.NLS_NO_RESULTS=v.localize(20,null);const F=419,A=275-54;let B=69;const H=33,K="ctrlEnterReplaceAll.windows.donotask",q=u.isMacintosh?256:2048;class Y{constructor(T){this.afterLineNumber=T,this.heightInPx=H,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}e.FindWidgetViewZone=Y;function te(Z,T,x){const z=!!T.match(/\n/);if(x&&z&&x.selectionStart>0){Z.stopPropagation();return}}function ie(Z,T,x){const z=!!T.match(/\n/);if(x&&z&&x.selectionEnd<x.value.length){Z.stopPropagation();return}}class ae extends _.Widget{constructor(T,x,z,V,U,Q,se,oe,G){super();this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=T,this._controller=x,this._state=z,this._contextViewProvider=V,this._keybindingService=U,this._contextKeyService=Q,this._storageService=oe,this._notificationService=G,this._ctrlEnterReplaceAllWarningPrompted=!!oe.getBoolean(K,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new C.Delayer(500),this._register((0,p.toDisposable)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(j=>this._onStateChanged(j))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(j=>{if(j.hasChanged(77)&&(this._codeEditor.getOption(77)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),j.hasChanged(127)&&this._tryUpdateWidgetWidth(),j.hasChanged(2)&&this.updateAccessibilitySupport(),j.hasChanged(33)){const ne=this._codeEditor.getOption(33).addExtraSpaceOnTop;ne&&!this._viewZone&&(this._viewZone=new Y(0),this._showViewZone()),!ne&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>Ie(this,void 0,void 0,function*(){if(this._isVisible){let j=yield this._controller.getGlobalBufferTerm();j&&j!==this._state.searchString&&(this._state.change({searchString:j},!1),this._findInput.select())}}))),this._findInputFocused=c.CONTEXT_FIND_INPUT_FOCUSED.bindTo(Q),this._findFocusTracker=this._register(I.trackFocus(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=c.CONTEXT_REPLACE_INPUT_FOCUSED.bindTo(Q),this._replaceFocusTracker=this._register(I.trackFocus(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(33).addExtraSpaceOnTop&&(this._viewZone=new Y(0)),this._applyTheme(se.getColorTheme()),this._register(se.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{!this._isVisible||(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(j=>{if(j.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return ae.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(T){if(T.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(T.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),T.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),T.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(77)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=I.getTotalWidth(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(T.isRevealed||T.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),T.isRegex&&this._findInput.setRegex(this._state.isRegex),T.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),T.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),T.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),T.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),T.searchString||T.matchesCount||T.matchesPosition){let x=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",x),this._updateMatchesCount(),this._updateButtons()}(T.searchString||T.currentMatch)&&this._layoutViewZone(),T.updateHistory&&this._delayedUpdateHistory(),T.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,i.onUnexpectedError)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=B+"px",this._state.matchesCount>=c.MATCHES_LIMIT?this._matchesCount.title=W:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let T;if(this._state.matchesCount>0){let x=String(this._state.matchesCount);this._state.matchesCount>=c.MATCHES_LIMIT&&(x+="+");let z=String(this._state.matchesPosition);z==="0"&&(z="?"),T=a.format(e.NLS_MATCHES_LOCATION,z,x)}else T=e.NLS_NO_RESULTS;this._matchesCount.appendChild(document.createTextNode(T)),(0,k.alert)(this._getAriaLabel(T,this._state.currentMatch,this._state.searchString)),B=Math.max(B,this._matchesCount.clientWidth)}_getAriaLabel(T,x,z){if(T===e.NLS_NO_RESULTS)return z===""?v.localize(21,null,T):v.localize(22,null,T,z);if(x){const V=v.localize(23,null,T,z,x.startLineNumber+":"+x.startColumn),U=this._codeEditor.getModel();return U&&x.startLineNumber<=U.getLineCount()&&x.startLineNumber>=1?`${U.getLineContent(x.startLineNumber)}, ${V}`:V}return v.localize(24,null,T,z)}_updateToggleSelectionFindButton(){let T=this._codeEditor.getSelection(),x=T?T.startLineNumber!==T.endLineNumber||T.startColumn!==T.endColumn:!1,z=this._toggleSelectionFind.checked;this._isVisible&&(z||x)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);let T=this._state.searchString.length>0,x=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&T&&x&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&T&&x&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&T),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&T),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);let z=!this._codeEditor.getOption(77);this._toggleReplaceBtn.setEnabled(this._isVisible&&z)}_reveal(){if(this._revealTimeouts.forEach(T=>{clearTimeout(T)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const T=this._codeEditor.getSelection();switch(this._codeEditor.getOption(33).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":const z=!!T&&T.startLineNumber!==T.endLineNumber;this._toggleSelectionFind.checked=z;break;default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let x=!0;if(this._codeEditor.getOption(33).seedSearchStringFromSelection&&T){const z=this._codeEditor.getDomNode();if(z){const V=I.getDomNodePagePosition(z),U=this._codeEditor.getScrolledVisiblePosition(T.getStartPosition()),Q=V.left+(U?U.left:0),se=U?U.top:0;if(this._viewZone&&se<this._viewZone.heightInPx){T.endLineNumber>T.startLineNumber&&(x=!1);const oe=I.getTopLeftOffset(this._domNode).left;Q>oe&&(x=!1);const G=this._codeEditor.getScrolledVisiblePosition(T.getEndPosition());V.left+(G?G.left:0)>oe&&(x=!1)}}}this._showViewZone(x)}}_hide(T){this._revealTimeouts.forEach(x=>{clearTimeout(x)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),T&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(T){if(!this._codeEditor.getOption(33).addExtraSpaceOnTop){this._removeViewZone();return}if(!!this._isVisible){const z=this._viewZone;this._viewZoneId!==void 0||!z||this._codeEditor.changeViewZones(V=>{z.heightInPx=this._getHeight(),this._viewZoneId=V.addZone(z),this._codeEditor.setScrollTop(T||this._codeEditor.getScrollTop()+z.heightInPx)})}}_showViewZone(T=!0){if(!!this._isVisible&&!!this._codeEditor.getOption(33).addExtraSpaceOnTop){this._viewZone===void 0&&(this._viewZone=new Y(0));const z=this._viewZone;this._codeEditor.changeViewZones(V=>{if(this._viewZoneId!==void 0){const U=this._getHeight();if(U===z.heightInPx)return;let Q=U-z.heightInPx;z.heightInPx=U,V.layoutZone(this._viewZoneId),T&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+Q);return}else{let U=this._getHeight();if(U-=this._codeEditor.getOption(71).top,U<=0)return;z.heightInPx=U,this._viewZoneId=V.addZone(z),T&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+U)}})}}_removeViewZone(){this._codeEditor.changeViewZones(T=>{this._viewZoneId!==void 0&&(T.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(T){let x={inputActiveOptionBorder:T.getColor(d.inputActiveOptionBorder),inputActiveOptionBackground:T.getColor(d.inputActiveOptionBackground),inputActiveOptionForeground:T.getColor(d.inputActiveOptionForeground),inputBackground:T.getColor(d.inputBackground),inputForeground:T.getColor(d.inputForeground),inputBorder:T.getColor(d.inputBorder),inputValidationInfoBackground:T.getColor(d.inputValidationInfoBackground),inputValidationInfoForeground:T.getColor(d.inputValidationInfoForeground),inputValidationInfoBorder:T.getColor(d.inputValidationInfoBorder),inputValidationWarningBackground:T.getColor(d.inputValidationWarningBackground),inputValidationWarningForeground:T.getColor(d.inputValidationWarningForeground),inputValidationWarningBorder:T.getColor(d.inputValidationWarningBorder),inputValidationErrorBackground:T.getColor(d.inputValidationErrorBackground),inputValidationErrorForeground:T.getColor(d.inputValidationErrorForeground),inputValidationErrorBorder:T.getColor(d.inputValidationErrorBorder)};this._findInput.style(x),this._replaceInput.style(x),this._toggleSelectionFind.style(x)}_tryUpdateWidgetWidth(){if(!!this._isVisible&&!!I.isInDOM(this._domNode)){const T=this._codeEditor.getLayoutInfo();if(T.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const z=T.width,V=T.minimap.minimapWidth;let U=!1,Q=!1,se=!1;if(this._resized&&I.getTotalWidth(this._domNode)>F){this._domNode.style.maxWidth=`${z-28-V-15}px`,this._replaceInput.width=I.getTotalWidth(this._findInput.domNode);return}if(F+28+V>=z&&(Q=!0),F+28+V-B>=z&&(se=!0),F+28+V-B>=z+50&&(U=!0),this._domNode.classList.toggle("collapsed-find-widget",U),this._domNode.classList.toggle("narrow-find-widget",se),this._domNode.classList.toggle("reduced-find-widget",Q),!se&&!U&&(this._domNode.style.maxWidth=`${z-28-V-15}px`),this._resized){this._findInput.inputBox.layout();let oe=this._findInput.inputBox.element.clientWidth;oe>0&&(this._replaceInput.width=oe)}else this._isReplaceVisible&&(this._replaceInput.width=I.getTotalWidth(this._findInput.domNode))}}_getHeight(){let T=0;return T+=4,T+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(T+=4,T+=this._replaceInput.inputBox.height+2),T+=4,T}_tryUpdateHeight(){const T=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===T?!1:(this._cachedHeight=T,this._domNode.style.height=`${T}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(!!this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){let T=this._codeEditor.getSelections();T.map(x=>{x.endColumn===1&&x.endLineNumber>x.startLineNumber&&(x=x.setEndPosition(x.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(x.endLineNumber-1)));const z=this._state.currentMatch;return x.startLineNumber!==x.endLineNumber&&!l.Range.equalsRange(x,z)?x:null}).filter(x=>!!x),T.length&&this._state.change({searchScope:T},!0)}}_onFindInputMouseDown(T){T.middleButton&&T.stopPropagation()}_onFindInputKeyDown(T){if(T.equals(q|3)){this._findInput.inputBox.insertAtCursor(`
`),T.preventDefault();return}if(T.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),T.preventDefault();return}if(T.equals(2048|18)){this._codeEditor.focus(),T.preventDefault();return}if(T.equals(16))return te(T,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(T.equals(18))return ie(T,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(T){if(T.equals(q|3)){u.isWindows&&u.isNative&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(v.localize(25,null)),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(K,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),T.preventDefault();return}if(T.equals(2)){this._findInput.focusOnCaseSensitive(),T.preventDefault();return}if(T.equals(1024|2)){this._findInput.focus(),T.preventDefault();return}if(T.equals(2048|18)){this._codeEditor.focus(),T.preventDefault();return}if(T.equals(16))return te(T,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(T.equals(18))return ie(T,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(T){return 0}_keybindingLabelFor(T){let x=this._keybindingService.lookupKeybinding(T);return x?` (${x.getLabel()})`:""}_buildDomNode(){const T=!0,x=!0;this._findInput=this._register(new n.ContextScopedFindInput(null,this._contextViewProvider,{width:A,label:m,placeholder:f,appendCaseSensitiveLabel:this._keybindingLabelFor(c.FIND_IDS.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(c.FIND_IDS.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(c.FIND_IDS.ToggleRegexCommand),validation:oe=>{if(oe.length===0||!this._findInput.getRegex())return null;try{return new RegExp(oe,"gu"),null}catch(G){return{content:G.message}}},flexibleHeight:T,flexibleWidth:x,flexibleMaxHeight:118},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(oe=>this._onFindInputKeyDown(oe))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(oe=>{oe.equals(1024|2)&&this._isReplaceVisible&&(this._replaceInput.focus(),oe.preventDefault())})),this._register(this._findInput.onRegexKeyDown(oe=>{oe.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),oe.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(oe=>{this._tryUpdateHeight()&&this._showViewZone()})),u.isLinux&&this._register(this._findInput.onMouseDown(oe=>this._onFindInputMouseDown(oe))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new le({label:b+this._keybindingLabelFor(c.FIND_IDS.PreviousMatchFindAction),icon:e.findPreviousMatchIcon,onTrigger:()=>{this._codeEditor.getAction(c.FIND_IDS.PreviousMatchFindAction).run().then(void 0,i.onUnexpectedError)}})),this._nextBtn=this._register(new le({label:y+this._keybindingLabelFor(c.FIND_IDS.NextMatchFindAction),icon:e.findNextMatchIcon,onTrigger:()=>{this._codeEditor.getAction(c.FIND_IDS.NextMatchFindAction).run().then(void 0,i.onUnexpectedError)}}));let z=document.createElement("div");z.className="find-part",z.appendChild(this._findInput.domNode);const V=document.createElement("div");V.className="find-actions",z.appendChild(V),V.appendChild(this._matchesCount),V.appendChild(this._prevBtn.domNode),V.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new w.Checkbox({icon:o,title:L+this._keybindingLabelFor(c.FIND_IDS.ToggleSearchScopeCommand),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let oe=this._codeEditor.getSelections();oe.map(G=>(G.endColumn===1&&G.endLineNumber>G.startLineNumber&&(G=G.setEndPosition(G.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(G.endLineNumber-1))),G.isEmpty()?null:G)).filter(G=>!!G),oe.length&&this._state.change({searchScope:oe},!0)}}else this._state.change({searchScope:null},!0)})),V.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new le({label:N+this._keybindingLabelFor(c.FIND_IDS.CloseFindWidgetCommand),icon:t.widgetClose,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:oe=>{oe.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),oe.preventDefault())}})),V.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new n.ContextScopedReplaceInput(null,void 0,{label:M,placeholder:D,appendPreserveCaseLabel:this._keybindingLabelFor(c.FIND_IDS.TogglePreserveCaseCommand),history:[],flexibleHeight:T,flexibleWidth:x,flexibleMaxHeight:118},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(oe=>this._onReplaceInputKeyDown(oe))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(oe=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(oe=>{oe.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),oe.preventDefault())})),this._replaceBtn=this._register(new le({label:R+this._keybindingLabelFor(c.FIND_IDS.ReplaceOneAction),icon:e.findReplaceIcon,onTrigger:()=>{this._controller.replace()},onKeyDown:oe=>{oe.equals(1024|2)&&(this._closeBtn.focus(),oe.preventDefault())}})),this._replaceAllBtn=this._register(new le({label:P+this._keybindingLabelFor(c.FIND_IDS.ReplaceAllAction),icon:e.findReplaceAllIcon,onTrigger:()=>{this._controller.replaceAll()}}));let U=document.createElement("div");U.className="replace-part",U.appendChild(this._replaceInput.domNode);const Q=document.createElement("div");Q.className="replace-actions",U.appendChild(Q),Q.appendChild(this._replaceBtn.domNode),Q.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new le({label:O,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=I.getTotalWidth(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width=`${F}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(z),this._domNode.appendChild(U),this._resizeSash=new S.Sash(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let se=F;this._register(this._resizeSash.onDidStart(()=>{se=I.getTotalWidth(this._domNode)})),this._register(this._resizeSash.onDidChange(oe=>{this._resized=!0;let G=se+oe.startX-oe.currentX;if(!(G<F)){const j=parseFloat(I.getComputedStyle(this._domNode).maxWidth)||0;G>j||(this._domNode.style.width=`${G}px`,this._isReplaceVisible&&(this._replaceInput.width=I.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())}})),this._register(this._resizeSash.onDidReset(()=>{const oe=I.getTotalWidth(this._domNode);if(!(oe<F)){let G=F;if(!this._resized||oe===F){const j=this._codeEditor.getLayoutInfo();G=j.width-28-j.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${G}px`,this._isReplaceVisible&&(this._replaceInput.width=I.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout()}}))}updateAccessibilitySupport(){const T=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(T!==2)}}e.FindWidget=ae,ae.ID="editor.contrib.findWidget";class le extends _.Widget{constructor(T){super();this._opts=T;let x="button";this._opts.className&&(x=x+" "+this._opts.className),this._opts.icon&&(x=x+" "+r.ThemeIcon.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=x,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,z=>{this._opts.onTrigger(),z.preventDefault()}),this.onkeydown(this._domNode,z=>{if(z.equals(10)||z.equals(3)){this._opts.onTrigger(),z.preventDefault();return}this._opts.onKeyDown&&this._opts.onKeyDown(z)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(T){this._domNode.classList.toggle("disabled",!T),this._domNode.setAttribute("aria-disabled",String(!T)),this._domNode.tabIndex=T?0:-1}setExpanded(T){this._domNode.setAttribute("aria-expanded",String(!!T)),T?(this._domNode.classList.remove(...r.ThemeIcon.asClassNameArray(h)),this._domNode.classList.add(...r.ThemeIcon.asClassNameArray(g))):(this._domNode.classList.remove(...r.ThemeIcon.asClassNameArray(g)),this._domNode.classList.add(...r.ThemeIcon.asClassNameArray(h)))}}e.SimpleButton=le,(0,r.registerThemingParticipant)((Z,T)=>{const x=(de,he)=>{he&&T.addRule(`.monaco-editor ${de} { background-color: ${he}; }`)};x(".findMatch",Z.getColor(d.editorFindMatchHighlight)),x(".currentFindMatch",Z.getColor(d.editorFindMatch)),x(".findScope",Z.getColor(d.editorFindRangeHighlight));const z=Z.getColor(d.editorWidgetBackground);x(".find-widget",z);const V=Z.getColor(d.widgetShadow);V&&T.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${V}; }`);const U=Z.getColor(d.editorFindMatchHighlightBorder);U&&T.addRule(`.monaco-editor .findMatch { border: 1px ${Z.type==="hc"?"dotted":"solid"} ${U}; box-sizing: border-box; }`);const Q=Z.getColor(d.editorFindMatchBorder);Q&&T.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${Q}; padding: 1px; box-sizing: border-box; }`);const se=Z.getColor(d.editorFindRangeHighlightBorder);se&&T.addRule(`.monaco-editor .findScope { border: 1px ${Z.type==="hc"?"dashed":"solid"} ${se}; }`);const oe=Z.getColor(d.contrastBorder);oe&&T.addRule(`.monaco-editor .find-widget { border: 1px solid ${oe}; }`);const G=Z.getColor(d.editorWidgetForeground);G&&T.addRule(`.monaco-editor .find-widget { color: ${G}; }`);const j=Z.getColor(d.errorForeground);j&&T.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${j}; }`);const ne=Z.getColor(d.editorWidgetResizeBorder);if(ne)T.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${ne}; }`);else{const de=Z.getColor(d.editorWidgetBorder);de&&T.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${de}; }`)}const X=Z.getColor(d.focusBorder);X&&T.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${X}; }`)})}),define(J[268],ee([0,1,473,15,2,8,13,25,142,602,603,659,34,84,16,68,37,79,12,32]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n,s,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StartFindReplaceAction=e.PreviousSelectionMatchFindAction=e.NextSelectionMatchFindAction=e.SelectionMatchFindAction=e.PreviousMatchFindAction2=e.PreviousMatchFindAction=e.NextMatchFindAction2=e.NextMatchFindAction=e.MatchFindAction=e.StartFindWithSelectionAction=e.StartFindAction=e.FindController=e.CommonFindController=e.getSelectionSearchString=void 0;const o=524288;function h(W,F="single"){if(!W.hasModel())return null;const E=W.getSelection();if(F==="single"&&E.startLineNumber===E.endLineNumber||F==="multiple"){if(E.isEmpty()){const A=W.getConfiguredWordAtPosition(E.getStartPosition());if(A)return A.word}else if(W.getModel().getValueLengthInRange(E)<o)return W.getModel().getValueInRange(E)}return null}e.getSelectionSearchString=h;let g=class qt extends k.Disposable{constructor(F,E,A,B){super();this._editor=F,this._findWidgetVisible=C.CONTEXT_FIND_WIDGET_VISIBLE.bindTo(E),this._contextKeyService=E,this._storageService=A,this._clipboardService=B,this._updateHistoryDelayer=new I.Delayer(500),this._state=this._register(new p.FindReplaceState),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(H=>this._onStateChanged(H))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{let H=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),H&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(33).loop})}))}get editor(){return this._editor}static get(F){return F.getContribution(qt.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(F){this.saveQueryState(F),F.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),F.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(F){F.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),F.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),F.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),F.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!C.CONTEXT_FIND_INPUT_FOCUSED.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let F=this._editor.getSelections();F.map(E=>(E.endColumn===1&&E.endLineNumber>E.startLineNumber&&(E=E.setEndPosition(E.endLineNumber-1,this._editor.getModel().getLineMaxColumn(E.endLineNumber-1))),E.isEmpty()?null:E)).filter(E=>!!E),F.length&&this._state.change({searchScope:F},!0)}}setSearchString(F){this._state.isRegex&&(F=w.escapeRegExpCharacters(F)),this._state.change({searchString:F},!1)}highlightFindOptions(F=!1){}_start(F){return Ie(this,void 0,void 0,function*(){if(this.disposeModel(),!!this._editor.hasModel()){let E={isRevealed:!0};if(F.seedSearchStringFromSelection==="single"){let A=h(this._editor,F.seedSearchStringFromSelection);A&&(this._state.isRegex?E.searchString=w.escapeRegExpCharacters(A):E.searchString=A)}else if(F.seedSearchStringFromSelection==="multiple"&&!F.updateSearchScope){let A=h(this._editor,F.seedSearchStringFromSelection);A&&(E.searchString=A)}if(!E.searchString&&F.seedSearchStringFromGlobalClipboard){let A=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;A&&(E.searchString=A)}if(F.forceRevealReplace?E.isReplaceRevealed=!0:this._findWidgetVisible.get()||(E.isReplaceRevealed=!1),F.updateSearchScope){let A=this._editor.getSelections();A.some(B=>!B.isEmpty())&&(E.searchScope=A)}E.loop=F.loop,this._state.change(E,!1),this._model||(this._model=new C.FindModelBoundToEditorModel(this._editor,this._state))}})}start(F){return this._start(F)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){return this._model?(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return Ie(this,void 0,void 0,function*(){return this._editor.getOption(33).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(F){this._editor.getOption(33).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(F)}};g.ID="editor.contrib.findController",g=Me([pe(1,c.IContextKeyService),pe(2,n.IStorageService),pe(3,l.IClipboardService)],g),e.CommonFindController=g;let m=class extends g{constructor(F,E,A,B,H,K,q,Y){super(F,A,q,Y);this._contextViewService=E,this._keybindingService=B,this._themeService=H,this._notificationService=K,this._widget=null,this._findOptionsWidget=null}_start(F){const E=Object.create(null,{_start:{get:()=>super._start}});return Ie(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const A=this._editor.getSelection();let B=!1;switch(this._editor.getOption(33).autoFindInSelection){case"always":B=!0;break;case"never":B=!1;break;case"multiline":B=!!A&&A.startLineNumber!==A.endLineNumber;break;default:break}F.updateSearchScope=B,yield E._start.call(this,F),this._widget&&(F.shouldFocus===2?this._widget.focusReplaceInput():F.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(F=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!F?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new u.FindWidget(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new i.FindOptionsWidget(this._editor,this._state,this._keybindingService,this._themeService))}};m=Me([pe(1,d.IContextViewService),pe(2,c.IContextKeyService),pe(3,r.IKeybindingService),pe(4,s.IThemeService),pe(5,t.INotificationService),pe(6,n.IStorageService),pe(7,l.IClipboardService)],m),e.FindController=m,e.StartFindAction=(0,S.registerMultiEditorAction)(new S.MultiEditorAction({id:C.FIND_IDS.StartFindAction,label:v.localize(0,null),alias:"Find",precondition:c.ContextKeyExpr.or(_.EditorContextKeys.focus,c.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2048|36,weight:100},menuOpts:{menuId:a.MenuId.MenubarEditMenu,group:"3_find",title:v.localize(1,null),order:1}})),e.StartFindAction.addImplementation(0,(W,F,E)=>{const A=g.get(F);return A?A.start({forceRevealReplace:!1,seedSearchStringFromSelection:F.getOption(33).seedSearchStringFromSelection?"single":"none",seedSearchStringFromGlobalClipboard:F.getOption(33).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:F.getOption(33).loop}):!1});class f extends S.EditorAction{constructor(){super({id:C.FIND_IDS.StartFindWithSelection,label:v.localize(2,null),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2048|35},weight:100}})}run(F,E){return Ie(this,void 0,void 0,function*(){let A=g.get(E);A&&(yield A.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:E.getOption(33).loop}),A.setGlobalBufferTerm(A.getState().searchString))})}}e.StartFindWithSelectionAction=f;class b extends S.EditorAction{run(F,E){return Ie(this,void 0,void 0,function*(){let A=g.get(E);A&&!this._run(A)&&(yield A.start({forceRevealReplace:!1,seedSearchStringFromSelection:A.getState().searchString.length===0&&E.getOption(33).seedSearchStringFromSelection?"single":"none",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:E.getOption(33).loop}),this._run(A))})}}e.MatchFindAction=b;class y extends b{constructor(){super({id:C.FIND_IDS.NextMatchFindAction,label:v.localize(3,null),alias:"Find Next",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.focus,primary:61,mac:{primary:2048|37,secondary:[61]},weight:100}})}_run(F){return F.moveToNextMatch()?(F.editor.pushUndoStop(),!0):!1}}e.NextMatchFindAction=y;class L extends b{constructor(){super({id:C.FIND_IDS.NextMatchFindAction,label:v.localize(4,null),alias:"Find Next",precondition:void 0,kbOpts:{kbExpr:c.ContextKeyExpr.and(_.EditorContextKeys.focus,C.CONTEXT_FIND_INPUT_FOCUSED),primary:3,weight:100}})}_run(F){return F.moveToNextMatch()?(F.editor.pushUndoStop(),!0):!1}}e.NextMatchFindAction2=L;class N extends b{constructor(){super({id:C.FIND_IDS.PreviousMatchFindAction,label:v.localize(5,null),alias:"Find Previous",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.focus,primary:1024|61,mac:{primary:2048|1024|37,secondary:[1024|61]},weight:100}})}_run(F){return F.moveToPrevMatch()}}e.PreviousMatchFindAction=N;class M extends b{constructor(){super({id:C.FIND_IDS.PreviousMatchFindAction,label:v.localize(6,null),alias:"Find Previous",precondition:void 0,kbOpts:{kbExpr:c.ContextKeyExpr.and(_.EditorContextKeys.focus,C.CONTEXT_FIND_INPUT_FOCUSED),primary:1024|3,weight:100}})}_run(F){return F.moveToPrevMatch()}}e.PreviousMatchFindAction2=M;class D extends S.EditorAction{run(F,E){return Ie(this,void 0,void 0,function*(){let A=g.get(E);if(!!A){let B=h(E);B&&A.setSearchString(B),this._run(A)||(yield A.start({forceRevealReplace:!1,seedSearchStringFromSelection:E.getOption(33).seedSearchStringFromSelection?"single":"none",seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:E.getOption(33).loop}),this._run(A))}})}}e.SelectionMatchFindAction=D;class R extends D{constructor(){super({id:C.FIND_IDS.NextSelectionMatchFindAction,label:v.localize(7,null),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.focus,primary:2048|61,weight:100}})}_run(F){return F.moveToNextMatch()}}e.NextSelectionMatchFindAction=R;class P extends D{constructor(){super({id:C.FIND_IDS.PreviousSelectionMatchFindAction,label:v.localize(8,null),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.focus,primary:2048|1024|61,weight:100}})}_run(F){return F.moveToPrevMatch()}}e.PreviousSelectionMatchFindAction=P,e.StartFindReplaceAction=(0,S.registerMultiEditorAction)(new S.MultiEditorAction({id:C.FIND_IDS.StartFindReplaceAction,label:v.localize(9,null),alias:"Replace",precondition:c.ContextKeyExpr.or(_.EditorContextKeys.focus,c.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2048|38,mac:{primary:2048|512|36},weight:100},menuOpts:{menuId:a.MenuId.MenubarEditMenu,group:"3_find",title:v.localize(10,null),order:2}})),e.StartFindReplaceAction.addImplementation(0,(W,F,E)=>{if(!F.hasModel()||F.getOption(77))return!1;const A=g.get(F);if(!A)return!1;const B=F.getSelection(),H=A.isFindInputFocused(),K=!B.isEmpty()&&B.startLineNumber===B.endLineNumber&&F.getOption(33).seedSearchStringFromSelection&&!H,q=H||K?2:1;return A.start({forceRevealReplace:!0,seedSearchStringFromSelection:K?"single":"none",seedSearchStringFromGlobalClipboard:F.getOption(33).seedSearchStringFromSelection,shouldFocus:q,shouldAnimate:!0,updateSearchScope:!1,loop:F.getOption(33).loop})}),(0,S.registerEditorContribution)(g.ID,m),(0,S.registerEditorAction)(f),(0,S.registerEditorAction)(y),(0,S.registerEditorAction)(L),(0,S.registerEditorAction)(N),(0,S.registerEditorAction)(M),(0,S.registerEditorAction)(R),(0,S.registerEditorAction)(P);const O=S.EditorCommand.bindToContribution(g.get);(0,S.registerEditorCommand)(new O({id:C.FIND_IDS.CloseFindWidgetCommand,precondition:C.CONTEXT_FIND_WIDGET_VISIBLE,handler:W=>W.closeFindWidget(),kbOpts:{weight:100+5,kbExpr:c.ContextKeyExpr.and(_.EditorContextKeys.focus,c.ContextKeyExpr.not("isComposing")),primary:9,secondary:[1024|9]}})),(0,S.registerEditorCommand)(new O({id:C.FIND_IDS.ToggleCaseSensitiveCommand,precondition:void 0,handler:W=>W.toggleCaseSensitive(),kbOpts:{weight:100+5,kbExpr:_.EditorContextKeys.focus,primary:C.ToggleCaseSensitiveKeybinding.primary,mac:C.ToggleCaseSensitiveKeybinding.mac,win:C.ToggleCaseSensitiveKeybinding.win,linux:C.ToggleCaseSensitiveKeybinding.linux}})),(0,S.registerEditorCommand)(new O({id:C.FIND_IDS.ToggleWholeWordCommand,precondition:void 0,handler:W=>W.toggleWholeWords(),kbOpts:{weight:100+5,kbExpr:_.EditorContextKeys.focus,primary:C.ToggleWholeWordKeybinding.primary,mac:C.ToggleWholeWordKeybinding.mac,win:C.ToggleWholeWordKeybinding.win,linux:C.ToggleWholeWordKeybinding.linux}})),(0,S.registerEditorCommand)(new O({id:C.FIND_IDS.ToggleRegexCommand,precondition:void 0,handler:W=>W.toggleRegex(),kbOpts:{weight:100+5,kbExpr:_.EditorContextKeys.focus,primary:C.ToggleRegexKeybinding.primary,mac:C.ToggleRegexKeybinding.mac,win:C.ToggleRegexKeybinding.win,linux:C.ToggleRegexKeybinding.linux}})),(0,S.registerEditorCommand)(new O({id:C.FIND_IDS.ToggleSearchScopeCommand,precondition:void 0,handler:W=>W.toggleSearchScope(),kbOpts:{weight:100+5,kbExpr:_.EditorContextKeys.focus,primary:C.ToggleSearchScopeKeybinding.primary,mac:C.ToggleSearchScopeKeybinding.mac,win:C.ToggleSearchScopeKeybinding.win,linux:C.ToggleSearchScopeKeybinding.linux}})),(0,S.registerEditorCommand)(new O({id:C.FIND_IDS.TogglePreserveCaseCommand,precondition:void 0,handler:W=>W.togglePreserveCase(),kbOpts:{weight:100+5,kbExpr:_.EditorContextKeys.focus,primary:C.TogglePreserveCaseKeybinding.primary,mac:C.TogglePreserveCaseKeybinding.mac,win:C.TogglePreserveCaseKeybinding.win,linux:C.TogglePreserveCaseKeybinding.linux}})),(0,S.registerEditorCommand)(new O({id:C.FIND_IDS.ReplaceOneAction,precondition:C.CONTEXT_FIND_WIDGET_VISIBLE,handler:W=>W.replace(),kbOpts:{weight:100+5,kbExpr:_.EditorContextKeys.focus,primary:2048|1024|22}})),(0,S.registerEditorCommand)(new O({id:C.FIND_IDS.ReplaceOneAction,precondition:C.CONTEXT_FIND_WIDGET_VISIBLE,handler:W=>W.replace(),kbOpts:{weight:100+5,kbExpr:c.ContextKeyExpr.and(_.EditorContextKeys.focus,C.CONTEXT_REPLACE_INPUT_FOCUSED),primary:3}})),(0,S.registerEditorCommand)(new O({id:C.FIND_IDS.ReplaceAllAction,precondition:C.CONTEXT_FIND_WIDGET_VISIBLE,handler:W=>W.replaceAll(),kbOpts:{weight:100+5,kbExpr:_.EditorContextKeys.focus,primary:2048|512|3}})),(0,S.registerEditorCommand)(new O({id:C.FIND_IDS.ReplaceAllAction,precondition:C.CONTEXT_FIND_WIDGET_VISIBLE,handler:W=>W.replaceAll(),kbOpts:{weight:100+5,kbExpr:c.ContextKeyExpr.and(_.EditorContextKeys.focus,C.CONTEXT_REPLACE_INPUT_FOCUSED),primary:void 0,mac:{primary:2048|3}}})),(0,S.registerEditorCommand)(new O({id:C.FIND_IDS.SelectAllMatchesAction,precondition:C.CONTEXT_FIND_WIDGET_VISIBLE,handler:W=>W.selectAllMatches(),kbOpts:{weight:100+5,kbExpr:_.EditorContextKeys.focus,primary:512|3}}))}),define(J[660],ee([0,1,31,27,476,80,12]),function($,e,v,I,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingDecorationProvider=e.foldingCollapsedIcon=e.foldingExpandedIcon=void 0,e.foldingExpandedIcon=(0,w.registerIcon)("folding-expanded",I.Codicon.chevronDown,(0,k.localize)(0,null)),e.foldingCollapsedIcon=(0,w.registerIcon)("folding-collapsed",I.Codicon.chevronRight,(0,k.localize)(1,null));class _{constructor(i){this.editor=i,this.autoHideFoldingControls=!0,this.showFoldingHighlights=!0}getDecorationOption(i,p){return p?_.HIDDEN_RANGE_DECORATION:i?this.showFoldingHighlights?_.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:_.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?_.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:_.EXPANDED_VISUAL_DECORATION}deltaDecorations(i,p){return this.editor.deltaDecorations(i,p)}changeDecorations(i){return this.editor.changeDecorations(i)}}e.FoldingDecorationProvider=_,_.COLLAPSED_VISUAL_DECORATION=v.ModelDecorationOptions.register({stickiness:1,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:S.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),_.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=v.ModelDecorationOptions.register({stickiness:1,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:S.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),_.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=v.ModelDecorationOptions.register({stickiness:1,isWholeLine:!0,firstLineDecorationClassName:S.ThemeIcon.asClassName(e.foldingExpandedIcon)}),_.EXPANDED_VISUAL_DECORATION=v.ModelDecorationOptions.register({stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+S.ThemeIcon.asClassName(e.foldingExpandedIcon)}),_.HIDDEN_RANGE_DECORATION=v.ModelDecorationOptions.register({stickiness:1})}),define(J[661],ee([0,1,475,20,8,15,39,2,13,406,660,25,407,42,544,18,226,408,11,16,12,22,343]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n,s,t,o,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorFoldForeground=e.foldBackgroundBackground=e.FoldingController=void 0;const g=new t.RawContextKey("foldingEnabled",!1);let m=class $t extends _.Disposable{constructor(K,q){super();this.contextKeyService=q,this.localToDispose=this._register(new _.DisposableStore),this.editor=K;const Y=this.editor.getOptions();this._isEnabled=Y.get(35),this._useFoldingProviders=Y.get(36)!=="indentation",this._unfoldOnClickAfterEndOfLine=Y.get(38),this._restoringViewState=!1,this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingStateMemento=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new p.FoldingDecorationProvider(K),this.foldingDecorationProvider.autoHideFoldingControls=Y.get(96)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=Y.get(37),this.foldingEnabled=g.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(te=>{if(te.hasChanged(35)&&(this._isEnabled=this.editor.getOptions().get(35),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),te.hasChanged(96)||te.hasChanged(37)){const ie=this.editor.getOptions();this.foldingDecorationProvider.autoHideFoldingControls=ie.get(96)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=ie.get(37),this.onModelContentChanged()}te.hasChanged(36)&&(this._useFoldingProviders=this.editor.getOptions().get(36)!=="indentation",this.onFoldingStrategyChanged()),te.hasChanged(38)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(38))})),this.onModelChanged()}static get(K){return K.getContribution($t.ID)}saveViewState(){let K=this.editor.getModel();if(!K||!this._isEnabled||K.isTooLargeForTokenization())return{};if(this.foldingModel){let q=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),Y=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:q,lineCount:K.getLineCount(),provider:Y}}}restoreViewState(K){let q=this.editor.getModel();if(!(!q||!this._isEnabled||q.isTooLargeForTokenization()||!this.hiddenRangeModel)&&!(!K||!K.collapsedRegions||K.lineCount!==q.getLineCount())){(K.provider===r.ID_SYNTAX_PROVIDER||K.provider===n.ID_INIT_PROVIDER)&&(this.foldingStateMemento=K);const Y=K.collapsedRegions;if(this.hiddenRangeModel.applyMemento(Y)){const te=this.getFoldingModel();te&&te.then(ie=>{if(ie){this._restoringViewState=!0;try{ie.applyMemento(Y)}finally{this._restoringViewState=!1}}}).then(void 0,s.onUnexpectedError)}}}onModelChanged(){this.localToDispose.clear();let K=this.editor.getModel();!this._isEnabled||!K||K.isTooLargeForTokenization()||(this.foldingModel=new i.FoldingModel(K,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new a.HiddenRangeModel(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(q=>this.onHiddenRangesChanges(q))),this.updateScheduler=new w.Delayer(200),this.cursorChangedScheduler=new w.RunOnceScheduler(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(d.FoldingRangeProviderRegistry.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(()=>this.onModelContentChanged())),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(q=>this.onEditorMouseDown(q))),this.localToDispose.add(this.editor.onMouseUp(q=>this.onEditorMouseUp(q))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.foldingStateMemento=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.onModelContentChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.onModelContentChanged()}getRangeProvider(K){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new c.IndentRangeProvider(K),this._useFoldingProviders&&this.foldingModel){let q=d.FoldingRangeProviderRegistry.ordered(this.foldingModel.textModel);if(q.length===0&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions)return this.rangeProvider=new n.InitializingRangeProvider(K,this.foldingStateMemento.collapsedRegions,()=>{this.foldingStateMemento=null,this.onFoldingStrategyChanged()},3e4);q.length>0&&(this.rangeProvider=new r.SyntaxRangeProvider(K,q,()=>this.onModelContentChanged()))}return this.foldingStateMemento=null,this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onModelContentChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const K=this.foldingModel;if(!K)return null;let q=this.foldingRegionPromise=(0,w.createCancelablePromise)(Y=>this.getRangeProvider(K.textModel).compute(Y));return q.then(Y=>{if(Y&&q===this.foldingRegionPromise){let te=this.editor.getSelections(),ie=te?te.map(ae=>ae.startLineNumber):[];K.update(Y,ie)}return K})}).then(void 0,K=>((0,s.onUnexpectedError)(K),null)))}onHiddenRangesChanges(K){if(this.hiddenRangeModel&&K.length&&!this._restoringViewState){let q=this.editor.getSelections();q&&this.hiddenRangeModel.adjustSelections(q)&&this.editor.setSelections(q)}this.editor.setHiddenAreas(K)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const K=this.getFoldingModel();!K||K.then(q=>{if(q){let Y=this.editor.getSelections();if(Y&&Y.length>0){let te=[];for(let ie of Y){let ae=ie.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(ae)&&te.push(...q.getAllRegionsAtLine(ae,le=>le.isCollapsed&&ae>le.startLineNumber))}te.length&&(q.toggleCollapseState(te),this.reveal(Y[0].getPosition()))}}}).then(void 0,s.onUnexpectedError)}onEditorMouseDown(K){if(this.mouseDownInfo=null,!(!this.hiddenRangeModel||!K.target||!K.target.range)&&!(!K.event.leftButton&&!K.event.middleButton)){const q=K.target.range;let Y=!1;switch(K.target.type){case 4:const te=K.target.detail,ie=K.target.element.offsetLeft;if(te.offsetX-ie<5)return;Y=!0;break;case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!K.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){let le=this.editor.getModel();if(le&&q.startColumn===le.getLineMaxColumn(q.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:q.startLineNumber,iconClicked:Y}}}onEditorMouseUp(K){const q=this.getFoldingModel();if(!(!q||!this.mouseDownInfo||!K.target)){let Y=this.mouseDownInfo.lineNumber,te=this.mouseDownInfo.iconClicked,ie=K.target.range;if(!(!ie||ie.startLineNumber!==Y)){if(te){if(K.target.type!==4)return}else{let ae=this.editor.getModel();if(!ae||ie.startColumn!==ae.getLineMaxColumn(Y))return}q.then(ae=>{if(ae){let le=ae.getRegionAtLine(Y);if(le&&le.startLineNumber===Y){let Z=le.isCollapsed;if(te||Z){let T=K.event.altKey,x=[];if(T){let z=U=>!U.containedBy(le)&&!le.containedBy(U),V=ae.getRegionsInside(null,z);for(const U of V)U.isCollapsed&&x.push(U);x.length===0&&(x=V)}else{let z=K.event.middleButton||K.event.shiftKey;if(z)for(const V of ae.getRegionsInside(le))V.isCollapsed===Z&&x.push(V);(Z||!z||x.length===0)&&x.push(le)}ae.toggleCollapseState(x),this.reveal({lineNumber:Y,column:1})}}}}).then(void 0,s.onUnexpectedError)}}}reveal(K){this.editor.revealPositionInCenterIfOutsideViewport(K,0)}};m.ID="editor.contrib.folding",m=Me([pe(1,t.IContextKeyService)],m),e.FoldingController=m;class f extends C.EditorAction{runEditorCommand(K,q,Y){let te=m.get(q);if(!!te){let ie=te.getFoldingModel();if(ie)return this.reportTelemetry(K,q),ie.then(ae=>{if(ae){this.invoke(te,ae,q,Y);const le=q.getSelection();le&&te.reveal(le.getStartPosition())}})}}getSelectedLines(K){let q=K.getSelections();return q?q.map(Y=>Y.startLineNumber):[]}getLineNumbers(K,q){return K&&K.selectionLines?K.selectionLines.map(Y=>Y+1):this.getSelectedLines(q)}run(K,q){}}function b(H){if(!I.isUndefined(H)){if(!I.isObject(H))return!1;const K=H;if(!I.isUndefined(K.levels)&&!I.isNumber(K.levels)||!I.isUndefined(K.direction)&&!I.isString(K.direction)||!I.isUndefined(K.selectionLines)&&(!I.isArray(K.selectionLines)||!K.selectionLines.every(I.isNumber)))return!1}return!0}class y extends f{constructor(){super({id:"editor.unfold",label:v.localize(0,null),alias:"Unfold",precondition:g,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:2048|1024|89,mac:{primary:2048|512|89},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:b,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(K,q,Y,te){let ie=te&&te.levels||1,ae=this.getLineNumbers(te,Y);te&&te.direction==="up"?(0,i.setCollapseStateLevelsUp)(q,!1,ie,ae):(0,i.setCollapseStateLevelsDown)(q,!1,ie,ae)}}class L extends f{constructor(){super({id:"editor.unfoldRecursively",label:v.localize(1,null),alias:"Unfold Recursively",precondition:g,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|89),weight:100}})}invoke(K,q,Y,te){(0,i.setCollapseStateLevelsDown)(q,!1,Number.MAX_VALUE,this.getSelectedLines(Y))}}class N extends f{constructor(){super({id:"editor.fold",label:v.localize(2,null),alias:"Fold",precondition:g,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:2048|1024|87,mac:{primary:2048|512|87},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:b,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(K,q,Y,te){let ie=this.getLineNumbers(te,Y);const ae=te&&te.levels,le=te&&te.direction;typeof ae!="number"&&typeof le!="string"?(0,i.setCollapseStateUp)(q,!0,ie):le==="up"?(0,i.setCollapseStateLevelsUp)(q,!0,ae||1,ie):(0,i.setCollapseStateLevelsDown)(q,!0,ae||1,ie)}}class M extends f{constructor(){super({id:"editor.toggleFold",label:v.localize(3,null),alias:"Toggle Fold",precondition:g,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|42),weight:100}})}invoke(K,q,Y){let te=this.getSelectedLines(Y);(0,i.toggleCollapseState)(q,1,te)}}class D extends f{constructor(){super({id:"editor.foldRecursively",label:v.localize(4,null),alias:"Fold Recursively",precondition:g,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|87),weight:100}})}invoke(K,q,Y){let te=this.getSelectedLines(Y);(0,i.setCollapseStateLevelsDown)(q,!0,Number.MAX_VALUE,te)}}class R extends f{constructor(){super({id:"editor.foldAllBlockComments",label:v.localize(5,null),alias:"Fold All Block Comments",precondition:g,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|85),weight:100}})}invoke(K,q,Y){if(q.regions.hasTypes())(0,i.setCollapseStateForType)(q,d.FoldingRangeKind.Comment.value,!0);else{const te=Y.getModel();if(!te)return;let ie=l.LanguageConfigurationRegistry.getComments(te.getLanguageIdentifier().id);if(ie&&ie.blockCommentStartToken){let ae=new RegExp("^\\s*"+(0,k.escapeRegExpCharacters)(ie.blockCommentStartToken));(0,i.setCollapseStateForMatchingLines)(q,ae,!0)}}}}class P extends f{constructor(){super({id:"editor.foldAllMarkerRegions",label:v.localize(6,null),alias:"Fold All Regions",precondition:g,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|29),weight:100}})}invoke(K,q,Y){if(q.regions.hasTypes())(0,i.setCollapseStateForType)(q,d.FoldingRangeKind.Region.value,!0);else{const te=Y.getModel();if(!te)return;let ie=l.LanguageConfigurationRegistry.getFoldingRules(te.getLanguageIdentifier().id);if(ie&&ie.markers&&ie.markers.start){let ae=new RegExp(ie.markers.start);(0,i.setCollapseStateForMatchingLines)(q,ae,!0)}}}}class O extends f{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:v.localize(7,null),alias:"Unfold All Regions",precondition:g,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|30),weight:100}})}invoke(K,q,Y){if(q.regions.hasTypes())(0,i.setCollapseStateForType)(q,d.FoldingRangeKind.Region.value,!1);else{const te=Y.getModel();if(!te)return;let ie=l.LanguageConfigurationRegistry.getFoldingRules(te.getLanguageIdentifier().id);if(ie&&ie.markers&&ie.markers.start){let ae=new RegExp(ie.markers.start);(0,i.setCollapseStateForMatchingLines)(q,ae,!1)}}}}class W extends f{constructor(){super({id:"editor.foldAllExcept",label:v.localize(8,null),alias:"Fold All Regions Except Selected",precondition:g,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|83),weight:100}})}invoke(K,q,Y){let te=this.getSelectedLines(Y);(0,i.setCollapseStateForRest)(q,!0,te)}}class F extends f{constructor(){super({id:"editor.unfoldAllExcept",label:v.localize(9,null),alias:"Unfold All Regions Except Selected",precondition:g,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|81),weight:100}})}invoke(K,q,Y){let te=this.getSelectedLines(Y);(0,i.setCollapseStateForRest)(q,!1,te)}}class E extends f{constructor(){super({id:"editor.foldAll",label:v.localize(10,null),alias:"Fold All",precondition:g,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|21),weight:100}})}invoke(K,q,Y){(0,i.setCollapseStateLevelsDown)(q,!0)}}class A extends f{constructor(){super({id:"editor.unfoldAll",label:v.localize(11,null),alias:"Unfold All",precondition:g,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|40),weight:100}})}invoke(K,q,Y){(0,i.setCollapseStateLevelsDown)(q,!1)}}class B extends f{getFoldingLevel(){return parseInt(this.id.substr(B.ID_PREFIX.length))}invoke(K,q,Y){(0,i.setCollapseStateAtLevel)(q,this.getFoldingLevel(),!0,this.getSelectedLines(Y))}}B.ID_PREFIX="editor.foldLevel",B.ID=H=>B.ID_PREFIX+H,(0,C.registerEditorContribution)(m.ID,m),(0,C.registerEditorAction)(y),(0,C.registerEditorAction)(L),(0,C.registerEditorAction)(N),(0,C.registerEditorAction)(D),(0,C.registerEditorAction)(E),(0,C.registerEditorAction)(A),(0,C.registerEditorAction)(R),(0,C.registerEditorAction)(P),(0,C.registerEditorAction)(O),(0,C.registerEditorAction)(W),(0,C.registerEditorAction)(F),(0,C.registerEditorAction)(M);for(let H=1;H<=7;H++)(0,C.registerInstantiatedEditorAction)(new B({id:B.ID(H),label:v.localize(12,null,H),alias:`Fold Level ${H}`,precondition:g,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:(0,S.KeyChord)(2048|41,2048|21+H),weight:100}}));e.foldBackgroundBackground=(0,h.registerColor)("editor.foldBackground",{light:(0,h.transparent)(h.editorSelectionBackground,.3),dark:(0,h.transparent)(h.editorSelectionBackground,.3),hc:null},v.localize(13,null),!0),e.editorFoldForeground=(0,h.registerColor)("editorGutter.foldingControlForeground",{dark:h.iconForeground,light:h.iconForeground,hc:h.iconForeground},v.localize(14,null)),(0,o.registerThemingParticipant)((H,K)=>{const q=H.getColor(e.foldBackgroundBackground);q&&K.addRule(`.monaco-editor .folded-background { background-color: ${q}; }`);const Y=H.getColor(e.editorFoldForeground);Y&&K.addRule(`
		.monaco-editor .cldr${o.ThemeIcon.asCSSSelector(p.foldingExpandedIcon)},
		.monaco-editor .cldr${o.ThemeIcon.asCSSSelector(p.foldingCollapsedIcon)} {
			color: ${Y} !important;
		}
		`)})}),define(J[269],ee([0,1,480,2,16,14,3,13,25,657,28,34,27,9,560,80]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NextMarkerAction=e.MarkerController=void 0;let r=class gt{constructor(b,y,L,N,M){this._markerNavigationService=y,this._contextKeyService=L,this._editorService=N,this._instantiationService=M,this._sessionDispoables=new I.DisposableStore,this._editor=b,this._widgetVisible=g.bindTo(this._contextKeyService)}static get(b){return b.getContribution(gt.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(b){if(this._model&&this._model.matches(b))return this._model;let y=!1;return this._model&&(y=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(b),y&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(i.MarkerNavigationWidget,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(L=>{var N,M,D;(!((N=this._model)===null||N===void 0?void 0:N.selected)||!S.Range.containsPosition((M=this._model)===null||M===void 0?void 0:M.selected.marker,L.position))&&((D=this._model)===null||D===void 0||D.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!(!this._widget||!this._widget.position||!this._model)){const L=this._model.find(this._editor.getModel().uri,this._widget.position);L?this._widget.updateMarker(L.marker):this._widget.showStale()}})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(L=>{this._editorService.openCodeEditor({resource:L.resource,options:{pinned:!0,revealIfOpened:!0,selection:S.Range.lift(L).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(b=!0){this._cleanUp(),b&&this._editor.focus()}showAtMarker(b){if(this._editor.hasModel()){const y=this._getOrCreateModel(this._editor.getModel().uri);y.resetIndex(),y.move(!0,this._editor.getModel(),new w.Position(b.startLineNumber,b.startColumn)),y.selected&&this._widget.showAtMarker(y.selected.marker,y.selected.index,y.selected.total)}}nagivate(b,y){return Ie(this,void 0,void 0,function*(){if(this._editor.hasModel()){const L=this._getOrCreateModel(y?void 0:this._editor.getModel().uri);if(L.move(b,this._editor.getModel(),this._editor.getPosition()),!L.selected)return;if(L.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const N=yield this._editorService.openCodeEditor({resource:L.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:L.selected.marker}},this._editor);N&&(gt.get(N).close(),gt.get(N).nagivate(b,y))}else this._widget.showAtMarker(L.selected.marker,L.selected.index,L.selected.total)}})}};r.ID="editor.contrib.markerController",r=Me([pe(1,c.IMarkerNavigationService),pe(2,k.IContextKeyService),pe(3,p.ICodeEditorService),pe(4,l.IInstantiationService)],r),e.MarkerController=r;class n extends _.EditorAction{constructor(b,y,L){super(L);this._next=b,this._multiFile=y}run(b,y){return Ie(this,void 0,void 0,function*(){y.hasModel()&&r.get(y).nagivate(this._next,this._multiFile)})}}class s extends n{constructor(){super(!0,!1,{id:s.ID,label:s.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.focus,primary:512|66,weight:100},menuOpts:{menuId:i.MarkerNavigationWidget.TitleMenu,title:s.LABEL,icon:(0,d.registerIcon)("marker-navigation-next",a.Codicon.chevronDown,v.localize(1,null)),group:"navigation",order:1}})}}e.NextMarkerAction=s,s.ID="editor.action.marker.next",s.LABEL=v.localize(0,null);class t extends n{constructor(){super(!1,!1,{id:t.ID,label:t.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.focus,primary:1024|512|66,weight:100},menuOpts:{menuId:i.MarkerNavigationWidget.TitleMenu,title:s.LABEL,icon:(0,d.registerIcon)("marker-navigation-previous",a.Codicon.chevronUp,v.localize(3,null)),group:"navigation",order:2}})}}t.ID="editor.action.marker.prev",t.LABEL=v.localize(2,null);class o extends n{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:v.localize(4,null),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.focus,primary:66,weight:100},menuOpts:{menuId:u.MenuId.MenubarGoMenu,title:v.localize(5,null),group:"6_problem_nav",order:1}})}}class h extends n{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:v.localize(6,null),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.focus,primary:1024|66,weight:100},menuOpts:{menuId:u.MenuId.MenubarGoMenu,title:v.localize(7,null),group:"6_problem_nav",order:2}})}}(0,_.registerEditorContribution)(r.ID,r),(0,_.registerEditorAction)(s),(0,_.registerEditorAction)(t),(0,_.registerEditorAction)(o),(0,_.registerEditorAction)(h);const g=new k.RawContextKey("markersNavigationVisible",!1),m=_.EditorCommand.bindToContribution(r.get);(0,_.registerEditorCommand)(new m({id:"closeMarkersNavigation",precondition:g,handler:f=>f.close(),kbOpts:{weight:100+50,kbExpr:C.EditorContextKeys.focus,primary:9,secondary:[1024|9]}}))}),define(J[662],ee([0,1,491,7,2,3,19,85,45,179,11,58,269,37,15,145,264,131,59,210]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n,s,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerHoverParticipant=e.MarkerHover=void 0;const o=I.$;class h{constructor(b,y){this.range=b,this.marker=y}equals(b){return b instanceof h?_.IMarkerData.makeKey(this.marker)===_.IMarkerData.makeKey(b.marker):!1}}e.MarkerHover=h;const g={type:1,filter:{include:n.CodeActionKind.QuickFix}};let m=class{constructor(b,y,L,N,M){this._editor=b,this._hover=y,this._markerDecorationsService=L,this._keybindingService=N,this._openerService=M,this.recentMarkerCodeActionsInfo=void 0}computeSync(b,y){if(!this._editor.hasModel())return[];const L=this._editor.getModel(),N=b.startLineNumber,M=L.getLineMaxColumn(N),D=[];for(const R of y){const P=R.range.startLineNumber===N?R.range.startColumn:1,O=R.range.endLineNumber===N?R.range.endColumn:M,W=this._markerDecorationsService.getMarker(L.uri,R);if(!!W){const F=new w.Range(b.startLineNumber,P,b.startLineNumber,O);D.push(new h(F,W))}}return D}renderHoverParts(b,y){if(!b.length)return k.Disposable.None;const L=new k.DisposableStore;b.forEach(M=>y.appendChild(this.renderMarkerHover(M,L)));const N=b.length===1?b[0]:b.sort((M,D)=>_.MarkerSeverity.compare(M.marker.severity,D.marker.severity))[0];return y.appendChild(this.renderMarkerStatusbar(N,L)),L}renderMarkerHover(b,y){const L=o("div.hover-row"),N=I.append(L,o("div.marker.hover-contents")),{source:M,message:D,code:R,relatedInformation:P}=b.marker;this._editor.applyFontInfo(N);const O=I.append(N,o("span"));if(O.style.whiteSpace="pre-wrap",O.innerText=D,M||R)if(R&&typeof R!="string"){const W=o("span");if(M){const B=I.append(W,o("span"));B.innerText=M}const F=I.append(W,o("a.code-link"));F.setAttribute("href",R.target.toString()),y.add(I.addDisposableListener(F,"click",B=>{this._openerService.open(R.target,{allowCommands:!0}),B.preventDefault(),B.stopPropagation()}));const E=I.append(F,o("span"));E.innerText=R.value;const A=I.append(N,W);A.style.opacity="0.6",A.style.paddingLeft="6px"}else{const W=I.append(N,o("span"));W.style.opacity="0.6",W.style.paddingLeft="6px",W.innerText=M&&R?`${M}(${R})`:M||`(${R})`}if((0,S.isNonEmptyArray)(P))for(const{message:W,resource:F,startLineNumber:E,startColumn:A}of P){const B=I.append(N,o("div"));B.style.marginTop="8px";const H=I.append(B,o("a"));H.innerText=`${(0,C.basename)(F)}(${E}, ${A}): `,H.style.cursor="pointer",y.add(I.addDisposableListener(H,"click",q=>{q.stopPropagation(),q.preventDefault(),this._openerService&&this._openerService.open(F,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:E,startColumn:A}}}).catch(p.onUnexpectedError)}));const K=I.append(B,o("span"));K.innerText=W,this._editor.applyFontInfo(K)}return L}renderMarkerStatusbar(b,y){const L=o("div.hover-row.status-bar"),N=I.append(L,o("div.actions"));if((b.marker.severity===_.MarkerSeverity.Error||b.marker.severity===_.MarkerSeverity.Warning||b.marker.severity===_.MarkerSeverity.Info)&&y.add(this.renderAction(N,{label:v.localize(0,null),commandId:a.NextMarkerAction.ID,run:()=>{this._hover.hide(),a.MarkerController.get(this._editor).showAtMarker(b.marker),this._editor.focus()}})),!this._editor.getOption(77)){const M=I.append(N,o("div"));this.recentMarkerCodeActionsInfo&&(_.IMarkerData.makeKey(this.recentMarkerCodeActionsInfo.marker)===_.IMarkerData.makeKey(b.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(M.textContent=v.localize(1,null)):this.recentMarkerCodeActionsInfo=void 0);const D=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?k.Disposable.None:y.add((0,c.disposableTimeout)(()=>M.textContent=v.localize(2,null),200));M.textContent||(M.textContent=String.fromCharCode(160));const R=this.getCodeActions(b.marker);y.add((0,k.toDisposable)(()=>R.cancel())),R.then(P=>{if(D.dispose(),this.recentMarkerCodeActionsInfo={marker:b.marker,hasCodeActions:P.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){P.dispose(),M.textContent=v.localize(3,null);return}M.style.display="none";let O=!1;y.add((0,k.toDisposable)(()=>{O||P.dispose()})),y.add(this.renderAction(N,{label:v.localize(4,null),commandId:r.QuickFixAction.Id,run:W=>{O=!0;const F=r.QuickFixController.get(this._editor),E=I.getDomNodePagePosition(W);this._hover.hide(),F.showCodeActions(g,P,{x:E.left+6,y:E.top+E.height+6})}}))})}return L}renderAction(b,y){const L=this._keybindingService.lookupKeybinding(y.commandId),N=L?L.getLabel():null;return(0,t.renderHoverAction)(b,y,N)}getCodeActions(b){return(0,c.createCancelablePromise)(y=>(0,d.getCodeActions)(this._editor.getModel(),new w.Range(b.startLineNumber,b.startColumn,b.endLineNumber,b.endColumn),g,s.Progress.None,y))}};m=Me([pe(2,i.IMarkerDecorationsService),pe(3,l.IKeybindingService),pe(4,u.IOpenerService)],m),e.MarkerHoverParticipant=m}),define(J[663],ee([0,1,7,23,29,2,14,3,31,18,249,261,401,600,229,12,19,22,52,210,662,629]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n,s,t,o,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModesContentHoverWidget=void 0;class g{constructor(N,M,D){this.range=N,this.color=M,this.provider=D}equals(N){return!1}}class m{constructor(N,M){this.owner=N,this.data=M}}class f{constructor(N,M,D){this._markerHoverParticipant=M,this._markdownHoverParticipant=D,this._editor=N,this._result=[],this._range=null}setRange(N){this._range=N,this._result=[]}clearResult(){this._result=[]}computeAsync(N){return Ie(this,void 0,void 0,function*(){return!this._editor.hasModel()||!this._range?Promise.resolve([]):(yield this._markdownHoverParticipant.computeAsync(this._range,N)).map(D=>new m(this._markdownHoverParticipant,D))})}computeSync(){if(!this._editor.hasModel()||!this._range)return[];const N=this._editor.getModel(),M=this._range,D=M.startLineNumber;if(D>this._editor.getModel().getLineCount())return[];const R=N.getLineMaxColumn(D),P=this._editor.getLineDecorations(D).filter(A=>{if(A.options.isWholeLine)return!0;const B=A.range.startLineNumber===D?A.range.startColumn:1,H=A.range.endLineNumber===D?A.range.endColumn:R;return!(B>M.startColumn||M.endColumn>H)});let O=[];const W=u.ColorDetector.get(this._editor);for(const A of P){const B=W.getColorData(A.range.getStartPosition());if(B){const{color:H,range:K}=B.colorInfo;O.push(new m(null,new g(_.Range.lift(K),H,B.provider)));break}}const F=this._markdownHoverParticipant.computeSync(this._range,P);O=O.concat(F.map(A=>new m(this._markdownHoverParticipant,A)));const E=this._markerHoverParticipant.computeSync(this._range,P);return O=O.concat(E.map(A=>new m(this._markerHoverParticipant,A))),(0,r.coalesce)(O)}onResult(N,M){M?this._result=N.concat(this._result):this._result=this._result.concat(N)}getResult(){return this._result.slice(0)}getResultWithLoadingMessage(){if(this._range){const N=new m(this._markdownHoverParticipant,this._markdownHoverParticipant.createLoadingMessage(this._range));return this._result.slice(0).concat([N])}return this._result.slice(0)}}class b extends s.Widget{constructor(N,M,D,R){super();this._hoverVisibleKey=M,this._themeService=R,this.allowEditorOverflow=!0,this._markerHoverParticipant=D.createInstance(o.MarkerHoverParticipant,N,this),this._markdownHoverParticipant=D.createInstance(h.MarkdownHoverParticipant,N,this),this._hover=this._register(new t.HoverWidget),this._id=b.ID,this._editor=N,this._isVisible=!1,this._stoleFocus=!1,this._renderDisposable=null,this.onkeydown(this._hover.containerDomNode,P=>{P.equals(9)&&this.hide()}),this._register(this._editor.onDidChangeConfiguration(P=>{P.hasChanged(40)&&this._updateFont()})),this._editor.onDidLayoutChange(()=>this.layout()),this.layout(),this._editor.addContentWidget(this),this._showAtPosition=null,this._showAtRange=null,this._stoleFocus=!1,this._messages=[],this._lastRange=null,this._computer=new f(this._editor,this._markerHoverParticipant,this._markdownHoverParticipant),this._highlightDecorations=[],this._isChangingDecorations=!1,this._shouldFocus=!1,this._colorPicker=null,this._hoverOperation=new c.HoverOperation(this._computer,P=>this._withResult(P,!0),null,P=>this._withResult(P,!1),this._editor.getOption(50).delay),this._register(v.addStandardDisposableListener(this.getDomNode(),v.EventType.FOCUS,()=>{this._colorPicker&&this.getDomNode().classList.add("colorpicker-hover")})),this._register(v.addStandardDisposableListener(this.getDomNode(),v.EventType.BLUR,()=>{this.getDomNode().classList.remove("colorpicker-hover")})),this._register(N.onDidChangeConfiguration(()=>{this._hoverOperation.setHoverTime(this._editor.getOption(50).delay)})),this._register(i.TokenizationRegistry.onDidChange(()=>{this._isVisible&&this._lastRange&&this._messages.length>0&&(this._messages=this._messages.map(P=>{var O,W;if(P.data instanceof g&&!!((O=this._lastRange)===null||O===void 0?void 0:O.intersectRanges(P.data.range))&&((W=this._colorPicker)===null||W===void 0?void 0:W.model.color)){const F=this._colorPicker.model.color,E={red:F.rgba.r/255,green:F.rgba.g/255,blue:F.rgba.b/255,alpha:F.rgba.a};return new m(P.owner,new g(P.data.range,E,P.data.provider))}else return P}),this._hover.contentsDomNode.textContent="",this._renderMessages(this._lastRange,this._messages))}))}dispose(){this._hoverOperation.cancel(),this._editor.removeContentWidget(this),super.dispose()}getId(){return this._id}getDomNode(){return this._hover.containerDomNode}showAt(N,M,D){this._showAtPosition=N,this._showAtRange=M,this._hoverVisibleKey.set(!0),this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._editor.render(),this._stoleFocus=D,D&&this._hover.containerDomNode.focus()}getPosition(){return this._isVisible?{position:this._showAtPosition,range:this._showAtRange,preference:[1,2]}:null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(M=>this._editor.applyFontInfo(M))}_updateContents(N){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(N),this._updateFont(),this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}layout(){const N=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:M,lineHeight:D}=this._editor.getOption(40);this._hover.contentsDomNode.style.fontSize=`${M}px`,this._hover.contentsDomNode.style.lineHeight=`${D}px`,this._hover.contentsDomNode.style.maxHeight=`${N}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(this._editor.getLayoutInfo().width*.66,500)}px`}onModelDecorationsChanged(){this._isChangingDecorations||this._isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._colorPicker||this._hoverOperation.start(0))}startShowingAt(N,M,D){if(!(this._lastRange&&this._lastRange.equalsRange(N))){if(this._hoverOperation.cancel(),this._isVisible)if(!this._showAtPosition||this._showAtPosition.lineNumber!==N.startLineNumber)this.hide();else{let R=[];for(let P=0,O=this._messages.length;P<O;P++){const W=this._messages[P],F=W.data.range;F&&F.startColumn<=N.startColumn&&F.endColumn>=N.endColumn&&R.push(W)}if(R.length>0){if(y(R,this._messages))return;this._renderMessages(N,R)}else this.hide()}this._lastRange=N,this._computer.setRange(N),this._shouldFocus=D,this._hoverOperation.start(M)}}hide(){this._lastRange=null,this._hoverOperation.cancel(),this._isVisible&&(setTimeout(()=>{this._isVisible||this._hoverVisibleKey.set(!1)},0),this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._stoleFocus&&this._editor.focus()),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[]),this._isChangingDecorations=!1,this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null}isColorPickerVisible(){return!!this._colorPicker}onContentsChanged(){this._hover.onContentsChanged()}_withResult(N,M){this._messages=N,this._lastRange&&this._messages.length>0?this._renderMessages(this._lastRange,this._messages):M&&this.hide()}_renderMessages(N,M){this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null;let D=1073741824,R=M[0].data.range?_.Range.lift(M[0].data.range):null,P=document.createDocumentFragment(),O=!1;const W=new w.DisposableStore,F=[],E=[];M.forEach(A=>{const B=A.data;if(!!B.range)if(D=Math.min(D,B.range.startColumn),R=R?_.Range.plusRange(R,B.range):_.Range.lift(B.range),B instanceof g){O=!0;const{red:H,green:K,blue:q,alpha:Y}=B.color,te=new k.RGBA(Math.round(H*255),Math.round(K*255),Math.round(q*255),Y),ie=new k.Color(te);if(!this._editor.hasModel())return;const ae=this._editor.getModel();let le=new _.Range(B.range.startLineNumber,B.range.startColumn,B.range.endLineNumber,B.range.endColumn),Z={range:B.range,color:B.color};const T=new a.ColorPickerModel(ie,[],0),x=new l.ColorPickerWidget(P,T,this._editor.getOption(125),this._themeService);(0,p.getColorPresentations)(ae,Z,B.provider,I.CancellationToken.None).then(z=>{if(T.colorPresentations=z||[],!!this._editor.hasModel()){const V=this._editor.getModel().getValueInRange(B.range);T.guessColorPresentation(ie,V);const U=()=>{let G,j;if(T.presentation.textEdit){G=[T.presentation.textEdit],j=new _.Range(T.presentation.textEdit.range.startLineNumber,T.presentation.textEdit.range.startColumn,T.presentation.textEdit.range.endLineNumber,T.presentation.textEdit.range.endColumn);const ne=this._editor.getModel()._setTrackedRange(null,j,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",G),j=this._editor.getModel()._getTrackedRange(ne)||j}else G=[{identifier:null,range:le,text:T.presentation.label,forceMoveMarkers:!1}],j=le.setEndPosition(le.endLineNumber,le.startColumn+T.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",G);T.presentation.additionalTextEdits&&(G=[...T.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",G),this.hide()),this._editor.pushUndoStop(),le=j},Q=G=>(0,p.getColorPresentations)(ae,{range:le,color:{red:G.rgba.r/255,green:G.rgba.g/255,blue:G.rgba.b/255,alpha:G.rgba.a}},B.provider,I.CancellationToken.None).then(j=>{T.colorPresentations=j||[]}),se=T.onColorFlushed(G=>{Q(G).then(U)}),oe=T.onDidChangeColor(Q);this._colorPicker=x,this.showAt(le.getStartPosition(),le,this._shouldFocus),this._updateContents(P),this._colorPicker.layout(),this._renderDisposable=(0,w.combinedDisposable)(se,oe,x,W)}})}else B instanceof o.MarkerHover?F.push(B):B instanceof h.MarkdownHover&&E.push(B)}),E.length>0&&W.add(this._markdownHoverParticipant.renderHoverParts(E,P)),F.length&&W.add(this._markerHoverParticipant.renderHoverParts(F,P)),this._renderDisposable=W,!O&&P.hasChildNodes()&&(this.showAt(new S.Position(N.startLineNumber,D),R,this._shouldFocus),this._updateContents(P)),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,R?[{range:R,options:b._DECORATION_OPTIONS}]:[]),this._isChangingDecorations=!1}}e.ModesContentHoverWidget=b,b.ID="editor.contrib.modesContentHoverWidget",b._DECORATION_OPTIONS=C.ModelDecorationOptions.register({className:"hoverHighlight"});function y(L,N){if(L.length!==N.length)return!1;for(let M=0;M<L.length;M++)if(!L[M].data.equals(N[M].data))return!1;return!0}(0,d.registerThemingParticipant)((L,N)=>{const M=L.getColor(n.textLinkForeground);M&&N.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${M}; }`)})}),define(J[664],ee([0,1,498,15,39,2,41,13,241,3,21,25,53,31,18,268,34,22,12,16]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n,s,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionHighlighter=e.CompatChangeAll=e.SelectHighlightsAction=e.MoveSelectionToPreviousFindMatchAction=e.MoveSelectionToNextFindMatchAction=e.AddSelectionToPreviousFindMatchAction=e.AddSelectionToNextFindMatchAction=e.MultiCursorSelectionControllerAction=e.MultiCursorSelectionController=e.MultiCursorSession=e.MultiCursorSessionResult=e.InsertCursorBelow=e.InsertCursorAbove=void 0;function o(K,q){const Y=q.filter(te=>!K.find(ie=>ie.equals(te)));if(Y.length>=1){const te=Y.map(ae=>`line ${ae.viewState.position.lineNumber} column ${ae.viewState.position.column}`).join(", "),ie=Y.length===1?v.localize(0,null,te):v.localize(1,null,te);(0,S.status)(ie)}}class h extends _.EditorAction{constructor(){super({id:"editor.action.insertCursorAbove",label:v.localize(2,null),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:2048|512|16,linux:{primary:1024|512|16,secondary:[2048|1024|16]},weight:100},menuOpts:{menuId:r.MenuId.MenubarSelectionMenu,group:"3_multi",title:v.localize(3,null),order:2}})}run(q,Y,te){if(!!Y.hasModel()){const ie=te&&te.logicalLine===!0,ae=Y._getViewModel();if(!ae.cursorConfig.readOnly){ae.pushStackElement();const le=ae.getCursorStates();ae.setCursorStates(te.source,3,C.CursorMoveCommands.addCursorUp(ae,le,ie)),ae.revealTopMostCursor(te.source),o(le,ae.getCursorStates())}}}}e.InsertCursorAbove=h;class g extends _.EditorAction{constructor(){super({id:"editor.action.insertCursorBelow",label:v.localize(4,null),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:2048|512|18,linux:{primary:1024|512|18,secondary:[2048|1024|18]},weight:100},menuOpts:{menuId:r.MenuId.MenubarSelectionMenu,group:"3_multi",title:v.localize(5,null),order:3}})}run(q,Y,te){if(!!Y.hasModel()){const ie=te&&te.logicalLine===!0,ae=Y._getViewModel();if(!ae.cursorConfig.readOnly){ae.pushStackElement();const le=ae.getCursorStates();ae.setCursorStates(te.source,3,C.CursorMoveCommands.addCursorDown(ae,le,ie)),ae.revealBottomMostCursor(te.source),o(le,ae.getCursorStates())}}}}e.InsertCursorBelow=g;class m extends _.EditorAction{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:v.localize(6,null),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:1024|512|39,weight:100},menuOpts:{menuId:r.MenuId.MenubarSelectionMenu,group:"3_multi",title:v.localize(7,null),order:4}})}getCursorsForSelection(q,Y,te){if(!q.isEmpty()){for(let ie=q.startLineNumber;ie<q.endLineNumber;ie++){let ae=Y.getLineMaxColumn(ie);te.push(new p.Selection(ie,ae,ie,ae))}q.endColumn>1&&te.push(new p.Selection(q.endLineNumber,q.endColumn,q.endLineNumber,q.endColumn))}}run(q,Y){if(!!Y.hasModel()){const te=Y.getModel(),ie=Y.getSelections(),ae=Y._getViewModel(),le=ae.getCursorStates();let Z=[];ie.forEach(T=>this.getCursorsForSelection(T,te,Z)),Z.length>0&&Y.setSelections(Z),o(le,ae.getCursorStates())}}}class f extends _.EditorAction{constructor(){super({id:"editor.action.addCursorsToBottom",label:v.localize(8,null),alias:"Add Cursors To Bottom",precondition:void 0})}run(q,Y){if(!!Y.hasModel()){const te=Y.getSelections(),ie=Y.getModel().getLineCount();let ae=[];for(let T=te[0].startLineNumber;T<=ie;T++)ae.push(new p.Selection(T,te[0].startColumn,T,te[0].endColumn));const le=Y._getViewModel(),Z=le.getCursorStates();ae.length>0&&Y.setSelections(ae),o(Z,le.getCursorStates())}}}class b extends _.EditorAction{constructor(){super({id:"editor.action.addCursorsToTop",label:v.localize(9,null),alias:"Add Cursors To Top",precondition:void 0})}run(q,Y){if(!!Y.hasModel()){const te=Y.getSelections();let ie=[];for(let Z=te[0].startLineNumber;Z>=1;Z--)ie.push(new p.Selection(Z,te[0].startColumn,Z,te[0].endColumn));const ae=Y._getViewModel(),le=ae.getCursorStates();ie.length>0&&Y.setSelections(ie),o(le,ae.getCursorStates())}}}class y{constructor(q,Y,te){this.selections=q,this.revealRange=Y,this.revealScrollType=te}}e.MultiCursorSessionResult=y;class L{constructor(q,Y,te,ie,ae,le,Z){this._editor=q,this.findController=Y,this.isDisconnectedFromFindController=te,this.searchText=ie,this.wholeWord=ae,this.matchCase=le,this.currentMatch=Z}static create(q,Y){if(!q.hasModel())return null;const te=Y.getState();if(!q.hasTextFocus()&&te.isRevealed&&te.searchString.length>0)return new L(q,Y,!1,te.searchString,te.wholeWord,te.matchCase,null);let ie=!1,ae,le;const Z=q.getSelections();Z.length===1&&Z[0].isEmpty()?(ie=!0,ae=!0,le=!0):(ae=te.wholeWord,le=te.matchCase);const T=q.getSelection();let x,z=null;if(T.isEmpty()){const V=q.getConfiguredWordAtPosition(T.getStartPosition());if(!V)return null;x=V.word,z=new p.Selection(T.startLineNumber,V.startColumn,T.startLineNumber,V.endColumn)}else x=q.getModel().getValueInRange(T).replace(/\r\n/g,`
`);return new L(q,Y,ie,x,ae,le,z)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const q=this._getNextMatch();if(!q)return null;const Y=this._editor.getSelections();return new y(Y.concat(q),q,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const q=this._getNextMatch();if(!q)return null;const Y=this._editor.getSelections();return new y(Y.slice(0,Y.length-1).concat(q),q,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const ie=this.currentMatch;return this.currentMatch=null,ie}this.findController.highlightFindOptions();const q=this._editor.getSelections(),Y=q[q.length-1],te=this._editor.getModel().findNextMatch(this.searchText,Y.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(113):null,!1);return te?new p.Selection(te.range.startLineNumber,te.range.startColumn,te.range.endLineNumber,te.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const q=this._getPreviousMatch();if(!q)return null;const Y=this._editor.getSelections();return new y(Y.concat(q),q,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const q=this._getPreviousMatch();if(!q)return null;const Y=this._editor.getSelections();return new y(Y.slice(0,Y.length-1).concat(q),q,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const ie=this.currentMatch;return this.currentMatch=null,ie}this.findController.highlightFindOptions();const q=this._editor.getSelections(),Y=q[q.length-1],te=this._editor.getModel().findPreviousMatch(this.searchText,Y.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(113):null,!1);return te?new p.Selection(te.range.startLineNumber,te.range.startColumn,te.range.endLineNumber,te.range.endColumn):null}selectAll(){return this._editor.hasModel()?(this.findController.highlightFindOptions(),this._editor.getModel().findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(113):null,!1,1073741824)):[]}}e.MultiCursorSession=L;class N extends w.Disposable{constructor(q){super();this._sessionDispose=this._register(new w.DisposableStore),this._editor=q,this._ignoreSelectionChange=!1,this._session=null}static get(q){return q.getContribution(N.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(q){if(!this._session){const Y=L.create(this._editor,q);if(!Y)return;this._session=Y;const te={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(te.wholeWordOverride=1,te.matchCaseOverride=1,te.isRegexOverride=2),q.getState().change(te,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(ie=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(q.getState().onFindReplaceStateChange(ie=>{(ie.matchCase||ie.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const q={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(q,!1)}this._session=null}_setSelections(q){this._ignoreSelectionChange=!0,this._editor.setSelections(q),this._ignoreSelectionChange=!1}_expandEmptyToWord(q,Y){if(!Y.isEmpty())return Y;const te=this._editor.getConfiguredWordAtPosition(Y.getStartPosition());return te?new p.Selection(Y.startLineNumber,te.startColumn,Y.startLineNumber,te.endColumn):Y}_applySessionResult(q){!q||(this._setSelections(q.selections),q.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(q.revealRange,q.revealScrollType))}getSession(q){return this._session}addSelectionToNextFindMatch(q){if(!!this._editor.hasModel()){if(!this._session){const Y=this._editor.getSelections();if(Y.length>1){const ie=q.getState().matchCase;if(!B(this._editor.getModel(),Y,ie)){const le=this._editor.getModel();let Z=[];for(let T=0,x=Y.length;T<x;T++)Z[T]=this._expandEmptyToWord(le,Y[T]);this._editor.setSelections(Z);return}}}this._beginSessionIfNeeded(q),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(q){this._beginSessionIfNeeded(q),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(q){this._beginSessionIfNeeded(q),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(q){this._beginSessionIfNeeded(q),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(q){if(!!this._editor.hasModel()){let Y=null;const te=q.getState();if(te.isRevealed&&te.searchString.length>0&&te.isRegex)Y=this._editor.getModel().findMatches(te.searchString,!0,te.isRegex,te.matchCase,te.wholeWord?this._editor.getOption(113):null,!1,1073741824);else{if(this._beginSessionIfNeeded(q),!this._session)return;Y=this._session.selectAll()}if(te.searchScope){const ie=te.searchScope;let ae=[];Y.forEach(le=>{ie.forEach(Z=>{le.range.endLineNumber<=Z.endLineNumber&&le.range.startLineNumber>=Z.startLineNumber&&ae.push(le)})}),Y=ae}if(Y.length>0){const ie=this._editor.getSelection();for(let ae=0,le=Y.length;ae<le;ae++){const Z=Y[ae];if(Z.range.intersectRanges(ie)){Y[ae]=Y[0],Y[0]=Z;break}}this._setSelections(Y.map(ae=>new p.Selection(ae.range.startLineNumber,ae.range.startColumn,ae.range.endLineNumber,ae.range.endColumn)))}}}}e.MultiCursorSelectionController=N,N.ID="editor.contrib.multiCursorController";class M extends _.EditorAction{run(q,Y){const te=N.get(Y);if(!!te){const ie=d.CommonFindController.get(Y);if(!!ie){const ae=Y._getViewModel();if(ae){const le=ae.getCursorStates();this._run(te,ie),o(le,ae.getCursorStates())}}}}}e.MultiCursorSelectionControllerAction=M;class D extends M{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:v.localize(10,null),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:u.EditorContextKeys.focus,primary:2048|34,weight:100},menuOpts:{menuId:r.MenuId.MenubarSelectionMenu,group:"3_multi",title:v.localize(11,null),order:5}})}_run(q,Y){q.addSelectionToNextFindMatch(Y)}}e.AddSelectionToNextFindMatchAction=D;class R extends M{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:v.localize(12,null),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:r.MenuId.MenubarSelectionMenu,group:"3_multi",title:v.localize(13,null),order:6}})}_run(q,Y){q.addSelectionToPreviousFindMatch(Y)}}e.AddSelectionToPreviousFindMatchAction=R;class P extends M{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:v.localize(14,null),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:u.EditorContextKeys.focus,primary:(0,k.KeyChord)(2048|41,2048|34),weight:100}})}_run(q,Y){q.moveSelectionToNextFindMatch(Y)}}e.MoveSelectionToNextFindMatchAction=P;class O extends M{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:v.localize(15,null),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(q,Y){q.moveSelectionToPreviousFindMatch(Y)}}e.MoveSelectionToPreviousFindMatchAction=O;class W extends M{constructor(){super({id:"editor.action.selectHighlights",label:v.localize(16,null),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:u.EditorContextKeys.focus,primary:2048|1024|42,weight:100},menuOpts:{menuId:r.MenuId.MenubarSelectionMenu,group:"3_multi",title:v.localize(17,null),order:7}})}_run(q,Y){q.selectAll(Y)}}e.SelectHighlightsAction=W;class F extends M{constructor(){super({id:"editor.action.changeAll",label:v.localize(18,null),alias:"Change All Occurrences",precondition:t.ContextKeyExpr.and(u.EditorContextKeys.writable,u.EditorContextKeys.editorTextFocus),kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:2048|60,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(q,Y){q.selectAll(Y)}}e.CompatChangeAll=F;class E{constructor(q,Y,te,ie){this.searchText=q,this.matchCase=Y,this.wordSeparators=te,this.modelVersionId=ie}static softEquals(q,Y){return!q&&!Y?!0:!q||!Y?!1:q.searchText===Y.searchText&&q.matchCase===Y.matchCase&&q.wordSeparators===Y.wordSeparators&&q.modelVersionId===Y.modelVersionId}}class A extends w.Disposable{constructor(q){super();this.editor=q,this._isEnabled=q.getOption(94),this.decorations=[],this.updateSoon=this._register(new I.RunOnceScheduler(()=>this._update(),300)),this.state=null,this._register(q.onDidChangeConfiguration(Y=>{this._isEnabled=q.getOption(94)})),this._register(q.onDidChangeCursorSelection(Y=>{!this._isEnabled||(Y.selection.isEmpty()?Y.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(q.onDidChangeModel(Y=>{this._setState(null)})),this._register(q.onDidChangeModelContent(Y=>{this._isEnabled&&this.updateSoon.schedule()})),this._register(d.CommonFindController.get(q).getState().onFindReplaceStateChange(Y=>{this._update()}))}_update(){this._setState(A._createState(this._isEnabled,this.editor))}static _createState(q,Y){if(!q||!Y.hasModel())return null;const te=Y.getSelection();if(te.startLineNumber!==te.endLineNumber)return null;const ie=N.get(Y);if(!ie)return null;const ae=d.CommonFindController.get(Y);if(!ae)return null;let le=ie.getSession(ae);if(!le){const x=Y.getSelections();if(x.length>1){const V=ae.getState().matchCase;if(!B(Y.getModel(),x,V))return null}le=L.create(Y,ae)}if(!le||le.currentMatch||/^[ \t]+$/.test(le.searchText)||le.searchText.length>200)return null;const Z=ae.getState(),T=Z.matchCase;if(Z.isRevealed){let x=Z.searchString;T||(x=x.toLowerCase());let z=le.searchText;if(T||(z=z.toLowerCase()),x===z&&le.matchCase===Z.matchCase&&le.wholeWord===Z.wholeWord&&!Z.isRegex)return null}return new E(le.searchText,le.matchCase,le.wholeWord?Y.getOption(113):null,Y.getModel().getVersionId())}_setState(q){if(E.softEquals(this.state,q)){this.state=q;return}if(this.state=q,!this.state){this.decorations=this.editor.deltaDecorations(this.decorations,[]);return}if(!!this.editor.hasModel()){const Y=this.editor.getModel();if(!Y.isTooLargeForTokenization()){const te=c.DocumentHighlightProviderRegistry.has(Y)&&this.editor.getOption(68);let ie=Y.findMatches(this.state.searchText,!0,!1,this.state.matchCase,this.state.wordSeparators,!1).map(T=>T.range);ie.sort(i.Range.compareRangesUsingStarts);let ae=this.editor.getSelections();ae.sort(i.Range.compareRangesUsingStarts);let le=[];for(let T=0,x=0,z=ie.length,V=ae.length;T<z;){const U=ie[T];if(x>=V)le.push(U),T++;else{const Q=i.Range.compareRangesUsingStarts(U,ae[x]);Q<0?((ae[x].isEmpty()||!i.Range.areIntersecting(U,ae[x]))&&le.push(U),T++):(Q>0||T++,x++)}}const Z=le.map(T=>({range:T,options:te?A._SELECTION_HIGHLIGHT:A._SELECTION_HIGHLIGHT_OVERVIEW}));this.decorations=this.editor.deltaDecorations(this.decorations,Z)}}}dispose(){this._setState(null),super.dispose()}}e.SelectionHighlighter=A,A.ID="editor.contrib.selectionHighlighter",A._SELECTION_HIGHLIGHT_OVERVIEW=l.ModelDecorationOptions.register({stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,s.themeColorFromId)(n.overviewRulerSelectionHighlightForeground),position:a.OverviewRulerLane.Center}}),A._SELECTION_HIGHLIGHT=l.ModelDecorationOptions.register({stickiness:1,className:"selectionHighlight"});function B(K,q,Y){const te=H(K,q[0],!Y);for(let ie=1,ae=q.length;ie<ae;ie++){const le=q[ie];if(le.isEmpty())return!1;const Z=H(K,le,!Y);if(te!==Z)return!1}return!0}function H(K,q,Y){const te=K.getValueInRange(q);return Y?te.toLowerCase():te}(0,_.registerEditorContribution)(N.ID,N),(0,_.registerEditorContribution)(A.ID,A),(0,_.registerEditorAction)(h),(0,_.registerEditorAction)(g),(0,_.registerEditorAction)(m),(0,_.registerEditorAction)(D),(0,_.registerEditorAction)(R),(0,_.registerEditorAction)(P),(0,_.registerEditorAction)(O),(0,_.registerEditorAction)(W),(0,_.registerEditorAction)(F),(0,_.registerEditorAction)(f),(0,_.registerEditorAction)(b)}),define(J[665],ee([0,1,7,55,41,61,6,2,57,140,184,500,16,58,22,12,550,8,27,20,97,80,349]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n,s,t,o,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsWidget=void 0;const g=v.$,m=(0,h.registerIcon)("parameter-hints-next",s.Codicon.chevronDown,u.localize(0,null)),f=(0,h.registerIcon)("parameter-hints-previous",s.Codicon.chevronUp,u.localize(1,null));let b=class jt extends _.Disposable{constructor(L,N,M,D){super();this.editor=L,this.renderDisposeables=this._register(new _.DisposableStore),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new i.MarkdownRenderer({editor:L},D,M)),this.model=this._register(new r.ParameterHintsModel(L)),this.keyVisible=p.Context.Visible.bindTo(N),this.keyMultipleSignatures=p.Context.MultipleSignatures.bindTo(N),this._register(this.model.onChangedHints(R=>{R?(this.show(),this.render(R)):this.hide()}))}createParamaterHintDOMNodes(){const L=g(".editor-widget.parameter-hints-widget"),N=v.append(L,g(".phwrapper"));N.tabIndex=-1;const M=v.append(N,g(".controls")),D=v.append(M,g(".button"+d.ThemeIcon.asCSSSelector(f))),R=v.append(M,g(".overloads")),P=v.append(M,g(".button"+d.ThemeIcon.asCSSSelector(m))),O=(0,I.stop)((0,I.domEvent)(D,"click"));this._register(O(this.previous,this));const W=(0,I.stop)((0,I.domEvent)(P,"click"));this._register(W(this.next,this));const F=g(".body"),E=new w.DomScrollableElement(F,{});this._register(E),N.appendChild(E.getDomNode());const A=v.append(F,g(".signature")),B=v.append(F,g(".docs"));L.style.userSelect="text",this.domNodes={element:L,signature:A,overloads:R,docs:B,scrollbar:E},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(K=>{this.visible&&this.editor.layoutContentWidget(this)}));const H=()=>{if(!!this.domNodes){const K=this.editor.getOption(40);this.domNodes.element.style.fontSize=`${K.fontSize}px`}};H(),this._register(S.Event.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(K=>K.hasChanged(40)).on(H,null)),this._register(this.editor.onDidLayoutChange(K=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParamaterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{this.domNodes&&this.domNodes.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){this.renderDisposeables.clear(),!!this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes&&this.domNodes.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(L){var N;if(this.renderDisposeables.clear(),!!this.domNodes){const M=L.signatures.length>1;this.domNodes.element.classList.toggle("multiple",M),this.keyMultipleSignatures.set(M),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const D=L.signatures[L.activeSignature];if(!!D){const R=v.append(this.domNodes.signature,g(".code")),P=this.editor.getOption(40);R.style.fontSize=`${P.fontSize}px`,R.style.fontFamily=P.fontFamily;const O=D.parameters.length>0,W=(N=D.activeParameter)!==null&&N!==void 0?N:L.activeParameter;if(O)this.renderParameters(R,D,W);else{const A=v.append(R,g("span"));A.textContent=D.label}const F=D.parameters[W];if(F==null?void 0:F.documentation){const A=g("span.documentation");if(typeof F.documentation=="string")A.textContent=F.documentation;else{const B=this.renderMarkdownDocs(F.documentation);A.appendChild(B.element)}v.append(this.domNodes.docs,g("p",{},A))}if(D.documentation!==void 0)if(typeof D.documentation=="string")v.append(this.domNodes.docs,g("p",{},D.documentation));else{const A=this.renderMarkdownDocs(D.documentation);v.append(this.domNodes.docs,A.element)}const E=this.hasDocs(D,F);if(this.domNodes.signature.classList.toggle("has-docs",E),this.domNodes.docs.classList.toggle("empty",!E),this.domNodes.overloads.textContent=String(L.activeSignature+1).padStart(L.signatures.length.toString().length,"0")+"/"+L.signatures.length,F){const A=this.getParameterLabel(D,W);this.announcedLabel!==A&&(k.alert(u.localize(2,null,A)),this.announcedLabel=A)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}}}renderMarkdownDocs(L){const N=this.renderDisposeables.add(this.markdownRenderer.render(L,{asyncRenderCallback:()=>{var M;(M=this.domNodes)===null||M===void 0||M.scrollbar.scanDomNode()}}));return N.element.classList.add("markdown-docs"),N}hasDocs(L,N){return!!(N&&typeof N.documentation=="string"&&(0,t.assertIsDefined)(N.documentation).length>0||N&&typeof N.documentation=="object"&&(0,t.assertIsDefined)(N.documentation).value.length>0||L.documentation&&typeof L.documentation=="string"&&(0,t.assertIsDefined)(L.documentation).length>0||L.documentation&&typeof L.documentation=="object"&&(0,t.assertIsDefined)(L.documentation.value).length>0)}renderParameters(L,N,M){const[D,R]=this.getParameterLabelOffsets(N,M),P=document.createElement("span");P.textContent=N.label.substring(0,D);const O=document.createElement("span");O.textContent=N.label.substring(D,R),O.className="parameter active";const W=document.createElement("span");W.textContent=N.label.substring(R),v.append(L,P,O,W)}getParameterLabel(L,N){const M=L.parameters[N];return Array.isArray(M.label)?L.label.substring(M.label[0],M.label[1]):M.label}getParameterLabelOffsets(L,N){const M=L.parameters[N];if(M){if(Array.isArray(M.label))return M.label;if(M.label.length){const D=new RegExp(`(\\W|^)${(0,n.escapeRegExpCharacters)(M.label)}(?=\\W|$)`,"g");D.test(L.label);const R=D.lastIndex-M.label.length;return R>=0?[R,D.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParamaterHintDOMNodes(),this.domNodes.element}getId(){return jt.ID}trigger(L){this.model.trigger(L,0)}updateMaxHeight(){if(!!this.domNodes){const N=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=N;const M=this.domNodes.element.getElementsByClassName("phwrapper");M.length&&(M[0].style.maxHeight=N)}}};b.ID="editor.widget.parameterHintsWidget",b=Me([pe(1,a.IContextKeyService),pe(2,l.IOpenerService),pe(3,C.IModeService)],b),e.ParameterHintsWidget=b,(0,d.registerThemingParticipant)((y,L)=>{const N=y.getColor(c.editorHoverBorder);if(N){const O=y.type===o.ColorScheme.HIGH_CONTRAST?2:1;L.addRule(`.monaco-editor .parameter-hints-widget { border: ${O}px solid ${N}; }`),L.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${N.transparent(.5)}; }`),L.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${N.transparent(.5)}; }`)}const M=y.getColor(c.editorHoverBackground);M&&L.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${M}; }`);const D=y.getColor(c.textLinkForeground);D&&L.addRule(`.monaco-editor .parameter-hints-widget a { color: ${D}; }`);const R=y.getColor(c.editorHoverForeground);R&&L.addRule(`.monaco-editor .parameter-hints-widget { color: ${R}; }`);const P=y.getColor(c.textCodeBlockBackground);P&&L.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${P}; }`)})}),define(J[666],ee([0,1,499,2,9,25,16,13,665,184,18]),function($,e,v,I,k,w,S,_,C,i,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerParameterHintsAction=void 0;let u=class Gt extends I.Disposable{constructor(r,n){super();this.editor=r,this.widget=this._register(n.createInstance(C.ParameterHintsWidget,this.editor))}static get(r){return r.getContribution(Gt.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(r){this.widget.trigger(r)}};u.ID="editor.controller.parameterHints",u=Me([pe(1,k.IInstantiationService)],u);class a extends _.EditorAction{constructor(){super({id:"editor.action.triggerParameterHints",label:v.localize(0,null),alias:"Trigger Parameter Hints",precondition:w.EditorContextKeys.hasSignatureHelpProvider,kbOpts:{kbExpr:w.EditorContextKeys.editorTextFocus,primary:2048|1024|10,weight:100}})}run(r,n){const s=u.get(n);s&&s.trigger({triggerKind:p.SignatureHelpTriggerKind.Invoke})}}e.TriggerParameterHintsAction=a,(0,_.registerEditorContribution)(u.ID,u),(0,_.registerEditorAction)(a);const l=100+75,c=_.EditorCommand.bindToContribution(u.get);(0,_.registerEditorCommand)(new c({id:"closeParameterHints",precondition:i.Context.Visible,handler:d=>d.cancel(),kbOpts:{weight:l,kbExpr:w.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),(0,_.registerEditorCommand)(new c({id:"showPrevParameterHint",precondition:S.ContextKeyExpr.and(i.Context.Visible,i.Context.MultipleSignatures),handler:d=>d.previous(),kbOpts:{weight:l,kbExpr:w.EditorContextKeys.focus,primary:16,secondary:[512|16],mac:{primary:16,secondary:[512|16,256|46]}}})),(0,_.registerEditorCommand)(new c({id:"showNextParameterHint",precondition:S.ContextKeyExpr.and(i.Context.Visible,i.Context.MultipleSignatures),handler:d=>d.next(),kbOpts:{weight:l,kbExpr:w.EditorContextKeys.focus,primary:18,secondary:[512|18],mac:{primary:18,secondary:[512|18,256|44]}}}))}),define(J[667],ee([0,1,513,66,2,7,12,57,18,175,565,36,24,237,19,254,27,6,80]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n,s){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.ItemRenderer=e.suggestMoreInfoIcon=e.getAriaId=void 0;function o(m){return`suggest-aria-id:${m}`}e.getAriaId=o,e.suggestMoreInfoIcon=(0,s.registerIcon)("suggest-more-info",r.Codicon.chevronRight,v.localize(0,null));const h=new(t=class ft{extract(f,b){if(f.textLabel.match(ft._regexStrict))return b[0]=f.textLabel,!0;if(f.completion.detail&&f.completion.detail.match(ft._regexStrict))return b[0]=f.completion.detail,!0;if(typeof f.completion.documentation=="string"){const y=ft._regexRelaxed.exec(f.completion.documentation);if(y&&(y.index===0||y.index+y[0].length===f.completion.documentation.length))return b[0]=y[0],!0}return!1}},t._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,t._regexStrict=new RegExp(`^${t._regexRelaxed.source}$`,"i"),t);let g=class{constructor(f,b,y,L){this._editor=f,this._modelService=b,this._modeService=y,this._themeService=L,this._onDidToggleDetails=new n.Emitter,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(f){const b=Object.create(null);b.disposables=new k.DisposableStore,b.root=f,b.root.classList.add("show-file-icons"),b.icon=(0,w.append)(f,(0,w.$)(".icon")),b.colorspan=(0,w.append)(b.icon,(0,w.$)("span.colorspan"));const y=(0,w.append)(f,(0,w.$)(".contents")),L=(0,w.append)(y,(0,w.$)(".main"));b.iconContainer=(0,w.append)(L,(0,w.$)(".icon-label.codicon")),b.left=(0,w.append)(L,(0,w.$)("span.left")),b.right=(0,w.append)(L,(0,w.$)("span.right")),b.iconLabel=new i.IconLabel(b.left,{supportHighlights:!0,supportIcons:!0}),b.disposables.add(b.iconLabel),b.parametersLabel=(0,w.append)(b.left,(0,w.$)("span.signature-label")),b.qualifierLabel=(0,w.append)(b.left,(0,w.$)("span.qualifier-label")),b.detailsLabel=(0,w.append)(b.right,(0,w.$)("span.details-label")),b.readMore=(0,w.append)(b.right,(0,w.$)("span.readMore"+S.ThemeIcon.asCSSSelector(e.suggestMoreInfoIcon))),b.readMore.title=v.localize(1,null);const N=()=>{const M=this._editor.getOptions(),D=M.get(40),R=D.fontFamily,P=D.fontFeatureSettings,O=M.get(104)||D.fontSize,W=M.get(105)||D.lineHeight,F=D.fontWeight,E=`${O}px`,A=`${W}px`;b.root.style.fontSize=E,b.root.style.fontWeight=F,L.style.fontFamily=R,L.style.fontFeatureSettings=P,L.style.lineHeight=A,b.icon.style.height=A,b.icon.style.width=A,b.readMore.style.height=A,b.readMore.style.width=A};return N(),b.disposables.add(this._editor.onDidChangeConfiguration(M=>{(M.hasChanged(40)||M.hasChanged(104)||M.hasChanged(105))&&N()})),b}renderElement(f,b,y){var L,N,M;const{completion:D}=f;y.root.id=o(b),y.colorspan.style.backgroundColor="";const R={labelEscapeNewLines:!0,matches:(0,I.createMatches)(f.score)};let P=[];if(D.kind===19&&h.extract(f,P))y.icon.className="icon customcolor",y.iconContainer.className="icon hide",y.colorspan.style.backgroundColor=P[0];else if(D.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){y.icon.className="icon hide",y.iconContainer.className="icon hide";const O=(0,p.getIconClasses)(this._modelService,this._modeService,a.URI.from({scheme:"fake",path:f.textLabel}),l.FileKind.FILE),W=(0,p.getIconClasses)(this._modelService,this._modeService,a.URI.from({scheme:"fake",path:D.detail}),l.FileKind.FILE);R.extraClasses=O.length>W.length?O:W}else D.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(y.icon.className="icon hide",y.iconContainer.className="icon hide",R.extraClasses=(0,c.flatten)([(0,p.getIconClasses)(this._modelService,this._modeService,a.URI.from({scheme:"fake",path:f.textLabel}),l.FileKind.FOLDER),(0,p.getIconClasses)(this._modelService,this._modeService,a.URI.from({scheme:"fake",path:D.detail}),l.FileKind.FOLDER)])):(y.icon.className="icon hide",y.iconContainer.className="",y.iconContainer.classList.add("suggest-icon",...(0,C.completionKindToCssClass)(D.kind).split(" ")));D.tags&&D.tags.indexOf(1)>=0&&(R.extraClasses=(R.extraClasses||[]).concat(["deprecated"]),R.matches=[]),y.iconLabel.setLabel(f.textLabel,void 0,R),typeof D.label=="string"?(y.parametersLabel.textContent="",y.qualifierLabel.textContent="",y.detailsLabel.textContent=(D.detail||"").replace(/\n.*$/m,""),y.root.classList.add("string-label"),y.root.title=""):(y.parametersLabel.textContent=(D.label.parameters||"").replace(/\n.*$/m,""),y.qualifierLabel.textContent=(D.label.qualifier||"").replace(/\n.*$/m,""),y.detailsLabel.textContent=(D.label.type||"").replace(/\n.*$/m,""),y.root.classList.remove("string-label"),y.root.title=`${f.textLabel}${(L=D.label.parameters)!==null&&L!==void 0?L:""}  ${(N=D.label.qualifier)!==null&&N!==void 0?N:""}  ${(M=D.label.type)!==null&&M!==void 0?M:""}`),this._editor.getOption(103).showInlineDetails?(0,w.show)(y.detailsLabel):(0,w.hide)(y.detailsLabel),(0,d.canExpandCompletionItem)(f)?(y.right.classList.add("can-expand-details"),(0,w.show)(y.readMore),y.readMore.onmousedown=O=>{O.stopPropagation(),O.preventDefault()},y.readMore.onclick=O=>{O.stopPropagation(),O.preventDefault(),this._onDidToggleDetails.fire()}):(y.right.classList.remove("can-expand-details"),(0,w.hide)(y.readMore),y.readMore.onmousedown=null,y.readMore.onclick=null)}disposeTemplate(f){f.disposables.dispose()}};g=Me([pe(1,u.IModelService),pe(2,_.IModeService),pe(3,S.IThemeService)],g),e.ItemRenderer=g}),define(J[668],ee([0,1,511,8,7,6,11,2,105,16,118,117,12,22,79,15,9,254,651,667,232,144,100,353,124,259]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n,s,t,o,h,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestContentWidget=e.SuggestWidget=e.editorSuggestWidgetHighlightForeground=e.editorSuggestWidgetSelectedBackground=e.editorSuggestWidgetForeground=e.editorSuggestWidgetBorder=e.editorSuggestWidgetBackground=void 0,e.editorSuggestWidgetBackground=(0,l.registerColor)("editorSuggestWidget.background",{dark:l.editorWidgetBackground,light:l.editorWidgetBackground,hc:l.editorWidgetBackground},v.localize(0,null)),e.editorSuggestWidgetBorder=(0,l.registerColor)("editorSuggestWidget.border",{dark:l.editorWidgetBorder,light:l.editorWidgetBorder,hc:l.editorWidgetBorder},v.localize(1,null)),e.editorSuggestWidgetForeground=(0,l.registerColor)("editorSuggestWidget.foreground",{dark:l.editorForeground,light:l.editorForeground,hc:l.editorForeground},v.localize(2,null)),e.editorSuggestWidgetSelectedBackground=(0,l.registerColor)("editorSuggestWidget.selectedBackground",{dark:l.quickInputListFocusBackground,light:l.quickInputListFocusBackground,hc:l.quickInputListFocusBackground},v.localize(3,null)),e.editorSuggestWidgetHighlightForeground=(0,l.registerColor)("editorSuggestWidget.highlightForeground",{dark:l.listHighlightForeground,light:l.listHighlightForeground,hc:l.listHighlightForeground},v.localize(4,null));class m{constructor(L,N){this._service=L,this._key=`suggestWidget.size/${N.getEditorType()}/${N instanceof h.EmbeddedCodeEditorWidget}`}restore(){var L;const N=(L=this._service.get(this._key,0))!==null&&L!==void 0?L:"";try{const M=JSON.parse(N);if(k.Dimension.is(M))return k.Dimension.lift(M)}catch(M){}}store(L){this._service.store(this._key,JSON.stringify(L),0,1)}reset(){this._service.remove(this._key,0)}}let f=class wt{constructor(L,N,M,D,R){this.editor=L,this._storageService=N,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._explainMode=!1,this._showTimeout=new d.TimeoutTimer,this._disposables=new _.DisposableStore,this._onDidSelect=new w.Emitter,this._onDidFocus=new w.Emitter,this._onDidHide=new w.Emitter,this._onDidShow=new w.Emitter,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new w.Emitter,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new o.ResizableHTMLElement,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new b(this,L),this._persistedSize=new m(N,L);class P{constructor(H,K,q=!1,Y=!1){this.persistedSize=H,this.currentSize=K,this.persistHeight=q,this.persistWidth=Y}}let O;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),O=new P(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(B=>{var H,K,q,Y;if(this._resize(B.dimension.width,B.dimension.height),O&&(O.persistHeight=O.persistHeight||!!B.north||!!B.south,O.persistWidth=O.persistWidth||!!B.east||!!B.west),!!B.done){if(O){const{itemHeight:te,defaultSize:ie}=this.getLayoutInfo(),ae=Math.round(te/2);let{width:le,height:Z}=this.element.size;(!O.persistHeight||Math.abs(O.currentSize.height-Z)<=ae)&&(Z=(K=(H=O.persistedSize)===null||H===void 0?void 0:H.height)!==null&&K!==void 0?K:ie.height),(!O.persistWidth||Math.abs(O.currentSize.width-le)<=ae)&&(le=(Y=(q=O.persistedSize)===null||q===void 0?void 0:q.width)!==null&&Y!==void 0?Y:ie.width),this._persistedSize.store(new k.Dimension(le,Z))}this._contentWidget.unlockPreference(),O=void 0}})),this._messageElement=k.append(this.element.domNode,k.$(".message")),this._listElement=k.append(this.element.domNode,k.$(".tree"));const W=R.createInstance(n.SuggestDetailsWidget,this.editor);W.onDidClose(this.toggleDetails,this,this._disposables),this._details=new n.SuggestDetailsOverlay(W,this.editor);const F=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(103).showIcons);F();const E=R.createInstance(t.ItemRenderer,this.editor);this._disposables.add(E),this._disposables.add(E.onDidToggleDetails(()=>this.toggleDetails())),this._list=new C.List("SuggestWidget",this._listElement,{getHeight:B=>this.getLayoutInfo().itemHeight,getTemplateId:B=>"suggestion"},[E],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,accessibilityProvider:{getRole:()=>"option",getAriaLabel:B=>{if(B.isResolved&&this._isDetailsVisible()){const{documentation:H,detail:K}=B.completion,q=I.format("{0}{1}",K||"",H?typeof H=="string"?H:H.value:"");return v.localize(7,null,B.textLabel,q)}else return B.textLabel},getWidgetAriaLabel:()=>v.localize(8,null),getWidgetRole:()=>"listbox"}}),this._status=R.createInstance(s.SuggestWidgetStatus,this.element.domNode);const A=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(103).showStatusBar);A(),this._disposables.add((0,u.attachListStyler)(this._list,D,{listInactiveFocusBackground:e.editorSuggestWidgetSelectedBackground,listInactiveFocusOutline:l.activeContrastBorder})),this._disposables.add(D.onDidColorThemeChange(B=>this._onThemeChange(B))),this._onThemeChange(D.getColorTheme()),this._disposables.add(this._list.onMouseDown(B=>this._onListMouseDownOrTap(B))),this._disposables.add(this._list.onTap(B=>this._onListMouseDownOrTap(B))),this._disposables.add(this._list.onDidChangeSelection(B=>this._onListSelection(B))),this._disposables.add(this._list.onDidChangeFocus(B=>this._onListFocus(B))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(B=>{B.hasChanged(103)&&(A(),F())})),this._ctxSuggestWidgetVisible=p.Context.Visible.bindTo(M),this._ctxSuggestWidgetDetailsVisible=p.Context.DetailsVisible.bindTo(M),this._ctxSuggestWidgetMultipleSuggestions=p.Context.MultipleSuggestions.bindTo(M),this._disposables.add(k.addStandardDisposableListener(this._details.widget.domNode,"keydown",B=>{this._onDetailsKeydown.fire(B)})),this._disposables.add(this.editor.onMouseDown(B=>this._onEditorMouseDown(B)))}dispose(){var L;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(L=this._loadingTimeout)===null||L===void 0||L.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(L){this._details.widget.domNode.contains(L.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(L.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(L){typeof L.element=="undefined"||typeof L.index=="undefined"||(L.browserEvent.preventDefault(),L.browserEvent.stopPropagation(),this._select(L.element,L.index))}_onListSelection(L){L.elements.length&&this._select(L.elements[0],L.indexes[0])}_select(L,N){const M=this._completionModel;M&&(this._onDidSelect.fire({item:L,index:N,model:M}),this.editor.focus())}_onThemeChange(L){const N=L.getColor(e.editorSuggestWidgetBackground);N&&(this.element.domNode.style.backgroundColor=N.toString(),this._messageElement.style.backgroundColor=N.toString(),this._details.widget.domNode.style.backgroundColor=N.toString());const M=L.getColor(e.editorSuggestWidgetBorder);M&&(this.element.domNode.style.borderColor=M.toString(),this._messageElement.style.borderColor=M.toString(),this._status.element.style.borderTopColor=M.toString(),this._details.widget.domNode.style.borderColor=M.toString(),this._detailsBorderColor=M.toString());const D=L.getColor(l.focusBorder);D&&(this._detailsFocusBorderColor=D.toString()),this._details.widget.borderWidth=L.type==="hc"?2:1}_onListFocus(L){var N;if(!this._ignoreFocusEvents){if(!L.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0});return}if(!!this._completionModel){const M=L.elements[0],D=L.indexes[0];M!==this._focusedItem&&((N=this._currentSuggestionDetails)===null||N===void 0||N.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=M,this._list.reveal(D),this._currentSuggestionDetails=(0,d.createCancelablePromise)(R=>Ie(this,void 0,void 0,function*(){const P=(0,d.disposableTimeout)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250);R.onCancellationRequested(()=>P.dispose());const O=yield M.resolve(R);return P.dispose(),O})),this._currentSuggestionDetails.then(()=>{D>=this._list.length||M!==this._list.element(D)||(this._ignoreFocusEvents=!0,this._list.splice(D,1,[M]),this._list.setFocus([D]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:(0,t.getAriaId)(D)}))}).catch(S.onUnexpectedError)),this._onDidFocus.fire({item:M,index:D,model:this._completionModel})}}}_setState(L){if(this._state!==L)switch(this._state=L,this.element.domNode.classList.toggle("frozen",L===4),this.element.domNode.classList.remove("message"),L){case 0:k.hide(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=wt.LOADING_MESSAGE,k.hide(this._listElement,this._status.element),k.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=wt.NO_SUGGESTIONS_MESSAGE,k.hide(this._listElement,this._status.element),k.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:k.hide(this._messageElement),k.show(this._listElement,this._status.element),this._show();break;case 4:k.hide(this._messageElement),k.show(this._listElement,this._status.element),this._show();break;case 5:k.hide(this._messageElement),k.show(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(L,N){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!L,this._isAuto||(this._loadingTimeout=(0,d.disposableTimeout)(()=>this._setState(1),N)))}showSuggestions(L,N,M,D){var R,P;if(this._contentWidget.setPosition(this.editor.getPosition()),(R=this._loadingTimeout)===null||R===void 0||R.dispose(),(P=this._currentSuggestionDetails)===null||P===void 0||P.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==L&&(this._completionModel=L),M&&this._state!==2&&this._state!==0){this._setState(4);return}const O=this._completionModel.items.length,W=O===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(O>1),W){this._setState(D?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(M?4:3),this._list.reveal(N,0),this._list.setFocus([N]),this._layout(this.element.size),this._detailsBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsBorderColor)}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._detailsBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsBorderColor)):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._detailsFocusBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsFocusBorderColor))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):((0,n.canExpandCompletionItem)(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(L){this._details.show(),L?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var L;(L=this._loadingTimeout)===null||L===void 0||L.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const N=this._persistedSize.restore(),M=Math.ceil(this.getLayoutInfo().itemHeight*4.3);N&&N.height<M&&this._persistedSize.store(N.with(void 0,M))}isFrozen(){return this._state===4}_afterRender(L){if(L===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}_layout(L){var N,M,D;if(!!this.editor.hasModel()&&!!this.editor.getDomNode()){const R=k.getClientArea(document.body),P=this.getLayoutInfo();L||(L=P.defaultSize);let O=L.height,W=L.width;if(this._status.element.style.lineHeight=`${P.itemHeight}px`,this._state===2||this._state===1)O=P.itemHeight+P.borderHeight,W=P.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new k.Dimension(W,O),this._contentWidget.setPreference(2);else{const F=R.width-P.borderHeight-2*P.horizontalPadding;W>F&&(W=F);const E=this._completionModel?this._completionModel.stats.pLabelLen*P.typicalHalfwidthCharacterWidth:W,A=P.statusBarHeight+this._list.contentHeight+P.borderHeight,B=P.itemHeight+P.statusBarHeight,H=k.getDomNodePagePosition(this.editor.getDomNode()),K=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),q=H.top+K.top+K.height,Y=Math.min(R.height-q-P.verticalPadding,A),te=Math.min(H.top+K.top-P.verticalPadding,A);let ie=Math.min(Math.max(te,Y)+P.borderHeight,A);O===((N=this._cappedHeight)===null||N===void 0?void 0:N.capped)&&(O=this._cappedHeight.wanted),O<B&&(O=B),O>ie&&(O=ie),O>Y?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),ie=te):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),ie=Y),this.element.preferredSize=new k.Dimension(E,P.defaultSize.height),this.element.maxSize=new k.Dimension(F,ie),this.element.minSize=new k.Dimension(220,B),this._cappedHeight=O===A?{wanted:(D=(M=this._cappedHeight)===null||M===void 0?void 0:M.wanted)!==null&&D!==void 0?D:L.height,capped:O}:void 0}this._resize(W,O)}}_resize(L,N){const{width:M,height:D}=this.element.maxSize;L=Math.min(M,L),N=Math.min(D,N);const{statusBarHeight:R}=this.getLayoutInfo();this._list.layout(N-R,L),this._listElement.style.height=`${N-R}px`,this.element.layout(N,L),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode)}getLayoutInfo(){const L=this.editor.getOption(40),N=(0,g.clamp)(this.editor.getOption(105)||L.lineHeight,8,1e3),M=!this.editor.getOption(103).showStatusBar||this._state===2||this._state===1?0:N,D=this._details.widget.borderWidth,R=2*D;return{itemHeight:N,statusBarHeight:M,borderWidth:D,borderHeight:R,typicalHalfwidthCharacterWidth:L.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new k.Dimension(430,M+12*N+R)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(L){this._storageService.store("expandSuggestionDocs",L,0,0)}};f.LOADING_MESSAGE=v.localize(5,null),f.NO_SUGGESTIONS_MESSAGE=v.localize(6,null),f=Me([pe(1,c.IStorageService),pe(2,i.IContextKeyService),pe(3,a.IThemeService),pe(4,r.IInstantiationService)],f),e.SuggestWidget=f;class b{constructor(L,N){this._widget=L,this._editor=N,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:L,width:N}=this._widget.element.size,{borderWidth:M,horizontalPadding:D}=this._widget.getLayoutInfo();return new k.Dimension(N+2*M+D,L+2*M)}afterRender(L){this._widget._afterRender(L)}setPreference(L){this._preferenceLocked||(this._preference=L)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(L){this._position=L}}e.SuggestContentWidget=b,(0,a.registerThemingParticipant)((y,L)=>{const N=y.getColor(e.editorSuggestWidgetHighlightForeground);N&&L.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-highlighted-label .highlight { color: ${N}; }`);const M=y.getColor(e.editorSuggestWidgetForeground);M&&L.addRule(`.monaco-editor .suggest-widget, .monaco-editor .suggest-details { color: ${M}; }`);const D=y.getColor(l.textLinkForeground);D&&L.addRule(`.monaco-editor .suggest-details a { color: ${D}; }`);const R=y.getColor(l.textCodeBlockBackground);R&&L.addRule(`.monaco-editor .suggest-details code { background-color: ${R}; }`)})}),define(J[669],ee([0,1,12,80,7,6]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIconsStyleSheet=void 0;function S(){const _=new w.Emitter,C=(0,I.getIconRegistry)();return C.onDidChange(()=>_.fire()),{onDidChange:_.event,getCSS(){const i={},p=a=>{let l=a.defaults;for(;v.ThemeIcon.isThemeIcon(l);){const d=C.getIcon(l.id);if(!d)return;l=d.defaults}const c=l.fontId;if(c){const d=C.getIconFont(c);if(d)return i[c]=d,`.codicon-${a.id}:before { content: '${l.fontCharacter}'; font-family: ${(0,k.asCSSPropertyValue)(c)}; }`}return`.codicon-${a.id}:before { content: '${l.fontCharacter}'; }`},u=[];for(let a of C.getIcons()){const l=p(a);l&&u.push(l)}for(let a in i){const c=i[a].definition.src.map(d=>`${(0,k.asCSSUrl)(d.location)} format('${d.format}')`).join(", ");u.push(`@font-face { src: ${c}; font-family: ${(0,k.asCSSPropertyValue)(a)}; }`)}return u.join(`
`)}}}e.getIconsStyleSheet=S}),define(J[670],ee([0,1,7,29,6,18,382,608,33,22,12,2,97,669]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneThemeServiceImpl=void 0;const c="vs",d="vs-dark",r="hc-black",n=C.Registry.as(i.Extensions.ColorContribution),s=C.Registry.as(p.Extensions.ThemingContribution);class t{constructor(b,y){this.semanticHighlighting=!1,this.themeData=y;let L=y.base;b.length>0?(o(b)?this.id=b:this.id=L+" "+b,this.themeName=b):(this.id=L,this.themeName=L),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const b=new Map;for(let y in this.themeData.colors)b.set(y,I.Color.fromHex(this.themeData.colors[y]));if(this.themeData.inherit){let y=h(this.themeData.base);for(let L in y.colors)b.has(L)||b.set(L,I.Color.fromHex(y.colors[L]))}this.colors=b}return this.colors}getColor(b,y){const L=this.getColors().get(b);if(L)return L;if(y!==!1)return this.getDefault(b)}getDefault(b){let y=this.defaultColors[b];return y||(y=n.resolveDefaultColor(b,this),this.defaultColors[b]=y,y)}defines(b){return Object.prototype.hasOwnProperty.call(this.getColors(),b)}get type(){switch(this.base){case c:return a.ColorScheme.LIGHT;case r:return a.ColorScheme.HIGH_CONTRAST;default:return a.ColorScheme.DARK}}get tokenTheme(){if(!this._tokenTheme){let b=[],y=[];if(this.themeData.inherit){let L=h(this.themeData.base);b=L.rules,L.encodedTokensColors&&(y=L.encodedTokensColors)}b=b.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(y=this.themeData.encodedTokensColors),this._tokenTheme=S.TokenTheme.createFromRawTokenTheme(b,y)}return this._tokenTheme}getTokenStyleMetadata(b,y,L){const M=this.tokenTheme._match([b].concat(y).join(".")).metadata,D=w.TokenMetadata.getForeground(M),R=w.TokenMetadata.getFontStyle(M);return{foreground:D,italic:Boolean(R&1),bold:Boolean(R&2),underline:Boolean(R&4)}}}function o(f){return f===c||f===d||f===r}function h(f){switch(f){case c:return _.vs;case d:return _.vs_dark;case r:return _.hc_black}}function g(f){let b=h(f);return new t(f,b)}class m extends u.Disposable{constructor(){super();this._onColorThemeChange=this._register(new k.Emitter),this.onDidColorThemeChange=this._onColorThemeChange.event,this._environment=Object.create(null),this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(c,g(c)),this._knownThemes.set(d,g(d)),this._knownThemes.set(r,g(r));const b=(0,l.getIconsStyleSheet)();this._codiconCSS=b.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(c),b.onDidChange(()=>{this._codiconCSS=b.getCSS(),this._updateCSS()}),v.addMatchMediaChangeListener("(forced-colors: active)",()=>{this._updateActualTheme()})}registerEditorContainer(b){return v.isInShadowDOM(b)?this._registerShadowDomContainer(b):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=v.createStyleSheet(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),u.Disposable.None}_registerShadowDomContainer(b){const y=v.createStyleSheet(b);return y.className="monaco-colors",y.textContent=this._allCSS,this._styleElements.push(y),{dispose:()=>{for(let L=0;L<this._styleElements.length;L++)if(this._styleElements[L]===y){this._styleElements.splice(L,1);return}}}}defineTheme(b,y){if(!/^[a-z0-9\-]+$/i.test(b))throw new Error("Illegal theme name!");if(!o(y.base)&&!o(b))throw new Error("Illegal theme base!");this._knownThemes.set(b,new t(b,y)),o(b)&&this._knownThemes.forEach(L=>{L.base===b&&L.notifyBaseUpdated()}),this._theme.themeName===b&&this.setTheme(b)}getColorTheme(){return this._theme}setColorMapOverride(b){this._colorMapOverride=b,this._updateThemeOrColorMap()}setTheme(b){let y;this._knownThemes.has(b)?y=this._knownThemes.get(b):y=this._knownThemes.get(c),this._desiredTheme=y,this._updateActualTheme()}_updateActualTheme(){const b=this._autoDetectHighContrast&&window.matchMedia("(forced-colors: active)").matches?this._knownThemes.get(r):this._desiredTheme;this._theme!==b&&(this._theme=b,this._updateThemeOrColorMap())}setAutoDetectHighContrast(b){this._autoDetectHighContrast=b,this._updateActualTheme()}_updateThemeOrColorMap(){let b=[],y={},L={addRule:M=>{y[M]||(b.push(M),y[M]=!0)}};s.getThemingParticipants().forEach(M=>M(this._theme,L,this._environment));const N=this._colorMapOverride||this._theme.tokenTheme.getColorMap();L.addRule((0,S.generateTokensCSSForColorMap)(N)),this._themeCSS=b.join(`
`),this._updateCSS(),w.TokenizationRegistry.setColorMap(N),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(b=>b.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}}e.StandaloneThemeServiceImpl=m}),define(J[148],ee([0,1,9]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoSource=e.UndoRedoGroup=e.ResourceEditStackSnapshot=e.IUndoRedoService=void 0,e.IUndoRedoService=(0,v.createDecorator)("undoRedoService");class I{constructor(_,C){this.resource=_,this.elements=C}}e.ResourceEditStackSnapshot=I;class k{constructor(){this.id=k._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoGroup=k,k._ID=0,k.None=new k;class w{constructor(){this.id=w._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoSource=w,w._ID=0,w.None=new w}),define(J[270],ee([0,1,6,2,17,11,38,31,18,141,137,47,15,23,12,69,148,89,236,44,253,247]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n,s,t,o,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModelSemanticColoring=e.isSemanticColoringEnabled=e.SEMANTIC_HIGHLIGHTING_SETTING_ID=e.ModelServiceImpl=void 0;function g(W){return W.toString()}function m(W){const F=new n.StringSHA1,E=W.createSnapshot();let A;for(;A=E.read();)F.update(A);return F.digest()}class f{constructor(F,E,A){this._modelEventListeners=new I.DisposableStore,this.model=F,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(F.onWillDispose(()=>E(F))),this._modelEventListeners.add(F.onDidChangeLanguage(B=>A(F,B)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(F){this._disposeLanguageSelection(),this._languageSelection=F,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(F.languageIdentifier)),this.model.setMode(F.languageIdentifier)}}const b=k.isLinux||k.isMacintosh?1:2;class y{constructor(F,E,A,B,H,K,q,Y){this.uri=F,this.initialUndoRedoSnapshot=E,this.time=A,this.sharesUndoRedoStack=B,this.heapSize=H,this.sha1=K,this.versionId=q,this.alternativeVersionId=Y}}function L(W){return W.scheme===t.Schemas.file||W.scheme===t.Schemas.vscodeRemote||W.scheme===t.Schemas.userData||W.scheme==="fake-fs"}let N=class st extends I.Disposable{constructor(F,E,A,B,H){super();this._configurationService=F,this._resourcePropertiesService=E,this._themeService=A,this._logService=B,this._undoRedoService=H,this._onModelAdded=this._register(new v.Emitter),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new v.Emitter),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new v.Emitter),this.onModelModeChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new R(this._themeService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new D(this,this._themeService,this._configurationService,this._semanticStyling))}static _readModelOptions(F,E){let A=S.EDITOR_MODEL_DEFAULTS.tabSize;if(F.editor&&typeof F.editor.tabSize!="undefined"){const ae=parseInt(F.editor.tabSize,10);isNaN(ae)||(A=ae),A<1&&(A=1)}let B=A;if(F.editor&&typeof F.editor.indentSize!="undefined"&&F.editor.indentSize!=="tabSize"){const ae=parseInt(F.editor.indentSize,10);isNaN(ae)||(B=ae),B<1&&(B=1)}let H=S.EDITOR_MODEL_DEFAULTS.insertSpaces;F.editor&&typeof F.editor.insertSpaces!="undefined"&&(H=F.editor.insertSpaces==="false"?!1:Boolean(F.editor.insertSpaces));let K=b;const q=F.eol;q===`\r
`?K=2:q===`
`&&(K=1);let Y=S.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace;F.editor&&typeof F.editor.trimAutoWhitespace!="undefined"&&(Y=F.editor.trimAutoWhitespace==="false"?!1:Boolean(F.editor.trimAutoWhitespace));let te=S.EDITOR_MODEL_DEFAULTS.detectIndentation;F.editor&&typeof F.editor.detectIndentation!="undefined"&&(te=F.editor.detectIndentation==="false"?!1:Boolean(F.editor.detectIndentation));let ie=S.EDITOR_MODEL_DEFAULTS.largeFileOptimizations;return F.editor&&typeof F.editor.largeFileOptimizations!="undefined"&&(ie=F.editor.largeFileOptimizations==="false"?!1:Boolean(F.editor.largeFileOptimizations)),{isForSimpleWidget:E,tabSize:A,indentSize:B,insertSpaces:H,detectIndentation:te,defaultEOL:K,trimAutoWhitespace:Y,largeFileOptimizations:ie}}_getEOL(F,E){if(F)return this._resourcePropertiesService.getEOL(F,E);const A=this._configurationService.getValue("files.eol",{overrideIdentifier:E});return A&&A!=="auto"?A:k.OS===3||k.OS===2?`
`:`\r
`}_shouldRestoreUndoStack(){const F=this._configurationService.getValue("files.restoreUndoStack");return typeof F=="boolean"?F:!0}getCreationOptions(F,E,A){let B=this._modelCreationOptionsByLanguageAndResource[F+E];if(!B){const H=this._configurationService.getValue("editor",{overrideIdentifier:F,resource:E}),K=this._getEOL(E,F);B=st._readModelOptions({editor:H,eol:K},A),this._modelCreationOptionsByLanguageAndResource[F+E]=B}return B}_updateModelOptions(){const F=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const E=Object.keys(this._models);for(let A=0,B=E.length;A<B;A++){const H=E[A],K=this._models[H],q=K.model.getLanguageIdentifier().language,Y=K.model.uri,te=F[q+Y],ie=this.getCreationOptions(q,Y,K.model.isForSimpleWidget);st._setModelOptionsForModel(K.model,ie,te)}}static _setModelOptionsForModel(F,E,A){A&&A.defaultEOL!==E.defaultEOL&&F.getLineCount()===1&&F.setEOL(E.defaultEOL===1?0:1),!(A&&A.detectIndentation===E.detectIndentation&&A.insertSpaces===E.insertSpaces&&A.tabSize===E.tabSize&&A.indentSize===E.indentSize&&A.trimAutoWhitespace===E.trimAutoWhitespace)&&(E.detectIndentation?(F.detectIndentation(E.insertSpaces,E.tabSize),F.updateOptions({trimAutoWhitespace:E.trimAutoWhitespace})):F.updateOptions({insertSpaces:E.insertSpaces,tabSize:E.tabSize,indentSize:E.indentSize,trimAutoWhitespace:E.trimAutoWhitespace}))}_insertDisposedModel(F){this._disposedModels.set(g(F.uri),F),this._disposedModelsHeapSize+=F.heapSize}_removeDisposedModel(F){const E=this._disposedModels.get(g(F));return E&&(this._disposedModelsHeapSize-=E.heapSize),this._disposedModels.delete(g(F)),E}_ensureDisposedModelsHeapSize(F){if(this._disposedModelsHeapSize>F){const E=[];for(this._disposedModels.forEach(A=>{A.sharesUndoRedoStack||E.push(A)}),E.sort((A,B)=>A.time-B.time);E.length>0&&this._disposedModelsHeapSize>F;){const A=E.shift();this._removeDisposedModel(A.uri),A.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(A.initialUndoRedoSnapshot)}}}_createModelData(F,E,A,B){const H=this.getCreationOptions(E.language,A,B),K=new _.TextModel(F,H,E,A,this._undoRedoService);if(A&&this._disposedModels.has(g(A))){const te=this._removeDisposedModel(A),ie=this._undoRedoService.getElements(A),ae=m(K)===te.sha1;if(ae||te.sharesUndoRedoStack){for(const le of ie.past)(0,s.isEditStackElement)(le)&&le.matchesResource(A)&&le.setModel(K);for(const le of ie.future)(0,s.isEditStackElement)(le)&&le.matchesResource(A)&&le.setModel(K);this._undoRedoService.setElementsValidFlag(A,!0,le=>(0,s.isEditStackElement)(le)&&le.matchesResource(A)),ae&&(K._overwriteVersionId(te.versionId),K._overwriteAlternativeVersionId(te.alternativeVersionId),K._overwriteInitialUndoRedoSnapshot(te.initialUndoRedoSnapshot))}else te.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(te.initialUndoRedoSnapshot)}const q=g(K.uri);if(this._models[q])throw new Error("ModelService: Cannot add model because it already exists!");const Y=new f(K,te=>this._onWillDispose(te),(te,ie)=>this._onDidChangeLanguage(te,ie));return this._models[q]=Y,Y}createModel(F,E,A,B=!1){let H;return E?(H=this._createModelData(F,E.languageIdentifier,A,B),this.setMode(H.model,E)):H=this._createModelData(F,i.PLAINTEXT_LANGUAGE_IDENTIFIER,A,B),this._onModelAdded.fire(H.model),H.model}setMode(F,E){if(!!E){const A=this._models[g(F.uri)];!A||A.setLanguage(E)}}getModels(){const F=[],E=Object.keys(this._models);for(let A=0,B=E.length;A<B;A++){const H=E[A];F.push(this._models[H].model)}return F}getModel(F){const E=g(F),A=this._models[E];return A?A.model:null}getSemanticTokensProviderStyling(F){return this._semanticStyling.get(F)}_onWillDispose(F){const E=g(F.uri),A=this._models[E],B=this._undoRedoService.getUriComparisonKey(F.uri)!==F.uri.toString();let H=!1,K=0;if(B||this._shouldRestoreUndoStack()&&L(F.uri)){const Y=this._undoRedoService.getElements(F.uri);if(Y.past.length>0||Y.future.length>0){for(const te of Y.past)(0,s.isEditStackElement)(te)&&te.matchesResource(F.uri)&&(H=!0,K+=te.heapSize(F.uri),te.setModel(F.uri));for(const te of Y.future)(0,s.isEditStackElement)(te)&&te.matchesResource(F.uri)&&(H=!0,K+=te.heapSize(F.uri),te.setModel(F.uri))}}const q=st.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(H)if(!B&&K>q){const Y=A.model.getInitialUndoRedoSnapshot();Y!==null&&this._undoRedoService.restoreSnapshot(Y)}else this._ensureDisposedModelsHeapSize(q-K),this._undoRedoService.setElementsValidFlag(F.uri,!1,Y=>(0,s.isEditStackElement)(Y)&&Y.matchesResource(F.uri)),this._insertDisposedModel(new y(F.uri,A.model.getInitialUndoRedoSnapshot(),Date.now(),B,K,m(F),F.getVersionId(),F.getAlternativeVersionId()));else if(!B){const Y=A.model.getInitialUndoRedoSnapshot();Y!==null&&this._undoRedoService.restoreSnapshot(Y)}delete this._models[E],A.dispose(),delete this._modelCreationOptionsByLanguageAndResource[F.getLanguageIdentifier().language+F.uri],this._onModelRemoved.fire(F)}_onDidChangeLanguage(F,E){const A=E.oldLanguage,B=F.getLanguageIdentifier().language,H=this.getCreationOptions(A,F.uri,F.isForSimpleWidget),K=this.getCreationOptions(B,F.uri,F.isForSimpleWidget);st._setModelOptionsForModel(F,K,H),this._onModelModeChanged.fire({model:F,oldModeId:A})}};N.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,N=Me([pe(0,u.IConfigurationService),pe(1,p.ITextResourcePropertiesService),pe(2,c.IThemeService),pe(3,d.ILogService),pe(4,r.IUndoRedoService)],N),e.ModelServiceImpl=N,e.SEMANTIC_HIGHLIGHTING_SETTING_ID="editor.semanticHighlighting";function M(W,F,E){var A;const B=(A=E.getValue(e.SEMANTIC_HIGHLIGHTING_SETTING_ID,{overrideIdentifier:W.getLanguageIdentifier().language,resource:W.uri}))===null||A===void 0?void 0:A.enabled;return typeof B=="boolean"?B:F.getColorTheme().semanticHighlighting}e.isSemanticColoringEnabled=M;class D extends I.Disposable{constructor(F,E,A,B){super();this._watchers=Object.create(null),this._semanticStyling=B;const H=Y=>{this._watchers[Y.uri.toString()]=new O(Y,E,this._semanticStyling)},K=(Y,te)=>{te.dispose(),delete this._watchers[Y.uri.toString()]},q=()=>{for(let Y of F.getModels()){const te=this._watchers[Y.uri.toString()];M(Y,E,A)?te||H(Y):te&&K(Y,te)}};this._register(F.onModelAdded(Y=>{M(Y,E,A)&&H(Y)})),this._register(F.onModelRemoved(Y=>{const te=this._watchers[Y.uri.toString()];te&&K(Y,te)})),this._register(A.onDidChangeConfiguration(Y=>{Y.affectsConfiguration(e.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&q()})),this._register(E.onDidColorThemeChange(q))}}class R extends I.Disposable{constructor(F,E){super();this._themeService=F,this._logService=E,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(F){return this._caches.has(F)||this._caches.set(F,new o.SemanticTokensProviderStyling(F.getLegend(),this._themeService,this._logService)),this._caches.get(F)}}class P{constructor(F,E,A){this._provider=F,this.resultId=E,this.data=A}dispose(){this._provider.releaseDocumentSemanticTokens(this.resultId)}}class O extends I.Disposable{constructor(F,E,A){super();this._isDisposed=!1,this._model=F,this._semanticStyling=A,this._fetchDocumentSemanticTokens=this._register(new a.RunOnceScheduler(()=>this._fetchDocumentSemanticTokensNow(),O.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule()})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const B=()=>{(0,I.dispose)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const H of C.DocumentSemanticTokensProviderRegistry.all(F))typeof H.onDidChange=="function"&&this._documentProvidersChangeListeners.push(H.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};B(),this._register(C.DocumentSemanticTokensProviderRegistry.onDidChange(()=>{B(),this._fetchDocumentSemanticTokens.schedule()})),this._register(E.onDidColorThemeChange(H=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule()})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(!this._currentDocumentRequestCancellationTokenSource){const F=new l.CancellationTokenSource,E=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,A=(0,h.getDocumentSemanticTokens)(this._model,E,F.token);if(!A){this._currentDocumentResponse&&this._model.setSemanticTokens(null,!1);return}const{provider:B,request:H}=A;this._currentDocumentRequestCancellationTokenSource=F;const K=[],q=this._model.onDidChangeContent(te=>{K.push(te)}),Y=this._semanticStyling.get(B);H.then(te=>{this._currentDocumentRequestCancellationTokenSource=null,q.dispose(),this._setDocumentSemanticTokens(B,te||null,Y,K)},te=>{te&&(w.isPromiseCanceledError(te)||typeof te.message=="string"&&te.message.indexOf("busy")!==-1)||w.onUnexpectedError(te),this._currentDocumentRequestCancellationTokenSource=null,q.dispose(),K.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule())})}}static _copy(F,E,A,B,H){for(let K=0;K<H;K++)A[B+K]=F[E+K]}_setDocumentSemanticTokens(F,E,A,B){const H=this._currentDocumentResponse,K=()=>{B.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule()};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){F&&E&&F.releaseDocumentSemanticTokens(E.resultId);return}if(!F||!A){this._model.setSemanticTokens(null,!1);return}if(!E){this._model.setSemanticTokens(null,!0),K();return}if((0,h.isSemanticTokensEdits)(E)){if(!H){this._model.setSemanticTokens(null,!0);return}if(E.edits.length===0)E={resultId:E.resultId,data:H.data};else{let q=0;for(const le of E.edits)q+=(le.data?le.data.length:0)-le.deleteCount;const Y=H.data,te=new Uint32Array(Y.length+q);let ie=Y.length,ae=te.length;for(let le=E.edits.length-1;le>=0;le--){const Z=E.edits[le],T=ie-(Z.start+Z.deleteCount);T>0&&(O._copy(Y,ie-T,te,ae-T,T),ae-=T),Z.data&&(O._copy(Z.data,0,te,ae-Z.data.length,Z.data.length),ae-=Z.data.length),ie=Z.start}ie>0&&O._copy(Y,0,te,0,ie),E={resultId:E.resultId,data:te}}}if((0,h.isSemanticTokens)(E)){this._currentDocumentResponse=new P(F,E.resultId,E.data);const q=(0,o.toMultilineTokens2)(E,A,this._model.getLanguageIdentifier());if(B.length>0)for(const Y of B)for(const te of q)for(const ie of Y.changes)te.applyEdit(ie.range,ie.text);this._model.setSemanticTokens(q,!0)}else this._model.setSemanticTokens(null,!0);K()}}e.ModelSemanticColoring=O,O.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY=300}),define(J[671],ee([0,1,7,29,6,2,44,45,144,3,31,67,604,486,9,116,147,22,12,119,113,211,148,37,346]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n,s,t,o,h,g,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferenceWidget=e.LayoutData=void 0;class f{constructor(M,D){this._editor=M,this._model=D,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new w.DisposableStore,this._callOnModelChange=new w.DisposableStore,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const M=this._editor.getModel();if(!!M){for(let D of this._model.references)if(D.uri.toString()===M.uri.toString()){this._addDecorations(D.parent);return}}}_addDecorations(M){if(!!this._editor.hasModel()){this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const D=[],R=[];for(let O=0,W=M.children.length;O<W;O++){let F=M.children[O];this._decorationIgnoreSet.has(F.id)||F.uri.toString()===this._editor.getModel().uri.toString()&&(D.push({range:F.range,options:f.DecorationOptions}),R.push(O))}const P=this._editor.deltaDecorations([],D);for(let O=0;O<P.length;O++)this._decorations.set(P[O],M.children[R[O]])}}_onDecorationChanged(){const M=[],D=this._editor.getModel();if(!!D){for(let[R,P]of this._decorations){const O=D.getDecorationRange(R);if(!!O){let W=!1;if(!i.Range.equalsRange(O,P.range)){if(i.Range.spansMultipleLines(O))W=!0;else{const F=P.range.endColumn-P.range.startColumn,E=O.endColumn-O.startColumn;F!==E&&(W=!0)}W?(this._decorationIgnoreSet.add(P.id),M.push(R)):P.range=O}}}for(let R=0,P=M.length;R<P;R++)this._decorations.delete(M[R]);this._editor.deltaDecorations(M,[])}}removeDecorations(){this._editor.deltaDecorations([...this._decorations.keys()],[]),this._decorations.clear()}}f.DecorationOptions=p.ModelDecorationOptions.register({stickiness:1,className:"reference-decoration"});class b{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(M){let D,R;try{const P=JSON.parse(M);D=P.ratio,R=P.heightInLines}catch(P){}return{ratio:D||.7,heightInLines:R||18}}}e.LayoutData=b;class y extends r.WorkbenchAsyncDataTree{}let L=class extends t.PeekViewWidget{constructor(M,D,R,P,O,W,F,E,A,B){super(M,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0},W);this._defaultTreeKeyboardSupport=D,this.layoutData=R,this._textModelResolverService=O,this._instantiationService=W,this._peekViewService=F,this._uriLabel=E,this._undoRedoService=A,this._keybindingService=B,this._disposeOnNewModel=new w.DisposableStore,this._callOnDispose=new w.DisposableStore,this._onDidSelectReference=new k.Emitter,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new v.Dimension(0,0),this._applyTheme(P.getColorTheme()),this._callOnDispose.add(P.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(M,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,w.dispose)(this._preview),(0,w.dispose)(this._previewNotAvailableMessage),(0,w.dispose)(this._tree),(0,w.dispose)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(M){const D=M.getColor(t.peekViewBorder)||I.Color.transparent;this.style({arrowColor:D,frameColor:D,headerBackgroundColor:M.getColor(t.peekViewTitleBackground)||I.Color.transparent,primaryHeadingColor:M.getColor(t.peekViewTitleForeground),secondaryHeadingColor:M.getColor(t.peekViewTitleInfoForeground)})}show(M){this.editor.revealRangeInCenterIfOutsideViewport(M,0),super.show(M,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(M){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:M.ctrlKey||M.metaKey||M.altKey?"side":"open",source:"title"})}_fillBody(M){this.setCssClass("reference-zone-widget"),this._messageContainer=v.append(M,v.$("div.messages")),v.hide(this._messageContainer),this._splitView=new h.SplitView(M,{orientation:1}),this._previewContainer=v.append(M,v.$("div.preview.inline"));let D={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(C.EmbeddedCodeEditorWidget,this._previewContainer,D,this.editor),v.hide(this._previewContainer),this._previewNotAvailableMessage=new p.TextModel(l.localize(0,null),p.TextModel.DEFAULT_CREATION_OPTIONS,null,null,this._undoRedoService),this._treeContainer=v.append(M,v.$("div.ref-tree.inline"));const R={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new a.AccessibilityProvider,keyboardNavigationLabelProvider:this._instantiationService.createInstance(a.StringRepresentationProvider),identityProvider:new a.IdentityProvider,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:t.peekViewResultsBackground}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(v.addStandardDisposableListener(this._treeContainer,"keydown",O=>{O.equals(9)&&(this._keybindingService.dispatchEvent(O,O.target),O.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(y,"ReferencesWidget",this._treeContainer,new a.Delegate,[this._instantiationService.createInstance(a.FileReferencesRenderer),this._instantiationService.createInstance(a.OneReferenceRenderer)],this._instantiationService.createInstance(a.DataSource),R),this._splitView.addView({onDidChange:k.Event.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:O=>{this._preview.layout({height:this._dim.height,width:O})}},h.Sizing.Distribute),this._splitView.addView({onDidChange:k.Event.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:O=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${O}px`,this._tree.layout(this._dim.height,O)}},h.Sizing.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));let P=(O,W)=>{O instanceof o.OneReference&&(W==="show"&&this._revealReference(O,!1),this._onDidSelectReference.fire({element:O,kind:W,source:"tree"}))};this._tree.onDidOpen(O=>{O.sideBySide?P(O.element,"side"):O.editorOptions.pinned?P(O.element,"goto"):P(O.element,"show")}),v.hide(this._treeContainer)}_onWidth(M){this._dim&&this._doLayoutBody(this._dim.height,M)}_doLayoutBody(M,D){super._doLayoutBody(M,D),this._dim=new v.Dimension(D,M),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(D),this._splitView.resizeView(0,D*this.layoutData.ratio)}setSelection(M){return this._revealReference(M,!0).then(()=>{!this._model||(this._tree.setSelection([M]),this._tree.setFocus([M]))})}setModel(M){return this._disposeOnNewModel.clear(),this._model=M,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=l.localize(1,null),v.show(this._messageContainer),Promise.resolve(void 0)):(v.hide(this._messageContainer),this._decorationsManager=new f(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(M=>this._tree.rerender(M))),this._disposeOnNewModel.add(this._preview.onMouseDown(M=>{const{event:D,target:R}=M;if(D.detail===2){const P=this._getFocusedReference();!P||this._onDidSelectReference.fire({element:{uri:P.uri,range:R.range},kind:D.ctrlKey||D.metaKey||D.altKey?"side":"open",source:"editor"})}})),this.container.classList.add("results-loaded"),v.show(this._treeContainer),v.show(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[M]=this._tree.getFocus();if(M instanceof o.OneReference)return M;if(M instanceof o.FileReferences&&M.children.length>0)return M.children[0]}revealReference(M){return Ie(this,void 0,void 0,function*(){yield this._revealReference(M,!1),this._onDidSelectReference.fire({element:M,kind:"goto",source:"tree"})})}_revealReference(M,D){return Ie(this,void 0,void 0,function*(){if(this._revealedReference!==M){this._revealedReference=M,M.uri.scheme!==S.Schemas.inMemory?this.setTitle((0,_.basenameOrAuthority)(M.uri),this._uriLabel.getUriLabel((0,_.dirname)(M.uri))):this.setTitle(l.localize(2,null));const R=this._textModelResolverService.createModelReference(M.uri);this._tree.getInput()===M.parent?this._tree.reveal(M):(D&&this._tree.reveal(M.parent),yield this._tree.expand(M.parent),this._tree.reveal(M));const P=yield R;if(!this._model){P.dispose();return}(0,w.dispose)(this._previewModelReference);const O=P.object;if(O){const W=this._preview.getModel()===O.textEditorModel?0:1,F=i.Range.lift(M.range).collapseToStart();this._previewModelReference=P,this._preview.setModel(O.textEditorModel),this._preview.setSelection(F),this._preview.revealRangeInCenter(F,W)}else this._preview.setModel(this._previewNotAvailableMessage),P.dispose()}})}};L=Me([pe(3,s.IThemeService),pe(4,u.ITextModelService),pe(5,c.IInstantiationService),pe(6,t.IPeekViewService),pe(7,d.ILabelService),pe(8,g.IUndoRedoService),pe(9,m.IKeybindingService)],L),e.ReferenceWidget=L,(0,s.registerThemingParticipant)((N,M)=>{const D=N.getColor(t.peekViewResultsMatchHighlight);D&&M.addRule(`.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { background-color: ${D}; }`);const R=N.getColor(t.peekViewEditorMatchHighlight);R&&M.addRule(`.monaco-editor .reference-zone-widget .preview .reference-decoration { background-color: ${R}; }`);const P=N.getColor(t.peekViewEditorMatchHighlightBorder);P&&M.addRule(`.monaco-editor .reference-zone-widget .preview .reference-decoration { border: 2px solid ${P}; box-sizing: border-box; }`);const O=N.getColor(n.activeContrastBorder);O&&M.addRule(`.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { border: 1px dotted ${O}; box-sizing: border-box; }`);const W=N.getColor(t.peekViewResultsBackground);W&&M.addRule(`.monaco-editor .reference-zone-widget .ref-tree { background-color: ${W}; }`);const F=N.getColor(t.peekViewResultsMatchForeground);F&&M.addRule(`.monaco-editor .reference-zone-widget .ref-tree { color: ${F}; }`);const E=N.getColor(t.peekViewResultsFileForeground);E&&M.addRule(`.monaco-editor .reference-zone-widget .ref-tree .reference-file { color: ${E}; }`);const A=N.getColor(t.peekViewResultsSelectionBackground);A&&M.addRule(`.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { background-color: ${A}; }`);const B=N.getColor(t.peekViewResultsSelectionForeground);B&&M.addRule(`.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { color: ${B} !important; }`);const H=N.getColor(t.peekViewEditorBackground);H&&M.addRule(`.monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {	background-color: ${H};}`);const K=N.getColor(t.peekViewEditorGutterBackground);K&&M.addRule(`.monaco-editor .reference-zone-widget .preview .monaco-editor .margin {	background-color: ${K};}`)})}),define(J[271],ee([0,1,484,11,2,28,9,16,47,79,113,671,3,14,32,15,119,147,86,39,26]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n,s,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesController=e.ctxReferenceSearchVisible=void 0,e.ctxReferenceSearchVisible=new _.RawContextKey("referenceSearchVisible",!1,v.localize(0,null));let h=class yt{constructor(f,b,y,L,N,M,D,R){this._defaultTreeKeyboardSupport=f,this._editor=b,this._editorService=L,this._notificationService=N,this._instantiationService=M,this._storageService=D,this._configurationService=R,this._disposables=new k.DisposableStore,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=e.ctxReferenceSearchVisible.bindTo(y)}static get(f){return f.getContribution(yt.ID)}dispose(){var f,b;this._referenceSearchVisible.reset(),this._disposables.dispose(),(f=this._widget)===null||f===void 0||f.dispose(),(b=this._model)===null||b===void 0||b.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(f,b,y){let L;if(this._widget&&(L=this._widget.position),this.closeWidget(),!(!!L&&f.containsPosition(L))){this._peekMode=y,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const N="peekViewLayout",M=u.LayoutData.fromJSON(this._storageService.get(N,0,"{}"));this._widget=this._instantiationService.createInstance(u.ReferenceWidget,this._editor,this._defaultTreeKeyboardSupport,M),this._widget.setTitle(v.localize(1,null)),this._widget.show(f),this._disposables.add(this._widget.onDidClose(()=>{b.cancel(),this._widget&&(this._storageService.store(N,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(R=>{let{element:P,kind:O}=R;if(!!P)switch(O){case"open":(R.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(P,!1,!1);break;case"side":this.openReference(P,!0,!1);break;case"goto":y?this._gotoReference(P):this.openReference(P,!1,!0);break}}));const D=++this._requestIdPool;b.then(R=>{var P;if(D!==this._requestIdPool||!this._widget){R.dispose();return}return(P=this._model)===null||P===void 0||P.dispose(),this._model=R,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(v.localize(2,null,this._model.title,this._model.references.length));let O=this._editor.getModel().uri,W=new l.Position(f.startLineNumber,f.startColumn),F=this._model.nearestReference(O,W);if(F)return this._widget.setSelection(F).then(()=>{this._widget&&this._editor.getOption(73)==="editor"&&this._widget.focusOnPreviewEditor()})}})},R=>{this._notificationService.error(R)})}}changeFocusBetweenPreviewAndReferences(){!this._widget||(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(f){return Ie(this,void 0,void 0,function*(){if(!(!this._editor.hasModel()||!this._model||!this._widget)){const b=this._widget.position;if(!!b){const y=this._model.nearestReference(this._editor.getModel().uri,b);if(!!y){const L=this._model.nextOrPreviousReference(y,f),N=this._editor.hasTextFocus(),M=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(L),yield this._gotoReference(L),N?this._editor.focus():this._widget&&M&&this._widget.focusOnPreviewEditor()}}}})}revealReference(f){return Ie(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(f))})}closeWidget(f=!0){var b,y;(b=this._widget)===null||b===void 0||b.dispose(),(y=this._model)===null||y===void 0||y.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,f&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(f){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;const b=a.Range.lift(f.range).collapseToStart();return this._editorService.openCodeEditor({resource:f.uri,options:{selection:b}},this._editor).then(y=>{var L;if(this._ignoreModelChangeEvent=!1,!y||!this._widget){this.closeWidget();return}if(this._editor===y)this._widget.show(b),this._widget.focusOnReferenceTree();else{const N=yt.get(y),M=this._model.clone();this.closeWidget(),y.focus(),N.toggleWidget(b,(0,d.createCancelablePromise)(D=>Promise.resolve(M)),(L=this._peekMode)!==null&&L!==void 0?L:!1)}},y=>{this._ignoreModelChangeEvent=!1,(0,I.onUnexpectedError)(y)})}openReference(f,b,y){b||this.closeWidget();const{uri:L,range:N}=f;this._editorService.openCodeEditor({resource:L,options:{selection:N,pinned:y}},this._editor,b)}};h.ID="editor.contrib.referencesController",h=Me([pe(2,_.IContextKeyService),pe(3,w.ICodeEditorService),pe(4,c.INotificationService),pe(5,S.IInstantiationService),pe(6,i.IStorageService),pe(7,C.IConfigurationService)],h),e.ReferencesController=h;function g(m,f){const b=(0,r.getOuterEditor)(m);if(!!b){let y=h.get(b);y&&f(y)}}s.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,t.KeyChord)(2048|41,60),when:_.ContextKeyExpr.or(e.ctxReferenceSearchVisible,r.PeekContext.inPeekEditor),handler(m){g(m,f=>{f.changeFocusBetweenPreviewAndReferences()})}}),s.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToNextReference",weight:100-10,primary:62,secondary:[70],when:_.ContextKeyExpr.or(e.ctxReferenceSearchVisible,r.PeekContext.inPeekEditor),handler(m){g(m,f=>{f.goToNextOrPreviousReference(!0)})}}),s.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:100-10,primary:1024|62,secondary:[1024|70],when:_.ContextKeyExpr.or(e.ctxReferenceSearchVisible,r.PeekContext.inPeekEditor),handler(m){g(m,f=>{f.goToNextOrPreviousReference(!1)})}}),o.CommandsRegistry.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),o.CommandsRegistry.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),o.CommandsRegistry.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),o.CommandsRegistry.registerCommand("closeReferenceSearch",m=>g(m,f=>f.closeWidget())),s.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:100-101,primary:9,secondary:[1024|9],when:_.ContextKeyExpr.and(r.PeekContext.inPeekEditor,_.ContextKeyExpr.not("config.editor.stablePeek"))}),s.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:200+50,primary:9,secondary:[1024|9],when:_.ContextKeyExpr.and(e.ctxReferenceSearchVisible,_.ContextKeyExpr.not("config.editor.stablePeek"))}),s.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2048|18]},when:_.ContextKeyExpr.and(e.ctxReferenceSearchVisible,n.WorkbenchListFocusContextKey),handler(m){var f;const y=(f=m.get(n.IListService).lastFocusedList)===null||f===void 0?void 0:f.getFocus();Array.isArray(y)&&y[0]instanceof p.OneReference&&g(m,L=>L.revealReference(y[0]))}}),s.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2048|3,mac:{primary:256|3},when:_.ContextKeyExpr.and(e.ctxReferenceSearchVisible,n.WorkbenchListFocusContextKey),handler(m){var f;const y=(f=m.get(n.IListService).lastFocusedList)===null||f===void 0?void 0:f.getFocus();Array.isArray(y)&&y[0]instanceof p.OneReference&&g(m,L=>L.openReference(y[0],!0,!0))}}),o.CommandsRegistry.registerCommand("openReference",m=>{var f;const y=(f=m.get(n.IListService).lastFocusedList)===null||f===void 0?void 0:f.getFocus();Array.isArray(y)&&y[0]instanceof p.OneReference&&g(m,L=>L.openReference(y[0],!1,!0))})}),define(J[272],ee([0,1,41,15,39,17,108,13,28,14,3,25,18,146,119,271,113,482,34,16,32,59,263,26,71,627,35,24,9,20,144]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n,s,t,o,h,g,m,f,b,y,L,N,M,D){"use strict";var R,P,O,W,F,E,A,B;Object.defineProperty(e,"__esModule",{value:!0}),e.DefinitionAction=void 0,s.MenuRegistry.appendMenuItem(s.MenuId.EditorContext,{submenu:s.MenuId.EditorContextPeek,title:n.localize(0,null),group:"navigation",order:100});const H=new Set;function K(x){const z=new x;return(0,_.registerInstantiatedEditorAction)(z),H.add(z.id),z}class q extends _.EditorAction{constructor(z,V){super(V);this._configuration=z}run(z,V){if(!V.hasModel())return Promise.resolve(void 0);const U=z.get(o.INotificationService),Q=z.get(C.ICodeEditorService),se=z.get(h.IEditorProgressService),oe=z.get(b.ISymbolNavigationService),G=V.getModel(),j=V.getPosition(),ne=new f.EditorStateCancellationTokenSource(V,1|4),X=(0,I.raceCancellation)(this._getLocationModel(G,j,ne.token),ne.token).then(de=>Ie(this,void 0,void 0,function*(){if(!(!de||ne.token.isCancellationRequested)){(0,v.alert)(de.ariaMessage);let he;if(de.referenceAt(G.uri,j)){const ue=this._getAlternativeCommand(V);ue!==this.id&&H.has(ue)&&(he=V.getAction(ue))}const re=de.references.length;if(re===0){if(!this._configuration.muteMessage){const ue=G.getWordAtPosition(j);l.MessageController.get(V).showMessage(this._getNoResultFoundMessage(ue),j)}}else if(re===1&&he)he.run();else return this._onResult(Q,oe,V,de)}}),de=>{U.error(de)}).finally(()=>{ne.dispose()});return se.showWhile(X,250),X}_onResult(z,V,U,Q){return Ie(this,void 0,void 0,function*(){const se=this._getGoToPreference(U);if(!(U instanceof D.EmbeddedCodeEditorWidget)&&(this._configuration.openInPeek||se==="peek"&&Q.references.length>1))this._openInPeek(U,Q);else{const oe=Q.firstReference(),G=Q.references.length>1&&se==="gotoAndPeek",j=yield this._openReference(U,z,oe,this._configuration.openToSide,!G);G&&j?this._openInPeek(j,Q):Q.dispose(),se==="goto"&&V.put(oe)}})}_openReference(z,V,U,Q,se){return Ie(this,void 0,void 0,function*(){let oe;if((0,a.isLocationLink)(U)&&(oe=U.targetSelectionRange),oe||(oe=U.range),!!oe){const G=yield V.openCodeEditor({resource:U.uri,options:{selection:p.Range.collapseToStart(oe),selectionRevealType:3}},z,Q);if(!!G){if(se){const j=G.getModel(),ne=G.deltaDecorations([],[{range:oe,options:{className:"symbolHighlight"}}]);setTimeout(()=>{G.getModel()===j&&G.deltaDecorations(ne,[])},350)}return G}}})}_openInPeek(z,V){let U=d.ReferencesController.get(z);U&&z.hasModel()?U.toggleWidget(z.getSelection(),(0,I.createCancelablePromise)(Q=>Promise.resolve(V)),this._configuration.openInPeek):V.dispose()}}class Y extends q{_getLocationModel(z,V,U){return Ie(this,void 0,void 0,function*(){return new r.ReferencesModel(yield(0,g.getDefinitionsAtPosition)(z,V,U),n.localize(1,null))})}_getNoResultFoundMessage(z){return z&&z.word?n.localize(2,null,z.word):n.localize(3,null)}_getAlternativeCommand(z){return z.getOption(47).alternativeDefinitionCommand}_getGoToPreference(z){return z.getOption(47).multipleDefinitions}}e.DefinitionAction=Y;const te=w.isWeb&&!y.isStandalone?2048|70:70;K((R=class Lt extends Y{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Lt.id,label:n.localize(4,null),alias:"Go to Definition",precondition:t.ContextKeyExpr.and(u.EditorContextKeys.hasDefinitionProvider,u.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:te,weight:100},contextMenuOpts:{group:"navigation",order:1.1},menuOpts:{menuId:s.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:2,title:n.localize(5,null)}});m.CommandsRegistry.registerCommandAlias("editor.action.goToDeclaration",Lt.id)}},R.id="editor.action.revealDefinition",R)),K((P=class Et extends Y{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:Et.id,label:n.localize(6,null),alias:"Open Definition to the Side",precondition:t.ContextKeyExpr.and(u.EditorContextKeys.hasDefinitionProvider,u.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,te),weight:100}});m.CommandsRegistry.registerCommandAlias("editor.action.openDeclarationToTheSide",Et.id)}},P.id="editor.action.revealDefinitionAside",P)),K((O=class Dt extends Y{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Dt.id,label:n.localize(7,null),alias:"Peek Definition",precondition:t.ContextKeyExpr.and(u.EditorContextKeys.hasDefinitionProvider,c.PeekContext.notInPeekEditor,u.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:512|70,linux:{primary:2048|1024|68},weight:100},contextMenuOpts:{menuId:s.MenuId.EditorContextPeek,group:"peek",order:2}});m.CommandsRegistry.registerCommandAlias("editor.action.previewDeclaration",Dt.id)}},O.id="editor.action.peekDefinition",O));class ie extends q{_getLocationModel(z,V,U){return Ie(this,void 0,void 0,function*(){return new r.ReferencesModel(yield(0,g.getDeclarationsAtPosition)(z,V,U),n.localize(8,null))})}_getNoResultFoundMessage(z){return z&&z.word?n.localize(9,null,z.word):n.localize(10,null)}_getAlternativeCommand(z){return z.getOption(47).alternativeDeclarationCommand}_getGoToPreference(z){return z.getOption(47).multipleDeclarations}}K((W=class Yt extends ie{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Yt.id,label:n.localize(11,null),alias:"Go to Declaration",precondition:t.ContextKeyExpr.and(u.EditorContextKeys.hasDeclarationProvider,u.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3},menuOpts:{menuId:s.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:3,title:n.localize(12,null)}})}_getNoResultFoundMessage(z){return z&&z.word?n.localize(13,null,z.word):n.localize(14,null)}},W.id="editor.action.revealDeclaration",W)),K(class extends ie{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:n.localize(15,null),alias:"Peek Declaration",precondition:t.ContextKeyExpr.and(u.EditorContextKeys.hasDeclarationProvider,c.PeekContext.notInPeekEditor,u.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:s.MenuId.EditorContextPeek,group:"peek",order:3}})}});class ae extends q{_getLocationModel(z,V,U){return Ie(this,void 0,void 0,function*(){return new r.ReferencesModel(yield(0,g.getTypeDefinitionsAtPosition)(z,V,U),n.localize(16,null))})}_getNoResultFoundMessage(z){return z&&z.word?n.localize(17,null,z.word):n.localize(18,null)}_getAlternativeCommand(z){return z.getOption(47).alternativeTypeDefinitionCommand}_getGoToPreference(z){return z.getOption(47).multipleTypeDefinitions}}K((F=class Zt extends ae{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Zt.ID,label:n.localize(19,null),alias:"Go to Type Definition",precondition:t.ContextKeyExpr.and(u.EditorContextKeys.hasTypeDefinitionProvider,u.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4},menuOpts:{menuId:s.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:3,title:n.localize(20,null)}})}},F.ID="editor.action.goToTypeDefinition",F)),K((E=class Xt extends ae{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Xt.ID,label:n.localize(21,null),alias:"Peek Type Definition",precondition:t.ContextKeyExpr.and(u.EditorContextKeys.hasTypeDefinitionProvider,c.PeekContext.notInPeekEditor,u.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:s.MenuId.EditorContextPeek,group:"peek",order:4}})}},E.ID="editor.action.peekTypeDefinition",E));class le extends q{_getLocationModel(z,V,U){return Ie(this,void 0,void 0,function*(){return new r.ReferencesModel(yield(0,g.getImplementationsAtPosition)(z,V,U),n.localize(22,null))})}_getNoResultFoundMessage(z){return z&&z.word?n.localize(23,null,z.word):n.localize(24,null)}_getAlternativeCommand(z){return z.getOption(47).alternativeImplementationCommand}_getGoToPreference(z){return z.getOption(47).multipleImplementations}}K((A=class Qt extends le{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Qt.ID,label:n.localize(25,null),alias:"Go to Implementations",precondition:t.ContextKeyExpr.and(u.EditorContextKeys.hasImplementationProvider,u.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:2048|70,weight:100},menuOpts:{menuId:s.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:4,title:n.localize(26,null)},contextMenuOpts:{group:"navigation",order:1.45}})}},A.ID="editor.action.goToImplementation",A)),K((B=class Jt extends le{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Jt.ID,label:n.localize(27,null),alias:"Peek Implementations",precondition:t.ContextKeyExpr.and(u.EditorContextKeys.hasImplementationProvider,c.PeekContext.notInPeekEditor,u.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:2048|1024|70,weight:100},contextMenuOpts:{menuId:s.MenuId.EditorContextPeek,group:"peek",order:5}})}},B.ID="editor.action.peekImplementation",B));class Z extends q{_getNoResultFoundMessage(z){return z?n.localize(28,null,z.word):n.localize(29,null)}_getAlternativeCommand(z){return z.getOption(47).alternativeReferenceCommand}_getGoToPreference(z){return z.getOption(47).multipleReferences}}K(class extends Z{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:n.localize(30,null),alias:"Go to References",precondition:t.ContextKeyExpr.and(u.EditorContextKeys.hasReferenceProvider,c.PeekContext.notInPeekEditor,u.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:1024|70,weight:100},contextMenuOpts:{group:"navigation",order:1.45},menuOpts:{menuId:s.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:5,title:n.localize(31,null)}})}_getLocationModel(z,V,U){return Ie(this,void 0,void 0,function*(){return new r.ReferencesModel(yield(0,g.getReferencesAtPosition)(z,V,!0,U),n.localize(32,null))})}}),K(class extends Z{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:n.localize(33,null),alias:"Peek References",precondition:t.ContextKeyExpr.and(u.EditorContextKeys.hasReferenceProvider,c.PeekContext.notInPeekEditor,u.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:s.MenuId.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(z,V,U){return Ie(this,void 0,void 0,function*(){return new r.ReferencesModel(yield(0,g.getReferencesAtPosition)(z,V,!1,U),n.localize(34,null))})}});class T extends q{constructor(z,V,U){super(z,{id:"editor.action.goToLocation",label:n.localize(35,null),alias:"Go To Any Symbol",precondition:t.ContextKeyExpr.and(c.PeekContext.notInPeekEditor,u.EditorContextKeys.isInWalkThroughSnippet.toNegated())});this._references=V,this._gotoMultipleBehaviour=U}_getLocationModel(z,V,U){return Ie(this,void 0,void 0,function*(){return new r.ReferencesModel(this._references,n.localize(36,null))})}_getNoResultFoundMessage(z){return z&&n.localize(37,null,z.word)||""}_getGoToPreference(z){var V;return(V=this._gotoMultipleBehaviour)!==null&&V!==void 0?V:z.getOption(47).multipleReferences}_getAlternativeCommand(){return""}}m.CommandsRegistry.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:L.URI},{name:"position",description:"The position at which to start",constraint:i.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(x,z,V,U,Q,se,oe)=>Ie(void 0,void 0,void 0,function*(){(0,M.assertType)(L.URI.isUri(z)),(0,M.assertType)(i.Position.isIPosition(V)),(0,M.assertType)(Array.isArray(U)),(0,M.assertType)(typeof Q=="undefined"||typeof Q=="string"),(0,M.assertType)(typeof oe=="undefined"||typeof oe=="boolean");const G=x.get(C.ICodeEditorService),j=yield G.openCodeEditor({resource:z},G.getFocusedCodeEditor());if((0,S.isCodeEditor)(j))return j.setPosition(V),j.revealPositionInCenterIfOutsideViewport(V,0),j.invokeWithinContext(ne=>{const X=new class extends T{_getNoResultFoundMessage(de){return se||super._getNoResultFoundMessage(de)}}({muteMessage:!Boolean(se),openInPeek:Boolean(oe),openToSide:!1},U,Q);ne.get(N.IInstantiationService).invokeFunction(X.run.bind(X),j)})})}),m.CommandsRegistry.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:L.URI},{name:"position",description:"The position at which to start",constraint:i.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(x,z,V,U,Q)=>Ie(void 0,void 0,void 0,function*(){x.get(m.ICommandService).executeCommand("editor.action.goToLocations",z,V,U,Q,void 0,!0)})}),m.CommandsRegistry.registerCommand({id:"editor.action.findReferences",handler:(x,z,V)=>{(0,M.assertType)(L.URI.isUri(z)),(0,M.assertType)(i.Position.isIPosition(V));const U=x.get(C.ICodeEditorService);return U.openCodeEditor({resource:z},U.getFocusedCodeEditor()).then(Q=>{if(!(!(0,S.isCodeEditor)(Q)||!Q.hasModel())){const se=d.ReferencesController.get(Q);if(!!se){const oe=(0,I.createCancelablePromise)(j=>(0,g.getReferencesAtPosition)(Q.getModel(),i.Position.lift(V),!1,j).then(ne=>new r.ReferencesModel(ne,n.localize(38,null)))),G=new p.Range(V.lineNumber,V.column,V.lineNumber,V.column);return Promise.resolve(se.toggleWidget(G,oe,!1))}}})}}),m.CommandsRegistry.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations")}),define(J[273],ee([0,1,483,15,11,74,57,3,18,13,263,2,67,12,22,71,272,228,14,20,119,16,345]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n,s,t,o,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoDefinitionAtPositionEditorContribution=void 0;let g=class rt{constructor(f,b,y){this.textModelResolverService=b,this.modeService=y,this.toUnhook=new u.DisposableStore,this.toUnhookForKeyboard=new u.DisposableStore,this.linkDecorations=[],this.currentWordAtPosition=null,this.previousPromise=null,this.editor=f;let L=new n.ClickLinkGesture(f);this.toUnhook.add(L),this.toUnhook.add(L.onMouseMoveOrRelevantKeyDown(([N,M])=>{this.startFindDefinitionFromMouse(N,(0,t.withNullAsUndefined)(M))})),this.toUnhook.add(L.onExecute(N=>{this.isEnabled(N)&&this.gotoDefinition(N.target.position,N.hasSideBySideModifier).then(()=>{this.removeLinkDecorations()},M=>{this.removeLinkDecorations(),(0,k.onUnexpectedError)(M)})})),this.toUnhook.add(L.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(f){return f.getContribution(rt.ID)}startFindDefinitionFromCursor(f){return this.startFindDefinition(f).then(()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(b=>{b&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(f,b){if(!(f.target.type===9&&this.linkDecorations.length>0)){if(!this.editor.hasModel()||!this.isEnabled(f,b)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const y=f.target.position;this.startFindDefinition(y)}}startFindDefinition(f){var b;this.toUnhookForKeyboard.clear();const y=f?(b=this.editor.getModel())===null||b===void 0?void 0:b.getWordAtPosition(f):null;if(!y)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===y.startColumn&&this.currentWordAtPosition.endColumn===y.endColumn&&this.currentWordAtPosition.word===y.word)return Promise.resolve(0);this.currentWordAtPosition=y;let L=new d.EditorState(this.editor,4|1|2|8);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,I.createCancelablePromise)(N=>this.findDefinition(f,N)),this.previousPromise.then(N=>{if(!N||!N.length||!L.validate(this.editor)){this.removeLinkDecorations();return}if(N.length>1)this.addDecoration(new _.Range(f.lineNumber,y.startColumn,f.lineNumber,y.endColumn),new w.MarkdownString().appendText(v.localize(0,null,N.length)));else{let M=N[0];if(!M.uri)return;this.textModelResolverService.createModelReference(M.uri).then(D=>{if(!D.object||!D.object.textEditorModel){D.dispose();return}const{object:{textEditorModel:R}}=D,{startLineNumber:P}=M.range;if(P<1||P>R.getLineCount()){D.dispose();return}const O=this.getPreviewValue(R,P,M);let W;M.originSelectionRange?W=_.Range.lift(M.originSelectionRange):W=new _.Range(f.lineNumber,y.startColumn,f.lineNumber,y.endColumn);const F=this.modeService.getModeIdByFilepathOrFirstLine(R.uri);this.addDecoration(W,new w.MarkdownString().appendCodeblock(F||"",O)),D.dispose()})}}).then(void 0,k.onUnexpectedError)}getPreviewValue(f,b,y){let L=y.targetSelectionRange?y.range:this.getPreviewRangeBasedOnBrackets(f,b);return L.endLineNumber-L.startLineNumber>=rt.MAX_SOURCE_PREVIEW_LINES&&(L=this.getPreviewRangeBasedOnIndentation(f,b)),this.stripIndentationFromPreviewRange(f,b,L)}stripIndentationFromPreviewRange(f,b,y){let N=f.getLineFirstNonWhitespaceColumn(b);for(let D=b+1;D<y.endLineNumber;D++){const R=f.getLineFirstNonWhitespaceColumn(D);N=Math.min(N,R)}return f.getValueInRange(y).replace(new RegExp(`^\\s{${N-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(f,b){const y=f.getLineFirstNonWhitespaceColumn(b),L=Math.min(f.getLineCount(),b+rt.MAX_SOURCE_PREVIEW_LINES);let N=b+1;for(;N<L;N++){let M=f.getLineFirstNonWhitespaceColumn(N);if(y===M)break}return new _.Range(b,1,N+1,1)}getPreviewRangeBasedOnBrackets(f,b){const y=Math.min(f.getLineCount(),b+rt.MAX_SOURCE_PREVIEW_LINES),L=[];let N=!0,M=f.findNextBracket(new s.Position(b,1));for(;M!==null;){if(L.length===0)L.push(M);else{const O=L[L.length-1];if(O.open[0]===M.open[0]&&O.isOpen&&!M.isOpen?L.pop():L.push(M),L.length===0)if(N)N=!1;else return new _.Range(b,1,M.range.endLineNumber+1,1)}const D=f.getLineMaxColumn(b);let R=M.range.endLineNumber,P=M.range.endColumn;if(D===M.range.endColumn&&(R++,P=1),R>y)return new _.Range(b,1,y+1,1);M=f.findNextBracket(new s.Position(R,P))}return new _.Range(b,1,y+1,1)}addDecoration(f,b){const y={range:f,options:{inlineClassName:"goto-definition-link",hoverMessage:b}};this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[y])}removeLinkDecorations(){this.linkDecorations.length>0&&(this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[]))}isEnabled(f,b){return this.editor.hasModel()&&f.isNoneOrSingleMouseDown&&f.target.type===6&&(f.hasTriggerModifier||(b?b.keyCodeIsTriggerKey:!1))&&C.DefinitionProviderRegistry.has(this.editor.getModel())}findDefinition(f,b){const y=this.editor.getModel();return y?(0,p.getDefinitionsAtPosition)(y,f,b):Promise.resolve(null)}gotoDefinition(f,b){return this.editor.setPosition(f),this.editor.invokeWithinContext(y=>{const L=!b&&this.editor.getOption(74)&&!this.isInPeekEditor(y);return new r.DefinitionAction({openToSide:b,openInPeek:L,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(y,this.editor)})}isInPeekEditor(f){const b=f.get(h.IContextKeyService);return o.PeekContext.inPeekEditor.getValue(b)}dispose(){this.toUnhook.dispose()}};g.ID="editor.contrib.gotodefinitionatposition",g.MAX_SOURCE_PREVIEW_LINES=8,g=Me([pe(1,a.ITextModelService),pe(2,S.IModeService)],g),e.GotoDefinitionAtPositionEditorContribution=g,(0,i.registerEditorContribution)(g.ID,g),(0,l.registerThemingParticipant)((m,f)=>{const b=m.getColor(c.editorActiveLinkForeground);b&&f.addRule(`.monaco-editor .goto-definition-link { color: ${b} !important; }`)})}),define(J[274],ee([0,1,489,39,2,13,3,25,57,663,563,58,22,12,273,16,9]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModesHoverController=void 0;let n=class ei{constructor(h,g,m,f,b,y){this._editor=h,this._instantiationService=g,this._openerService=m,this._modeService=f,this._themeService=b,this._toUnhook=new k.DisposableStore,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(L=>{L.hasChanged(50)&&(this._unhookEvents(),this._hookEvents())}),this._hoverVisibleKey=_.EditorContextKeys.hoverVisible.bindTo(y)}static get(h){return h.getContribution(ei.ID)}_hookEvents(){const h=()=>this._hideWidgets(),g=this._editor.getOption(50);this._isHoverEnabled=g.enabled,this._isHoverSticky=g.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(m=>this._onEditorMouseDown(m))),this._toUnhook.add(this._editor.onMouseUp(m=>this._onEditorMouseUp(m))),this._toUnhook.add(this._editor.onMouseMove(m=>this._onEditorMouseMove(m))),this._toUnhook.add(this._editor.onKeyDown(m=>this._onKeyDown(m))),this._toUnhook.add(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged()))):(this._toUnhook.add(this._editor.onMouseMove(m=>this._onEditorMouseMove(m))),this._toUnhook.add(this._editor.onKeyDown(m=>this._onKeyDown(m)))),this._toUnhook.add(this._editor.onMouseLeave(h)),this._toUnhook.add(this._editor.onDidChangeModel(h)),this._toUnhook.add(this._editor.onDidScrollChange(m=>this._onEditorScrollChanged(m)))}_unhookEvents(){this._toUnhook.clear()}_onModelDecorationsChanged(){var h,g;(h=this._contentWidget)===null||h===void 0||h.onModelDecorationsChanged(),(g=this._glyphWidget)===null||g===void 0||g.onModelDecorationsChanged()}_onEditorScrollChanged(h){(h.scrollTopChanged||h.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(h){this._isMouseDown=!0;const g=h.target.type;if(g===9&&h.target.detail===i.ModesContentHoverWidget.ID){this._hoverClicked=!0;return}g===12&&h.target.detail===p.ModesGlyphHoverWidget.ID||(g!==12&&h.target.detail!==p.ModesGlyphHoverWidget.ID&&(this._hoverClicked=!1),this._hideWidgets())}_onEditorMouseUp(h){this._isMouseDown=!1}_onEditorMouseMove(h){var g,m,f,b,y,L;let N=h.target.type;if(!(this._isMouseDown&&this._hoverClicked)&&!(this._isHoverSticky&&N===9&&h.target.detail===i.ModesContentHoverWidget.ID)&&!(this._isHoverSticky&&!((m=(g=h.event.browserEvent.view)===null||g===void 0?void 0:g.getSelection())===null||m===void 0?void 0:m.isCollapsed))&&!(!this._isHoverSticky&&N===9&&h.target.detail===i.ModesContentHoverWidget.ID&&((f=this._contentWidget)===null||f===void 0?void 0:f.isColorPickerVisible()))&&!(this._isHoverSticky&&N===12&&h.target.detail===p.ModesGlyphHoverWidget.ID)){if(N===7){const M=this._editor.getOption(40).typicalHalfwidthCharacterWidth/2,D=h.target.detail;D&&!D.isAfterLines&&typeof D.horizontalDistanceToText=="number"&&D.horizontalDistanceToText<M&&(N=6)}if(N===6){if((b=this._glyphWidget)===null||b===void 0||b.hide(),this._isHoverEnabled&&h.target.range){const D=[...((y=h.target.element)===null||y===void 0?void 0:y.classList.values())||[]].find(R=>R.startsWith("ced-colorBox"))&&h.target.range.endColumn-h.target.range.startColumn==1?new S.Range(h.target.range.startLineNumber,h.target.range.startColumn+1,h.target.range.endLineNumber,h.target.range.endColumn+1):h.target.range;this._contentWidget||(this._contentWidget=new i.ModesContentHoverWidget(this._editor,this._hoverVisibleKey,this._instantiationService,this._themeService)),this._contentWidget.startShowingAt(D,0,!1)}}else N===2?((L=this._contentWidget)===null||L===void 0||L.hide(),this._isHoverEnabled&&h.target.position&&(this._glyphWidget||(this._glyphWidget=new p.ModesGlyphHoverWidget(this._editor,this._modeService,this._openerService)),this._glyphWidget.startShowingAt(h.target.position.lineNumber))):this._hideWidgets()}}_onKeyDown(h){h.keyCode!==5&&h.keyCode!==6&&h.keyCode!==57&&h.keyCode!==4&&this._hideWidgets()}_hideWidgets(){var h,g,m;this._isMouseDown&&this._hoverClicked&&((h=this._contentWidget)===null||h===void 0?void 0:h.isColorPickerVisible())||(this._hoverClicked=!1,(g=this._glyphWidget)===null||g===void 0||g.hide(),(m=this._contentWidget)===null||m===void 0||m.hide())}isColorPickerVisible(){var h;return((h=this._contentWidget)===null||h===void 0?void 0:h.isColorPickerVisible())||!1}showContentHover(h,g,m){this._contentWidget||(this._contentWidget=new i.ModesContentHoverWidget(this._editor,this._hoverVisibleKey,this._instantiationService,this._themeService)),this._contentWidget.startShowingAt(h,g,m)}dispose(){var h,g;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),(h=this._glyphWidget)===null||h===void 0||h.dispose(),(g=this._contentWidget)===null||g===void 0||g.dispose()}};n.ID="editor.contrib.hover",n=Me([pe(1,r.IInstantiationService),pe(2,u.IOpenerService),pe(3,C.IModeService),pe(4,l.IThemeService),pe(5,d.IContextKeyService)],n),e.ModesHoverController=n;class s extends w.EditorAction{constructor(){super({id:"editor.action.showHover",label:v.localize(0,null),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.editorTextFocus,primary:(0,I.KeyChord)(2048|41,2048|39),weight:100}})}run(h,g){if(!!g.hasModel()){let m=n.get(g);if(!!m){const f=g.getPosition(),b=new S.Range(f.lineNumber,f.column,f.lineNumber,f.column),y=g.getOption(2)===2;m.showContentHover(b,1,y)}}}}class t extends w.EditorAction{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:v.localize(1,null),alias:"Show Definition Preview Hover",precondition:void 0})}run(h,g){let m=n.get(g);if(!!m){const f=g.getPosition();if(!!f){const b=new S.Range(f.lineNumber,f.column,f.lineNumber,f.column);c.GotoDefinitionAtPositionEditorContribution.get(g).startFindDefinitionFromCursor(f).then(()=>{m.showContentHover(b,1,!0)})}}}}(0,w.registerEditorContribution)(n.ID,n),(0,w.registerEditorAction)(s),(0,w.registerEditorAction)(t),(0,l.registerThemingParticipant)((o,h)=>{const g=o.getColor(a.editorHoverHighlight);g&&h.addRule(`.monaco-editor .hoverHighlight { background-color: ${g}; }`);const m=o.getColor(a.editorHoverBackground);m&&h.addRule(`.monaco-editor .monaco-hover { background-color: ${m}; }`);const f=o.getColor(a.editorHoverBorder);f&&(h.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${f}; }`),h.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${f.transparent(.5)}; }`),h.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${f.transparent(.5)}; }`),h.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${f.transparent(.5)}; }`));const b=o.getColor(a.textLinkForeground);b&&h.addRule(`.monaco-editor .monaco-hover a { color: ${b}; }`);const y=o.getColor(a.editorHoverForeground);y&&h.addRule(`.monaco-editor .monaco-hover { color: ${y}; }`);const L=o.getColor(a.editorHoverStatusBarBackground);L&&h.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${L}; }`);const N=o.getColor(a.textCodeBlockBackground);N&&h.addRule(`.monaco-editor .monaco-hover code { background-color: ${N}; }`)})}),define(J[672],ee([0,1,2,13,274,3,261]),function($,e,v,I,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorContribution=void 0;class S extends v.Disposable{constructor(C){super();this._editor=C,this._register(C.onMouseDown(i=>this.onMouseDown(i)))}dispose(){super.dispose()}onMouseDown(C){var i;if(C.target.type===6&&!![...((i=C.target.element)===null||i===void 0?void 0:i.classList.values())||[]].find(l=>l.startsWith("ced-colorBox"))&&!!C.target.range){const a=this._editor.getContribution(k.ModesHoverController.ID);if(!a.isColorPickerVisible()){const l=new w.Range(C.target.range.startLineNumber,C.target.range.startColumn+1,C.target.range.endLineNumber,C.target.range.endColumn+1);a.showContentHover(l,0,!1)}}}}e.ColorContribution=S,S.ID="editor.contrib.colorContribution",(0,I.registerEditorContribution)(S.ID,S)}),define(J[673],ee([0,1,15,2,13,18,36,253,12,47,270,247]),function($,e,v,I,k,w,S,_,C,i,p,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let a=class extends I.Disposable{constructor(c,d,r,n){super();this._modelService=d,this._themeService=r,this._configurationService=n,this._editor=c,this._tokenizeViewport=new v.RunOnceScheduler(()=>this._tokenizeViewportNow(),100),this._outstandingRequests=[],this._register(this._editor.onDidScrollChange(()=>{this._tokenizeViewport.schedule()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(this._editor.onDidChangeModelContent(s=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(w.DocumentRangeSemanticTokensProviderRegistry.onDidChange(()=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(this._configurationService.onDidChangeConfiguration(s=>{s.affectsConfiguration(p.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&(this._cancelAll(),this._tokenizeViewport.schedule())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),this._tokenizeViewport.schedule()}))}_cancelAll(){for(const c of this._outstandingRequests)c.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(c){for(let d=0,r=this._outstandingRequests.length;d<r;d++)if(this._outstandingRequests[d]===c){this._outstandingRequests.splice(d,1);return}}_tokenizeViewportNow(){if(!!this._editor.hasModel()){const c=this._editor.getModel();if(!c.hasCompleteSemanticTokens()){if(!(0,p.isSemanticColoringEnabled)(c,this._themeService,this._configurationService)){c.hasSomeSemanticTokens()&&c.setSemanticTokens(null,!1);return}const d=(0,u.getDocumentRangeSemanticTokensProvider)(c);if(!d){c.hasSomeSemanticTokens()&&c.setSemanticTokens(null,!1);return}const r=this._modelService.getSemanticTokensProviderStyling(d),n=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(n.map(s=>this._requestRange(c,s,d,r)))}}}_requestRange(c,d,r,n){const s=c.getVersionId(),t=(0,v.createCancelablePromise)(o=>Promise.resolve(r.provideDocumentRangeSemanticTokens(c,d,o)));return t.then(o=>{!o||c.isDisposed()||c.getVersionId()!==s||c.setPartialSemanticTokens(d,(0,_.toMultilineTokens2)(o,n,c.getLanguageIdentifier()))}).then(()=>this._removeOutstandingRequest(t),()=>this._removeOutstandingRequest(t)),t}};a.ID="editor.contrib.viewportSemanticTokens",a=Me([pe(1,S.IModelService),pe(2,C.IThemeService),pe(3,i.IConfigurationService)],a),(0,k.registerEditorContribution)(a.ID,a)}),define(J[674],ee([0,1,13,28,271,47,16,9,32,79]),function($,e,v,I,k,w,S,_,C,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneReferencesController=void 0;let p=class extends k.ReferencesController{constructor(a,l,c,d,r,n,s){super(!0,a,l,c,d,r,n,s)}};p=Me([pe(1,S.IContextKeyService),pe(2,I.ICodeEditorService),pe(3,C.INotificationService),pe(4,_.IInstantiationService),pe(5,i.IStorageService),pe(6,w.IConfigurationService)],p),e.StandaloneReferencesController=p,(0,v.registerEditorContribution)(k.ReferencesController.ID,p)}),define(J[675],ee([0,1,532,148,11,75,185,82,44,32,2]),function($,e,v,I,k,w,S,_,C,i,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoService=void 0;const u=!1;function a(m){return m.scheme===C.Schemas.file?m.fsPath:m.path}let l=0;class c{constructor(f,b,y,L,N,M,D){this.id=++l,this.type=0,this.actual=f,this.label=f.label,this.confirmBeforeUndo=f.confirmBeforeUndo||!1,this.resourceLabel=b,this.strResource=y,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=L,this.groupOrder=N,this.sourceId=M,this.sourceOrder=D,this.isValid=!0}setValid(f){this.isValid=f}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class d{constructor(f,b){this.resourceLabel=f,this.reason=b}}class r{constructor(){this.elements=new Map}createMessage(){const f=[],b=[];for(const[,L]of this.elements)(L.reason===0?f:b).push(L.resourceLabel);let y=[];return f.length>0&&y.push(v.localize(0,null,f.join(", "))),b.length>0&&y.push(v.localize(1,null,b.join(", "))),y.join(`
`)}get size(){return this.elements.size}has(f){return this.elements.has(f)}set(f,b){this.elements.set(f,b)}delete(f){return this.elements.delete(f)}}class n{constructor(f,b,y,L,N,M,D){this.id=++l,this.type=1,this.actual=f,this.label=f.label,this.confirmBeforeUndo=f.confirmBeforeUndo||!1,this.resourceLabels=b,this.strResources=y,this.groupId=L,this.groupOrder=N,this.sourceId=M,this.sourceOrder=D,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(f,b,y){this.removedResources||(this.removedResources=new r),this.removedResources.has(b)||this.removedResources.set(b,new d(f,y))}setValid(f,b,y){y?this.invalidatedResources&&(this.invalidatedResources.delete(b),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new r),this.invalidatedResources.has(b)||this.invalidatedResources.set(b,new d(f,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class s{constructor(f,b){this.resourceLabel=f,this.strResource=b,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const f of this._past)f.type===1&&f.removeResource(this.resourceLabel,this.strResource,0);for(const f of this._future)f.type===1&&f.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){let f=[];f.push(`* ${this.strResource}:`);for(let b=0;b<this._past.length;b++)f.push(`   * [UNDO] ${this._past[b]}`);for(let b=this._future.length-1;b>=0;b--)f.push(`   * [REDO] ${this._future[b]}`);return f.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(f,b){f.type===1?f.setValid(this.resourceLabel,this.strResource,b):f.setValid(b)}setElementsValidFlag(f,b){for(const y of this._past)b(y.actual)&&this._setElementValidFlag(y,f);for(const y of this._future)b(y.actual)&&this._setElementValidFlag(y,f)}pushElement(f){for(const b of this._future)b.type===1&&b.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(f),this.versionId++}createSnapshot(f){const b=[];for(let y=0,L=this._past.length;y<L;y++)b.push(this._past[y].id);for(let y=this._future.length-1;y>=0;y--)b.push(this._future[y].id);return new I.ResourceEditStackSnapshot(f,b)}restoreSnapshot(f){const b=f.elements.length;let y=!0,L=0,N=-1;for(let D=0,R=this._past.length;D<R;D++,L++){const P=this._past[D];y&&(L>=b||P.id!==f.elements[L])&&(y=!1,N=0),!y&&P.type===1&&P.removeResource(this.resourceLabel,this.strResource,0)}let M=-1;for(let D=this._future.length-1;D>=0;D--,L++){const R=this._future[D];y&&(L>=b||R.id!==f.elements[L])&&(y=!1,M=D),!y&&R.type===1&&R.removeResource(this.resourceLabel,this.strResource,0)}N!==-1&&(this._past=this._past.slice(0,N)),M!==-1&&(this._future=this._future.slice(M+1)),this.versionId++}getElements(){const f=[],b=[];for(const y of this._past)f.push(y.actual);for(const y of this._future)b.push(y.actual);return{past:f,future:b}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(f,b){for(let y=this._past.length-1;y>=0;y--)if(this._past[y]===f){b.has(this.strResource)?this._past[y]=b.get(this.strResource):this._past.splice(y,1);break}this.versionId++}splitFutureWorkspaceElement(f,b){for(let y=this._future.length-1;y>=0;y--)if(this._future[y]===f){b.has(this.strResource)?this._future[y]=b.get(this.strResource):this._future.splice(y,1);break}this.versionId++}moveBackward(f){this._past.pop(),this._future.push(f),this.versionId++}moveForward(f){this._future.pop(),this._past.push(f),this.versionId++}}class t{constructor(f){this.editStacks=f,this._versionIds=[];for(let b=0,y=this.editStacks.length;b<y;b++)this._versionIds[b]=this.editStacks[b].versionId}isValid(){for(let f=0,b=this.editStacks.length;f<b;f++)if(this._versionIds[f]!==this.editStacks[f].versionId)return!1;return!0}}const o=new s("","");o.locked=!0;let h=class{constructor(f,b){this._dialogService=f,this._notificationService=b,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(f){for(const b of this._uriComparisonKeyComputers)if(b[0]===f.scheme)return b[1].getComparisonKey(f);return f.toString()}_print(f){console.log("------------------------------------"),console.log(`AFTER ${f}: `);let b=[];for(const y of this._editStacks)b.push(y[1].toString());console.log(b.join(`
`))}pushElement(f,b=I.UndoRedoGroup.None,y=I.UndoRedoSource.None){if(f.type===0){const L=a(f.resource),N=this.getUriComparisonKey(f.resource);this._pushElement(new c(f,L,N,b.id,b.nextOrder(),y.id,y.nextOrder()))}else{const L=new Set,N=[],M=[];for(const D of f.resources){const R=a(D),P=this.getUriComparisonKey(D);L.has(P)||(L.add(P),N.push(R),M.push(P))}N.length===1?this._pushElement(new c(f,N[0],M[0],b.id,b.nextOrder(),y.id,y.nextOrder())):this._pushElement(new n(f,N,M,b.id,b.nextOrder(),y.id,y.nextOrder()))}u&&this._print("pushElement")}_pushElement(f){for(let b=0,y=f.strResources.length;b<y;b++){const L=f.resourceLabels[b],N=f.strResources[b];let M;this._editStacks.has(N)?M=this._editStacks.get(N):(M=new s(L,N),this._editStacks.set(N,M)),M.pushElement(f)}}getLastElement(f){const b=this.getUriComparisonKey(f);if(this._editStacks.has(b)){const y=this._editStacks.get(b);if(y.hasFutureElements())return null;const L=y.getClosestPastElement();return L?L.actual:null}return null}_splitPastWorkspaceElement(f,b){const y=f.actual.split(),L=new Map;for(const N of y){const M=a(N.resource),D=this.getUriComparisonKey(N.resource),R=new c(N,M,D,0,0,0,0);L.set(R.strResource,R)}for(const N of f.strResources)b&&b.has(N)||this._editStacks.get(N).splitPastWorkspaceElement(f,L)}_splitFutureWorkspaceElement(f,b){const y=f.actual.split(),L=new Map;for(const N of y){const M=a(N.resource),D=this.getUriComparisonKey(N.resource),R=new c(N,M,D,0,0,0,0);L.set(R.strResource,R)}for(const N of f.strResources)b&&b.has(N)||this._editStacks.get(N).splitFutureWorkspaceElement(f,L)}removeElements(f){const b=typeof f=="string"?f:this.getUriComparisonKey(f);this._editStacks.has(b)&&(this._editStacks.get(b).dispose(),this._editStacks.delete(b)),u&&this._print("removeElements")}setElementsValidFlag(f,b,y){const L=this.getUriComparisonKey(f);this._editStacks.has(L)&&this._editStacks.get(L).setElementsValidFlag(b,y),u&&this._print("setElementsValidFlag")}createSnapshot(f){const b=this.getUriComparisonKey(f);return this._editStacks.has(b)?this._editStacks.get(b).createSnapshot(f):new I.ResourceEditStackSnapshot(f,[])}restoreSnapshot(f){const b=this.getUriComparisonKey(f.resource);if(this._editStacks.has(b)){const y=this._editStacks.get(b);y.restoreSnapshot(f),!y.hasPastElements()&&!y.hasFutureElements()&&(y.dispose(),this._editStacks.delete(b))}u&&this._print("restoreSnapshot")}getElements(f){const b=this.getUriComparisonKey(f);return this._editStacks.has(b)?this._editStacks.get(b).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(f){if(!f)return[null,null];let b=null,y=null;for(const[L,N]of this._editStacks){const M=N.getClosestPastElement();!M||M.sourceId===f&&(!b||M.sourceOrder>b.sourceOrder)&&(b=M,y=L)}return[b,y]}canUndo(f){if(f instanceof I.UndoRedoSource){const[,y]=this._findClosestUndoElementWithSource(f.id);return!!y}const b=this.getUriComparisonKey(f);return this._editStacks.has(b)?this._editStacks.get(b).hasPastElements():!1}_onError(f,b){(0,k.onUnexpectedError)(f);for(const y of b.strResources)this.removeElements(y);this._notificationService.error(f)}_acquireLocks(f){for(const b of f.editStacks)if(b.locked)throw new Error("Cannot acquire edit stack lock");for(const b of f.editStacks)b.locked=!0;return()=>{for(const b of f.editStacks)b.locked=!1}}_safeInvokeWithLocks(f,b,y,L,N){const M=this._acquireLocks(y);let D;try{D=b()}catch(R){return M(),L.dispose(),this._onError(R,f)}return D?D.then(()=>(M(),L.dispose(),N()),R=>(M(),L.dispose(),this._onError(R,f))):(M(),L.dispose(),N())}_invokeWorkspacePrepare(f){return Ie(this,void 0,void 0,function*(){if(typeof f.actual.prepareUndoRedo=="undefined")return p.Disposable.None;const b=f.actual.prepareUndoRedo();return typeof b=="undefined"?p.Disposable.None:b})}_invokeResourcePrepare(f,b){if(f.actual.type!==1||typeof f.actual.prepareUndoRedo=="undefined")return b(p.Disposable.None);const y=f.actual.prepareUndoRedo();return y?(0,p.isDisposable)(y)?b(y):y.then(L=>b(L)):b(p.Disposable.None)}_getAffectedEditStacks(f){const b=[];for(const y of f.strResources)b.push(this._editStacks.get(y)||o);return new t(b)}_tryToSplitAndUndo(f,b,y,L){if(b.canSplit())return this._splitPastWorkspaceElement(b,y),this._notificationService.warn(L),new g(this._undo(f,0,!0));for(const N of b.strResources)this.removeElements(N);return this._notificationService.warn(L),new g}_checkWorkspaceUndo(f,b,y,L){if(b.removedResources)return this._tryToSplitAndUndo(f,b,b.removedResources,v.localize(2,null,b.label,b.removedResources.createMessage()));if(L&&b.invalidatedResources)return this._tryToSplitAndUndo(f,b,b.invalidatedResources,v.localize(3,null,b.label,b.invalidatedResources.createMessage()));const N=[];for(const D of y.editStacks)D.getClosestPastElement()!==b&&N.push(D.resourceLabel);if(N.length>0)return this._tryToSplitAndUndo(f,b,null,v.localize(4,null,b.label,N.join(", ")));const M=[];for(const D of y.editStacks)D.locked&&M.push(D.resourceLabel);return M.length>0?this._tryToSplitAndUndo(f,b,null,v.localize(5,null,b.label,M.join(", "))):y.isValid()?null:this._tryToSplitAndUndo(f,b,null,v.localize(6,null,b.label))}_workspaceUndo(f,b,y){const L=this._getAffectedEditStacks(b),N=this._checkWorkspaceUndo(f,b,L,!1);return N?N.returnValue:this._confirmAndExecuteWorkspaceUndo(f,b,L,y)}_isPartOfUndoGroup(f){if(!f.groupId)return!1;for(const[,b]of this._editStacks){const y=b.getClosestPastElement();if(!!y){if(y===f){const L=b.getSecondClosestPastElement();if(L&&L.groupId===f.groupId)return!0}if(y.groupId===f.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(f,b,y,L){return Ie(this,void 0,void 0,function*(){if(b.canSplit()&&!this._isPartOfUndoGroup(b)){const D=yield this._dialogService.show(_.default.Info,v.localize(7,null,b.label),[v.localize(8,null,y.editStacks.length),v.localize(9,null),v.localize(10,null)],{cancelId:2});if(D.choice===2)return;if(D.choice===1)return this._splitPastWorkspaceElement(b,null),this._undo(f,0,!0);const R=this._checkWorkspaceUndo(f,b,y,!1);if(R)return R.returnValue;L=!0}let N;try{N=yield this._invokeWorkspacePrepare(b)}catch(D){return this._onError(D,b)}const M=this._checkWorkspaceUndo(f,b,y,!0);if(M)return N.dispose(),M.returnValue;for(const D of y.editStacks)D.moveBackward(b);return this._safeInvokeWithLocks(b,()=>b.actual.undo(),y,N,()=>this._continueUndoInGroup(b.groupId,L))})}_resourceUndo(f,b,y){if(!b.isValid){f.flushAllElements();return}if(f.locked){const L=v.localize(11,null,b.label);this._notificationService.warn(L);return}return this._invokeResourcePrepare(b,L=>(f.moveBackward(b),this._safeInvokeWithLocks(b,()=>b.actual.undo(),new t([f]),L,()=>this._continueUndoInGroup(b.groupId,y))))}_findClosestUndoElementInGroup(f){if(!f)return[null,null];let b=null,y=null;for(const[L,N]of this._editStacks){const M=N.getClosestPastElement();!M||M.groupId===f&&(!b||M.groupOrder>b.groupOrder)&&(b=M,y=L)}return[b,y]}_continueUndoInGroup(f,b){if(!!f){const[,y]=this._findClosestUndoElementInGroup(f);if(y)return this._undo(y,0,b)}}undo(f){if(f instanceof I.UndoRedoSource){const[,b]=this._findClosestUndoElementWithSource(f.id);return b?this._undo(b,f.id,!1):void 0}return typeof f=="string"?this._undo(f,0,!1):this._undo(this.getUriComparisonKey(f),0,!1)}_undo(f,b=0,y){if(!!this._editStacks.has(f)){const L=this._editStacks.get(f),N=L.getClosestPastElement();if(!!N){if(N.groupId){const[D,R]=this._findClosestUndoElementInGroup(N.groupId);if(N!==D&&R)return this._undo(R,b,y)}if((N.sourceId!==b||N.confirmBeforeUndo)&&!y)return this._confirmAndContinueUndo(f,b,N);try{return N.type===1?this._workspaceUndo(f,N,y):this._resourceUndo(L,N,y)}finally{u&&this._print("undo")}}}}_confirmAndContinueUndo(f,b,y){return Ie(this,void 0,void 0,function*(){if((yield this._dialogService.show(_.default.Info,v.localize(12,null,y.label),[v.localize(13,null),v.localize(14,null)],{cancelId:1})).choice!==1)return this._undo(f,b,!0)})}_findClosestRedoElementWithSource(f){if(!f)return[null,null];let b=null,y=null;for(const[L,N]of this._editStacks){const M=N.getClosestFutureElement();!M||M.sourceId===f&&(!b||M.sourceOrder<b.sourceOrder)&&(b=M,y=L)}return[b,y]}canRedo(f){if(f instanceof I.UndoRedoSource){const[,y]=this._findClosestRedoElementWithSource(f.id);return!!y}const b=this.getUriComparisonKey(f);return this._editStacks.has(b)?this._editStacks.get(b).hasFutureElements():!1}_tryToSplitAndRedo(f,b,y,L){if(b.canSplit())return this._splitFutureWorkspaceElement(b,y),this._notificationService.warn(L),new g(this._redo(f));for(const N of b.strResources)this.removeElements(N);return this._notificationService.warn(L),new g}_checkWorkspaceRedo(f,b,y,L){if(b.removedResources)return this._tryToSplitAndRedo(f,b,b.removedResources,v.localize(15,null,b.label,b.removedResources.createMessage()));if(L&&b.invalidatedResources)return this._tryToSplitAndRedo(f,b,b.invalidatedResources,v.localize(16,null,b.label,b.invalidatedResources.createMessage()));const N=[];for(const D of y.editStacks)D.getClosestFutureElement()!==b&&N.push(D.resourceLabel);if(N.length>0)return this._tryToSplitAndRedo(f,b,null,v.localize(17,null,b.label,N.join(", ")));const M=[];for(const D of y.editStacks)D.locked&&M.push(D.resourceLabel);return M.length>0?this._tryToSplitAndRedo(f,b,null,v.localize(18,null,b.label,M.join(", "))):y.isValid()?null:this._tryToSplitAndRedo(f,b,null,v.localize(19,null,b.label))}_workspaceRedo(f,b){const y=this._getAffectedEditStacks(b),L=this._checkWorkspaceRedo(f,b,y,!1);return L?L.returnValue:this._executeWorkspaceRedo(f,b,y)}_executeWorkspaceRedo(f,b,y){return Ie(this,void 0,void 0,function*(){let L;try{L=yield this._invokeWorkspacePrepare(b)}catch(M){return this._onError(M,b)}const N=this._checkWorkspaceRedo(f,b,y,!0);if(N)return L.dispose(),N.returnValue;for(const M of y.editStacks)M.moveForward(b);return this._safeInvokeWithLocks(b,()=>b.actual.redo(),y,L,()=>this._continueRedoInGroup(b.groupId))})}_resourceRedo(f,b){if(!b.isValid){f.flushAllElements();return}if(f.locked){const y=v.localize(20,null,b.label);this._notificationService.warn(y);return}return this._invokeResourcePrepare(b,y=>(f.moveForward(b),this._safeInvokeWithLocks(b,()=>b.actual.redo(),new t([f]),y,()=>this._continueRedoInGroup(b.groupId))))}_findClosestRedoElementInGroup(f){if(!f)return[null,null];let b=null,y=null;for(const[L,N]of this._editStacks){const M=N.getClosestFutureElement();!M||M.groupId===f&&(!b||M.groupOrder<b.groupOrder)&&(b=M,y=L)}return[b,y]}_continueRedoInGroup(f){if(!!f){const[,b]=this._findClosestRedoElementInGroup(f);if(b)return this._redo(b)}}redo(f){if(f instanceof I.UndoRedoSource){const[,b]=this._findClosestRedoElementWithSource(f.id);return b?this._redo(b):void 0}return typeof f=="string"?this._redo(f):this._redo(this.getUriComparisonKey(f))}_redo(f){if(!!this._editStacks.has(f)){const b=this._editStacks.get(f),y=b.getClosestFutureElement();if(!!y){if(y.groupId){const[L,N]=this._findClosestRedoElementInGroup(y.groupId);if(y!==L&&N)return this._redo(N)}try{return y.type===1?this._workspaceRedo(f,y):this._resourceRedo(b,y)}finally{u&&this._print("redo")}}}}};h=Me([pe(0,S.IDialogService),pe(1,i.INotificationService)],h),e.UndoRedoService=h;class g{constructor(f){this.returnValue=f}}(0,w.registerSingleton)(I.IUndoRedoService,h)}),define(J[191],ee([0,1,9,51]),function($,e,v,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkspaceFolder=e.Workspace=e.IWorkspaceContextService=void 0,e.IWorkspaceContextService=(0,v.createDecorator)("contextService");class k{constructor(_,C,i,p){this._id=_,this._configuration=i,this._ignorePathCasing=p,this._foldersMap=I.TernarySearchTree.forUris(this._ignorePathCasing),this.folders=C}get folders(){return this._folders}set folders(_){this._folders=_,this.updateFoldersMap()}get id(){return this._id}get configuration(){return this._configuration}set configuration(_){this._configuration=_}getFolder(_){return _&&this._foldersMap.findSubstr(_.with({scheme:_.scheme,authority:_.authority,path:_.path}))||null}updateFoldersMap(){this._foldersMap=I.TernarySearchTree.forUris(this._ignorePathCasing);for(const _ of this.folders)this._foldersMap.set(_.uri,_)}toJSON(){return{id:this.id,folders:this.folders,configuration:this.configuration}}}e.Workspace=k;class w{constructor(_,C){this.raw=C,this.uri=_.uri,this.index=_.index,this.name=_.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}e.WorkspaceFolder=w}),define(J[192],ee([0,1,8,7,56,6,39,2,17,82,24,108,133,187,62,14,3,36,26,47,572,554,251,86,556,557,32,191,64]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n,s,t,o,h,g,m,f,b,y,L,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleLayoutService=e.SimpleUriLabelService=e.SimpleBulkEditService=e.updateConfigurationService=e.SimpleWorkspaceContextService=e.StandaloneTelemetryService=e.SimpleResourcePropertiesService=e.SimpleResourceConfigurationService=e.SimpleConfigurationService=e.StandaloneKeybindingService=e.StandaloneCommandService=e.SimpleNotificationService=e.SimpleDialogService=e.SimpleEditorProgressService=e.SimpleEditorModelResolverService=e.SimpleModel=void 0;class M{constructor(T){this.disposed=!1,this.model=T,this._onWillDispose=new w.Emitter}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}e.SimpleModel=M;function D(Z,T,x){return(0,u.isCodeEditor)(Z)?T(Z):x(Z)}let R=class{constructor(T){this.modelService=T}setEditor(T){this.editor=T}createModelReference(T){let x=null;return this.editor&&(x=D(this.editor,z=>this.findModel(z,T),z=>this.findModel(z.getOriginalEditor(),T)||this.findModel(z.getModifiedEditor(),T))),x?Promise.resolve(new _.ImmortalReference(new M(x))):Promise.reject(new Error("Model not found"))}findModel(T,x){let z=this.modelService.getModel(x);return z&&z.uri.toString()!==x.toString()?null:z}};R=Me([pe(0,n.IModelService)],R),e.SimpleEditorModelResolverService=R;class P{show(){return P.NULL_PROGRESS_RUNNER}showWhile(T,x){return Ie(this,void 0,void 0,function*(){yield T})}}e.SimpleEditorProgressService=P,P.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class O{confirm(T){return this.doConfirm(T).then(x=>({confirmed:x,checkboxChecked:!1}))}doConfirm(T){let x=T.message;return T.detail&&(x=x+`

`+T.detail),Promise.resolve(window.confirm(x))}show(T,x,z,V){return Promise.resolve({choice:0})}}e.SimpleDialogService=O;class W{info(T){return this.notify({severity:i.default.Info,message:T})}warn(T){return this.notify({severity:i.default.Warning,message:T})}error(T){return this.notify({severity:i.default.Error,message:T})}notify(T){switch(T.severity){case i.default.Error:console.error(T.message);break;case i.default.Warning:console.warn(T.message);break;default:console.log(T.message);break}return W.NO_OP}status(T,x){return _.Disposable.None}}e.SimpleNotificationService=W,W.NO_OP=new y.NoOpNotification;class F{constructor(T){this._onWillExecuteCommand=new w.Emitter,this._onDidExecuteCommand=new w.Emitter,this._instantiationService=T}executeCommand(T,...x){const z=s.CommandsRegistry.getCommand(T);if(!z)return Promise.reject(new Error(`command '${T}' not found`));try{this._onWillExecuteCommand.fire({commandId:T,args:x});const V=this._instantiationService.invokeFunction.apply(this._instantiationService,[z.handler,...x]);return this._onDidExecuteCommand.fire({commandId:T,args:x}),Promise.resolve(V)}catch(V){return Promise.reject(V)}}}e.StandaloneCommandService=F;class E extends h.AbstractKeybindingService{constructor(T,x,z,V,U,Q){super(T,x,z,V,U);this._cachedResolver=null,this._dynamicKeybindings=[],this._register(I.addDisposableListener(Q,I.EventType.KEY_DOWN,se=>{const oe=new k.StandardKeyboardEvent(se);this._dispatch(oe,oe.target)&&(oe.preventDefault(),oe.stopPropagation())})),this._register(I.addDisposableListener(window,I.EventType.KEY_UP,se=>{const oe=new k.StandardKeyboardEvent(se);this._singleModifierDispatch(oe,oe.target)&&oe.preventDefault()}))}addDynamicKeybinding(T,x,z,V){const U=(0,S.createKeybinding)(x,C.OS),Q=new _.DisposableStore;return U&&(this._dynamicKeybindings.push({keybinding:U,command:T,when:V,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}),Q.add((0,_.toDisposable)(()=>{for(let se=0;se<this._dynamicKeybindings.length;se++)if(this._dynamicKeybindings[se].command===T){this._dynamicKeybindings.splice(se,1),this.updateResolver({source:1});return}}))),Q.add(s.CommandsRegistry.registerCommand(T,z)),this.updateResolver({source:1}),Q}updateResolver(T){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(T)}_getResolver(){if(!this._cachedResolver){const T=this._toNormalizedKeybindingItems(m.KeybindingsRegistry.getDefaultKeybindings(),!0),x=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new g.KeybindingResolver(T,x,z=>this._log(z))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(T,x){let z=[],V=0;for(const U of T){const Q=U.when||void 0,se=U.keybinding;if(!se)z[V++]=new f.ResolvedKeybindingItem(void 0,U.command,U.commandArgs,Q,x,null,!1);else{const oe=this.resolveKeybinding(se);for(const G of oe)z[V++]=new f.ResolvedKeybindingItem(G,U.command,U.commandArgs,Q,x,null,!1)}}return z}resolveKeybinding(T){return[new b.USLayoutResolvedKeybinding(T,C.OS)]}resolveKeyboardEvent(T){let x=new S.SimpleKeybinding(T.ctrlKey,T.shiftKey,T.altKey,T.metaKey,T.keyCode).toChord();return new b.USLayoutResolvedKeybinding(x,C.OS)}}e.StandaloneKeybindingService=E;function A(Z){return Z&&typeof Z=="object"&&(!Z.overrideIdentifier||typeof Z.overrideIdentifier=="string")&&(!Z.resource||Z.resource instanceof p.URI)}class B{constructor(){this._onDidChangeConfiguration=new w.Emitter,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new o.Configuration(new o.DefaultConfigurationModel,new o.ConfigurationModel)}getValue(T,x){const z=typeof T=="string"?T:void 0,V=A(T)?T:A(x)?x:{};return this._configuration.getValue(z,V,void 0)}updateValues(T){const x={data:this._configuration.toData()};let z=[];for(const V of T){const[U,Q]=V;this.getValue(U)!==Q&&(this._configuration.updateValue(U,Q),z.push(U))}if(z.length>0){const V=new o.ConfigurationChangeEvent({keys:z,overrides:[]},x,this._configuration);V.source=7,V.sourceConfig=null,this._onDidChangeConfiguration.fire(V)}return Promise.resolve()}}e.SimpleConfigurationService=B;class H{constructor(T){this.configurationService=T,this._onDidChangeConfiguration=new w.Emitter,this.configurationService.onDidChangeConfiguration(x=>{this._onDidChangeConfiguration.fire({affectedKeys:x.affectedKeys,affectsConfiguration:(z,V)=>x.affectsConfiguration(V)})})}getValue(T,x,z){const U=(d.Position.isIPosition(x)?x:null)?typeof z=="string"?z:void 0:typeof x=="string"?x:void 0;return typeof U=="undefined"?this.configurationService.getValue():this.configurationService.getValue(U)}}e.SimpleResourceConfigurationService=H;let K=class{constructor(T){this.configurationService=T}getEOL(T,x){const z=this.configurationService.getValue("files.eol",{overrideIdentifier:x,resource:T});return z&&z!=="auto"?z:C.isLinux||C.isMacintosh?`
`:`\r
`}};K=Me([pe(0,t.IConfigurationService)],K),e.SimpleResourcePropertiesService=K;class q{publicLog(T,x){return Promise.resolve(void 0)}publicLog2(T,x){return this.publicLog(T,x)}}e.StandaloneTelemetryService=q;class Y{constructor(){const T=p.URI.from({scheme:Y.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new L.WorkspaceFolder({uri:T,name:"",index:0})]}}getWorkspace(){return this.workspace}}e.SimpleWorkspaceContextService=Y,Y.SCHEME="inmemory";function te(Z,T,x){if(!!T&&Z instanceof B){let z=[];Object.keys(T).forEach(V=>{(0,l.isEditorConfigurationKey)(V)&&z.push([`editor.${V}`,T[V]]),x&&(0,l.isDiffEditorConfigurationKey)(V)&&z.push([`diffEditor.${V}`,T[V]])}),z.length>0&&Z.updateValues(z)}}e.updateConfigurationService=te;class ie{constructor(T){this._modelService=T}hasPreviewHandler(){return!1}apply(T,x){return Ie(this,void 0,void 0,function*(){const z=new Map;for(let Q of T){if(!(Q instanceof a.ResourceTextEdit))throw new Error("bad edit - only text edits are supported");const se=this._modelService.getModel(Q.resource);if(!se)throw new Error("bad edit - model not found");if(typeof Q.versionId=="number"&&se.getVersionId()!==Q.versionId)throw new Error("bad state - model changed in the meantime");let oe=z.get(se);oe||(oe=[],z.set(se,oe)),oe.push(c.EditOperation.replaceMove(r.Range.lift(Q.textEdit.range),Q.textEdit.text))}let V=0,U=0;for(const[Q,se]of z)Q.pushStackElement(),Q.pushEditOperations([],se,()=>[]),Q.pushStackElement(),U+=1,V+=se.length;return{ariaSummary:v.format(N.SimpleServicesNLS.bulkEditServiceSummary,V,U)}})}}e.SimpleBulkEditService=ie;class ae{getUriLabel(T,x){return T.scheme==="file"?T.fsPath:T.path}}e.SimpleUriLabelService=ae;class le{constructor(T,x){this._codeEditorService=T,this._container=x,this.onDidLayout=w.Event.None}get dimension(){return this._dimension||(this._dimension=I.getClientArea(window.document.body)),this._dimension}get container(){return this._container}focus(){var T;(T=this._codeEditorService.getFocusedCodeEditor())===null||T===void 0||T.focus()}}e.SimpleLayoutService=le}),define(J[676],ee([0,1,41,2,28,143,267,218,76,192,115,34,26,47,16,68,9,37,32,12,65,64,84,59,36,57,260]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n,s,t,o,h,g,m,f,b,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTextModel=e.StandaloneDiffEditor=e.StandaloneEditor=e.StandaloneCodeEditor=void 0;let L=0,N=!1;function M(){N||(N=!0,v.setARIAContainer(document.body))}let D=class extends w.CodeEditorWidget{constructor(E,A,B,H,K,q,Y,te,ie,ae){const le=Object.assign({},A);le.ariaLabel=le.ariaLabel||h.StandaloneCodeEditorNLS.editorViewAccessibleLabel,le.ariaLabel=le.ariaLabel+";"+h.StandaloneCodeEditorNLS.accessibilityHelpMessage,super(E,le,{},B,H,K,q,te,ie,ae),Y instanceof i.StandaloneKeybindingService?this._standaloneKeybindingService=Y:this._standaloneKeybindingService=null,M()}addCommand(E,A,B){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;let H="DYNAMIC_"+ ++L,K=c.ContextKeyExpr.deserialize(B);return this._standaloneKeybindingService.addDynamicKeybinding(H,E,A,K),H}createContextKey(E,A){return this._contextKeyService.createKey(E,A)}addAction(E){if(typeof E.id!="string"||typeof E.label!="string"||typeof E.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),I.Disposable.None;const A=E.id,B=E.label,H=c.ContextKeyExpr.and(c.ContextKeyExpr.equals("editorId",this.getId()),c.ContextKeyExpr.deserialize(E.precondition)),K=E.keybindings,q=c.ContextKeyExpr.and(H,c.ContextKeyExpr.deserialize(E.keybindingContext)),Y=E.contextMenuGroupId||null,te=E.contextMenuOrder||0,ie=(T,...x)=>Promise.resolve(E.run(this,...x)),ae=new I.DisposableStore,le=this.getId()+":"+A;if(ae.add(a.CommandsRegistry.registerCommand(le,ie)),Y){let T={command:{id:le,title:B},when:H,group:Y,order:te};ae.add(u.MenuRegistry.appendMenuItem(u.MenuId.EditorContext,T))}if(Array.isArray(K))for(const T of K)ae.add(this._standaloneKeybindingService.addDynamicKeybinding(le,T,ie,q));let Z=new _.InternalEditorAction(le,B,B,H,ie,this._contextKeyService);return this._actions[A]=Z,ae.add((0,I.toDisposable)(()=>{delete this._actions[A]})),ae}_triggerCommand(E,A){if(this._codeEditorService instanceof y.StandaloneCodeEditorServiceImpl)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(E,A)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(E,A)}};D=Me([pe(2,r.IInstantiationService),pe(3,k.ICodeEditorService),pe(4,a.ICommandService),pe(5,c.IContextKeyService),pe(6,n.IKeybindingService),pe(7,t.IThemeService),pe(8,s.INotificationService),pe(9,o.IAccessibilityService)],D),e.StandaloneCodeEditor=D;let R=class extends D{constructor(E,A,B,H,K,q,Y,te,ie,ae,le,Z,T,x,z){const V=Object.assign({},A);(0,i.updateConfigurationService)(Z,V,!1);const U=ae.registerEditorContainer(E);typeof V.theme=="string"&&ae.setTheme(V.theme),typeof V.autoDetectHighContrast!="undefined"&&ae.setAutoDetectHighContrast(Boolean(V.autoDetectHighContrast));let Q=V.model;delete V.model,super(E,V,H,K,q,Y,te,ae,le,T),this._contextViewService=ie,this._configurationService=Z,this._standaloneThemeService=ae,this._register(B),this._register(U);let se;if(typeof Q=="undefined"?(se=O(x,z,V.value||"",V.language||"text/plain",void 0),this._ownsModel=!0):(se=Q,this._ownsModel=!1),this._attachModel(se),se){let oe={oldModelUrl:null,newModelUrl:se.uri};this._onDidChangeModel.fire(oe)}}dispose(){super.dispose()}updateOptions(E){(0,i.updateConfigurationService)(this._configurationService,E,!1),typeof E.theme=="string"&&this._standaloneThemeService.setTheme(E.theme),typeof E.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(E.autoDetectHighContrast)),super.updateOptions(E)}_attachModel(E){super._attachModel(E),this._modelData&&this._contextViewService.setContainer(this._modelData.view.domNode.domNode)}_postDetachModelCleanup(E){super._postDetachModelCleanup(E),E&&this._ownsModel&&(E.dispose(),this._ownsModel=!1)}};R=Me([pe(3,r.IInstantiationService),pe(4,k.ICodeEditorService),pe(5,a.ICommandService),pe(6,c.IContextKeyService),pe(7,n.IKeybindingService),pe(8,d.IContextViewService),pe(9,p.IStandaloneThemeService),pe(10,s.INotificationService),pe(11,l.IConfigurationService),pe(12,o.IAccessibilityService),pe(13,f.IModelService),pe(14,b.IModeService)],R),e.StandaloneEditor=R;let P=class extends S.DiffEditorWidget{constructor(E,A,B,H,K,q,Y,te,ie,ae,le,Z,T,x,z){const V=Object.assign({},A);(0,i.updateConfigurationService)(Z,V,!0);const U=ae.registerEditorContainer(E);typeof V.theme=="string"&&ae.setTheme(V.theme),typeof V.autoDetectHighContrast!="undefined"&&ae.setAutoDetectHighContrast(Boolean(V.autoDetectHighContrast)),super(E,V,{},z,te,K,H,ie,ae,le,T,x),this._contextViewService=Y,this._configurationService=Z,this._standaloneThemeService=ae,this._register(B),this._register(U),this._contextViewService.setContainer(this._containerDomElement)}dispose(){super.dispose()}updateOptions(E){(0,i.updateConfigurationService)(this._configurationService,E,!0),typeof E.theme=="string"&&this._standaloneThemeService.setTheme(E.theme),typeof E.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(E.autoDetectHighContrast)),super.updateOptions(E)}_createInnerEditor(E,A,B){return E.createInstance(D,A,B)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(E,A,B){return this.getModifiedEditor().addCommand(E,A,B)}createContextKey(E,A){return this.getModifiedEditor().createContextKey(E,A)}addAction(E){return this.getModifiedEditor().addAction(E)}};P=Me([pe(3,r.IInstantiationService),pe(4,c.IContextKeyService),pe(5,n.IKeybindingService),pe(6,d.IContextViewService),pe(7,C.IEditorWorkerService),pe(8,k.ICodeEditorService),pe(9,p.IStandaloneThemeService),pe(10,s.INotificationService),pe(11,l.IConfigurationService),pe(12,d.IContextMenuService),pe(13,m.IEditorProgressService),pe(14,g.IClipboardService)],P),e.StandaloneDiffEditor=P;function O(F,E,A,B,H){if(A=A||"",!B){const K=A.indexOf(`
`);let q=A;return K!==-1&&(q=A.substring(0,K)),W(F,A,E.createByFilepathOrFirstLine(H||null,q),H)}return W(F,A,E.create(B),H)}e.createTextModel=O;function W(F,E,A,B){return F.createModel(E,A,B)}}),define(J[275],ee([0,1,2,133,28,76,252,57,570,36,270,137,192,260,670,115,34,26,47,573,16,653,68,558,185,9,553,138,37,116,147,69,561,85,32,59,79,87,12,191,652,179,597,65,139,75,571,84,533,148,675,655,78]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n,s,t,o,h,g,m,f,b,y,L,N,M,D,R,P,O,W,F,E,A,B,H,K,q,Y,te,ie,ae,le,Z,T,x,z,V,U){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicStandaloneServices=e.StaticServices=void 0;var Q;(function(oe){const G=new L.ServiceCollection;class j{constructor(ue,me){this._serviceId=ue,this._factory=me,this._value=null}get id(){return this._serviceId}get(ue){if(!this._value){if(ue&&(this._value=ue[this._serviceId.toString()]),this._value||(this._value=this._factory(ue)),!this._value)throw new Error("Service "+this._serviceId+" is missing!");G.set(this._serviceId,this._value)}return this._value}}oe.LazyStaticService=j;let ne=[];function X(re,ue){let me=new j(re,ue);return ne.push(me),me}function de(re){let ue=new L.ServiceCollection;for(const[be,we]of(0,ae.getSingletonServiceDescriptors)())ue.set(be,we);for(let be in re)re.hasOwnProperty(be)&&ue.set((0,b.createDecorator)(be),re[be]);ne.forEach(be=>ue.set(be.id,be.get(re)));let me=new y.InstantiationService(ue,!0);return ue.set(b.IInstantiationService,me),[ue,me]}oe.init=de,oe.instantiationService=X(b.IInstantiationService,()=>new y.InstantiationService(G,!0));const he=new a.SimpleConfigurationService;oe.configurationService=X(s.IConfigurationService,()=>he),oe.resourceConfigurationService=X(u.ITextResourceConfigurationService,()=>new a.SimpleResourceConfigurationService(he)),oe.resourcePropertiesService=X(u.ITextResourcePropertiesService,()=>new a.SimpleResourcePropertiesService(he)),oe.contextService=X(H.IWorkspaceContextService,()=>new a.SimpleWorkspaceContextService),oe.labelService=X(M.ILabelService,()=>new a.SimpleUriLabelService),oe.telemetryService=X(A.ITelemetryService,()=>new a.StandaloneTelemetryService),oe.dialogService=X(f.IDialogService,()=>new a.SimpleDialogService),oe.notificationService=X(W.INotificationService,()=>new a.SimpleNotificationService),oe.markerService=X(O.IMarkerService,()=>new P.MarkerService),oe.modeService=X(_.IModeService,re=>new C.ModeServiceImpl),oe.standaloneThemeService=X(d.IStandaloneThemeService,()=>new c.StandaloneThemeServiceImpl),oe.logService=X(R.ILogService,()=>new R.LogService(new R.ConsoleLogger)),oe.undoRedoService=X(x.IUndoRedoService,re=>new z.UndoRedoService(oe.dialogService.get(re),oe.notificationService.get(re))),oe.modelService=X(i.IModelService,re=>new p.ModelServiceImpl(oe.configurationService.get(re),oe.resourcePropertiesService.get(re),oe.standaloneThemeService.get(re),oe.logService.get(re),oe.undoRedoService.get(re))),oe.markerDecorationsService=X(q.IMarkerDecorationsService,re=>new Y.MarkerDecorationsService(oe.modelService.get(re),oe.markerService.get(re))),oe.contextKeyService=X(o.IContextKeyService,re=>new t.ContextKeyService(oe.configurationService.get(re))),oe.codeEditorService=X(k.ICodeEditorService,re=>new l.StandaloneCodeEditorServiceImpl(null,oe.contextKeyService.get(re),oe.standaloneThemeService.get(re))),oe.editorProgressService=X(F.IEditorProgressService,()=>new a.SimpleEditorProgressService),oe.storageService=X(E.IStorageService,()=>new E.InMemoryStorageService),oe.editorWorkerService=X(w.IEditorWorkerService,re=>new S.EditorWorkerServiceImpl(oe.modelService.get(re),oe.resourceConfigurationService.get(re),oe.logService.get(re)))})(Q=e.StaticServices||(e.StaticServices={}));class se extends v.Disposable{constructor(G,j){super();const[ne,X]=Q.init(j);this._serviceCollection=ne,this._instantiationService=X;const de=this.get(s.IConfigurationService),he=this.get(W.INotificationService),re=this.get(A.ITelemetryService),ue=this.get(B.IThemeService),me=this.get(R.ILogService),be=this.get(o.IContextKeyService);let we=(Te,ve)=>{let Se=null;return j&&(Se=j[Te.toString()]),Se||(Se=ve()),this._serviceCollection.set(Te,Se),Se};we(te.IAccessibilityService,()=>new le.AccessibilityService(be,de)),we(D.IListService,()=>new D.ListService(ue));let Ee=we(n.ICommandService,()=>new a.StandaloneCommandService(this._instantiationService)),De=we(N.IKeybindingService,()=>this._register(new a.StandaloneKeybindingService(be,Ee,re,he,me,G))),Oe=we(ie.ILayoutService,()=>new a.SimpleLayoutService(Q.codeEditorService.get(k.ICodeEditorService),G));we(U.IQuickInputService,()=>new V.StandaloneQuickInputServiceImpl(X,Q.codeEditorService.get(k.ICodeEditorService)));let Le=we(g.IContextViewService,()=>this._register(new m.ContextViewService(Oe)));we(Z.IClipboardService,()=>new T.BrowserClipboardService),we(g.IContextMenuService,()=>{const Te=new h.ContextMenuService(re,he,Le,De,ue);return Te.configure({blockMouse:!1}),this._register(Te)}),we(r.IMenuService,()=>new K.MenuService(Ee)),we(I.IBulkEditService,()=>new a.SimpleBulkEditService(Q.modelService.get(i.IModelService)))}get(G){let j=this._serviceCollection.get(G);if(!j)throw new Error("Missing service "+G);return j}set(G,j){this._serviceCollection.set(G,j)}has(G){return this._serviceCollection.has(G)}}e.DynamicStandaloneServices=se}),define(J[677],ee([0,1,28,562,216,38,163,107,53,18,77,76,57,67,559,169,547,192,676,275,115,26,47,16,68,9,37,32,58,65,70,59,84,8,36,359]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n,s,t,o,h,g,m,f,b,y,L,N,M,D,R,P,O,W){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoEditorAPI=e.registerCommand=e.remeasureFonts=e.setTheme=e.defineTheme=e.tokenize=e.colorizeModelLine=e.colorize=e.colorizeElement=e.createWebWorker=e.onDidChangeModelLanguage=e.onWillDisposeModel=e.onDidCreateModel=e.getModels=e.getModel=e.onDidChangeMarkers=e.getModelMarkers=e.setModelMarkers=e.setModelLanguage=e.createModel=e.createDiffNavigator=e.createDiffEditor=e.onDidCreateEditor=e.create=void 0;function F(he,re,ue){let me=new t.DynamicStandaloneServices(he,re),be=null;me.has(l.ITextModelService)||(be=new n.SimpleEditorModelResolverService(t.StaticServices.modelService.get()),me.set(l.ITextModelService,be)),me.has(N.IOpenerService)||me.set(N.IOpenerService,new I.OpenerService(me.get(v.ICodeEditorService),me.get(h.ICommandService)));let we=ue(me);return be&&be.setEditor(we),we}function E(he,re,ue){return F(he,ue||{},me=>new s.StandaloneEditor(he,re,me,me.get(b.IInstantiationService),me.get(v.ICodeEditorService),me.get(h.ICommandService),me.get(m.IContextKeyService),me.get(y.IKeybindingService),me.get(f.IContextViewService),me.get(o.IStandaloneThemeService),me.get(L.INotificationService),me.get(g.IConfigurationService),me.get(M.IAccessibilityService),me.get(W.IModelService),me.get(a.IModeService)))}e.create=E;function A(he){return t.StaticServices.codeEditorService.get().onCodeEditorAdd(re=>{he(re)})}e.onDidCreateEditor=A;function B(he,re,ue){return F(he,ue||{},me=>new s.StandaloneDiffEditor(he,re,me,me.get(b.IInstantiationService),me.get(m.IContextKeyService),me.get(y.IKeybindingService),me.get(f.IContextViewService),me.get(u.IEditorWorkerService),me.get(v.ICodeEditorService),me.get(o.IStandaloneThemeService),me.get(L.INotificationService),me.get(g.IConfigurationService),me.get(f.IContextMenuService),me.get(R.IEditorProgressService),me.get(P.IClipboardService)))}e.createDiffEditor=B;function H(he,re){return new k.DiffNavigator(he,re)}e.createDiffNavigator=H;function K(he,re,ue){return(0,s.createTextModel)(t.StaticServices.modelService.get(),t.StaticServices.modeService.get(),he,re,ue)}e.createModel=K;function q(he,re){t.StaticServices.modelService.get().setMode(he,t.StaticServices.modeService.get().create(re))}e.setModelLanguage=q;function Y(he,re,ue){he&&t.StaticServices.markerService.get().changeOne(re,he.uri,ue)}e.setModelMarkers=Y;function te(he){return t.StaticServices.markerService.get().read(he)}e.getModelMarkers=te;function ie(he){return t.StaticServices.markerService.get().onMarkerChanged(he)}e.onDidChangeMarkers=ie;function ae(he){return t.StaticServices.modelService.get().getModel(he)}e.getModel=ae;function le(){return t.StaticServices.modelService.get().getModels()}e.getModels=le;function Z(he){return t.StaticServices.modelService.get().onModelAdded(he)}e.onDidCreateModel=Z;function T(he){return t.StaticServices.modelService.get().onModelRemoved(he)}e.onWillDisposeModel=T;function x(he){return t.StaticServices.modelService.get().onModelModeChanged(re=>{he({model:re.model,oldLanguage:re.oldModeId})})}e.onDidChangeModelLanguage=x;function z(he){return(0,c.createWebWorker)(t.StaticServices.modelService.get(),he)}e.createWebWorker=z;function V(he,re){const ue=t.StaticServices.standaloneThemeService.get();return ue.registerEditorContainer(he),r.Colorizer.colorizeElement(ue,t.StaticServices.modeService.get(),he,re)}e.colorizeElement=V;function U(he,re,ue){return t.StaticServices.standaloneThemeService.get().registerEditorContainer(document.body),r.Colorizer.colorize(t.StaticServices.modeService.get(),he,re,ue)}e.colorize=U;function Q(he,re,ue=4){return t.StaticServices.standaloneThemeService.get().registerEditorContainer(document.body),r.Colorizer.colorizeModelLine(he,re,ue)}e.colorizeModelLine=Q;function se(he){let re=i.TokenizationRegistry.get(he);return re||{getInitialState:()=>p.NULL_STATE,tokenize:(ue,me,be,we)=>(0,p.nullTokenize)(he,ue,be,we)}}function oe(he,re){t.StaticServices.modeService.get().triggerMode(re);let me=se(re),be=(0,O.splitLines)(he),we=[],Ee=me.getInitialState();for(let De=0,Oe=be.length;De<Oe;De++){let Le=be[De],Te=me.tokenize(Le,!0,Ee,0);we[De]=Te.tokens,Ee=Te.endState}return we}e.tokenize=oe;function G(he,re){t.StaticServices.standaloneThemeService.get().defineTheme(he,re)}e.defineTheme=G;function j(he){t.StaticServices.standaloneThemeService.get().setTheme(he)}e.setTheme=j;function ne(){(0,D.clearAllFontInfos)()}e.remeasureFonts=ne;function X(he,re){return h.CommandsRegistry.registerCommand({id:he,handler:re})}e.registerCommand=X;function de(){return{create:E,onDidCreateEditor:A,createDiffEditor:B,createDiffNavigator:H,createModel:K,setModelLanguage:q,setModelMarkers:Y,getModelMarkers:te,onDidChangeMarkers:ie,getModels:le,getModel:ae,onDidCreateModel:Z,onWillDisposeModel:T,onDidChangeModelLanguage:x,createWebWorker:z,colorizeElement:V,colorize:U,colorizeModelLine:Q,tokenize:oe,defineTheme:G,setTheme:j,remeasureFonts:ne,registerCommand:X,AccessibilitySupport:d.AccessibilitySupport,ContentWidgetPositionPreference:d.ContentWidgetPositionPreference,CursorChangeReason:d.CursorChangeReason,DefaultEndOfLine:d.DefaultEndOfLine,EditorAutoIndentStrategy:d.EditorAutoIndentStrategy,EditorOption:d.EditorOption,EndOfLinePreference:d.EndOfLinePreference,EndOfLineSequence:d.EndOfLineSequence,MinimapPosition:d.MinimapPosition,MouseTargetType:d.MouseTargetType,OverlayWidgetPositionPreference:d.OverlayWidgetPositionPreference,OverviewRulerLane:d.OverviewRulerLane,RenderLineNumbersType:d.RenderLineNumbersType,RenderMinimap:d.RenderMinimap,ScrollbarVisibility:d.ScrollbarVisibility,ScrollType:d.ScrollType,TextEditorCursorBlinkingStyle:d.TextEditorCursorBlinkingStyle,TextEditorCursorStyle:d.TextEditorCursorStyle,TrackedRangeStickiness:d.TrackedRangeStickiness,WrappingIndent:d.WrappingIndent,ConfigurationChangedEvent:w.ConfigurationChangedEvent,BareFontInfo:S.BareFontInfo,FontInfo:S.FontInfo,TextModelResolvedOptions:C.TextModelResolvedOptions,FindMatch:C.FindMatch,EditorType:_.EditorType,EditorOptions:w.EditorOptions}}e.createMonacoEditorAPI=de}),define(J[678],ee([0,1,29,3,128,18,42,141,169,275,418,246]),function($,e,v,I,k,w,S,_,C,i,p,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoLanguagesAPI=e.registerDocumentRangeSemanticTokensProvider=e.registerDocumentSemanticTokensProvider=e.registerSelectionRangeProvider=e.registerDeclarationProvider=e.registerFoldingRangeProvider=e.registerColorProvider=e.registerCompletionItemProvider=e.registerLinkProvider=e.registerOnTypeFormattingEditProvider=e.registerDocumentRangeFormattingEditProvider=e.registerDocumentFormattingEditProvider=e.registerCodeActionProvider=e.registerCodeLensProvider=e.registerTypeDefinitionProvider=e.registerImplementationProvider=e.registerDefinitionProvider=e.registerLinkedEditingRangeProvider=e.registerDocumentHighlightProvider=e.registerDocumentSymbolProvider=e.registerHoverProvider=e.registerSignatureHelpProvider=e.registerRenameProvider=e.registerReferenceProvider=e.setMonarchTokensProvider=e.setTokensProvider=e.setColorMap=e.TokenizationSupport2Adapter=e.EncodedTokenizationSupport2Adapter=e.setLanguageConfiguration=e.onLanguage=e.getEncodedLanguageId=e.getLanguages=e.register=void 0;function a(T){_.ModesRegistry.registerLanguage(T)}e.register=a;function l(){let T=[];return T=T.concat(_.ModesRegistry.getLanguages()),T}e.getLanguages=l;function c(T){let x=i.StaticServices.modeService.get().getLanguageIdentifier(T);return x?x.id:0}e.getEncodedLanguageId=c;function d(T,x){let z=i.StaticServices.modeService.get().onDidCreateMode(V=>{V.getId()===T&&(z.dispose(),x())});return z}e.onLanguage=d;function r(T,x){let z=i.StaticServices.modeService.get().getLanguageIdentifier(T);if(!z)throw new Error(`Cannot set configuration for unknown language ${T}`);return S.LanguageConfigurationRegistry.register(z,x,100)}e.setLanguageConfiguration=r;class n{constructor(x,z){this._languageIdentifier=x,this._actual=z}getInitialState(){return this._actual.getInitialState()}tokenize(x,z,V,U){if(typeof this._actual.tokenize=="function")return s.adaptTokenize(this._languageIdentifier.language,this._actual,x,V,U);throw new Error("Not supported!")}tokenize2(x,z,V){let U=this._actual.tokenizeEncoded(x,V);return new k.TokenizationResult2(U.tokens,U.endState)}}e.EncodedTokenizationSupport2Adapter=n;class s{constructor(x,z,V){this._standaloneThemeService=x,this._languageIdentifier=z,this._actual=V}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(x,z,V){let U=[],Q=0;for(let se=0,oe=x.length;se<oe;se++){const G=x[se];let j=G.startIndex;se===0?j=0:j<Q&&(j=Q),U[se]=new k.Token(j+V,G.scopes,z),Q=j}return U}static adaptTokenize(x,z,V,U,Q){let se=z.tokenize(V,U),oe=s._toClassicTokens(se.tokens,x,Q),G;return se.endState.equals(U)?G=U:G=se.endState,new k.TokenizationResult(oe,G)}tokenize(x,z,V,U){return s.adaptTokenize(this._languageIdentifier.language,this._actual,x,V,U)}_toBinaryTokens(x,z){const V=this._languageIdentifier.id,U=this._standaloneThemeService.getColorTheme().tokenTheme;let Q=[],se=0,oe=0;for(let j=0,ne=x.length;j<ne;j++){const X=x[j],de=U.match(V,X.scopes);if(!(se>0&&Q[se-1]===de)){let he=X.startIndex;j===0?he=0:he<oe&&(he=oe),Q[se++]=he+z,Q[se++]=de,oe=he}}let G=new Uint32Array(se);for(let j=0;j<se;j++)G[j]=Q[j];return G}tokenize2(x,z,V,U){let Q=this._actual.tokenize(x,V),se=this._toBinaryTokens(Q.tokens,U),oe;return Q.endState.equals(V)?oe=V:oe=Q.endState,new k.TokenizationResult2(se,oe)}}e.TokenizationSupport2Adapter=s;function t(T){return"tokenizeEncoded"in T}function o(T){return T&&typeof T.then=="function"}function h(T){if(T){const x=[null];for(let z=1,V=T.length;z<V;z++)x[z]=v.Color.fromHex(T[z]);i.StaticServices.standaloneThemeService.get().setColorMapOverride(x)}else i.StaticServices.standaloneThemeService.get().setColorMapOverride(null)}e.setColorMap=h;function g(T,x){let z=i.StaticServices.modeService.get().getLanguageIdentifier(T);if(!z)throw new Error(`Cannot set tokens provider for unknown language ${T}`);const V=U=>t(U)?new n(z,U):new s(i.StaticServices.standaloneThemeService.get(),z,U);return o(x)?w.TokenizationRegistry.registerPromise(T,x.then(U=>V(U))):w.TokenizationRegistry.register(T,V(x))}e.setTokensProvider=g;function m(T,x){const z=V=>(0,u.createTokenizationSupport)(i.StaticServices.modeService.get(),i.StaticServices.standaloneThemeService.get(),T,(0,p.compile)(T,V));return o(x)?w.TokenizationRegistry.registerPromise(T,x.then(V=>z(V))):w.TokenizationRegistry.register(T,z(x))}e.setMonarchTokensProvider=m;function f(T,x){return w.ReferenceProviderRegistry.register(T,x)}e.registerReferenceProvider=f;function b(T,x){return w.RenameProviderRegistry.register(T,x)}e.registerRenameProvider=b;function y(T,x){return w.SignatureHelpProviderRegistry.register(T,x)}e.registerSignatureHelpProvider=y;function L(T,x){return w.HoverProviderRegistry.register(T,{provideHover:(z,V,U)=>{let Q=z.getWordAtPosition(V);return Promise.resolve(x.provideHover(z,V,U)).then(se=>{if(!!se)return!se.range&&Q&&(se.range=new I.Range(V.lineNumber,Q.startColumn,V.lineNumber,Q.endColumn)),se.range||(se.range=new I.Range(V.lineNumber,V.column,V.lineNumber,V.column)),se})}})}e.registerHoverProvider=L;function N(T,x){return w.DocumentSymbolProviderRegistry.register(T,x)}e.registerDocumentSymbolProvider=N;function M(T,x){return w.DocumentHighlightProviderRegistry.register(T,x)}e.registerDocumentHighlightProvider=M;function D(T,x){return w.LinkedEditingRangeProviderRegistry.register(T,x)}e.registerLinkedEditingRangeProvider=D;function R(T,x){return w.DefinitionProviderRegistry.register(T,x)}e.registerDefinitionProvider=R;function P(T,x){return w.ImplementationProviderRegistry.register(T,x)}e.registerImplementationProvider=P;function O(T,x){return w.TypeDefinitionProviderRegistry.register(T,x)}e.registerTypeDefinitionProvider=O;function W(T,x){return w.CodeLensProviderRegistry.register(T,x)}e.registerCodeLensProvider=W;function F(T,x){return w.CodeActionProviderRegistry.register(T,{provideCodeActions:(z,V,U,Q)=>{let se=i.StaticServices.markerService.get().read({resource:z.uri}).filter(oe=>I.Range.areIntersectingOrTouching(oe,V));return x.provideCodeActions(z,V,{markers:se,only:U.only},Q)}})}e.registerCodeActionProvider=F;function E(T,x){return w.DocumentFormattingEditProviderRegistry.register(T,x)}e.registerDocumentFormattingEditProvider=E;function A(T,x){return w.DocumentRangeFormattingEditProviderRegistry.register(T,x)}e.registerDocumentRangeFormattingEditProvider=A;function B(T,x){return w.OnTypeFormattingEditProviderRegistry.register(T,x)}e.registerOnTypeFormattingEditProvider=B;function H(T,x){return w.LinkProviderRegistry.register(T,x)}e.registerLinkProvider=H;function K(T,x){return w.CompletionProviderRegistry.register(T,x)}e.registerCompletionItemProvider=K;function q(T,x){return w.ColorProviderRegistry.register(T,x)}e.registerColorProvider=q;function Y(T,x){return w.FoldingRangeProviderRegistry.register(T,x)}e.registerFoldingRangeProvider=Y;function te(T,x){return w.DeclarationProviderRegistry.register(T,x)}e.registerDeclarationProvider=te;function ie(T,x){return w.SelectionRangeRegistry.register(T,x)}e.registerSelectionRangeProvider=ie;function ae(T,x){return w.DocumentSemanticTokensProviderRegistry.register(T,x)}e.registerDocumentSemanticTokensProvider=ae;function le(T,x){return w.DocumentRangeSemanticTokensProviderRegistry.register(T,x)}e.registerDocumentRangeSemanticTokensProvider=le;function Z(){return{register:a,getLanguages:l,onLanguage:d,getEncodedLanguageId:c,setLanguageConfiguration:r,setColorMap:h,setTokensProvider:g,setMonarchTokensProvider:m,registerReferenceProvider:f,registerRenameProvider:b,registerCompletionItemProvider:K,registerSignatureHelpProvider:y,registerHoverProvider:L,registerDocumentSymbolProvider:N,registerDocumentHighlightProvider:M,registerLinkedEditingRangeProvider:D,registerDefinitionProvider:R,registerImplementationProvider:P,registerTypeDefinitionProvider:O,registerCodeLensProvider:W,registerCodeActionProvider:F,registerDocumentFormattingEditProvider:E,registerDocumentRangeFormattingEditProvider:A,registerOnTypeFormattingEditProvider:B,registerLinkProvider:H,registerColorProvider:q,registerFoldingRangeProvider:Y,registerDeclarationProvider:te,registerSelectionRangeProvider:ie,registerDocumentSemanticTokensProvider:ae,registerDocumentRangeSemanticTokensProvider:le,DocumentHighlightKind:C.DocumentHighlightKind,CompletionItemKind:C.CompletionItemKind,CompletionItemTag:C.CompletionItemTag,CompletionItemInsertTextRule:C.CompletionItemInsertTextRule,SymbolKind:C.SymbolKind,SymbolTag:C.SymbolTag,IndentAction:C.IndentAction,CompletionTriggerKind:C.CompletionTriggerKind,SignatureHelpTriggerKind:C.SignatureHelpTriggerKind,InlineHintKind:C.InlineHintKind,FoldingRangeKind:w.FoldingRangeKind}}e.createMonacoLanguagesAPI=Z}),define(J[679],ee([0,1,38,221,677,678,17,262]),function($,e,v,I,k,w,S,_){"use strict";var C;Object.defineProperty(e,"__esModule",{value:!0}),e.languages=e.editor=e.Token=e.Uri=e.MarkerTag=e.MarkerSeverity=e.SelectionDirection=e.Selection=e.Range=e.Position=e.KeyMod=e.KeyCode=e.Emitter=e.CancellationTokenSource=void 0,v.EditorOptions.wrappingIndent.defaultValue=0,v.EditorOptions.glyphMargin.defaultValue=!1,v.EditorOptions.autoIndent.defaultValue=3,v.EditorOptions.overviewRulerLanes.defaultValue=2,_.FormattingConflicts.setFormatterSelector((p,u,a)=>Promise.resolve(p[0]));const i=(0,I.createMonacoBaseAPI)();i.editor=(0,k.createMonacoEditorAPI)(),i.languages=(0,w.createMonacoLanguagesAPI)(),e.CancellationTokenSource=i.CancellationTokenSource,e.Emitter=i.Emitter,e.KeyCode=i.KeyCode,e.KeyMod=i.KeyMod,e.Position=i.Position,e.Range=i.Range,e.Selection=i.Selection,e.SelectionDirection=i.SelectionDirection,e.MarkerSeverity=i.MarkerSeverity,e.MarkerTag=i.MarkerTag,e.Uri=i.Uri,e.Token=i.Token,e.editor=i.editor,e.languages=i.languages,(((C=S.globals.MonacoEnvironment)===null||C===void 0?void 0:C.globalAPI)||typeof define=="function"&&define.amd)&&(self.monaco=i),typeof self.require!="undefined"&&typeof self.require.config=="function"&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})}),define(J[680],ee([0,1,24]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toWorkspaceIdentifier=e.isSingleFolderWorkspaceIdentifier=e.WORKSPACE_EXTENSION=void 0,e.WORKSPACE_EXTENSION="code-workspace";function I(w){const S=w;return typeof(S==null?void 0:S.id)=="string"&&v.URI.isUri(S.uri)}e.isSingleFolderWorkspaceIdentifier=I;function k(w){if(w.configuration)return{id:w.id,configPath:w.configuration};if(w.folders.length===1)return{id:w.id,uri:w.folders[0].uri}}e.toWorkspaceIdentifier=k}),define(J[681],ee([0,1,508,73,45,132,42,8,680,159,293]),function($,e,v,I,k,w,S,_,C,i,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RandomBasedVariableResolver=e.WorkspaceBasedVariableResolver=e.TimeBasedVariableResolver=e.CommentBasedVariableResolver=e.ClipboardBasedVariableResolver=e.ModelBasedVariableResolver=e.SelectionBasedVariableResolver=e.CompositeSnippetVariableResolver=void 0;class u{constructor(o){this._delegates=o}resolve(o){for(const h of this._delegates){let g=h.resolve(o);if(g!==void 0)return g}}}e.CompositeSnippetVariableResolver=u;class a{constructor(o,h,g,m){this._model=o,this._selection=h,this._selectionIdx=g,this._overtypingCapturer=m}resolve(o){const{name:h}=o;if(h==="SELECTION"||h==="TM_SELECTED_TEXT"){let g=this._model.getValueInRange(this._selection)||void 0,m=this._selection.startLineNumber!==this._selection.endLineNumber;if(!g&&this._overtypingCapturer){const f=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);f&&(g=f.value,m=f.multiline)}if(g&&m&&o.snippet){const f=this._model.getLineContent(this._selection.startLineNumber),b=(0,_.getLeadingWhitespace)(f,0,this._selection.startColumn-1);let y=b;o.snippet.walk(N=>N===o?!1:(N instanceof w.Text&&(y=(0,_.getLeadingWhitespace)((0,_.splitLines)(N.value).pop())),!0));const L=(0,_.commonPrefixLength)(y,b);g=g.replace(/(\r\n|\r|\n)(.*)/g,(N,M,D)=>`${M}${y.substr(L)}${D}`)}return g}else{if(h==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(h==="TM_CURRENT_WORD"){const g=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return g&&g.word||void 0}else{if(h==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(h==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber)}}}}e.SelectionBasedVariableResolver=a;class l{constructor(o,h){this._labelService=o,this._model=h}resolve(o){const{name:h}=o;if(h==="TM_FILENAME")return I.basename(this._model.uri.fsPath);if(h==="TM_FILENAME_BASE"){const g=I.basename(this._model.uri.fsPath),m=g.lastIndexOf(".");return m<=0?g:g.slice(0,m)}else{if(h==="TM_DIRECTORY"&&this._labelService)return I.dirname(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel((0,k.dirname)(this._model.uri));if(h==="TM_FILEPATH"&&this._labelService)return this._labelService.getUriLabel(this._model.uri);if(h==="RELATIVE_FILEPATH"&&this._labelService)return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}e.ModelBasedVariableResolver=l;class c{constructor(o,h,g,m){this._readClipboardText=o,this._selectionIdx=h,this._selectionCount=g,this._spread=m}resolve(o){if(o.name==="CLIPBOARD"){const h=this._readClipboardText();if(!!h){if(this._spread){const g=h.split(/\r\n|\n|\r/).filter(m=>!(0,_.isFalsyOrWhitespace)(m));if(g.length===this._selectionCount)return g[this._selectionIdx]}return h}}}}e.ClipboardBasedVariableResolver=c;class d{constructor(o,h){this._model=o,this._selection=h}resolve(o){const{name:h}=o,g=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),m=S.LanguageConfigurationRegistry.getComments(g);if(!!m){if(h==="LINE_COMMENT")return m.lineCommentToken||void 0;if(h==="BLOCK_COMMENT_START")return m.blockCommentStartToken||void 0;if(h==="BLOCK_COMMENT_END")return m.blockCommentEndToken||void 0}}}e.CommentBasedVariableResolver=d;class r{resolve(o){const{name:h}=o;if(h==="CURRENT_YEAR")return String(new Date().getFullYear());if(h==="CURRENT_YEAR_SHORT")return String(new Date().getFullYear()).slice(-2);if(h==="CURRENT_MONTH")return String(new Date().getMonth().valueOf()+1).padStart(2,"0");if(h==="CURRENT_DATE")return String(new Date().getDate().valueOf()).padStart(2,"0");if(h==="CURRENT_HOUR")return String(new Date().getHours().valueOf()).padStart(2,"0");if(h==="CURRENT_MINUTE")return String(new Date().getMinutes().valueOf()).padStart(2,"0");if(h==="CURRENT_SECOND")return String(new Date().getSeconds().valueOf()).padStart(2,"0");if(h==="CURRENT_DAY_NAME")return r.dayNames[new Date().getDay()];if(h==="CURRENT_DAY_NAME_SHORT")return r.dayNamesShort[new Date().getDay()];if(h==="CURRENT_MONTH_NAME")return r.monthNames[new Date().getMonth()];if(h==="CURRENT_MONTH_NAME_SHORT")return r.monthNamesShort[new Date().getMonth()];if(h==="CURRENT_SECONDS_UNIX")return String(Math.floor(Date.now()/1e3))}}e.TimeBasedVariableResolver=r,r.dayNames=[v.localize(0,null),v.localize(1,null),v.localize(2,null),v.localize(3,null),v.localize(4,null),v.localize(5,null),v.localize(6,null)],r.dayNamesShort=[v.localize(7,null),v.localize(8,null),v.localize(9,null),v.localize(10,null),v.localize(11,null),v.localize(12,null),v.localize(13,null)],r.monthNames=[v.localize(14,null),v.localize(15,null),v.localize(16,null),v.localize(17,null),v.localize(18,null),v.localize(19,null),v.localize(20,null),v.localize(21,null),v.localize(22,null),v.localize(23,null),v.localize(24,null),v.localize(25,null)],r.monthNamesShort=[v.localize(26,null),v.localize(27,null),v.localize(28,null),v.localize(29,null),v.localize(30,null),v.localize(31,null),v.localize(32,null),v.localize(33,null),v.localize(34,null),v.localize(35,null),v.localize(36,null),v.localize(37,null)];class n{constructor(o){this._workspaceService=o}resolve(o){if(!!this._workspaceService){const h=(0,C.toWorkspaceIdentifier)(this._workspaceService.getWorkspace());if(!!h){if(o.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(h);if(o.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(h)}}}_resolveWorkspaceName(o){if((0,C.isSingleFolderWorkspaceIdentifier)(o))return I.basename(o.uri.path);let h=I.basename(o.configPath.path);return h.endsWith(C.WORKSPACE_EXTENSION)&&(h=h.substr(0,h.length-C.WORKSPACE_EXTENSION.length-1)),h}_resoveWorkspacePath(o){if((0,C.isSingleFolderWorkspaceIdentifier)(o))return(0,i.normalizeDriveLetter)(o.uri.fsPath);let h=I.basename(o.configPath.path),g=o.configPath.fsPath;return g.endsWith(h)&&(g=g.substr(0,g.length-h.length-1)),g?(0,i.normalizeDriveLetter)(g):"/"}}e.WorkspaceBasedVariableResolver=n;class s{resolve(o){const{name:h}=o;if(h==="RANDOM")return Math.random().toString().slice(-6);if(h==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(h==="UUID")return(0,p.generateUuid)()}}e.RandomBasedVariableResolver=s}),define(J[682],ee([0,1,19,2,8,62,3,21,31,191,9,132,681,12,22,116,352]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetSession=e.OneSnippet=void 0,(0,l.registerThemingParticipant)((t,o)=>{function h(g){const m=t.getColor(g);return m?m.toString():"transparent"}o.addRule(`.monaco-editor .snippet-placeholder { background-color: ${h(c.snippetTabstopHighlightBackground)}; outline-color: ${h(c.snippetTabstopHighlightBorder)}; }`),o.addRule(`.monaco-editor .finish-snippet-placeholder { background-color: ${h(c.snippetFinalTabstopHighlightBackground)}; outline-color: ${h(c.snippetFinalTabstopHighlightBorder)}; }`)});class r{constructor(o,h,g,m){this._editor=o,this._snippet=h,this._offset=g,this._snippetLineLeadingWhitespace=m,this._nestingLevel=1,this._placeholderGroups=(0,v.groupBy)(h.placeholders,u.Placeholder.compareByIndex),this._placeholderGroupsIdx=-1}dispose(){this._placeholderDecorations&&this._editor.deltaDecorations([...this._placeholderDecorations.values()],[]),this._placeholderGroups.length=0}_initDecorations(){if(!this._placeholderDecorations){this._placeholderDecorations=new Map;const o=this._editor.getModel();this._editor.changeDecorations(h=>{for(const g of this._snippet.placeholders){const m=this._snippet.offset(g),f=this._snippet.fullLen(g),b=S.Range.fromPositions(o.getPositionAt(this._offset+m),o.getPositionAt(this._offset+m+f)),y=g.isFinalTabstop?r._decor.inactiveFinal:r._decor.inactive,L=h.addDecoration(b,y);this._placeholderDecorations.set(g,L)}})}}move(o){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){let m=[];for(const f of this._placeholderGroups[this._placeholderGroupsIdx])if(f.transform){const b=this._placeholderDecorations.get(f),y=this._editor.getModel().getDecorationRange(b),L=this._editor.getModel().getValueInRange(y),N=f.transform.resolve(L).split(/\r\n|\r|\n/);for(let M=1;M<N.length;M++)N[M]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+N[M]);m.push(w.EditOperation.replace(y,N.join(this._editor.getModel().getEOL())))}m.length>0&&this._editor.executeEdits("snippet.placeholderTransform",m)}let h=!1;o===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,h=!0):o===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,h=!0);const g=this._editor.getModel().changeDecorations(m=>{const f=new Set,b=[];for(const y of this._placeholderGroups[this._placeholderGroupsIdx]){const L=this._placeholderDecorations.get(y),N=this._editor.getModel().getDecorationRange(L);b.push(new _.Selection(N.startLineNumber,N.startColumn,N.endLineNumber,N.endColumn)),h=h&&this._hasPlaceholderBeenCollapsed(y),m.changeDecorationOptions(L,y.isFinalTabstop?r._decor.activeFinal:r._decor.active),f.add(y);for(const M of this._snippet.enclosingPlaceholders(y)){const D=this._placeholderDecorations.get(M);m.changeDecorationOptions(D,M.isFinalTabstop?r._decor.activeFinal:r._decor.active),f.add(M)}}for(const[y,L]of this._placeholderDecorations)f.has(y)||m.changeDecorationOptions(L,y.isFinalTabstop?r._decor.inactiveFinal:r._decor.inactive);return b});return h?this.move(o):g!=null?g:[]}_hasPlaceholderBeenCollapsed(o){let h=o;for(;h;){if(h instanceof u.Placeholder){const g=this._placeholderDecorations.get(h);if(this._editor.getModel().getDecorationRange(g).isEmpty()&&h.toString().length>0)return!0}h=h.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}computePossibleSelections(){const o=new Map;for(const h of this._placeholderGroups){let g;for(const m of h){if(m.isFinalTabstop)break;g||(g=[],o.set(m.index,g));const f=this._placeholderDecorations.get(m),b=this._editor.getModel().getDecorationRange(f);if(!b){o.delete(m.index);break}g.push(b)}}return o}get choice(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice}merge(o){const h=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(g=>{for(const m of this._placeholderGroups[this._placeholderGroupsIdx]){const f=o.shift();console.assert(!f._placeholderDecorations);const b=f._snippet.placeholderInfo.last.index;for(const L of f._snippet.placeholderInfo.all)L.isFinalTabstop?L.index=m.index+(b+1)/this._nestingLevel:L.index=m.index+L.index/this._nestingLevel;this._snippet.replace(m,f._snippet.children);const y=this._placeholderDecorations.get(m);g.removeDecoration(y),this._placeholderDecorations.delete(m);for(const L of f._snippet.placeholders){const N=f._snippet.offset(L),M=f._snippet.fullLen(L),D=S.Range.fromPositions(h.getPositionAt(f._offset+N),h.getPositionAt(f._offset+N+M)),R=g.addDecoration(D,r._decor.inactive);this._placeholderDecorations.set(L,R)}}this._placeholderGroups=(0,v.groupBy)(this._snippet.placeholders,u.Placeholder.compareByIndex)})}}e.OneSnippet=r,r._decor={active:C.ModelDecorationOptions.register({stickiness:0,className:"snippet-placeholder"}),inactive:C.ModelDecorationOptions.register({stickiness:1,className:"snippet-placeholder"}),activeFinal:C.ModelDecorationOptions.register({stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:C.ModelDecorationOptions.register({stickiness:1,className:"finish-snippet-placeholder"})};const n={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};class s{constructor(o,h,g=n){this._templateMerges=[],this._snippets=[],this._editor=o,this._template=h,this._options=g}static adjustWhitespace(o,h,g,m,f){const b=o.getLineContent(h.lineNumber),y=(0,k.getLeadingWhitespace)(b,0,h.column-1);let L;return g.walk(N=>{if(!(N instanceof u.Text)||N.parent instanceof u.Choice)return!0;const M=N.value.split(/\r\n|\r|\n/);if(m){const R=g.offset(N);if(R===0)M[0]=o.normalizeIndentation(M[0]);else{L=L!=null?L:g.toString();let P=L.charCodeAt(R-1);(P===10||P===13)&&(M[0]=o.normalizeIndentation(y+M[0]))}for(let P=1;P<M.length;P++)M[P]=o.normalizeIndentation(y+M[P])}const D=M.join(o.getEOL());return D!==N.value&&(N.parent.replace(N,[new u.Text(D)]),L=void 0),!0}),y}static adjustSelection(o,h,g,m){if(g!==0||m!==0){const{positionLineNumber:f,positionColumn:b}=h,y=b-g,L=b+m,N=o.validateRange({startLineNumber:f,startColumn:y,endLineNumber:f,endColumn:L});h=_.Selection.createWithDirection(N.startLineNumber,N.startColumn,N.endLineNumber,N.endColumn,h.getDirection())}return h}static createEditsAndSnippets(o,h,g,m,f,b,y,L){const N=[],M=[];if(!o.hasModel())return{edits:N,snippets:M};const D=o.getModel(),R=o.invokeWithinContext(H=>H.get(i.IWorkspaceContextService,p.optional)),P=o.invokeWithinContext(H=>new a.ModelBasedVariableResolver(H.get(d.ILabelService,p.optional),D)),O=()=>y;let W=0,F=D.getValueInRange(s.adjustSelection(D,o.getSelection(),g,0)),E=D.getValueInRange(s.adjustSelection(D,o.getSelection(),0,m)),A=D.getLineFirstNonWhitespaceColumn(o.getSelection().positionLineNumber);const B=o.getSelections().map((H,K)=>({selection:H,idx:K})).sort((H,K)=>S.Range.compareRangesUsingStarts(H.selection,K.selection));for(const{selection:H,idx:K}of B){let q=s.adjustSelection(D,H,g,0),Y=s.adjustSelection(D,H,0,m);F!==D.getValueInRange(q)&&(q=H),E!==D.getValueInRange(Y)&&(Y=H);const te=H.setStartPosition(q.startLineNumber,q.startColumn).setEndPosition(Y.endLineNumber,Y.endColumn),ie=new u.SnippetParser().parse(h,!0,f),ae=te.getStartPosition(),le=s.adjustWhitespace(D,ae,ie,b||K>0&&A!==D.getLineFirstNonWhitespaceColumn(H.positionLineNumber),!0);ie.resolveVariables(new a.CompositeSnippetVariableResolver([P,new a.ClipboardBasedVariableResolver(O,K,B.length,o.getOption(67)==="spread"),new a.SelectionBasedVariableResolver(D,H,K,L),new a.CommentBasedVariableResolver(D,H),new a.TimeBasedVariableResolver,new a.WorkspaceBasedVariableResolver(R),new a.RandomBasedVariableResolver]));const Z=D.getOffsetAt(ae)+W;W+=ie.toString().length-D.getValueLengthInRange(te),N[K]=w.EditOperation.replace(te,ie.toString()),N[K].identifier={major:K,minor:0},M[K]=new r(o,ie,Z,le)}return{edits:N,snippets:M}}dispose(){(0,I.dispose)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!!this._editor.hasModel()){const{edits:o,snippets:h}=s.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer);this._snippets=h,this._editor.executeEdits("snippet",o,g=>this._snippets[0].hasPlaceholder?this._move(!0):g.filter(m=>!!m.identifier).map(m=>_.Selection.fromPositions(m.range.getEndPosition()))),this._editor.revealRange(this._editor.getSelections()[0])}}merge(o,h=n){if(!!this._editor.hasModel()){this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,o]);const{edits:g,snippets:m}=s.createEditsAndSnippets(this._editor,o,h.overwriteBefore,h.overwriteAfter,!0,h.adjustWhitespace,h.clipboardText,h.overtypingCapturer);this._editor.executeEdits("snippet",g,f=>{for(const b of this._snippets)b.merge(m);return console.assert(m.length===0),this._snippets[0].hasPlaceholder?this._move(void 0):f.filter(b=>!!b.identifier).map(b=>_.Selection.fromPositions(b.range.getEndPosition()))})}}next(){const o=this._move(!0);this._editor.setSelections(o),this._editor.revealPositionInCenterIfOutsideViewport(o[0].getPosition())}prev(){const o=this._move(!1);this._editor.setSelections(o),this._editor.revealPositionInCenterIfOutsideViewport(o[0].getPosition())}_move(o){const h=[];for(const g of this._snippets){const m=g.move(o);h.push(...m)}return h}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get choice(){return this._snippets[0].choice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const o=this._editor.getSelections();if(o.length<this._snippets.length)return!1;let h=new Map;for(const g of this._snippets){const m=g.computePossibleSelections();if(h.size===0)for(const[f,b]of m){b.sort(S.Range.compareRangesUsingStarts);for(const y of o)if(b[0].containsRange(y)){h.set(f,[]);break}}if(h.size===0)return!1;h.forEach((f,b)=>{f.push(...m.get(b))})}o.sort(S.Range.compareRangesUsingStarts);for(let[g,m]of h){if(m.length!==o.length){h.delete(g);continue}m.sort(S.Range.compareRangesUsingStarts);for(let f=0;f<m.length;f++)if(!m[f].containsRange(o[f])){h.delete(g);continue}}return h.size>0}}e.SnippetSession=s}),define(J[193],ee([0,1,2,13,3,21,25,118,16,69,682,507]),function($,e,v,I,k,w,S,_,C,i,p,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetController2=void 0;const a={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let l=class ot{constructor(r,n,s){this._editor=r,this._logService=n,this._snippetListener=new v.DisposableStore,this._modelVersionId=-1,this._inSnippet=ot.InSnippetMode.bindTo(s),this._hasNextTabstop=ot.HasNextTabstop.bindTo(s),this._hasPrevTabstop=ot.HasPrevTabstop.bindTo(s)}static get(r){return r.getContribution(ot.ID)}dispose(){var r;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(r=this._session)===null||r===void 0||r.dispose(),this._snippetListener.dispose()}insert(r,n){try{this._doInsert(r,typeof n=="undefined"?a:Object.assign(Object.assign({},a),n))}catch(s){this.cancel(),this._logService.error(s),this._logService.error("snippet_error"),this._logService.error("insert_template=",r),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(r,n){!this._editor.hasModel()||(this._snippetListener.clear(),n.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(r,n):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new p.SnippetSession(this._editor,r,n),this._session.insert()),n.undoStopAfter&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(s=>s.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState())))}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{choice:r}=this._session;if(!r){this._currentChoice=void 0;return}if(this._currentChoice!==r){this._currentChoice=r,this._editor.setSelections(this._editor.getSelections().map(s=>w.Selection.fromPositions(s.getStartPosition())));const[n]=r.options;(0,_.showSimpleSuggestions)(this._editor,r.options.map((s,t)=>({kind:13,label:s.value,insertText:s.value,sortText:"a".repeat(t+1),range:k.Range.fromPositions(this._editor.getPosition(),this._editor.getPosition().delta(0,n.value.length))})))}}finish(){for(;this._inSnippet.get();)this.next()}cancel(r=!1){var n;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),(n=this._session)===null||n===void 0||n.dispose(),this._session=void 0,this._modelVersionId=-1,r&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};l.ID="snippetController2",l.InSnippetMode=new C.RawContextKey("inSnippetMode",!1,(0,u.localize)(0,null)),l.HasNextTabstop=new C.RawContextKey("hasNextTabstop",!1,(0,u.localize)(1,null)),l.HasPrevTabstop=new C.RawContextKey("hasPrevTabstop",!1,(0,u.localize)(2,null)),l=Me([pe(1,i.ILogService),pe(2,C.IContextKeyService)],l),e.SnippetController2=l,(0,I.registerEditorContribution)(l.ID,l);const c=I.EditorCommand.bindToContribution(l.get);(0,I.registerEditorCommand)(new c({id:"jumpToNextSnippetPlaceholder",precondition:C.ContextKeyExpr.and(l.InSnippetMode,l.HasNextTabstop),handler:d=>d.next(),kbOpts:{weight:100+30,kbExpr:S.EditorContextKeys.editorTextFocus,primary:2}})),(0,I.registerEditorCommand)(new c({id:"jumpToPrevSnippetPlaceholder",precondition:C.ContextKeyExpr.and(l.InSnippetMode,l.HasPrevTabstop),handler:d=>d.prev(),kbOpts:{weight:100+30,kbExpr:S.EditorContextKeys.editorTextFocus,primary:1024|2}})),(0,I.registerEditorCommand)(new c({id:"leaveSnippet",precondition:l.InSnippetMode,handler:d=>d.cancel(!0),kbOpts:{weight:100+30,kbExpr:S.EditorContextKeys.editorTextFocus,primary:9,secondary:[1024|9]}})),(0,I.registerEditorCommand)(new c({id:"acceptSnippet",precondition:l.InSnippetMode,handler:d=>d.finish()}))}),define(J[683],ee([0,1,15,11,6,2,21,18,414,118,193,23,76,417,8,84,87,69]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestModel=e.LineContext=void 0;class s{constructor(h,g,m,f){this.leadingLineContent=h.getLineContent(g.lineNumber).substr(0,g.column-1),this.leadingWord=h.getWordUntilPosition(g),this.lineNumber=g.lineNumber,this.column=g.column,this.auto=m,this.shy=f}static shouldAutoTrigger(h){if(!h.hasModel())return!1;const g=h.getModel(),m=h.getPosition();g.tokenizeIfCheap(m.lineNumber);const f=g.getWordAtPosition(m);return!(!f||f.endColumn!==m.column||!isNaN(Number(f.word)))}}e.LineContext=s;let t=class ti{constructor(h,g,m,f,b){this._editor=h,this._editorWorkerService=g,this._clipboardService=m,this._telemetryService=f,this._logService=b,this._toDispose=new w.DisposableStore,this._quickSuggestDelay=10,this._triggerCharacterListener=new w.DisposableStore,this._triggerQuickSuggest=new v.TimeoutTimer,this._state=0,this._completionDisposables=new w.DisposableStore,this._onDidCancel=new k.Emitter,this._onDidTrigger=new k.Emitter,this._onDidSuggest=new k.Emitter,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new S.Selection(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters(),this._updateQuickSuggest()})),this._toDispose.add(_.CompletionProviderRegistry.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(L=>{this._onCursorChange(L)}));let y=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{y=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{y=!1,this._refilterCompletionItems()})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{y||this._refilterCompletionItems()})),this._updateTriggerCharacters(),this._updateQuickSuggest()}dispose(){(0,w.dispose)(this._triggerCharacterListener),(0,w.dispose)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateQuickSuggest(){this._quickSuggestDelay=this._editor.getOption(76),(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&this._quickSuggestDelay!==0||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),!(this._editor.getOption(77)||!this._editor.hasModel()||!this._editor.getOption(106))){const h=new Map;for(const m of _.CompletionProviderRegistry.all(this._editor.getModel()))for(const f of m.triggerCharacters||[]){let b=h.get(f);b||(b=new Set,b.add((0,i.getSnippetSuggestSupport)()),h.set(f,b)),b.add(m)}const g=m=>{if(!m){const y=this._editor.getPosition();m=this._editor.getModel().getLineContent(y.lineNumber).substr(0,y.column-1)}let f="";(0,c.isLowSurrogate)(m.charCodeAt(m.length-1))?(0,c.isHighSurrogate)(m.charCodeAt(m.length-2))&&(f=m.substr(m.length-2)):f=m.charAt(m.length-1);const b=h.get(f);if(b){const y=this._completionModel?{items:this._completionModel.adopt(b),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,triggerCharacter:f},Boolean(this._completionModel),b,y)}};this._triggerCharacterListener.add(this._editor.onDidType(g)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(g))}}get state(){return this._state}cancel(h=!1){var g;this._state!==0&&(this._triggerQuickSuggest.cancel(),(g=this._requestToken)===null||g===void 0||g.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:h}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._state!==0&&(!this._editor.hasModel()||!_.CompletionProviderRegistry.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._state===2,shy:!1},!0))}_onCursorChange(h){if(!!this._editor.hasModel()){const g=this._editor.getModel(),m=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!h.selection.isEmpty()||h.reason!==0&&h.reason!==3||h.source!=="keyboard"&&h.source!=="deleteLeft"){this.cancel();return}if(!!_.CompletionProviderRegistry.has(g))if(this._state===0&&h.reason===0){if(this._editor.getOption(75)===!1||!m.containsRange(this._currentSelection)&&!m.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition())||this._editor.getOption(103).snippetsPreventQuickSuggestions&&p.SnippetController2.get(this._editor).isInSnippet())return;this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._state===0&&!!s.shouldAutoTrigger(this._editor)&&!!this._editor.hasModel()){const f=this._editor.getModel(),b=this._editor.getPosition(),y=this._editor.getOption(75);if(y!==!1){if(y!==!0){f.tokenizeIfCheap(b.lineNumber);const L=f.getLineTokens(b.lineNumber),N=L.getStandardTokenType(L.findTokenIndexAtOffset(Math.max(b.column-1-1,0)));if(!(y.other&&N===0||y.comments&&N===1||y.strings&&N===2))return}this.trigger({auto:!0,shy:!1})}}},this._quickSuggestDelay)}else this._state!==0&&h.reason===3&&this._refilterCompletionItems()}}_refilterCompletionItems(){Promise.resolve().then(()=>{if(this._state!==0&&!!this._editor.hasModel()){const h=this._editor.getModel(),g=this._editor.getPosition(),m=new s(h,g,this._state===2,!1);this._onNewContext(m)}})}trigger(h,g=!1,m,f){var b;if(!!this._editor.hasModel()){const y=this._editor.getModel(),L=h.auto,N=new s(y,this._editor.getPosition(),L,h.shy);this.cancel(g),this._state=L?2:1,this._onDidTrigger.fire({auto:L,shy:h.shy,position:this._editor.getPosition()}),this._context=N;let M={triggerKind:(b=h.triggerKind)!==null&&b!==void 0?b:0};h.triggerCharacter&&(M={triggerKind:1,triggerCharacter:h.triggerCharacter}),this._requestToken=new u.CancellationTokenSource;const D=this._editor.getOption(98);let R=1;switch(D){case"top":R=0;break;case"bottom":R=2;break}const P=ti._createItemKindFilter(this._editor),O=l.WordDistance.create(this._editorWorkerService,this._editor),W=(0,i.provideSuggestionItems)(y,this._editor.getPosition(),new i.CompletionOptions(R,P,m),M,this._requestToken.token);Promise.all([W,O]).then(([F,E])=>Ie(this,void 0,void 0,function*(){var A;if((A=this._requestToken)===null||A===void 0||A.dispose(),!!this._editor.hasModel()){let B=f==null?void 0:f.clipboardText;if(!B&&F.needsClipboard&&(B=yield this._clipboardService.readText()),this._state!==0){const H=this._editor.getModel();let K=F.items;if(f){const Y=(0,i.getSuggestionComparator)(R);K=K.concat(f.items).sort(Y)}const q=new s(H,this._editor.getPosition(),L,h.shy);this._completionModel=new C.CompletionModel(K,this._context.column,{leadingLineContent:q.leadingLineContent,characterCountDelta:q.column-this._context.column},E,this._editor.getOption(103),this._editor.getOption(98),B),this._completionDisposables.add(F.disposable),this._onNewContext(q),this._reportDurationsTelemetry(F.durations)}}})).catch(I.onUnexpectedError)}}_reportDurationsTelemetry(h){this._telemetryGate++%230==0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(h)}),this._logService.debug("suggest.durations.json",h)})}static _createItemKindFilter(h){const g=new Set;h.getOption(98)==="none"&&g.add(27);const f=h.getOption(103);return f.showMethods||g.add(0),f.showFunctions||g.add(1),f.showConstructors||g.add(2),f.showFields||g.add(3),f.showVariables||g.add(4),f.showClasses||g.add(5),f.showStructs||g.add(6),f.showInterfaces||g.add(7),f.showModules||g.add(8),f.showProperties||g.add(9),f.showEvents||g.add(10),f.showOperators||g.add(11),f.showUnits||g.add(12),f.showValues||g.add(13),f.showConstants||g.add(14),f.showEnums||g.add(15),f.showEnumMembers||g.add(16),f.showKeywords||g.add(17),f.showWords||g.add(18),f.showColors||g.add(19),f.showFiles||g.add(20),f.showReferences||g.add(21),f.showColors||g.add(22),f.showFolders||g.add(23),f.showTypeParameters||g.add(24),f.showSnippets||g.add(27),f.showUsers||g.add(25),f.showIssues||g.add(26),g}_onNewContext(h){if(!!this._context){if(h.lineNumber!==this._context.lineNumber){this.cancel();return}if((0,c.getLeadingWhitespace)(h.leadingLineContent)!==(0,c.getLeadingWhitespace)(this._context.leadingLineContent)){this.cancel();return}if(h.column<this._context.column){h.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel();return}if(!!this._completionModel){if(h.leadingWord.word.length!==0&&h.leadingWord.startColumn>this._context.leadingWord.startColumn){const g=new Set(_.CompletionProviderRegistry.all(this._editor.getModel()));for(let f of this._completionModel.allProvider)g.delete(f);const m=this._completionModel.adopt(new Set);this.trigger({auto:this._context.auto,shy:!1},!0,g,{items:m,clipboardText:this._completionModel.clipboardText});return}if(h.column>this._context.column&&this._completionModel.incomplete.size>0&&h.leadingWord.word.length!==0){const{incomplete:g}=this._completionModel,m=this._completionModel.adopt(g);this.trigger({auto:this._state===2,shy:!1,triggerKind:2},!0,g,{items:m,clipboardText:this._completionModel.clipboardText})}else{let g=this._completionModel.lineContext,m=!1;if(this._completionModel.lineContext={leadingLineContent:h.leadingLineContent,characterCountDelta:h.column-this._context.column},this._completionModel.items.length===0){if(s.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<h.leadingWord.startColumn){this.trigger({auto:this._context.auto,shy:!1},!0);return}if(this._context.auto){this.cancel();return}else if(this._completionModel.lineContext=g,m=this._completionModel.items.length>0,m&&h.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:m})}}}}};t=Me([pe(1,a.IEditorWorkerService),pe(2,d.IClipboardService),pe(3,r.ITelemetryService),pe(4,n.ILogService)],t),e.SuggestModel=t}),define(J[684],ee([0,1,41,19,11,39,2,71,13,62,3,25,193,132,579,510,26,16,9,86,118,551,683,668,552,6,15,20,415,416,14,17,34,23,69,81]),function($,e,v,I,k,w,S,_,C,i,p,u,a,l,c,d,r,n,s,t,o,h,g,m,f,b,y,L,N,M,D,R,P,O,W,F){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerSuggestAction=e.SuggestController=void 0;let E=!1;class A{constructor(te,ie){if(this._model=te,this._position=ie,te.getLineMaxColumn(ie.lineNumber)!==ie.column){const le=te.getOffsetAt(ie),Z=te.getPositionAt(le+1);this._marker=te.deltaDecorations([],[{range:p.Range.fromPositions(ie,Z),options:{stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(te){if(this._model.isDisposed()||this._position.lineNumber!==te.lineNumber)return 0;if(this._marker){const ie=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(ie.getStartPosition())-this._model.getOffsetAt(te)}else return this._model.getLineMaxColumn(te.lineNumber)-te.column}}let B=class ii{constructor(te,ie,ae,le,Z,T){this._memoryService=ie,this._commandService=ae,this._contextKeyService=le,this._instantiationService=Z,this._logService=T,this._lineSuffix=new S.MutableDisposable,this._toDispose=new S.DisposableStore,this.editor=te,this.model=Z.createInstance(g.SuggestModel,this.editor);const x=o.Context.InsertMode.bindTo(le);x.set(te.getOption(103).insertMode),this.model.onDidTrigger(()=>x.set(te.getOption(103).insertMode)),this.widget=this._toDispose.add(new y.IdleValue(()=>{const U=this._instantiationService.createInstance(m.SuggestWidget,this.editor);this._toDispose.add(U),this._toDispose.add(U.onDidSelect(j=>this._insertSuggestion(j,0),this));const Q=new N.CommitCharacterController(this.editor,U,j=>this._insertSuggestion(j,2));this._toDispose.add(Q),this._toDispose.add(this.model.onDidSuggest(j=>{j.completionModel.items.length===0&&Q.reset()}));const se=o.Context.MakesTextEdit.bindTo(this._contextKeyService),oe=o.Context.HasInsertAndReplaceRange.bindTo(this._contextKeyService),G=o.Context.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,S.toDisposable)(()=>{se.reset(),oe.reset(),G.reset()})),this._toDispose.add(U.onDidFocus(({item:j})=>{const ne=this.editor.getPosition(),X=j.editStart.column,de=ne.column;let he=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!j.completion.command&&!j.completion.additionalTextEdits&&!(j.completion.insertTextRules&4)&&de-X===j.completion.insertText.length&&(he=this.editor.getModel().getValueInRange({startLineNumber:ne.lineNumber,startColumn:X,endLineNumber:ne.lineNumber,endColumn:de})!==j.completion.insertText),se.set(he),oe.set(!D.Position.equals(j.editInsertEnd,j.editReplaceEnd)),G.set(Boolean(j.provider.resolveCompletionItem)||Boolean(j.completion.documentation)||j.completion.detail!==j.completion.label)})),this._toDispose.add(U.onDetailsKeyDown(j=>{if(j.toKeybinding().equals(new w.SimpleKeybinding(!0,!1,!1,!1,33))||R.isMacintosh&&j.toKeybinding().equals(new w.SimpleKeybinding(!1,!1,!1,!0,33))){j.stopPropagation();return}j.toKeybinding().isModifierKey()||this.editor.focus()})),U})),this._overtypingCapturer=this._toDispose.add(new y.IdleValue(()=>this._toDispose.add(new M.OvertypingCapturer(this.editor,this.model)))),this._alternatives=this._toDispose.add(new y.IdleValue(()=>this._toDispose.add(new h.SuggestAlternatives(this.editor,this._contextKeyService)))),this._toDispose.add(Z.createInstance(f.WordContextKey,te)),this._toDispose.add(this.model.onDidTrigger(U=>{this.widget.value.showTriggered(U.auto,U.shy?250:50),this._lineSuffix.value=new A(this.editor.getModel(),U.position)})),this._toDispose.add(this.model.onDidSuggest(U=>{if(!U.shy){let Q=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),U.completionModel.items);this.widget.value.showSuggestions(U.completionModel,Q,U.isFrozen,U.auto)}})),this._toDispose.add(this.model.onDidCancel(U=>{U.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{E||(this.model.cancel(),this.model.clear())}));let z=o.Context.AcceptSuggestionsOnEnter.bindTo(le),V=()=>{const U=this.editor.getOption(1);z.set(U==="on"||U==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>V())),V()}static get(te){return te.getContribution(ii.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(te,ie){if(!te||!te.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!!this.editor.hasModel()){const ae=this.editor.getModel(),le=ae.getAlternativeVersionId(),{item:Z}=te,T=[],x=new O.CancellationTokenSource;ie&1||this.editor.pushUndoStop();const z=this.getOverwriteInfo(Z,Boolean(ie&8));if(this._memoryService.memorize(ae,this.editor.getPosition(),Z),Array.isArray(Z.completion.additionalTextEdits)){const U=_.StableEditorScrollState.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",Z.completion.additionalTextEdits.map(Q=>i.EditOperation.replace(p.Range.lift(Q.range),Q.text))),U.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!Z.isResolved){const U=new F.StopWatch(!0);let Q;const se=ae.onDidChangeContent(ne=>{if(ne.isFlush){x.cancel(),se.dispose();return}for(let X of ne.changes){const de=p.Range.getEndPosition(X.range);(!Q||D.Position.isBefore(de,Q))&&(Q=de)}});let oe=ie;ie|=2;let G=!1,j=this.editor.onWillType(()=>{j.dispose(),G=!0,oe&2||this.editor.pushUndoStop()});T.push(Z.resolve(x.token).then(()=>{if(!Z.completion.additionalTextEdits||x.token.isCancellationRequested||Q&&Z.completion.additionalTextEdits.some(X=>D.Position.isBefore(Q,p.Range.getStartPosition(X.range))))return!1;G&&this.editor.pushUndoStop();const ne=_.StableEditorScrollState.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",Z.completion.additionalTextEdits.map(X=>i.EditOperation.replace(p.Range.lift(X.range),X.text))),ne.restoreRelativeVerticalPositionOfCursor(this.editor),(G||!(oe&2))&&this.editor.pushUndoStop(),!0}).then(ne=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",U.elapsed(),ne),se.dispose(),j.dispose()}))}let{insertText:V}=Z.completion;Z.completion.insertTextRules&4||(V=l.SnippetParser.escape(V)),a.SnippetController2.get(this.editor).insert(V,{overwriteBefore:z.overwriteBefore,overwriteAfter:z.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(Z.completion.insertTextRules&1),clipboardText:te.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),ie&2||this.editor.pushUndoStop(),Z.completion.command?Z.completion.command.id===H.id?this.model.trigger({auto:!0,shy:!1},!0):(T.push(this._commandService.executeCommand(Z.completion.command.id,...Z.completion.command.arguments?[...Z.completion.command.arguments]:[]).catch(k.onUnexpectedError)),this.model.cancel()):this.model.cancel(),ie&4&&this._alternatives.value.set(te,U=>{for(x.cancel();ae.canUndo();){le!==ae.getAlternativeVersionId()&&ae.undo(),this._insertSuggestion(U,1|2|(ie&8?8:0));break}}),this._alertCompletionItem(Z),Promise.all(T).finally(()=>{this.model.clear(),x.dispose()})}}getOverwriteInfo(te,ie){(0,L.assertType)(this.editor.hasModel());let ae=this.editor.getOption(103).insertMode==="replace";ie&&(ae=!ae);const le=te.position.column-te.editStart.column,Z=(ae?te.editReplaceEnd.column:te.editInsertEnd.column)-te.position.column,T=this.editor.getPosition().column-te.position.column,x=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:le+T,overwriteAfter:Z+x}}_alertCompletionItem(te){if((0,I.isNonEmptyArray)(te.completion.additionalTextEdits)){let ie=d.localize(0,null,te.textLabel,te.completion.additionalTextEdits.length);(0,v.alert)(ie)}}triggerSuggest(te){this.editor.hasModel()&&(this.model.trigger({auto:!1,shy:!1},!1,te),this.editor.revealLine(this.editor.getPosition().lineNumber,0),this.editor.focus())}triggerSuggestAndAcceptBest(te){if(!!this.editor.hasModel()){const ie=this.editor.getPosition(),ae=()=>{ie.equals(this.editor.getPosition())&&this._commandService.executeCommand(te.fallback)},le=Z=>{if(Z.completion.insertTextRules&4||Z.completion.additionalTextEdits)return!0;const T=this.editor.getPosition(),x=Z.editStart.column,z=T.column;return z-x!==Z.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:T.lineNumber,startColumn:x,endLineNumber:T.lineNumber,endColumn:z})!==Z.completion.insertText};b.Event.once(this.model.onDidTrigger)(Z=>{let T=[];b.Event.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,S.dispose)(T),ae()},void 0,T),this.model.onDidSuggest(({completionModel:x})=>{if((0,S.dispose)(T),x.items.length===0){ae();return}const z=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),x.items),V=x.items[z];if(!le(V)){ae();return}this.editor.pushUndoStop(),this._insertSuggestion({index:z,item:V,model:x},4|1|2)},void 0,T)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealLine(ie.lineNumber,0),this.editor.focus()}}acceptSelectedSuggestion(te,ie){const ae=this.widget.value.getFocusedItem();let le=0;te&&(le|=4),ie&&(le|=8),this._insertSuggestion(ae,le)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}};B.ID="editor.contrib.suggestController",B=Me([pe(1,c.ISuggestMemoryService),pe(2,r.ICommandService),pe(3,n.IContextKeyService),pe(4,s.IInstantiationService),pe(5,W.ILogService)],B),e.SuggestController=B;class H extends C.EditorAction{constructor(){super({id:H.id,label:d.localize(1,null),alias:"Trigger Suggest",precondition:n.ContextKeyExpr.and(u.EditorContextKeys.writable,u.EditorContextKeys.hasCompletionItemProvider),kbOpts:{kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|10,secondary:[2048|39],mac:{primary:256|10,secondary:[512|9,2048|39]},weight:100}})}run(te,ie){const ae=B.get(ie);!ae||ae.triggerSuggest()}}e.TriggerSuggestAction=H,H.id="editor.action.triggerSuggest",(0,C.registerEditorContribution)(B.ID,B),(0,C.registerEditorAction)(H);const K=100+90,q=C.EditorCommand.bindToContribution(B.get);(0,C.registerEditorCommand)(new q({id:"acceptSelectedSuggestion",precondition:o.Context.Visible,handler(Y){Y.acceptSelectedSuggestion(!0,!1)}})),t.KeybindingsRegistry.registerKeybindingRule({id:"acceptSelectedSuggestion",when:n.ContextKeyExpr.and(o.Context.Visible,u.EditorContextKeys.textInputFocus),primary:2,weight:K}),t.KeybindingsRegistry.registerKeybindingRule({id:"acceptSelectedSuggestion",when:n.ContextKeyExpr.and(o.Context.Visible,u.EditorContextKeys.textInputFocus,o.Context.AcceptSuggestionsOnEnter,o.Context.MakesTextEdit),primary:3,weight:K}),P.MenuRegistry.appendMenuItem(o.suggestWidgetStatusbarMenu,{command:{id:"acceptSelectedSuggestion",title:d.localize(2,null)},group:"left",order:1,when:o.Context.HasInsertAndReplaceRange.toNegated()}),P.MenuRegistry.appendMenuItem(o.suggestWidgetStatusbarMenu,{command:{id:"acceptSelectedSuggestion",title:d.localize(3,null)},group:"left",order:1,when:n.ContextKeyExpr.and(o.Context.HasInsertAndReplaceRange,o.Context.InsertMode.isEqualTo("insert"))}),P.MenuRegistry.appendMenuItem(o.suggestWidgetStatusbarMenu,{command:{id:"acceptSelectedSuggestion",title:d.localize(4,null)},group:"left",order:1,when:n.ContextKeyExpr.and(o.Context.HasInsertAndReplaceRange,o.Context.InsertMode.isEqualTo("replace"))}),(0,C.registerEditorCommand)(new q({id:"acceptAlternativeSelectedSuggestion",precondition:n.ContextKeyExpr.and(o.Context.Visible,u.EditorContextKeys.textInputFocus),kbOpts:{weight:K,kbExpr:u.EditorContextKeys.textInputFocus,primary:1024|3,secondary:[1024|2]},handler(Y){Y.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:o.suggestWidgetStatusbarMenu,group:"left",order:2,when:n.ContextKeyExpr.and(o.Context.HasInsertAndReplaceRange,o.Context.InsertMode.isEqualTo("insert")),title:d.localize(5,null)},{menuId:o.suggestWidgetStatusbarMenu,group:"left",order:2,when:n.ContextKeyExpr.and(o.Context.HasInsertAndReplaceRange,o.Context.InsertMode.isEqualTo("replace")),title:d.localize(6,null)}]})),r.CommandsRegistry.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,C.registerEditorCommand)(new q({id:"hideSuggestWidget",precondition:o.Context.Visible,handler:Y=>Y.cancelSuggestWidget(),kbOpts:{weight:K,kbExpr:u.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})),(0,C.registerEditorCommand)(new q({id:"selectNextSuggestion",precondition:n.ContextKeyExpr.and(o.Context.Visible,o.Context.MultipleSuggestions),handler:Y=>Y.selectNextSuggestion(),kbOpts:{weight:K,kbExpr:u.EditorContextKeys.textInputFocus,primary:18,secondary:[2048|18],mac:{primary:18,secondary:[2048|18,256|44]}}})),(0,C.registerEditorCommand)(new q({id:"selectNextPageSuggestion",precondition:n.ContextKeyExpr.and(o.Context.Visible,o.Context.MultipleSuggestions),handler:Y=>Y.selectNextPageSuggestion(),kbOpts:{weight:K,kbExpr:u.EditorContextKeys.textInputFocus,primary:12,secondary:[2048|12]}})),(0,C.registerEditorCommand)(new q({id:"selectLastSuggestion",precondition:n.ContextKeyExpr.and(o.Context.Visible,o.Context.MultipleSuggestions),handler:Y=>Y.selectLastSuggestion()})),(0,C.registerEditorCommand)(new q({id:"selectPrevSuggestion",precondition:n.ContextKeyExpr.and(o.Context.Visible,o.Context.MultipleSuggestions),handler:Y=>Y.selectPrevSuggestion(),kbOpts:{weight:K,kbExpr:u.EditorContextKeys.textInputFocus,primary:16,secondary:[2048|16],mac:{primary:16,secondary:[2048|16,256|46]}}})),(0,C.registerEditorCommand)(new q({id:"selectPrevPageSuggestion",precondition:n.ContextKeyExpr.and(o.Context.Visible,o.Context.MultipleSuggestions),handler:Y=>Y.selectPrevPageSuggestion(),kbOpts:{weight:K,kbExpr:u.EditorContextKeys.textInputFocus,primary:11,secondary:[2048|11]}})),(0,C.registerEditorCommand)(new q({id:"selectFirstSuggestion",precondition:n.ContextKeyExpr.and(o.Context.Visible,o.Context.MultipleSuggestions),handler:Y=>Y.selectFirstSuggestion()})),(0,C.registerEditorCommand)(new q({id:"toggleSuggestionDetails",precondition:o.Context.Visible,handler:Y=>Y.toggleSuggestionDetails(),kbOpts:{weight:K,kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|10,mac:{primary:256|10}},menuOpts:[{menuId:o.suggestWidgetStatusbarMenu,group:"right",order:1,when:n.ContextKeyExpr.and(o.Context.DetailsVisible,o.Context.CanResolve),title:d.localize(7,null)},{menuId:o.suggestWidgetStatusbarMenu,group:"right",order:1,when:n.ContextKeyExpr.and(o.Context.DetailsVisible.toNegated(),o.Context.CanResolve),title:d.localize(8,null)}]})),(0,C.registerEditorCommand)(new q({id:"toggleExplainMode",precondition:o.Context.Visible,handler:Y=>Y.toggleExplainMode(),kbOpts:{weight:100,primary:2048|85}})),(0,C.registerEditorCommand)(new q({id:"toggleSuggestionFocus",precondition:o.Context.Visible,handler:Y=>Y.toggleSuggestionFocus(),kbOpts:{weight:K,kbExpr:u.EditorContextKeys.textInputFocus,primary:2048|512|10,mac:{primary:256|512|10}}})),(0,C.registerEditorCommand)(new q({id:"insertBestCompletion",precondition:n.ContextKeyExpr.and(u.EditorContextKeys.textInputFocus,n.ContextKeyExpr.equals("config.editor.tabCompletion","on"),f.WordContextKey.AtEnd,o.Context.Visible.toNegated(),h.SuggestAlternatives.OtherSuggestions.toNegated(),a.SnippetController2.InSnippetMode.toNegated()),handler:(Y,te)=>{Y.triggerSuggestAndAcceptBest((0,L.isObject)(te)?Object.assign({fallback:"tab"},te):{fallback:"tab"})},kbOpts:{weight:K,primary:2}})),(0,C.registerEditorCommand)(new q({id:"insertNextSuggestion",precondition:n.ContextKeyExpr.and(u.EditorContextKeys.textInputFocus,n.ContextKeyExpr.equals("config.editor.tabCompletion","on"),h.SuggestAlternatives.OtherSuggestions,o.Context.Visible.toNegated(),a.SnippetController2.InSnippetMode.toNegated()),handler:Y=>Y.acceptNextSuggestion(),kbOpts:{weight:K,kbExpr:u.EditorContextKeys.textInputFocus,primary:2}})),(0,C.registerEditorCommand)(new q({id:"insertPrevSuggestion",precondition:n.ContextKeyExpr.and(u.EditorContextKeys.textInputFocus,n.ContextKeyExpr.equals("config.editor.tabCompletion","on"),h.SuggestAlternatives.OtherSuggestions,o.Context.Visible.toNegated(),a.SnippetController2.InSnippetMode.toNegated()),handler:Y=>Y.acceptPrevSuggestion(),kbOpts:{weight:K,kbExpr:u.EditorContextKeys.textInputFocus,primary:1024|2}})),(0,C.registerEditorAction)(class extends C.EditorAction{constructor(){super({id:"editor.action.resetSuggestSize",label:d.localize(9,null),alias:"Reset Suggest Widget Size",precondition:void 0})}run(Y,te){B.get(te).resetWidgetSize()}})}),define(J[685],ee([0,1,189,143,267,216,613,614,615,616,617,637,620,672,621,622,623,624,268,661,625,626,548,272,273,269,274,631,632,630,633,634,635,664,666,638,639,193,684,640,265,641,673,642,266,643,64,124]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})});var mt=this&&this.__createBinding||(Object.create?function($,e,v,I){I===void 0&&(I=v),Object.defineProperty($,I,{enumerable:!0,get:function(){return e[v]}})}:function($,e,v,I){I===void 0&&(I=v),$[I]=e[v]}),pt=this&&this.__exportStar||function($,e){for(var v in $)v!=="default"&&!Object.prototype.hasOwnProperty.call(e,v)&&mt(e,$,v)};define(J[688],ee([0,1,679,685,644,645,646,576,648,649,647,674,650]),function($,e,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),pt(v,e)})}).call(this);


/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * monaco-typescript version: 4.4.0(e7d5b97033b3a498bd58612f957bc03ce06006cf)
 * Released under the MIT license
 * https://github.com/Microsoft/monaco-typescript/blob/master/LICENSE.md
 *-----------------------------------------------------------------------------*/
define("vs/language/typescript/lib/typescriptServicesMetadata",["require","exports"],(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.typescriptVersion=void 0,e.typescriptVersion="4.2.4"})),define("vs/language/typescript/fillers/monaco-editor-core",['vs/editor/editor.api'],(function(){return self.monaco})),define("vs/language/typescript/monaco.contribution",["require","exports","./lib/typescriptServicesMetadata","./fillers/monaco-editor-core"],(function(t,e,i,n){"use strict";var r,o,s,a,c;Object.defineProperty(e,"__esModule",{value:!0}),e.getJavaScriptWorker=e.getTypeScriptWorker=e.javascriptDefaults=e.typescriptDefaults=e.typescriptVersion=e.ModuleResolutionKind=e.ScriptTarget=e.NewLineKind=e.JsxEmit=e.ModuleKind=void 0,function(t){t[t.None=0]="None",t[t.CommonJS=1]="CommonJS",t[t.AMD=2]="AMD",t[t.UMD=3]="UMD",t[t.System=4]="System",t[t.ES2015=5]="ES2015",t[t.ESNext=99]="ESNext"}(r=e.ModuleKind||(e.ModuleKind={})),function(t){t[t.None=0]="None",t[t.Preserve=1]="Preserve",t[t.React=2]="React",t[t.ReactNative=3]="ReactNative",t[t.ReactJSX=4]="ReactJSX",t[t.ReactJSXDev=5]="ReactJSXDev"}(o=e.JsxEmit||(e.JsxEmit={})),function(t){t[t.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",t[t.LineFeed=1]="LineFeed"}(s=e.NewLineKind||(e.NewLineKind={})),function(t){t[t.ES3=0]="ES3",t[t.ES5=1]="ES5",t[t.ES2015=2]="ES2015",t[t.ES2016=3]="ES2016",t[t.ES2017=4]="ES2017",t[t.ES2018=5]="ES2018",t[t.ES2019=6]="ES2019",t[t.ES2020=7]="ES2020",t[t.ESNext=99]="ESNext",t[t.JSON=100]="JSON",t[t.Latest=99]="Latest"}(a=e.ScriptTarget||(e.ScriptTarget={})),function(t){t[t.Classic=1]="Classic",t[t.NodeJs=2]="NodeJs"}(c=e.ModuleResolutionKind||(e.ModuleResolutionKind={}));var p=function(){function t(t,e,i){this._onDidChange=new n.Emitter,this._onDidExtraLibsChange=new n.Emitter,this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(t),this.setDiagnosticsOptions(e),this.setWorkerOptions(i),this._onDidExtraLibsChangeTimeout=-1}return Object.defineProperty(t.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onDidExtraLibsChange",{get:function(){return this._onDidExtraLibsChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"workerOptions",{get:function(){return this._workerOptions},enumerable:!1,configurable:!0}),t.prototype.getExtraLibs=function(){return this._extraLibs},t.prototype.addExtraLib=function(t,e){var i,n=this;if(i=void 0===e?"ts:extralib-"+Math.random().toString(36).substring(2,15):e,this._extraLibs[i]&&this._extraLibs[i].content===t)return{dispose:function(){}};var r=1;return this._removedExtraLibs[i]&&(r=this._removedExtraLibs[i]+1),this._extraLibs[i]&&(r=this._extraLibs[i].version+1),this._extraLibs[i]={content:t,version:r},this._fireOnDidExtraLibsChangeSoon(),{dispose:function(){var t=n._extraLibs[i];t&&t.version===r&&(delete n._extraLibs[i],n._removedExtraLibs[i]=r,n._fireOnDidExtraLibsChangeSoon())}}},t.prototype.setExtraLibs=function(t){for(var e in this._extraLibs)this._removedExtraLibs[e]=this._extraLibs[e].version;if(this._extraLibs=Object.create(null),t&&t.length>0)for(var i=0,n=t;i<n.length;i++){var r=n[i],o=(e=r.filePath||"ts:extralib-"+Math.random().toString(36).substring(2,15),r.content),s=1;this._removedExtraLibs[e]&&(s=this._removedExtraLibs[e]+1),this._extraLibs[e]={content:o,version:s}}this._fireOnDidExtraLibsChangeSoon()},t.prototype._fireOnDidExtraLibsChangeSoon=function(){var t=this;-1===this._onDidExtraLibsChangeTimeout&&(this._onDidExtraLibsChangeTimeout=setTimeout((function(){t._onDidExtraLibsChangeTimeout=-1,t._onDidExtraLibsChange.fire(void 0)}),0))},t.prototype.getCompilerOptions=function(){return this._compilerOptions},t.prototype.setCompilerOptions=function(t){this._compilerOptions=t||Object.create(null),this._onDidChange.fire(void 0)},t.prototype.getDiagnosticsOptions=function(){return this._diagnosticsOptions},t.prototype.setDiagnosticsOptions=function(t){this._diagnosticsOptions=t||Object.create(null),this._onDidChange.fire(void 0)},t.prototype.setWorkerOptions=function(t){this._workerOptions=t||Object.create(null),this._onDidChange.fire(void 0)},t.prototype.setMaximumWorkerIdleTime=function(t){},t.prototype.setEagerModelSync=function(t){this._eagerModelSync=t},t.prototype.getEagerModelSync=function(){return this._eagerModelSync},t}();e.typescriptVersion=i.typescriptVersion,e.typescriptDefaults=new p({allowNonTsExtensions:!0,target:a.Latest},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{}),e.javascriptDefaults=new p({allowNonTsExtensions:!0,allowJs:!0,target:a.Latest},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{});e.getTypeScriptWorker=function(){return u().then((function(t){return t.getTypeScriptWorker()}))};function u(){return new Promise((function(e,i){t(["./tsMode"],e,i)}))}e.getJavaScriptWorker=function(){return u().then((function(t){return t.getJavaScriptWorker()}))},n.languages.typescript={ModuleKind:r,JsxEmit:o,NewLineKind:s,ScriptTarget:a,ModuleResolutionKind:c,typescriptVersion:e.typescriptVersion,typescriptDefaults:e.typescriptDefaults,javascriptDefaults:e.javascriptDefaults,getTypeScriptWorker:e.getTypeScriptWorker,getJavaScriptWorker:e.getJavaScriptWorker},n.languages.onLanguage("typescript",(function(){return u().then((function(t){return t.setupTypeScript(e.typescriptDefaults)}))})),n.languages.onLanguage("javascript",(function(){return u().then((function(t){return t.setupJavaScript(e.javascriptDefaults)}))}))}));
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * monaco-css version: 3.4.0(f595049d3df420ce88a454f3903835a101ab1be9)
 * Released under the MIT license
 * https://github.com/Microsoft/monaco-css/blob/master/LICENSE.md
 *-----------------------------------------------------------------------------*/
define("vs/language/css/fillers/monaco-editor-core",['vs/editor/editor.api'],(function(){return self.monaco})),define("vs/language/css/monaco.contribution",["require","exports","./fillers/monaco-editor-core"],(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.lessDefaults=n.scssDefaults=n.cssDefaults=void 0;var o=function(){function e(e,n,o){this._onDidChange=new t.Emitter,this._languageId=e,this.setDiagnosticsOptions(n),this.setModeConfiguration(o)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"diagnosticsOptions",{get:function(){return this._diagnosticsOptions},enumerable:!1,configurable:!0}),e.prototype.setDiagnosticsOptions=function(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(this)},e.prototype.setModeConfiguration=function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)},e}(),s={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"}},i={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0};function r(){return new Promise((function(n,t){e(["./cssMode"],n,t)}))}n.cssDefaults=new o("css",s,i),n.scssDefaults=new o("scss",s,i),n.lessDefaults=new o("less",s,i),t.languages.css={cssDefaults:n.cssDefaults,lessDefaults:n.lessDefaults,scssDefaults:n.scssDefaults},t.languages.onLanguage("less",(function(){r().then((function(e){return e.setupMode(n.lessDefaults)}))})),t.languages.onLanguage("scss",(function(){r().then((function(e){return e.setupMode(n.scssDefaults)}))})),t.languages.onLanguage("css",(function(){r().then((function(e){return e.setupMode(n.cssDefaults)}))}))}));
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * monaco-json version: 3.5.1(c306027c98c84a05885427d9fc8bbc5fd7c21747)
 * Released under the MIT license
 * https://github.com/Microsoft/monaco-json/blob/master/LICENSE.md
 *-----------------------------------------------------------------------------*/
define("vs/language/json/fillers/monaco-editor-core",['vs/editor/editor.api'],(function(){return self.monaco})),define("vs/language/json/monaco.contribution",["require","exports","./fillers/monaco-editor-core"],(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.jsonDefaults=void 0;var o=function(){function e(e,n,o){this._onDidChange=new t.Emitter,this._languageId=e,this.setDiagnosticsOptions(n),this.setModeConfiguration(o)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"diagnosticsOptions",{get:function(){return this._diagnosticsOptions},enumerable:!1,configurable:!0}),e.prototype.setDiagnosticsOptions=function(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(this)},e.prototype.setModeConfiguration=function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)},e}();n.jsonDefaults=new o("json",{validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},{documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0}),t.languages.json={jsonDefaults:n.jsonDefaults},t.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]}),t.languages.onLanguage("json",(function(){new Promise((function(n,t){e(["./jsonMode"],n,t)})).then((function(e){return e.setupMode(n.jsonDefaults)}))}))}));
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * monaco-html version: 3.4.0(85846f57aaaef3352be496fdc2ed8035a7ac4f0e)
 * Released under the MIT license
 * https://github.com/Microsoft/monaco-html/blob/master/LICENSE.md
 *-----------------------------------------------------------------------------*/
define("vs/language/html/fillers/monaco-editor-core",['vs/editor/editor.api'],(function(){return self.monaco})),define("vs/language/html/monaco.contribution",["require","exports","./fillers/monaco-editor-core"],(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.razorDefaults=t.handlebarDefaults=t.htmlDefaults=void 0;var o=function(){function e(e,t,o){this._onDidChange=new n.Emitter,this._languageId=e,this.setOptions(t),this.setModeConfiguration(o)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),e.prototype.setOptions=function(e){this._options=e||Object.create(null),this._onDidChange.fire(this)},e.prototype.setModeConfiguration=function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)},e}(),a={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:null,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},r={format:a,suggest:{html5:!0,angular1:!0,ionic:!0}},i={format:a,suggest:{html5:!0}},u={format:a,suggest:{html5:!0,razor:!0}};function s(e){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:e===l,documentFormattingEdits:e===l,documentRangeFormattingEdits:e===l}}var l="html",f="handlebars",g="razor";function c(){return new Promise((function(t,n){e(["./htmlMode"],t,n)}))}t.htmlDefaults=new o(l,r,s(l)),t.handlebarDefaults=new o(f,i,s(f)),t.razorDefaults=new o(g,u,s(g)),n.languages.html={htmlDefaults:t.htmlDefaults,razorDefaults:t.razorDefaults,handlebarDefaults:t.handlebarDefaults},n.languages.onLanguage(l,(function(){c().then((function(e){return e.setupMode(t.htmlDefaults)}))})),n.languages.onLanguage(f,(function(){c().then((function(e){return e.setupMode(t.handlebarDefaults)}))})),n.languages.onLanguage(g,(function(){c().then((function(e){return e.setupMode(t.razorDefaults)}))}))}));
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * monaco-languages version: 2.4.0(2e51a900146f672d53d88b6c63355fb2b22d40c2)
 * Released under the MIT license
 * https://github.com/Microsoft/monaco-languages/blob/master/LICENSE.md
 *-----------------------------------------------------------------------------*/
define("vs/basic-languages/fillers/monaco-editor-core",['vs/editor/editor.api'],(function(){return self.monaco})),define("vs/basic-languages/_.contribution",["require","exports","./fillers/monaco-editor-core"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.registerLanguage=i.loadLanguage=void 0;var n={},r={},s=function(){function e(e){var i=this;this._languageId=e,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((function(e,t){i._lazyLoadPromiseResolve=e,i._lazyLoadPromiseReject=t}))}return e.getOrCreate=function(i){return r[i]||(r[i]=new e(i)),r[i]},e.prototype.whenLoaded=function(){return this._lazyLoadPromise},e.prototype.load=function(){var e=this;return this._loadingTriggered||(this._loadingTriggered=!0,n[this._languageId].loader().then((function(i){return e._lazyLoadPromiseResolve(i)}),(function(i){return e._lazyLoadPromiseReject(i)}))),this._lazyLoadPromise},e}();i.loadLanguage=function(e){return s.getOrCreate(e).load()},i.registerLanguage=function(e){var i=e.id;n[i]=e,t.languages.register(e);var r=s.getOrCreate(i);t.languages.setMonarchTokensProvider(i,r.whenLoaded().then((function(e){return e.language}))),t.languages.onLanguage(i,(function(){r.load().then((function(e){t.languages.setLanguageConfiguration(i,e.conf)}))}))}})),define("vs/basic-languages/abap/abap.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:function(){return new Promise((function(i,t){e(["./abap"],i,t)}))}})})),define("vs/basic-languages/apex/apex.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:function(){return new Promise((function(i,t){e(["./apex"],i,t)}))}})})),define("vs/basic-languages/azcli/azcli.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:function(){return new Promise((function(i,t){e(["./azcli"],i,t)}))}})})),define("vs/basic-languages/bat/bat.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:function(){return new Promise((function(i,t){e(["./bat"],i,t)}))}})})),define("vs/basic-languages/bicep/bicep.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:function(){return new Promise((function(i,t){e(["./bicep"],i,t)}))}})})),define("vs/basic-languages/cameligo/cameligo.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:function(){return new Promise((function(i,t){e(["./cameligo"],i,t)}))}})})),define("vs/basic-languages/clojure/clojure.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:function(){return new Promise((function(i,t){e(["./clojure"],i,t)}))}})})),define("vs/basic-languages/coffee/coffee.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:function(){return new Promise((function(i,t){e(["./coffee"],i,t)}))}})})),define("vs/basic-languages/cpp/cpp.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:function(){return new Promise((function(i,t){e(["./cpp"],i,t)}))}}),t.registerLanguage({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:function(){return new Promise((function(i,t){e(["./cpp"],i,t)}))}})})),define("vs/basic-languages/csharp/csharp.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:function(){return new Promise((function(i,t){e(["./csharp"],i,t)}))}})})),define("vs/basic-languages/csp/csp.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"csp",extensions:[],aliases:["CSP","csp"],loader:function(){return new Promise((function(i,t){e(["./csp"],i,t)}))}})})),define("vs/basic-languages/css/css.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:function(){return new Promise((function(i,t){e(["./css"],i,t)}))}})})),define("vs/basic-languages/dart/dart.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:function(){return new Promise((function(i,t){e(["./dart"],i,t)}))}})})),define("vs/basic-languages/dockerfile/dockerfile.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:function(){return new Promise((function(i,t){e(["./dockerfile"],i,t)}))}})})),define("vs/basic-languages/ecl/ecl.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:function(){return new Promise((function(i,t){e(["./ecl"],i,t)}))}})})),define("vs/basic-languages/elixir/elixir.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:function(){return new Promise((function(i,t){e(["./elixir"],i,t)}))}})})),define("vs/basic-languages/fsharp/fsharp.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:function(){return new Promise((function(i,t){e(["./fsharp"],i,t)}))}})})),define("vs/basic-languages/go/go.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"go",extensions:[".go"],aliases:["Go"],loader:function(){return new Promise((function(i,t){e(["./go"],i,t)}))}})})),define("vs/basic-languages/graphql/graphql.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:function(){return new Promise((function(i,t){e(["./graphql"],i,t)}))}})})),define("vs/basic-languages/handlebars/handlebars.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:function(){return new Promise((function(i,t){e(["./handlebars"],i,t)}))}})})),define("vs/basic-languages/hcl/hcl.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:function(){return new Promise((function(i,t){e(["./hcl"],i,t)}))}})})),define("vs/basic-languages/html/html.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:function(){return new Promise((function(i,t){e(["./html"],i,t)}))}})})),define("vs/basic-languages/ini/ini.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:function(){return new Promise((function(i,t){e(["./ini"],i,t)}))}})})),define("vs/basic-languages/java/java.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:function(){return new Promise((function(i,t){e(["./java"],i,t)}))}})})),define("vs/basic-languages/javascript/javascript.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"javascript",extensions:[".js",".es6",".jsx",".mjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:function(){return new Promise((function(i,t){e(["./javascript"],i,t)}))}})})),define("vs/basic-languages/julia/julia.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:function(){return new Promise((function(i,t){e(["./julia"],i,t)}))}})})),define("vs/basic-languages/kotlin/kotlin.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"kotlin",extensions:[".kt"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:function(){return new Promise((function(i,t){e(["./kotlin"],i,t)}))}})})),define("vs/basic-languages/less/less.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:function(){return new Promise((function(i,t){e(["./less"],i,t)}))}})})),define("vs/basic-languages/lexon/lexon.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:function(){return new Promise((function(i,t){e(["./lexon"],i,t)}))}})})),define("vs/basic-languages/lua/lua.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:function(){return new Promise((function(i,t){e(["./lua"],i,t)}))}})})),define("vs/basic-languages/liquid/liquid.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"liquid",extensions:[".liquid",".liquid.html",".liquid.css"],loader:function(){return new Promise((function(i,t){e(["./liquid"],i,t)}))}})})),define("vs/basic-languages/m3/m3.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:function(){return new Promise((function(i,t){e(["./m3"],i,t)}))}})})),define("vs/basic-languages/markdown/markdown.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:function(){return new Promise((function(i,t){e(["./markdown"],i,t)}))}})})),define("vs/basic-languages/mips/mips.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:function(){return new Promise((function(i,t){e(["./mips"],i,t)}))}})})),define("vs/basic-languages/msdax/msdax.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:function(){return new Promise((function(i,t){e(["./msdax"],i,t)}))}})})),define("vs/basic-languages/mysql/mysql.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:function(){return new Promise((function(i,t){e(["./mysql"],i,t)}))}})})),define("vs/basic-languages/objective-c/objective-c.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:function(){return new Promise((function(i,t){e(["./objective-c"],i,t)}))}})})),define("vs/basic-languages/pascal/pascal.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:function(){return new Promise((function(i,t){e(["./pascal"],i,t)}))}})})),define("vs/basic-languages/pascaligo/pascaligo.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:function(){return new Promise((function(i,t){e(["./pascaligo"],i,t)}))}})})),define("vs/basic-languages/perl/perl.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"perl",extensions:[".pl"],aliases:["Perl","pl"],loader:function(){return new Promise((function(i,t){e(["./perl"],i,t)}))}})})),define("vs/basic-languages/pgsql/pgsql.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:function(){return new Promise((function(i,t){e(["./pgsql"],i,t)}))}})})),define("vs/basic-languages/php/php.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:function(){return new Promise((function(i,t){e(["./php"],i,t)}))}})})),define("vs/basic-languages/postiats/postiats.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:function(){return new Promise((function(i,t){e(["./postiats"],i,t)}))}})})),define("vs/basic-languages/powerquery/powerquery.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:function(){return new Promise((function(i,t){e(["./powerquery"],i,t)}))}})})),define("vs/basic-languages/powershell/powershell.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:function(){return new Promise((function(i,t){e(["./powershell"],i,t)}))}})})),define("vs/basic-languages/pug/pug.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:function(){return new Promise((function(i,t){e(["./pug"],i,t)}))}})})),define("vs/basic-languages/python/python.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:function(){return new Promise((function(i,t){e(["./python"],i,t)}))}})})),define("vs/basic-languages/r/r.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:function(){return new Promise((function(i,t){e(["./r"],i,t)}))}})})),define("vs/basic-languages/razor/razor.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:function(){return new Promise((function(i,t){e(["./razor"],i,t)}))}})})),define("vs/basic-languages/redis/redis.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"redis",extensions:[".redis"],aliases:["redis"],loader:function(){return new Promise((function(i,t){e(["./redis"],i,t)}))}})})),define("vs/basic-languages/redshift/redshift.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:function(){return new Promise((function(i,t){e(["./redshift"],i,t)}))}})})),define("vs/basic-languages/restructuredtext/restructuredtext.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:function(){return new Promise((function(i,t){e(["./restructuredtext"],i,t)}))}})})),define("vs/basic-languages/ruby/ruby.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:function(){return new Promise((function(i,t){e(["./ruby"],i,t)}))}})})),define("vs/basic-languages/rust/rust.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:function(){return new Promise((function(i,t){e(["./rust"],i,t)}))}})})),define("vs/basic-languages/sb/sb.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:function(){return new Promise((function(i,t){e(["./sb"],i,t)}))}})})),define("vs/basic-languages/scala/scala.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:function(){return new Promise((function(i,t){e(["./scala"],i,t)}))}})})),define("vs/basic-languages/scheme/scheme.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:function(){return new Promise((function(i,t){e(["./scheme"],i,t)}))}})})),define("vs/basic-languages/scss/scss.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:function(){return new Promise((function(i,t){e(["./scss"],i,t)}))}})})),define("vs/basic-languages/shell/shell.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:function(){return new Promise((function(i,t){e(["./shell"],i,t)}))}})})),define("vs/basic-languages/solidity/solidity.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:function(){return new Promise((function(i,t){e(["./solidity"],i,t)}))}})})),define("vs/basic-languages/sophia/sophia.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:function(){return new Promise((function(i,t){e(["./sophia"],i,t)}))}})})),define("vs/basic-languages/sql/sql.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:function(){return new Promise((function(i,t){e(["./sql"],i,t)}))}})})),define("vs/basic-languages/st/st.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"],aliases:["StructuredText","scl","stl"],loader:function(){return new Promise((function(i,t){e(["./st"],i,t)}))}})})),define("vs/basic-languages/swift/swift.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:function(){return new Promise((function(i,t){e(["./swift"],i,t)}))}})})),define("vs/basic-languages/systemverilog/systemverilog.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:function(){return new Promise((function(i,t){e(["./systemverilog"],i,t)}))}}),t.registerLanguage({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:function(){return new Promise((function(i,t){e(["./systemverilog"],i,t)}))}})})),define("vs/basic-languages/tcl/tcl.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:function(){return new Promise((function(i,t){e(["./tcl"],i,t)}))}})})),define("vs/basic-languages/twig/twig.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:function(){return new Promise((function(i,t){e(["./twig"],i,t)}))}})})),define("vs/basic-languages/typescript/typescript.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:function(){return new Promise((function(i,t){e(["./typescript"],i,t)}))}})})),define("vs/basic-languages/vb/vb.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:function(){return new Promise((function(i,t){e(["./vb"],i,t)}))}})})),define("vs/basic-languages/xml/xml.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"xml",extensions:[".xml",".dtd",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:function(){return new Promise((function(i,t){e(["./xml"],i,t)}))}})})),define("vs/basic-languages/yaml/yaml.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:function(){return new Promise((function(i,t){e(["./yaml"],i,t)}))}})})),define("vs/basic-languages/monaco.contribution",["require","exports","./abap/abap.contribution","./apex/apex.contribution","./azcli/azcli.contribution","./bat/bat.contribution","./bicep/bicep.contribution","./cameligo/cameligo.contribution","./clojure/clojure.contribution","./coffee/coffee.contribution","./cpp/cpp.contribution","./csharp/csharp.contribution","./csp/csp.contribution","./css/css.contribution","./dart/dart.contribution","./dockerfile/dockerfile.contribution","./ecl/ecl.contribution","./elixir/elixir.contribution","./fsharp/fsharp.contribution","./go/go.contribution","./graphql/graphql.contribution","./handlebars/handlebars.contribution","./hcl/hcl.contribution","./html/html.contribution","./ini/ini.contribution","./java/java.contribution","./javascript/javascript.contribution","./julia/julia.contribution","./kotlin/kotlin.contribution","./less/less.contribution","./lexon/lexon.contribution","./lua/lua.contribution","./liquid/liquid.contribution","./m3/m3.contribution","./markdown/markdown.contribution","./mips/mips.contribution","./msdax/msdax.contribution","./mysql/mysql.contribution","./objective-c/objective-c.contribution","./pascal/pascal.contribution","./pascaligo/pascaligo.contribution","./perl/perl.contribution","./pgsql/pgsql.contribution","./php/php.contribution","./postiats/postiats.contribution","./powerquery/powerquery.contribution","./powershell/powershell.contribution","./pug/pug.contribution","./python/python.contribution","./r/r.contribution","./razor/razor.contribution","./redis/redis.contribution","./redshift/redshift.contribution","./restructuredtext/restructuredtext.contribution","./ruby/ruby.contribution","./rust/rust.contribution","./sb/sb.contribution","./scala/scala.contribution","./scheme/scheme.contribution","./scss/scss.contribution","./shell/shell.contribution","./solidity/solidity.contribution","./sophia/sophia.contribution","./sql/sql.contribution","./st/st.contribution","./swift/swift.contribution","./systemverilog/systemverilog.contribution","./tcl/tcl.contribution","./twig/twig.contribution","./typescript/typescript.contribution","./vb/vb.contribution","./xml/xml.contribution","./yaml/yaml.contribution"],(function(e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0})}));
define("vs/editor/editor.main", ["vs/editor/edcore.main","vs/language/typescript/monaco.contribution","vs/language/css/monaco.contribution","vs/language/json/monaco.contribution","vs/language/html/monaco.contribution","vs/basic-languages/monaco.contribution"], function(api) { return api; });
//# sourceMappingURL=../../../min-maps/vs/editor/editor.main.js.map